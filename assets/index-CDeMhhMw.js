(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const y of document.querySelectorAll('link[rel="modulepreload"]'))o(y);new MutationObserver(y=>{for(const S of y)if(S.type==="childList")for(const r of S.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(y){const S={};return y.integrity&&(S.integrity=y.integrity),y.referrerPolicy&&(S.referrerPolicy=y.referrerPolicy),y.crossOrigin==="use-credentials"?S.credentials="include":y.crossOrigin==="anonymous"?S.credentials="omit":S.credentials="same-origin",S}function o(y){if(y.ep)return;y.ep=!0;const S=s(y);fetch(y.href,S)}})();function jT(e){e.anims.create({key:"idle",frames:e.anims.generateFrameNumbers("bunny_idle",{start:0,end:11}),frameRate:6,repeat:-1}),e.anims.create({key:"run",frames:e.anims.generateFrameNumbers("bunny_run",{start:0,end:7}),frameRate:10,repeat:-1}),e.anims.create({key:"jump",frames:e.anims.generateFrameNumbers("bunny_jump",{start:0,end:10}),frameRate:11,repeat:0}),e.anims.create({key:"lieDown",frames:e.anims.generateFrameNumbers("bunny_lieDown",{start:0,end:5}),frameRate:6,repeat:0}),e.anims.create({key:"sleep",frames:e.anims.generateFrameNumbers("bunny_sleep",{start:0,end:5}),frameRate:6,repeat:-1}),e.anims.create({key:"attackScratch",frames:e.anims.generateFrameNumbers("bunny_attackScratch",{start:0,end:7}),frameRate:16,repeat:0})}const _t="/Birthday-Project/",Ya={volumeLevel:100,visualsState:"HIGH"};function qT(e){e.load.spritesheet("bunny_idle",`${_t}assets/playerSprites/Idle.png`,{frameWidth:32,frameHeight:32}),e.load.spritesheet("bunny_run",`${_t}assets/playerSprites/Running.png`,{frameWidth:32,frameHeight:32}),e.load.spritesheet("bunny_jump",`${_t}assets/playerSprites/Jumping.png`,{frameWidth:32,frameHeight:32}),e.load.spritesheet("bunny_lieDown",`${_t}assets/playerSprites/LieDown.png`,{frameWidth:32,frameHeight:32}),e.load.spritesheet("bunny_sleep",`${_t}assets/playerSprites/Sleep.png`,{frameWidth:32,frameHeight:32}),e.load.spritesheet("bunny_attackScratch",`${_t}assets/playerSprites/AttackScratch.png`,{frameWidth:32,frameHeight:32}),e.load.image("ta1",`${_t}assets/test/ta1.png`),e.load.on("complete",()=>{e.textures.get("bunny_idle").setFilter(Phaser.Textures.FilterMode.NEAREST),e.textures.get("bunny_lieDown").setFilter(Phaser.Textures.FilterMode.NEAREST),e.textures.get("bunny_run").setFilter(Phaser.Textures.FilterMode.NEAREST),e.textures.get("bunny_jump").setFilter(Phaser.Textures.FilterMode.NEAREST),e.textures.get("bunny_attackScratch").setFilter(Phaser.Textures.FilterMode.NEAREST)})}function O0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eo={exports:{}},_T=eo.exports,Sc;function tC(){return Sc||(Sc=1,function(e,t){(function(o,y){e.exports=y()})(_T,()=>(()=>{var s={50792:r=>{var C=Object.prototype.hasOwnProperty,i="~";function h(){}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(i=!1));function x(n,d,c){this.fn=n,this.context=d,this.once=c||!1}function f(n,d,c,u,v){if(typeof c!="function")throw new TypeError("The listener must be a function");var p=new x(c,u||n,v),g=i?i+d:d;return n._events[g]?n._events[g].fn?n._events[g]=[n._events[g],p]:n._events[g].push(p):(n._events[g]=p,n._eventsCount++),n}function l(n,d){--n._eventsCount===0?n._events=new h:delete n._events[d]}function a(){this._events=new h,this._eventsCount=0}a.prototype.eventNames=function(){var d=[],c,u;if(this._eventsCount===0)return d;for(u in c=this._events)C.call(c,u)&&d.push(i?u.slice(1):u);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(c)):d},a.prototype.listeners=function(d){var c=i?i+d:d,u=this._events[c];if(!u)return[];if(u.fn)return[u.fn];for(var v=0,p=u.length,g=new Array(p);v<p;v++)g[v]=u[v].fn;return g},a.prototype.listenerCount=function(d){var c=i?i+d:d,u=this._events[c];return u?u.fn?1:u.length:0},a.prototype.emit=function(d,c,u,v,p,g){var m=i?i+d:d;if(!this._events[m])return!1;var T=this._events[m],P=arguments.length,E,M;if(T.fn){switch(T.once&&this.removeListener(d,T.fn,void 0,!0),P){case 1:return T.fn.call(T.context),!0;case 2:return T.fn.call(T.context,c),!0;case 3:return T.fn.call(T.context,c,u),!0;case 4:return T.fn.call(T.context,c,u,v),!0;case 5:return T.fn.call(T.context,c,u,v,p),!0;case 6:return T.fn.call(T.context,c,u,v,p,g),!0}for(M=1,E=new Array(P-1);M<P;M++)E[M-1]=arguments[M];T.fn.apply(T.context,E)}else{var w=T.length,R;for(M=0;M<w;M++)switch(T[M].once&&this.removeListener(d,T[M].fn,void 0,!0),P){case 1:T[M].fn.call(T[M].context);break;case 2:T[M].fn.call(T[M].context,c);break;case 3:T[M].fn.call(T[M].context,c,u);break;case 4:T[M].fn.call(T[M].context,c,u,v);break;default:if(!E)for(R=1,E=new Array(P-1);R<P;R++)E[R-1]=arguments[R];T[M].fn.apply(T[M].context,E)}}return!0},a.prototype.on=function(d,c,u){return f(this,d,c,u,!1)},a.prototype.once=function(d,c,u){return f(this,d,c,u,!0)},a.prototype.removeListener=function(d,c,u,v){var p=i?i+d:d;if(!this._events[p])return this;if(!c)return l(this,p),this;var g=this._events[p];if(g.fn)g.fn===c&&(!v||g.once)&&(!u||g.context===u)&&l(this,p);else{for(var m=0,T=[],P=g.length;m<P;m++)(g[m].fn!==c||v&&!g[m].once||u&&g[m].context!==u)&&T.push(g[m]);T.length?this._events[p]=T.length===1?T[0]:T:l(this,p)}return this},a.prototype.removeAllListeners=function(d){var c;return d?(c=i?i+d:d,this._events[c]&&l(this,c)):(this._events=new h,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=i,a.EventEmitter=a,r.exports=a},11517:(r,C,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(38829),x=function(f,l,a,n){for(var d=f[0],c=1;c<f.length;c++){var u=f[c];h(u,d,l,a,n),d=u}return f};r.exports=x},80318:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"angle",l,a,n,d)};r.exports=x},60757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){for(var f=0;f<i.length;f++){var l=i[f];h.call(x,l)}return i};r.exports=C},69927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){x===void 0&&(x=0);for(var f=x;f<i.length;f++){var l=i[f],a=!0;for(var n in h)l[n]!==h[n]&&(a=!1);if(a)return l}return null};r.exports=C},32265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){x===void 0&&(x=0);for(var f=i.length-1;f>=x;f--){var l=i[f],a=!0;for(var n in h)l[n]!==h[n]&&(a=!1);if(a)return l}return null};r.exports=C},94420:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(11879),x=i(60461),f=i(95540),l=i(29747),a=i(41481),n=new a({sys:{queueDepthSort:l,events:{once:l}}},0,0,1,1).setOrigin(0,0),d=function(c,u){u===void 0&&(u={});var v=u.hasOwnProperty("width"),p=u.hasOwnProperty("height"),g=f(u,"width",-1),m=f(u,"height",-1),T=f(u,"cellWidth",1),P=f(u,"cellHeight",T),E=f(u,"position",x.TOP_LEFT),M=f(u,"x",0),w=f(u,"y",0),R=0,A=0,O=g*T,F=m*P;n.setPosition(M,w),n.setSize(T,P);for(var L=0;L<c.length;L++)if(h(c[L],n,E),v&&g===-1)n.x+=T;else if(p&&m===-1)n.y+=P;else if(p&&!v){if(A+=P,n.y+=P,A===F&&(A=0,R+=T,n.y=w,n.x+=T,R===O))break}else if(R+=T,n.x+=T,R===O&&(R=0,A+=P,n.x=M,n.y+=P,A===F))break;return c};r.exports=d},41721:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"alpha",l,a,n,d)};r.exports=x},67285:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"x",l,a,n,d)};r.exports=x},9074:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d,c,u){return a==null&&(a=l),h(f,"x",l,n,c,u),h(f,"y",a,d,c,u)};r.exports=x},75222:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"y",l,a,n,d)};r.exports=x},22983:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x===void 0&&(x=0),f===void 0&&(f=6.28);for(var l=x,a=(f-x)/i.length,n=h.x,d=h.y,c=h.radius,u=0;u<i.length;u++)i[u].x=n+c*Math.cos(l),i[u].y=d+c*Math.sin(l),l+=a;return i};r.exports=C},95253:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x===void 0&&(x=0),f===void 0&&(f=6.28);for(var l=x,a=(f-x)/i.length,n=h.width/2,d=h.height/2,c=0;c<i.length;c++)i[c].x=h.x+n*Math.cos(l),i[c].y=h.y+d*Math.sin(l),l+=a;return i};r.exports=C},88505:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15258),x=i(26708),f=function(l,a,n){var d;n?d=x(a,n,l.length):d=h(a,l.length);for(var c=0;c<l.length;c++){var u=l[c],v=d[c];u.x=v.x,u.y=v.y}return l};r.exports=f},41346:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(14649),x=i(86003),f=i(49498),l=function(a,n,d){d===void 0&&(d=0);var c=h(n,!1,a.length);d>0?x(c,d):d<0&&f(c,Math.abs(d));for(var u=0;u<a.length;u++)a[u].x=c[u].x,a[u].y=c[u].y;return a};r.exports=l},11575:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84993),x=function(f,l,a){var n=h({x1:l.x1,y1:l.y1,x2:l.x2,y2:l.y2},a),d=h({x1:l.x2,y1:l.y2,x2:l.x3,y2:l.y3},a),c=h({x1:l.x3,y1:l.y3,x2:l.x1,y2:l.y1},a);n.pop(),d.pop(),c.pop(),n=n.concat(d,c);for(var u=n.length/f.length,v=0,p=0;p<f.length;p++){var g=f[p],m=n[Math.floor(v)];g.x=m.x,g.y=m.y,v+=u}return f};r.exports=x},29953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){for(var f=0;f<i.length;f++){var l=i[f];l.anims&&l.anims.play(h,x)}return i};r.exports=C},66979:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l,a){f===void 0&&(f=0),l===void 0&&(l=0),a===void 0&&(a=1);var n,d=0,c=i.length;if(a===1)for(n=l;n<c;n++)i[n][h]+=x+d*f,d++;else for(n=l;n>=0;n--)i[n][h]+=x+d*f,d++;return i};r.exports=C},43967:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l,a){f===void 0&&(f=0),l===void 0&&(l=0),a===void 0&&(a=1);var n,d=0,c=i.length;if(a===1)for(n=l;n<c;n++)i[n][h]=x+d*f,d++;else for(n=l;n>=0;n--)i[n][h]=x+d*f,d++;return i};r.exports=C},88926:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28176),x=function(f,l){for(var a=0;a<f.length;a++)h(l,f[a]);return f};r.exports=x},33286:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(24820),x=function(f,l){for(var a=0;a<f.length;a++)h(l,f[a]);return f};r.exports=x},96e3:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65822),x=function(f,l){for(var a=0;a<f.length;a++)h(l,f[a]);return f};r.exports=x},28789:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26597),x=function(f,l){for(var a=0;a<f.length;a++)h(l,f[a]);return f};r.exports=x},97154:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(90260),x=function(f,l){for(var a=0;a<f.length;a++)h(l,f[a]);return f};r.exports=x},20510:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"rotation",l,a,n,d)};r.exports=x},91051:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(1163),x=i(20339),f=function(l,a,n){for(var d=a.x,c=a.y,u=0;u<l.length;u++){var v=l[u];h(v,d,c,n,Math.max(1,x(v.x,v.y,d,c)))}return l};r.exports=f},76332:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(1163),x=function(f,l,a,n){var d=l.x,c=l.y;if(n===0)return f;for(var u=0;u<f.length;u++)h(f[u],d,c,a,n);return f};r.exports=x},61619:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"scaleX",l,a,n,d)};r.exports=x},94868:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d,c,u){return a==null&&(a=l),h(f,"scaleX",l,n,c,u),h(f,"scaleY",a,d,c,u)};r.exports=x},95532:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66979),x=function(f,l,a,n,d){return h(f,"scaleY",l,a,n,d)};r.exports=x},8689:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"alpha",l,a,n,d)};r.exports=x},2645:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n){return h(f,"blendMode",l,0,a,n)};r.exports=x},32372:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"depth",l,a,n,d)};r.exports=x},85373:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){for(var f=0;f<i.length;f++)i[f].setInteractive(h,x);return i};r.exports=C},81583:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d,c,u){return a==null&&(a=l),h(f,"originX",l,n,c,u),h(f,"originY",a,d,c,u),f.forEach(function(v){v.updateDisplayOrigin()}),f};r.exports=x},79939:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"rotation",l,a,n,d)};r.exports=x},2699:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d,c,u){return a==null&&(a=l),h(f,"scaleX",l,n,c,u),h(f,"scaleY",a,d,c,u)};r.exports=x},98739:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"scaleX",l,a,n,d)};r.exports=x},98476:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"scaleY",l,a,n,d)};r.exports=x},6207:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d,c,u){return a==null&&(a=l),h(f,"scrollFactorX",l,n,c,u),h(f,"scrollFactorY",a,d,c,u)};r.exports=x},6607:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"scrollFactorX",l,a,n,d)};r.exports=x},72248:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"scrollFactorY",l,a,n,d)};r.exports=x},14036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){for(var a=0;a<i.length;a++)i[a].setTint(h,x,f,l);return i};r.exports=C},50159:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n){return h(f,"visible",l,0,a,n)};r.exports=x},77597:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"x",l,a,n,d)};r.exports=x},83194:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d,c,u){return a==null&&(a=l),h(f,"x",l,n,c,u),h(f,"y",a,d,c,u)};r.exports=x},67678:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43967),x=function(f,l,a,n,d){return h(f,"y",l,a,n,d)};r.exports=x},35850:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d){n===void 0&&(n=0),d===void 0&&(d=new h);var c,u,v=f.length;if(v===1)c=f[0].x,u=f[0].y,f[0].x=l,f[0].y=a;else{var p=1,g=0;n===0&&(g=v-1,p=v-2),c=f[g].x,u=f[g].y,f[g].x=l,f[g].y=a;for(var m=0;m<v;m++)if(!(p>=v||p===-1)){var T=f[p],P=T.x,E=T.y;T.x=c,T.y=u,c=P,u=E,n===0?p--:p++}}return d.x=c,d.y=u,d};r.exports=x},8628:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33680),x=function(f){return h(f)};r.exports=x},21837:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7602),x=function(f,l,a,n,d){d===void 0&&(d=!1);var c=Math.abs(n-a)/f.length,u;if(d)for(u=0;u<f.length;u++)f[u][l]+=h(u*c,a,n);else for(u=0;u<f.length;u++)f[u][l]=h(u*c,a,n);return f};r.exports=x},21910:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54261),x=function(f,l,a,n,d){d===void 0&&(d=!1);var c=Math.abs(n-a)/f.length,u;if(d)for(u=0;u<f.length;u++)f[u][l]+=h(u*c,a,n);else for(u=0;u<f.length;u++)f[u][l]=h(u*c,a,n);return f};r.exports=x},62054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){if(l===void 0&&(l=!1),i.length===0)return i;if(i.length===1)return l?i[0][h]+=(f+x)/2:i[0][h]=(f+x)/2,i;var a=Math.abs(f-x)/(i.length-1),n;if(l)for(n=0;n<i.length;n++)i[n][h]+=n*a+x;else for(n=0;n<i.length;n++)i[n][h]=n*a+x;return i};r.exports=C},79815:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){for(var h=0;h<i.length;h++)i[h].visible=!i[h].visible;return i};r.exports=C},39665:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       samme <samme.npm@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15994),x=function(f,l,a){a===void 0&&(a=0);for(var n=0;n<f.length;n++){var d=f[n];d.x=h(d.x,l.left-a,l.right+a),d.y=h(d.y,l.top-a,l.bottom+a)}return f};r.exports=x},61061:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AlignTo:i(11517),Angle:i(80318),Call:i(60757),GetFirst:i(69927),GetLast:i(32265),GridAlign:i(94420),IncAlpha:i(41721),IncX:i(67285),IncXY:i(9074),IncY:i(75222),PlaceOnCircle:i(22983),PlaceOnEllipse:i(95253),PlaceOnLine:i(88505),PlaceOnRectangle:i(41346),PlaceOnTriangle:i(11575),PlayAnimation:i(29953),PropertyValueInc:i(66979),PropertyValueSet:i(43967),RandomCircle:i(88926),RandomEllipse:i(33286),RandomLine:i(96e3),RandomRectangle:i(28789),RandomTriangle:i(97154),Rotate:i(20510),RotateAround:i(91051),RotateAroundDistance:i(76332),ScaleX:i(61619),ScaleXY:i(94868),ScaleY:i(95532),SetAlpha:i(8689),SetBlendMode:i(2645),SetDepth:i(32372),SetHitArea:i(85373),SetOrigin:i(81583),SetRotation:i(79939),SetScale:i(2699),SetScaleX:i(98739),SetScaleY:i(98476),SetScrollFactor:i(6207),SetScrollFactorX:i(6607),SetScrollFactorY:i(72248),SetTint:i(14036),SetVisible:i(50159),SetX:i(77597),SetXY:i(83194),SetY:i(67678),ShiftPosition:i(35850),Shuffle:i(8628),SmootherStep:i(21910),SmoothStep:i(21837),Spread:i(62054),ToggleVisible:i(79815),WrapInRectangle:i(39665)}},42099:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(74943),l=i(81957),a=i(41138),n=i(35154),d=i(90126),c=new x({initialize:function(v,p,g){this.manager=v,this.key=p,this.type="frame",this.frames=this.getFrames(v.textureManager,n(g,"frames",[]),n(g,"defaultTextureKey",null),n(g,"sortFrames",!0)),this.frameRate=n(g,"frameRate",null),this.duration=n(g,"duration",null),this.msPerFrame,this.skipMissedFrames=n(g,"skipMissedFrames",!0),this.delay=n(g,"delay",0),this.repeat=n(g,"repeat",0),this.repeatDelay=n(g,"repeatDelay",0),this.yoyo=n(g,"yoyo",!1),this.showBeforeDelay=n(g,"showBeforeDelay",!1),this.showOnStart=n(g,"showOnStart",!1),this.hideOnComplete=n(g,"hideOnComplete",!1),this.randomFrame=n(g,"randomFrame",!1),this.paused=!1,this.calculateDuration(this,this.getTotalFrames(),this.duration,this.frameRate),this.manager.on&&(this.manager.on(f.PAUSE_ALL,this.pause,this),this.manager.on(f.RESUME_ALL,this.resume,this))},getTotalFrames:function(){return this.frames.length},calculateDuration:function(u,v,p,g){p===null&&g===null?(u.frameRate=24,u.duration=24/v*1e3):p&&g===null?(u.duration=p,u.frameRate=v/(p/1e3)):(u.frameRate=g,u.duration=v/g*1e3),u.msPerFrame=1e3/u.frameRate},addFrame:function(u){return this.addFrameAt(this.frames.length,u)},addFrameAt:function(u,v){var p=this.getFrames(this.manager.textureManager,v);if(p.length>0){if(u===0)this.frames=p.concat(this.frames);else if(u===this.frames.length)this.frames=this.frames.concat(p);else{var g=this.frames.slice(0,u),m=this.frames.slice(u);this.frames=g.concat(p,m)}this.updateFrameSequence()}return this},checkFrame:function(u){return u>=0&&u<this.frames.length},getFirstTick:function(u){u.accumulator=0,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameAt:function(u){return this.frames[u]},getFrames:function(u,v,p,g){g===void 0&&(g=!0);var m=[],T,P,E=1,M,w;if(typeof v=="string"){if(w=v,!u.exists(w))return console.warn('Texture "%s" not found',w),m;var R=u.get(w),A=R.getFrameNames();g&&d(A),v=[],A.forEach(function(I){v.push({key:w,frame:I})})}if(!Array.isArray(v)||v.length===0)return m;for(M=0;M<v.length;M++){var O=v[M],F=n(O,"key",p);if(F){var L=n(O,"frame",0),b=u.getFrame(F,L);if(!b){console.warn('Texture "%s" not found',F);continue}P=new a(F,L,E,b),P.duration=n(O,"duration",0),P.isFirst=!T,T&&(T.nextFrame=P,P.prevFrame=T),m.push(P),T=P,E++}}if(m.length>0){P.isLast=!0,P.nextFrame=m[0],m[0].prevFrame=P;var D=1/(m.length-1);for(M=0;M<m.length;M++)m[M].progress=M*D}return m},getNextTick:function(u){u.accumulator-=u.nextTick,u.nextTick=u.msPerFrame||u.currentFrame.duration},getFrameByProgress:function(u){return u=h(u,0,1),l(u,this.frames,"progress")},nextFrame:function(u){var v=u.currentFrame;v.isLast?u.yoyo?this.handleYoyoFrame(u,!1):u.repeatCounter>0?u.inReverse&&u.forward?u.forward=!1:this.repeatAnimation(u):u.complete():this.updateAndGetNextTick(u,v.nextFrame)},handleYoyoFrame:function(u,v){if(v||(v=!1),u.inReverse===!v&&u.repeatCounter>0){(u.repeatDelay===0||u.pendingRepeat)&&(u.forward=v),this.repeatAnimation(u);return}if(u.inReverse!==v&&u.repeatCounter===0){u.complete();return}u.forward=v;var p=v?u.currentFrame.nextFrame:u.currentFrame.prevFrame;this.updateAndGetNextTick(u,p)},getLastFrame:function(){return this.frames[this.frames.length-1]},previousFrame:function(u){var v=u.currentFrame;v.isFirst?u.yoyo?this.handleYoyoFrame(u,!0):u.repeatCounter>0?u.inReverse&&!u.forward?this.repeatAnimation(u):(u.forward=!0,this.repeatAnimation(u)):u.complete():this.updateAndGetNextTick(u,v.prevFrame)},updateAndGetNextTick:function(u,v){u.setCurrentFrame(v),this.getNextTick(u)},removeFrame:function(u){var v=this.frames.indexOf(u);return v!==-1&&this.removeFrameAt(v),this},removeFrameAt:function(u){return this.frames.splice(u,1),this.updateFrameSequence(),this},repeatAnimation:function(u){if(u._pendingStop===2){if(u._pendingStopValue===0)return u.stop();u._pendingStopValue--}u.repeatDelay>0&&!u.pendingRepeat?(u.pendingRepeat=!0,u.accumulator-=u.nextTick,u.nextTick+=u.repeatDelay):(u.repeatCounter--,u.forward?u.setCurrentFrame(u.currentFrame.nextFrame):u.setCurrentFrame(u.currentFrame.prevFrame),u.isPlaying&&(this.getNextTick(u),u.handleRepeat()))},toJSON:function(){var u={key:this.key,type:this.type,frames:[],frameRate:this.frameRate,duration:this.duration,skipMissedFrames:this.skipMissedFrames,delay:this.delay,repeat:this.repeat,repeatDelay:this.repeatDelay,yoyo:this.yoyo,showBeforeDelay:this.showBeforeDelay,showOnStart:this.showOnStart,randomFrame:this.randomFrame,hideOnComplete:this.hideOnComplete};return this.frames.forEach(function(v){u.frames.push(v.toJSON())}),u},updateFrameSequence:function(){for(var u=this.frames.length,v=1/(u-1),p,g=0;g<u;g++)p=this.frames[g],p.index=g+1,p.isFirst=!1,p.isLast=!1,p.progress=g*v,g===0?(p.isFirst=!0,u===1?(p.isLast=!0,p.nextFrame=p,p.prevFrame=p):(p.isLast=!1,p.prevFrame=this.frames[u-1],p.nextFrame=this.frames[g+1])):g===u-1&&u>1?(p.isLast=!0,p.prevFrame=this.frames[u-2],p.nextFrame=this.frames[0]):u>1&&(p.prevFrame=this.frames[g-1],p.nextFrame=this.frames[g+1]);return this},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this},destroy:function(){this.manager.off&&(this.manager.off(f.PAUSE_ALL,this.pause,this),this.manager.off(f.RESUME_ALL,this.resume,this)),this.manager.remove(this.key);for(var u=0;u<this.frames.length;u++)this.frames[u].destroy();this.frames=[],this.manager=null}});r.exports=c},41138:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d,c){c===void 0&&(c=!1),this.textureKey=l,this.textureFrame=a,this.index=n,this.frame=d,this.isFirst=!1,this.isLast=!1,this.prevFrame=null,this.nextFrame=null,this.duration=0,this.progress=0,this.isKeyFrame=c},toJSON:function(){return{key:this.textureKey,frame:this.textureFrame,duration:this.duration,keyframe:this.isKeyFrame}},destroy:function(){this.frame=void 0}});r.exports=x},60848:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42099),x=i(83419),f=i(90330),l=i(50792),a=i(74943),n=i(8443),d=i(95540),c=i(35154),u=i(36383),v=i(20283),p=i(41836),g=new x({Extends:l,initialize:function(T){l.call(this),this.game=T,this.textureManager=null,this.globalTimeScale=1,this.anims=new f,this.mixes=new f,this.paused=!1,this.name="AnimationManager",T.events.once(n.BOOT,this.boot,this)},boot:function(){this.textureManager=this.game.textures,this.game.events.once(n.DESTROY,this.destroy,this)},addMix:function(m,T,P){var E=this.anims,M=this.mixes,w=typeof m=="string"?m:m.key,R=typeof T=="string"?T:T.key;if(E.has(w)&&E.has(R)){var A=M.get(w);A||(A={}),A[R]=P,M.set(w,A)}return this},removeMix:function(m,T){var P=this.mixes,E=typeof m=="string"?m:m.key,M=P.get(E);if(M)if(T){var w=typeof T=="string"?T:T.key;M.hasOwnProperty(w)&&delete M[w]}else T||P.delete(E);return this},getMix:function(m,T){var P=this.mixes,E=typeof m=="string"?m:m.key,M=typeof T=="string"?T:T.key,w=P.get(E);return w&&w.hasOwnProperty(M)?w[M]:0},add:function(m,T){return this.anims.has(m)?(console.warn("Animation key exists: "+m),this):(T.key=m,this.anims.set(m,T),this.emit(a.ADD_ANIMATION,m,T),this)},exists:function(m){return this.anims.has(m)},createFromAseprite:function(m,T,P){var E=[],M=this.game.cache.json.get(m);if(!M)return console.warn("No Aseprite data found for: "+m),E;var w=this,R=c(M,"meta",null),A=c(M,"frames",null);if(R&&A){var O=c(R,"frameTags",[]);O.forEach(function(F){var L=[],b=d(F,"name",null),D=d(F,"from",0),I=d(F,"to",0),k=d(F,"direction","forward");if(b&&(!T||T&&T.indexOf(b)>-1)){for(var X=0,W=D;W<=I;W++){var Y=W.toString(),N=A[Y];if(N){var V=d(N,"duration",u.MAX_SAFE_INTEGER);L.push({key:m,frame:Y,duration:V}),X+=V}}k==="reverse"&&(L=L.reverse());var G={key:b,frames:L,duration:X,yoyo:k==="pingpong"},B;P?P.anims&&(B=P.anims.create(G)):B=w.create(G),B&&E.push(B)}})}return E},create:function(m){var T=m.key,P=!1;return T&&(P=this.get(T),P?console.warn("AnimationManager key already exists: "+T):(P=new h(this,T,m),this.anims.set(T,P),this.emit(a.ADD_ANIMATION,T,P))),P},fromJSON:function(m,T){T===void 0&&(T=!1),T&&this.anims.clear(),typeof m=="string"&&(m=JSON.parse(m));var P=[];if(m.hasOwnProperty("anims")&&Array.isArray(m.anims)){for(var E=0;E<m.anims.length;E++)P.push(this.create(m.anims[E]));m.hasOwnProperty("globalTimeScale")&&(this.globalTimeScale=m.globalTimeScale)}else m.hasOwnProperty("key")&&m.type==="frame"&&P.push(this.create(m));return P},generateFrameNames:function(m,T){var P=c(T,"prefix",""),E=c(T,"start",0),M=c(T,"end",0),w=c(T,"suffix",""),R=c(T,"zeroPad",0),A=c(T,"outputArray",[]),O=c(T,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),A;var F=this.textureManager.get(m);if(!F)return A;var L;if(T)for(O||(O=v(E,M)),L=0;L<O.length;L++){var b=P+p(O[L],R,"0",1)+w;F.has(b)?A.push({key:m,frame:b}):console.warn('Frame "%s" not found in texture "%s"',b,m)}else for(O=F.getFrameNames(),L=0;L<O.length;L++)A.push({key:m,frame:O[L]});return A},generateFrameNumbers:function(m,T){var P=c(T,"start",0),E=c(T,"end",-1),M=c(T,"first",!1),w=c(T,"outputArray",[]),R=c(T,"frames",!1);if(!this.textureManager.exists(m))return console.warn('Texture "%s" not found',m),w;var A=this.textureManager.get(m);if(!A)return w;M&&A.has(M)&&w.push({key:m,frame:M}),R||(E===-1&&(E=A.frameTotal-2),R=v(P,E));for(var O=0;O<R.length;O++){var F=R[O];A.has(F)?w.push({key:m,frame:F}):console.warn('Frame "%s" not found in texture "%s"',F,m)}return w},get:function(m){return this.anims.get(m)},getAnimsFromTexture:function(m){for(var T=this.textureManager.get(m),P=T.key,E=this.anims.getArray(),M=[],w=0;w<E.length;w++)for(var R=E[w],A=R.frames,O=0;O<A.length;O++)if(A[O].textureKey===P){M.push(R.key);break}return M},pauseAll:function(){return this.paused||(this.paused=!0,this.emit(a.PAUSE_ALL)),this},play:function(m,T){Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++)T[P].anims.play(m);return this},staggerPlay:function(m,T,P,E){P===void 0&&(P=0),E===void 0&&(E=!0),Array.isArray(T)||(T=[T]);var M=T.length;E||M--;for(var w=0;w<T.length;w++){var R=P<0?Math.abs(P)*(M-w):P*w;T[w].anims.playAfterDelay(m,R)}return this},remove:function(m){var T=this.get(m);return T&&(this.emit(a.REMOVE_ANIMATION,m,T),this.anims.delete(m),this.removeMix(m)),T},resumeAll:function(){return this.paused&&(this.paused=!1,this.emit(a.RESUME_ALL)),this},toJSON:function(m){var T={anims:[],globalTimeScale:this.globalTimeScale};return m!==void 0&&m!==""?T.anims.push(this.anims.get(m).toJSON()):this.anims.each(function(P,E){T.anims.push(E.toJSON())}),T},destroy:function(){this.anims.clear(),this.mixes.clear(),this.textureManager=null,this.game=null}});r.exports=g},9674:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42099),x=i(30976),f=i(83419),l=i(90330),a=i(74943),n=i(95540),d=new f({initialize:function(u){this.parent=u,this.animationManager=u.scene.sys.anims,this.animationManager.on(a.REMOVE_ANIMATION,this.globalRemove,this),this.textureManager=this.animationManager.textureManager,this.anims=null,this.isPlaying=!1,this.hasStarted=!1,this.currentAnim=null,this.currentFrame=null,this.nextAnim=null,this.nextAnimsQueue=[],this.timeScale=1,this.frameRate=0,this.duration=0,this.msPerFrame=0,this.skipMissedFrames=!0,this.randomFrame=!1,this.delay=0,this.repeat=0,this.repeatDelay=0,this.yoyo=!1,this.showBeforeDelay=!1,this.showOnStart=!1,this.hideOnComplete=!1,this.forward=!0,this.inReverse=!1,this.accumulator=0,this.nextTick=0,this.delayCounter=0,this.repeatCounter=0,this.pendingRepeat=!1,this._paused=!1,this._wasPlaying=!1,this._pendingStop=0,this._pendingStopValue},chain:function(c){var u=this.parent;if(c===void 0)return this.nextAnimsQueue.length=0,this.nextAnim=null,u;Array.isArray(c)||(c=[c]);for(var v=0;v<c.length;v++){var p=c[v];this.nextAnim?this.nextAnimsQueue.push(p):this.nextAnim=p}return this.parent},getName:function(){return this.currentAnim?this.currentAnim.key:""},getFrameName:function(){return this.currentFrame?this.currentFrame.textureFrame:""},load:function(c){this.isPlaying&&this.stop();var u=this.animationManager,v=typeof c=="string"?c:n(c,"key",null),p=this.exists(v)?this.get(v):u.get(v);if(!p)console.warn("Missing animation: "+v);else{this.currentAnim=p;var g=p.getTotalFrames(),m=n(c,"frameRate",p.frameRate),T=n(c,"duration",p.duration);p.calculateDuration(this,g,T,m),this.delay=n(c,"delay",p.delay),this.repeat=n(c,"repeat",p.repeat),this.repeatDelay=n(c,"repeatDelay",p.repeatDelay),this.yoyo=n(c,"yoyo",p.yoyo),this.showBeforeDelay=n(c,"showBeforeDelay",p.showBeforeDelay),this.showOnStart=n(c,"showOnStart",p.showOnStart),this.hideOnComplete=n(c,"hideOnComplete",p.hideOnComplete),this.skipMissedFrames=n(c,"skipMissedFrames",p.skipMissedFrames),this.randomFrame=n(c,"randomFrame",p.randomFrame),this.timeScale=n(c,"timeScale",this.timeScale);var P=n(c,"startFrame",0);P>g&&(P=0),this.randomFrame&&(P=x(0,g-1));var E=p.frames[P];P===0&&!this.forward&&(E=p.getLastFrame()),this.currentFrame=E}return this.parent},pause:function(c){return this._paused||(this._paused=!0,this._wasPlaying=this.isPlaying,this.isPlaying=!1),c!==void 0&&this.setCurrentFrame(c),this.parent},resume:function(c){return this._paused&&(this._paused=!1,this.isPlaying=this._wasPlaying),c!==void 0&&this.setCurrentFrame(c),this.parent},playAfterDelay:function(c,u){if(!this.isPlaying)this.delayCounter=u,this.play(c,!0);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.nextAnim=c,this._pendingStop=1,this._pendingStopValue=u}return this.parent},playAfterRepeat:function(c,u){if(u===void 0&&(u=1),!this.isPlaying)this.play(c);else{var v=this.nextAnim,p=this.nextAnimsQueue;v&&p.unshift(v),this.repeatCounter!==-1&&u>this.repeatCounter&&(u=this.repeatCounter),this.nextAnim=c,this._pendingStop=2,this._pendingStopValue=u}return this.parent},play:function(c,u){u===void 0&&(u=!1);var v=this.currentAnim,p=this.parent,g=typeof c=="string"?c:c.key;if(u&&this.isPlaying&&v.key===g)return p;if(v&&this.isPlaying){var m=this.animationManager.getMix(v.key,c);if(m>0)return this.playAfterDelay(c,m)}return this.forward=!0,this.inReverse=!1,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c)},playReverse:function(c,u){u===void 0&&(u=!1);var v=typeof c=="string"?c:c.key;return u&&this.isPlaying&&this.currentAnim.key===v?this.parent:(this.forward=!1,this.inReverse=!0,this._paused=!1,this._wasPlaying=!0,this.startAnimation(c))},startAnimation:function(c){this.load(c);var u=this.currentAnim,v=this.parent;return u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat,u.getFirstTick(this),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!1,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.delayCounter+=this.delay,this.delayCounter===0?this.handleStart():this.showBeforeDelay&&this.setCurrentFrame(this.currentFrame)),v},handleStart:function(){this.showOnStart&&this.parent.setVisible(!0),this.setCurrentFrame(this.currentFrame),this.hasStarted=!0,this.emitEvents(a.ANIMATION_START)},handleRepeat:function(){this.pendingRepeat=!1,this.emitEvents(a.ANIMATION_REPEAT)},handleStop:function(){this._pendingStop=0,this.isPlaying=!1,this.emitEvents(a.ANIMATION_STOP)},handleComplete:function(){this._pendingStop=0,this.isPlaying=!1,this.hideOnComplete&&this.parent.setVisible(!1),this.emitEvents(a.ANIMATION_COMPLETE,a.ANIMATION_COMPLETE_KEY)},emitEvents:function(c,u){var v=this.currentAnim;if(v){var p=this.currentFrame,g=this.parent,m=p.textureFrame;g.emit(c,v,p,g,m),u&&g.emit(u+v.key,v,p,g,m)}},reverse:function(){return this.isPlaying&&(this.inReverse=!this.inReverse,this.forward=!this.forward),this.parent},getProgress:function(){var c=this.currentFrame;if(!c)return 0;var u=c.progress;return this.inReverse&&(u*=-1),u},setProgress:function(c){return this.forward||(c=1-c),this.setCurrentFrame(this.currentAnim.getFrameByProgress(c)),this.parent},setRepeat:function(c){return this.repeatCounter=c===-1?Number.MAX_VALUE:c,this.parent},globalRemove:function(c,u){u===void 0&&(u=this.currentAnim),this.isPlaying&&u.key===this.currentAnim.key&&(this.stop(),this.setCurrentFrame(this.currentAnim.frames[0]))},restart:function(c,u){c===void 0&&(c=!1),u===void 0&&(u=!1);var v=this.currentAnim,p=this.parent;return v?(u&&(this.repeatCounter=this.repeat===-1?Number.MAX_VALUE:this.repeat),v.getFirstTick(this),this.emitEvents(a.ANIMATION_RESTART),this.isPlaying=!0,this.pendingRepeat=!1,this.hasStarted=!c,this._pendingStop=0,this._pendingStopValue=0,this._paused=!1,this.setCurrentFrame(v.frames[0]),this.parent):p},complete:function(){if(this._pendingStop=0,this.isPlaying=!1,this.currentAnim&&this.handleComplete(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.length>0?this.nextAnimsQueue.shift():null,this.play(c)}return this.parent},stop:function(){if(this._pendingStop=0,this.isPlaying=!1,this.delayCounter=0,this.currentAnim&&this.handleStop(),this.nextAnim){var c=this.nextAnim;this.nextAnim=this.nextAnimsQueue.shift(),this.play(c)}return this.parent},stopAfterDelay:function(c){return this._pendingStop=1,this._pendingStopValue=c,this.parent},stopAfterRepeat:function(c){return c===void 0&&(c=1),this.repeatCounter!==-1&&c>this.repeatCounter&&(c=this.repeatCounter),this._pendingStop=2,this._pendingStopValue=c,this.parent},stopOnFrame:function(c){return this._pendingStop=3,this._pendingStopValue=c,this.parent},getTotalFrames:function(){return this.currentAnim?this.currentAnim.getTotalFrames():0},update:function(c,u){var v=this.currentAnim;if(!(!this.isPlaying||!v||v.paused)){if(this.accumulator+=u*this.timeScale*this.animationManager.globalTimeScale,this._pendingStop===1&&(this._pendingStopValue-=u,this._pendingStopValue<=0))return this.stop();if(!this.hasStarted)this.accumulator>=this.delayCounter&&(this.accumulator-=this.delayCounter,this.handleStart());else if(this.accumulator>=this.nextTick&&(this.forward?v.nextFrame(this):v.previousFrame(this),this.isPlaying&&this._pendingStop===0&&this.skipMissedFrames&&this.accumulator>this.nextTick)){var p=0;do this.forward?v.nextFrame(this):v.previousFrame(this),p++;while(this.isPlaying&&this.accumulator>this.nextTick&&p<60)}}},setCurrentFrame:function(c){var u=this.parent;return this.currentFrame=c,u.texture=c.frame.texture,u.frame=c.frame,u.isCropped&&u.frame.updateCropUVs(u._crop,u.flipX,u.flipY),c.setAlpha&&(u.alpha=c.alpha),u.setSizeToFrame(),u._originComponent&&(c.frame.customPivot?u.setOrigin(c.frame.pivotX,c.frame.pivotY):u.updateDisplayOrigin()),this.isPlaying&&this.hasStarted&&(this.emitEvents(a.ANIMATION_UPDATE),this._pendingStop===3&&this._pendingStopValue===c&&this.stop()),u},nextFrame:function(){return this.currentAnim&&this.currentAnim.nextFrame(this),this.parent},previousFrame:function(){return this.currentAnim&&this.currentAnim.previousFrame(this),this.parent},get:function(c){return this.anims?this.anims.get(c):null},exists:function(c){return this.anims?this.anims.has(c):!1},create:function(c){var u=c.key,v=!1;return u&&(v=this.get(u),v?console.warn("Animation key already exists: "+u):(v=new h(this,u,c),this.anims||(this.anims=new l),this.anims.set(u,v))),v},createFromAseprite:function(c,u){return this.animationManager.createFromAseprite(c,u,this.parent)},generateFrameNames:function(c,u){return this.animationManager.generateFrameNames(c,u)},generateFrameNumbers:function(c,u){return this.animationManager.generateFrameNumbers(c,u)},remove:function(c){var u=this.get(c);return u&&(this.currentAnim===u&&this.stop(),this.anims.delete(c)),u},destroy:function(){this.animationManager.off(a.REMOVE_ANIMATION,this.globalRemove,this),this.anims&&this.anims.clear(),this.animationManager=null,this.parent=null,this.nextAnim=null,this.nextAnimsQueue.length=0,this.currentAnim=null,this.currentFrame=null},isPaused:{get:function(){return this._paused}}});r.exports=d},57090:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},25312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete"},89580:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationcomplete-"},52860:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrepeat"},63850:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationrestart"},99085:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstart"},28087:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationstop"},1794:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="animationupdate"},52562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},57953:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},68339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},74943:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD_ANIMATION:i(57090),ANIMATION_COMPLETE:i(25312),ANIMATION_COMPLETE_KEY:i(89580),ANIMATION_REPEAT:i(52860),ANIMATION_RESTART:i(63850),ANIMATION_START:i(99085),ANIMATION_STOP:i(28087),ANIMATION_UPDATE:i(1794),PAUSE_ALL:i(52562),REMOVE_ANIMATION:i(57953),RESUME_ALL:i(68339)}},60421:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Animation:i(42099),AnimationFrame:i(41138),AnimationManager:i(60848),AnimationState:i(9674),Events:i(74943)}},2161:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(90330),f=i(50792),l=i(24736),a=new h({initialize:function(){this.entries=new x,this.events=new f},add:function(n,d){return this.entries.set(n,d),this.events.emit(l.ADD,this,n,d),this},has:function(n){return this.entries.has(n)},exists:function(n){return this.entries.has(n)},get:function(n){return this.entries.get(n)},remove:function(n){var d=this.get(n);return d&&(this.entries.delete(n),this.events.emit(l.REMOVE,this,n,d.data)),this},getKeys:function(){return this.entries.keys()},destroy:function(){this.entries.clear(),this.events.removeAllListeners(),this.entries=null,this.events=null}});r.exports=a},24047:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2161),x=i(83419),f=i(8443),l=new x({initialize:function(n){this.game=n,this.binary=new h,this.bitmapFont=new h,this.json=new h,this.physics=new h,this.shader=new h,this.audio=new h,this.video=new h,this.text=new h,this.html=new h,this.obj=new h,this.tilemap=new h,this.xml=new h,this.custom={},this.game.events.once(f.DESTROY,this.destroy,this)},addCustom:function(a){return this.custom.hasOwnProperty(a)||(this.custom[a]=new h),this.custom[a]},destroy:function(){for(var a=["binary","bitmapFont","json","physics","shader","audio","video","text","html","obj","tilemap","xml"],n=0;n<a.length;n++)this[a[n]].destroy(),this[a[n]]=null;for(var d in this.custom)this.custom[d].destroy();this.custom=null,this.game=null}});r.exports=l},51464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},59261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},24736:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(51464),REMOVE:i(59261)}},83388:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BaseCache:i(2161),CacheManager:i(24047),Events:i(24736)}},71911:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(39506),l=i(50792),a=i(19715),n=i(87841),d=i(61340),c=i(80333),u=i(26099),v=new h({Extends:l,Mixins:[x.AlphaSingle,x.Visible],initialize:function(g,m,T,P){g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),P===void 0&&(P=0),l.call(this),this.scene,this.sceneManager,this.scaleManager,this.cameraManager,this.id=0,this.name="",this.roundPixels=!1,this.useBounds=!1,this.worldView=new n,this.dirty=!0,this._x=g,this._y=m,this._width=T,this._height=P,this._bounds=new n,this._scrollX=0,this._scrollY=0,this._zoomX=1,this._zoomY=1,this._rotation=0,this.matrix=new d,this.transparent=!0,this.backgroundColor=c("rgba(0,0,0,0)"),this.disableCull=!1,this.culledObjects=[],this.midPoint=new u(T/2,P/2),this.originX=.5,this.originY=.5,this._customViewport=!1,this.mask=null,this._maskCamera=null,this.renderList=[],this.isSceneCamera=!0,this.renderRoundPixels=!0},addToRenderList:function(p){this.renderList.push(p)},setOrigin:function(p,g){return p===void 0&&(p=.5),g===void 0&&(g=p),this.originX=p,this.originY=g,this},getScroll:function(p,g,m){m===void 0&&(m=new u);var T=this.width*.5,P=this.height*.5;return m.x=p-T,m.y=g-P,this.useBounds&&(m.x=this.clampX(m.x),m.y=this.clampY(m.y)),m},centerOnX:function(p){var g=this.width*.5;return this.midPoint.x=p,this.scrollX=p-g,this.useBounds&&(this.scrollX=this.clampX(this.scrollX)),this},centerOnY:function(p){var g=this.height*.5;return this.midPoint.y=p,this.scrollY=p-g,this.useBounds&&(this.scrollY=this.clampY(this.scrollY)),this},centerOn:function(p,g){return this.centerOnX(p),this.centerOnY(g),this},centerToBounds:function(){if(this.useBounds){var p=this._bounds,g=this.width*.5,m=this.height*.5;this.midPoint.set(p.centerX,p.centerY),this.scrollX=p.centerX-g,this.scrollY=p.centerY-m}return this},centerToSize:function(){return this.scrollX=this.width*.5,this.scrollY=this.height*.5,this},cull:function(p){if(this.disableCull)return p;var g=this.matrix.matrix,m=g[0],T=g[1],P=g[2],E=g[3],M=m*E-T*P;if(!M)return p;var w=g[4],R=g[5],A=this.scrollX,O=this.scrollY,F=this.width,L=this.height,b=this.y,D=b+L,I=this.x,k=I+F,X=this.culledObjects,W=p.length;M=1/M,X.length=0;for(var Y=0;Y<W;++Y){var N=p[Y];if(!N.hasOwnProperty("width")||N.parentContainer){X.push(N);continue}var V=N.width,G=N.height,B=N.x-A*N.scrollFactorX-V*N.originX,z=N.y-O*N.scrollFactorY-G*N.originY,U=B*m+z*P+w,H=B*T+z*E+R,$=(B+V)*m+(z+G)*P+w,K=(B+V)*T+(z+G)*E+R;$>I&&U<k&&K>b&&H<D&&X.push(N)}return X},getWorldPoint:function(p,g,m){m===void 0&&(m=new u);var T=this.matrix.matrix,P=T[0],E=T[1],M=T[2],w=T[3],R=T[4],A=T[5],O=P*w-E*M;if(!O)return m.x=p,m.y=g,m;O=1/O;var F=w*O,L=-E*O,b=-M*O,D=P*O,I=(M*A-w*R)*O,k=(E*R-P*A)*O,X=Math.cos(this.rotation),W=Math.sin(this.rotation),Y=this.zoomX,N=this.zoomY,V=this.scrollX,G=this.scrollY,B=p+(V*X-G*W)*Y,z=g+(V*W+G*X)*N;return m.x=B*F+z*b+I,m.y=B*L+z*D+k,m},ignore:function(p){var g=this.id;Array.isArray(p)||(p=[p]);for(var m=0;m<p.length;m++){var T=p[m];Array.isArray(T)?this.ignore(T):T.isParent?this.ignore(T.getChildren()):T.cameraFilter|=g}return this},clampX:function(p){var g=this._bounds,m=this.displayWidth,T=g.x+(m-this.width)/2,P=Math.max(T,T+g.width-m);return p<T?p=T:p>P&&(p=P),p},clampY:function(p){var g=this._bounds,m=this.displayHeight,T=g.y+(m-this.height)/2,P=Math.max(T,T+g.height-m);return p<T?p=T:p>P&&(p=P),p},removeBounds:function(){return this.useBounds=!1,this.dirty=!0,this._bounds.setEmpty(),this},setAngle:function(p){return p===void 0&&(p=0),this.rotation=f(p),this},setBackgroundColor:function(p){return p===void 0&&(p="rgba(0,0,0,0)"),this.backgroundColor=c(p),this.transparent=this.backgroundColor.alpha===0,this},setBounds:function(p,g,m,T,P){return P===void 0&&(P=!1),this._bounds.setTo(p,g,m,T),this.dirty=!0,this.useBounds=!0,P?this.centerToBounds():(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},getBounds:function(p){p===void 0&&(p=new n);var g=this._bounds;return p.setTo(g.x,g.y,g.width,g.height),p},setName:function(p){return p===void 0&&(p=""),this.name=p,this},setPosition:function(p,g){return g===void 0&&(g=p),this.x=p,this.y=g,this},setRotation:function(p){return p===void 0&&(p=0),this.rotation=p,this},setRoundPixels:function(p){return this.roundPixels=p,this},setScene:function(p,g){g===void 0&&(g=!0),this.scene&&this._customViewport&&this.sceneManager.customViewports--,this.scene=p,this.isSceneCamera=g;var m=p.sys;return this.sceneManager=m.game.scene,this.scaleManager=m.scale,this.cameraManager=m.cameras,this.updateSystem(),this},setScroll:function(p,g){return g===void 0&&(g=p),this.scrollX=p,this.scrollY=g,this},setSize:function(p,g){return g===void 0&&(g=p),this.width=p,this.height=g,this},setViewport:function(p,g,m,T){return this.x=p,this.y=g,this.width=m,this.height=T,this},setZoom:function(p,g){return p===void 0&&(p=1),g===void 0&&(g=p),p===0&&(p=.001),g===0&&(g=.001),this.zoomX=p,this.zoomY=g,this},setMask:function(p,g){return g===void 0&&(g=!0),this.mask=p,this._maskCamera=g?this.cameraManager.default:this,this},clearMask:function(p){return p===void 0&&(p=!1),p&&this.mask&&this.mask.destroy(),this.mask=null,this},toJSON:function(){var p={name:this.name,x:this.x,y:this.y,width:this.width,height:this.height,zoom:this.zoom,rotation:this.rotation,roundPixels:this.roundPixels,scrollX:this.scrollX,scrollY:this.scrollY,backgroundColor:this.backgroundColor.rgba};return this.useBounds&&(p.bounds={x:this._bounds.x,y:this._bounds.y,width:this._bounds.width,height:this._bounds.height}),p},update:function(){},setIsSceneCamera:function(p){return this.isSceneCamera=p,this},updateSystem:function(){if(!(!this.scaleManager||!this.isSceneCamera)){var p=this._x!==0||this._y!==0||this.scaleManager.width!==this._width||this.scaleManager.height!==this._height,g=this.sceneManager;p&&!this._customViewport?g.customViewports++:!p&&this._customViewport&&g.customViewports--,this.dirty=!0,this._customViewport=p}},destroy:function(){this.emit(a.DESTROY,this),this.removeAllListeners(),this.matrix.destroy(),this.culledObjects=[],this._customViewport&&this.sceneManager.customViewports--,this.renderList=[],this._bounds=null,this.scene=null,this.scaleManager=null,this.sceneManager=null,this.cameraManager=null},x:{get:function(){return this._x},set:function(p){this._x=p,this.updateSystem()}},y:{get:function(){return this._y},set:function(p){this._y=p,this.updateSystem()}},width:{get:function(){return this._width},set:function(p){this._width=p,this.updateSystem()}},height:{get:function(){return this._height},set:function(p){this._height=p,this.updateSystem()}},scrollX:{get:function(){return this._scrollX},set:function(p){p!==this._scrollX&&(this._scrollX=p,this.dirty=!0)}},scrollY:{get:function(){return this._scrollY},set:function(p){p!==this._scrollY&&(this._scrollY=p,this.dirty=!0)}},zoom:{get:function(){return(this._zoomX+this._zoomY)/2},set:function(p){this._zoomX=p,this._zoomY=p,this.dirty=!0}},zoomX:{get:function(){return this._zoomX},set:function(p){this._zoomX=p,this.dirty=!0}},zoomY:{get:function(){return this._zoomY},set:function(p){this._zoomY=p,this.dirty=!0}},rotation:{get:function(){return this._rotation},set:function(p){this._rotation=p,this.dirty=!0}},centerX:{get:function(){return this.x+.5*this.width}},centerY:{get:function(){return this.y+.5*this.height}},displayWidth:{get:function(){return this.width/this.zoomX}},displayHeight:{get:function(){return this.height/this.zoomY}}});r.exports=v},38058:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71911),x=i(67502),f=i(45319),l=i(83419),a=i(31401),n=i(20052),d=i(19715),c=i(28915),u=i(87841),v=i(26099),p=new l({Extends:h,Mixins:[a.PostPipeline],initialize:function(m,T,P,E){h.call(this,m,T,P,E),this.initPostPipeline(),this.inputEnabled=!0,this.fadeEffect=new n.Fade(this),this.flashEffect=new n.Flash(this),this.shakeEffect=new n.Shake(this),this.panEffect=new n.Pan(this),this.rotateToEffect=new n.RotateTo(this),this.zoomEffect=new n.Zoom(this),this.lerp=new v(1,1),this.followOffset=new v,this.deadzone=null,this._follow=null},setDeadzone:function(g,m){if(g===void 0)this.deadzone=null;else{if(this.deadzone?(this.deadzone.width=g,this.deadzone.height=m):this.deadzone=new u(0,0,g,m),this._follow){var T=this.width/2,P=this.height/2,E=this._follow.x-this.followOffset.x,M=this._follow.y-this.followOffset.y;this.midPoint.set(E,M),this.scrollX=E-T,this.scrollY=M-P}x(this.deadzone,this.midPoint.x,this.midPoint.y)}return this},fadeIn:function(g,m,T,P,E,M){return this.fadeEffect.start(!1,g,m,T,P,!0,E,M)},fadeOut:function(g,m,T,P,E,M){return this.fadeEffect.start(!0,g,m,T,P,!0,E,M)},fadeFrom:function(g,m,T,P,E,M,w){return this.fadeEffect.start(!1,g,m,T,P,E,M,w)},fade:function(g,m,T,P,E,M,w){return this.fadeEffect.start(!0,g,m,T,P,E,M,w)},flash:function(g,m,T,P,E,M,w){return this.flashEffect.start(g,m,T,P,E,M,w)},shake:function(g,m,T,P,E){return this.shakeEffect.start(g,m,T,P,E)},pan:function(g,m,T,P,E,M,w){return this.panEffect.start(g,m,T,P,E,M,w)},rotateTo:function(g,m,T,P,E,M,w){return this.rotateToEffect.start(g,m,T,P,E,M,w)},zoomTo:function(g,m,T,P,E,M){return this.zoomEffect.start(g,m,T,P,E,M)},preRender:function(){this.renderList.length=0;var g=this.width,m=this.height,T=g*.5,P=m*.5,E=this.zoomX,M=this.zoomY,w=this.matrix;this.renderRoundPixels=this.roundPixels&&Number.isInteger(E)&&Number.isInteger(M);var R=g*this.originX,A=m*this.originY,O=this._follow,F=this.deadzone,L=this.scrollX,b=this.scrollY;F&&x(F,this.midPoint.x,this.midPoint.y);var D=!1;if(O&&!this.panEffect.isRunning){var I=this.lerp,k=O.x-this.followOffset.x,X=O.y-this.followOffset.y;F?(k<F.x?L=c(L,L-(F.x-k),I.x):k>F.right&&(L=c(L,L+(k-F.right),I.x)),X<F.y?b=c(b,b-(F.y-X),I.y):X>F.bottom&&(b=c(b,b+(X-F.bottom),I.y))):(L=c(L,k-R,I.x),b=c(b,X-A,I.y)),D=!0}this.roundPixels&&(L=Math.floor(L),b=Math.floor(b)),this.useBounds&&(L=this.clampX(L),b=this.clampY(b)),this.scrollX=L,this.scrollY=b;var W=L+T,Y=b+P;this.midPoint.set(W,Y);var N=Math.floor(g/E+.5),V=Math.floor(m/M+.5),G=Math.floor(W-N/2+.5),B=Math.floor(Y-V/2+.5);this.worldView.setTo(G,B,N,V),w.applyITRS(Math.floor(this.x+R+.5),Math.floor(this.y+A+.5),this.rotation,E,M),w.translate(-R,-A),this.shakeEffect.preRender(),D&&this.emit(d.FOLLOW_UPDATE,this,O)},setLerp:function(g,m){return g===void 0&&(g=1),m===void 0&&(m=g),this.lerp.set(g,m),this},setFollowOffset:function(g,m){return g===void 0&&(g=0),m===void 0&&(m=0),this.followOffset.set(g,m),this},startFollow:function(g,m,T,P,E,M){m===void 0&&(m=!1),T===void 0&&(T=1),P===void 0&&(P=T),E===void 0&&(E=0),M===void 0&&(M=E),this._follow=g,this.roundPixels=m,T=f(T,0,1),P=f(P,0,1),this.lerp.set(T,P),this.followOffset.set(E,M);var w=this.width/2,R=this.height/2,A=g.x-E,O=g.y-M;return this.midPoint.set(A,O),this.scrollX=A-w,this.scrollY=O-R,this.useBounds&&(this.scrollX=this.clampX(this.scrollX),this.scrollY=this.clampY(this.scrollY)),this},stopFollow:function(){return this._follow=null,this},resetFX:function(){return this.rotateToEffect.reset(),this.panEffect.reset(),this.shakeEffect.reset(),this.flashEffect.reset(),this.fadeEffect.reset(),this},update:function(g,m){this.visible&&(this.rotateToEffect.update(g,m),this.panEffect.update(g,m),this.zoomEffect.update(g,m),this.shakeEffect.update(g,m),this.flashEffect.update(g,m),this.fadeEffect.update(g,m))},destroy:function(){this.resetFX(),h.prototype.destroy.call(this),this._follow=null,this.deadzone=null}});r.exports=p},32743:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(38058),x=i(83419),f=i(95540),l=i(37277),a=i(37303),n=i(97480),d=i(44594),c=new x({initialize:function(v){this.scene=v,this.systems=v.sys,this.roundPixels=v.sys.game.config.roundPixels,this.cameras=[],this.main,this.default,v.sys.events.once(d.BOOT,this.boot,this),v.sys.events.on(d.START,this.start,this)},boot:function(){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0],this.default=new h(0,0,u.scale.width,u.scale.height).setScene(this.scene),u.game.scale.on(n.RESIZE,this.onResize,this),this.systems.events.once(d.DESTROY,this.destroy,this)},start:function(){if(!this.main){var u=this.systems;u.settings.cameras?this.fromJSON(u.settings.cameras):this.add(),this.main=this.cameras[0]}var v=this.systems.events;v.on(d.UPDATE,this.update,this),v.once(d.SHUTDOWN,this.shutdown,this)},add:function(u,v,p,g,m,T){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),m===void 0&&(m=!1),T===void 0&&(T="");var P=new h(u,v,p,g);return P.setName(T),P.setScene(this.scene),P.setRoundPixels(this.roundPixels),P.id=this.getNextID(),this.cameras.push(P),m&&(this.main=P),P},addExisting:function(u,v){v===void 0&&(v=!1);var p=this.cameras.indexOf(u);return p===-1?(u.id=this.getNextID(),u.setRoundPixels(this.roundPixels),this.cameras.push(u),v&&(this.main=u),u):null},getNextID:function(){for(var u=this.cameras,v=1,p=0;p<32;p++){for(var g=!1,m=0;m<u.length;m++){var T=u[m];if(T&&T.id===v){g=!0;continue}}if(g)v=v<<1;else return v}return 0},getTotal:function(u){u===void 0&&(u=!1);for(var v=0,p=this.cameras,g=0;g<p.length;g++){var m=p[g];(!u||u&&m.visible)&&v++}return v},fromJSON:function(u){Array.isArray(u)||(u=[u]);for(var v=this.scene.sys.scale.width,p=this.scene.sys.scale.height,g=0;g<u.length;g++){var m=u[g],T=f(m,"x",0),P=f(m,"y",0),E=f(m,"width",v),M=f(m,"height",p),w=this.add(T,P,E,M);w.name=f(m,"name",""),w.zoom=f(m,"zoom",1),w.rotation=f(m,"rotation",0),w.scrollX=f(m,"scrollX",0),w.scrollY=f(m,"scrollY",0),w.roundPixels=f(m,"roundPixels",!1),w.visible=f(m,"visible",!0);var R=f(m,"backgroundColor",!1);R&&w.setBackgroundColor(R);var A=f(m,"bounds",null);if(A){var O=f(A,"x",0),F=f(A,"y",0),L=f(A,"width",v),b=f(A,"height",p);w.setBounds(O,F,L,b)}}return this},getCamera:function(u){for(var v=this.cameras,p=0;p<v.length;p++)if(v[p].name===u)return v[p];return null},getCamerasBelowPointer:function(u){for(var v=this.cameras,p=u.x,g=u.y,m=[],T=0;T<v.length;T++){var P=v[T];P.visible&&P.inputEnabled&&a(P,p,g)&&m.unshift(P)}return m},remove:function(u,v){v===void 0&&(v=!0),Array.isArray(u)||(u=[u]);for(var p=0,g=this.cameras,m=0;m<u.length;m++){var T=g.indexOf(u[m]);T!==-1&&(v?g[T].destroy():g[T].renderList=[],g.splice(T,1),p++)}return!this.main&&g[0]&&(this.main=g[0]),p},render:function(u,v){for(var p=this.scene,g=this.cameras,m=0;m<g.length;m++){var T=g[m];if(T.visible&&T.alpha>0){T.preRender();var P=this.getVisibleChildren(v.getChildren(),T);u.render(p,P,T)}}},getVisibleChildren:function(u,v){return u.filter(function(p){return p.willRender(v)})},resetAll:function(){for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();return this.cameras=[],this.main=this.add(),this.main},update:function(u,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].update(u,v)},onResize:function(u,v,p,g,m){for(var T=0;T<this.cameras.length;T++){var P=this.cameras[T];P._x===0&&P._y===0&&P._width===g&&P._height===m&&P.setSize(v.width,v.height)}},resize:function(u,v){for(var p=0;p<this.cameras.length;p++)this.cameras[p].setSize(u,v)},shutdown:function(){this.main=void 0;for(var u=0;u<this.cameras.length;u++)this.cameras[u].destroy();this.cameras=[];var v=this.systems.events;v.off(d.UPDATE,this.update,this),v.off(d.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.default.destroy(),this.systems.events.off(d.START,this.start,this),this.systems.events.off(d.DESTROY,this.destroy,this),this.systems.game.scale.off(n.RESIZE,this.onResize,this),this.scene=null,this.systems=null}});l.register("CameraManager",c,"cameras"),r.exports=c},5020:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(19715),l=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.isComplete=!1,this.direction=!0,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(a,n,d,c,u,v,p,g){if(a===void 0&&(a=!0),n===void 0&&(n=1e3),d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),!v&&this.isRunning)return this.camera;this.isRunning=!0,this.isComplete=!1,this.duration=n,this.direction=a,this.progress=0,this.red=d,this.green=c,this.blue=u,this.alpha=a?Number.MIN_VALUE:1,this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g;var m=a?f.FADE_OUT_START:f.FADE_IN_START;return this.camera.emit(m,this.camera,this,n,d,c,u),this.camera},update:function(a,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this.direction?this.progress:1-this.progress:(this.alpha=this.direction?1:0,this.effectComplete()))},postRenderCanvas:function(a){if(!this.isRunning&&!this.isComplete)return!1;var n=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(a,n){if(!this.isRunning&&!this.isComplete)return!1;var d=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return a.drawFillRect(d.x,d.y,d.width,d.height,n(v,u,c,1),this.alpha),!0},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.isComplete=!0;var a=this.direction?f.FADE_OUT_COMPLETE:f.FADE_IN_COMPLETE;this.camera.emit(a,this.camera,this)},reset:function(){this.isRunning=!1,this.isComplete=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=l},10662:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(19715),l=new x({initialize:function(n){this.camera=n,this.isRunning=!1,this.duration=0,this.red=0,this.green=0,this.blue=0,this.alpha=1,this.progress=0,this._elapsed=0,this._alpha,this._onUpdate,this._onUpdateScope},start:function(a,n,d,c,u,v,p){return a===void 0&&(a=250),n===void 0&&(n=255),d===void 0&&(d=255),c===void 0&&(c=255),u===void 0&&(u=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene),!u&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=a,this.progress=0,this.red=n,this.green=d,this.blue=c,this._alpha=this.alpha,this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(f.FLASH_START,this.camera,this,a,n,d,c),this.camera)},update:function(a,n){this.isRunning&&(this._elapsed+=n,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration?this.alpha=this._alpha*(1-this.progress):this.effectComplete())},postRenderCanvas:function(a){if(!this.isRunning)return!1;var n=this.camera;return a.fillStyle="rgba("+this.red+","+this.green+","+this.blue+","+this.alpha+")",a.fillRect(n.x,n.y,n.width,n.height),!0},postRenderWebGL:function(a,n){if(!this.isRunning)return!1;var d=this.camera,c=this.red/255,u=this.green/255,v=this.blue/255;return a.drawFillRect(d.x,d.y,d.width,d.height,n(v,u,c,1),this.alpha),!0},effectComplete:function(){this.alpha=this._alpha,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.FLASH_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=l},20359:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(62640),l=i(19715),a=i(26099),n=new x({initialize:function(c){this.camera=c,this.isRunning=!1,this.duration=0,this.source=new a,this.current=new a,this.destination=new a,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(d,c,u,v,p,g,m){u===void 0&&(u=1e3),v===void 0&&(v=f.Linear),p===void 0&&(p=!1),g===void 0&&(g=null),m===void 0&&(m=this.camera.scene);var T=this.camera;return!p&&this.isRunning||(this.isRunning=!0,this.duration=u,this.progress=0,this.source.set(T.scrollX,T.scrollY),this.destination.set(d,c),T.getScroll(d,c,this.current),typeof v=="string"&&f.hasOwnProperty(v)?this.ease=f[v]:typeof v=="function"&&(this.ease=v),this._elapsed=0,this._onUpdate=g,this._onUpdateScope=m,this.camera.emit(l.PAN_START,this.camera,this,u,d,c)),T},update:function(d,c){if(this.isRunning){this._elapsed+=c;var u=h(this._elapsed/this.duration,0,1);this.progress=u;var v=this.camera;if(this._elapsed<this.duration){var p=this.ease(u);v.getScroll(this.destination.x,this.destination.y,this.current);var g=this.source.x+(this.current.x-this.source.x)*p,m=this.source.y+(this.current.y-this.source.y)*p;v.setScroll(g,m),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,g,m)}else v.centerOn(this.destination.x,this.destination.y),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,v,u,v.scrollX,v.scrollY),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.PAN_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=n},34208:(r,C,i)=>{/**
 * @author       Jason Nicholls <nicholls.jason@gmail.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var h=i(45319),x=i(83419),f=i(19715),l=i(62640),a=new x({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=0,this.current=0,this.destination=0,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope,this.clockwise=!0,this.shortestPath=!1},start:function(n,d,c,u,v,p,g){c===void 0&&(c=1e3),u===void 0&&(u=l.Linear),v===void 0&&(v=!1),p===void 0&&(p=null),g===void 0&&(g=this.camera.scene),d===void 0&&(d=!1),this.shortestPath=d;var m=n;n<0?(m=-1*n,this.clockwise=!1):this.clockwise=!0;var T=360*Math.PI/180;m=m-Math.floor(m/T)*T;var P=this.camera;if(!v&&this.isRunning)return P;if(this.isRunning=!0,this.duration=c,this.progress=0,this.source=P.rotation,this.destination=m,typeof u=="string"&&l.hasOwnProperty(u)?this.ease=l[u]:typeof u=="function"&&(this.ease=u),this._elapsed=0,this._onUpdate=p,this._onUpdateScope=g,this.shortestPath){var E=0,M=0;this.destination>this.source?E=Math.abs(this.destination-this.source):E=Math.abs(this.destination+T)-this.source,this.source>this.destination?M=Math.abs(this.source-this.destination):M=Math.abs(this.source+T)-this.destination,E<M?this.clockwise=!0:E>M&&(this.clockwise=!1)}return this.camera.emit(f.ROTATE_START,this.camera,this,c,m),P},update:function(n,d){if(this.isRunning){this._elapsed+=d;var c=h(this._elapsed/this.duration,0,1);this.progress=c;var u=this.camera;if(this._elapsed<this.duration){var v=this.ease(c);this.current=u.rotation;var p=0,g=360*Math.PI/180,m=this.destination,T=this.current;this.clockwise===!1&&(m=this.current,T=this.destination),m>=T?p=Math.abs(m-T):p=Math.abs(m+g)-T;var P=0;this.clockwise?P=u.rotation+p*v:P=u.rotation-p*v,u.rotation=P,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,P)}else u.rotation=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,u,c,this.destination),this.effectComplete()}},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.ROTATE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.source=null,this.destination=null}});r.exports=a},30330:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(19715),l=i(26099),a=new x({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.intensity=new l,this.progress=0,this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate,this._onUpdateScope},start:function(n,d,c,u,v){return n===void 0&&(n=100),d===void 0&&(d=.05),c===void 0&&(c=!1),u===void 0&&(u=null),v===void 0&&(v=this.camera.scene),!c&&this.isRunning?this.camera:(this.isRunning=!0,this.duration=n,this.progress=0,typeof d=="number"?this.intensity.set(d):this.intensity.set(d.x,d.y),this._elapsed=0,this._offsetX=0,this._offsetY=0,this._onUpdate=u,this._onUpdateScope=v,this.camera.emit(f.SHAKE_START,this.camera,this,n,d),this.camera)},preRender:function(){this.isRunning&&this.camera.matrix.translate(this._offsetX,this._offsetY)},update:function(n,d){if(this.isRunning)if(this._elapsed+=d,this.progress=h(this._elapsed/this.duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress),this._elapsed<this.duration){var c=this.intensity,u=this.camera.width,v=this.camera.height,p=this.camera.zoom;this._offsetX=(Math.random()*c.x*u*2-c.x*u)*p,this._offsetY=(Math.random()*c.y*v*2-c.y*v)*p,this.camera.roundPixels&&(this._offsetX=Math.round(this._offsetX),this._offsetY=Math.round(this._offsetY))}else this.effectComplete()},effectComplete:function(){this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(f.SHAKE_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._offsetX=0,this._offsetY=0,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null,this.intensity=null}});r.exports=a},45641:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(62640),l=i(19715),a=new x({initialize:function(d){this.camera=d,this.isRunning=!1,this.duration=0,this.source=1,this.destination=1,this.ease,this.progress=0,this._elapsed=0,this._onUpdate,this._onUpdateScope},start:function(n,d,c,u,v,p){d===void 0&&(d=1e3),c===void 0&&(c=f.Linear),u===void 0&&(u=!1),v===void 0&&(v=null),p===void 0&&(p=this.camera.scene);var g=this.camera;return!u&&this.isRunning||(this.isRunning=!0,this.duration=d,this.progress=0,this.source=g.zoom,this.destination=n,typeof c=="string"&&f.hasOwnProperty(c)?this.ease=f[c]:typeof c=="function"&&(this.ease=c),this._elapsed=0,this._onUpdate=v,this._onUpdateScope=p,this.camera.emit(l.ZOOM_START,this.camera,this,d,n)),g},update:function(n,d){this.isRunning&&(this._elapsed+=d,this.progress=h(this._elapsed/this.duration,0,1),this._elapsed<this.duration?(this.camera.zoom=this.source+(this.destination-this.source)*this.ease(this.progress),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.camera.zoom)):(this.camera.zoom=this.destination,this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.camera,this.progress,this.destination),this.effectComplete()))},effectComplete:function(){this._onUpdate=null,this._onUpdateScope=null,this.isRunning=!1,this.camera.emit(l.ZOOM_COMPLETE,this.camera,this)},reset:function(){this.isRunning=!1,this._onUpdate=null,this._onUpdateScope=null},destroy:function(){this.reset(),this.camera=null}});r.exports=a},20052:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Fade:i(5020),Flash:i(10662),Pan:i(20359),Shake:i(30330),RotateTo:i(34208),Zoom:i(45641)}},16438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameradestroy"},32726:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeincomplete"},87807:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeinstart"},45917:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutcomplete"},95666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerafadeoutstart"},47056:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashcomplete"},91261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="cameraflashstart"},45047:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="followupdate"},81927:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapancomplete"},74264:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerapanstart"},54419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},79330:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},93183:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatecomplete"},80112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerarotatestart"},62252:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakecomplete"},86017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerashakestart"},539:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomcomplete"},51892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="camerazoomstart"},19715:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DESTROY:i(16438),FADE_IN_COMPLETE:i(32726),FADE_IN_START:i(87807),FADE_OUT_COMPLETE:i(45917),FADE_OUT_START:i(95666),FLASH_COMPLETE:i(47056),FLASH_START:i(91261),FOLLOW_UPDATE:i(45047),PAN_COMPLETE:i(81927),PAN_START:i(74264),POST_RENDER:i(54419),PRE_RENDER:i(79330),ROTATE_COMPLETE:i(93183),ROTATE_START:i(80112),SHAKE_COMPLETE:i(62252),SHAKE_START:i(86017),ZOOM_COMPLETE:i(539),ZOOM_START:i(51892)}},87969:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Camera:i(38058),BaseCamera:i(71911),CameraManager:i(32743),Effects:i(20052),Events:i(19715)}},63091:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(35154),f=new h({initialize:function(a){this.camera=x(a,"camera",null),this.left=x(a,"left",null),this.right=x(a,"right",null),this.up=x(a,"up",null),this.down=x(a,"down",null),this.zoomIn=x(a,"zoomIn",null),this.zoomOut=x(a,"zoomOut",null),this.zoomSpeed=x(a,"zoomSpeed",.01),this.minZoom=x(a,"minZoom",.001),this.maxZoom=x(a,"maxZoom",1e3),this.speedX=0,this.speedY=0;var n=x(a,"speed",null);typeof n=="number"?(this.speedX=n,this.speedY=n):(this.speedX=x(a,"speed.x",0),this.speedY=x(a,"speed.y",0)),this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var a=this.camera;this.up&&this.up.isDown?a.scrollY-=this.speedY*l|0:this.down&&this.down.isDown&&(a.scrollY+=this.speedY*l|0),this.left&&this.left.isDown?a.scrollX-=this.speedX*l|0:this.right&&this.right.isDown&&(a.scrollX+=this.speedX*l|0),this.zoomIn&&this.zoomIn.isDown?(a.zoom-=this.zoomSpeed,a.zoom<this.minZoom&&(a.zoom=this.minZoom)):this.zoomOut&&this.zoomOut.isDown&&(a.zoom+=this.zoomSpeed,a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},58818:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(35154),f=new h({initialize:function(a){this.camera=x(a,"camera",null),this.left=x(a,"left",null),this.right=x(a,"right",null),this.up=x(a,"up",null),this.down=x(a,"down",null),this.zoomIn=x(a,"zoomIn",null),this.zoomOut=x(a,"zoomOut",null),this.zoomSpeed=x(a,"zoomSpeed",.01),this.minZoom=x(a,"minZoom",.001),this.maxZoom=x(a,"maxZoom",1e3),this.accelX=0,this.accelY=0;var n=x(a,"acceleration",null);typeof n=="number"?(this.accelX=n,this.accelY=n):(this.accelX=x(a,"acceleration.x",0),this.accelY=x(a,"acceleration.y",0)),this.dragX=0,this.dragY=0;var d=x(a,"drag",null);typeof d=="number"?(this.dragX=d,this.dragY=d):(this.dragX=x(a,"drag.x",0),this.dragY=x(a,"drag.y",0)),this.maxSpeedX=0,this.maxSpeedY=0;var c=x(a,"maxSpeed",null);typeof c=="number"?(this.maxSpeedX=c,this.maxSpeedY=c):(this.maxSpeedX=x(a,"maxSpeed.x",0),this.maxSpeedY=x(a,"maxSpeed.y",0)),this._speedX=0,this._speedY=0,this._zoom=0,this.active=this.camera!==null},start:function(){return this.active=this.camera!==null,this},stop:function(){return this.active=!1,this},setCamera:function(l){return this.camera=l,this},update:function(l){if(this.active){l===void 0&&(l=1);var a=this.camera;this._speedX>0?(this._speedX-=this.dragX*l,this._speedX<0&&(this._speedX=0)):this._speedX<0&&(this._speedX+=this.dragX*l,this._speedX>0&&(this._speedX=0)),this._speedY>0?(this._speedY-=this.dragY*l,this._speedY<0&&(this._speedY=0)):this._speedY<0&&(this._speedY+=this.dragY*l,this._speedY>0&&(this._speedY=0)),this.up&&this.up.isDown?(this._speedY+=this.accelY,this._speedY>this.maxSpeedY&&(this._speedY=this.maxSpeedY)):this.down&&this.down.isDown&&(this._speedY-=this.accelY,this._speedY<-this.maxSpeedY&&(this._speedY=-this.maxSpeedY)),this.left&&this.left.isDown?(this._speedX+=this.accelX,this._speedX>this.maxSpeedX&&(this._speedX=this.maxSpeedX)):this.right&&this.right.isDown&&(this._speedX-=this.accelX,this._speedX<-this.maxSpeedX&&(this._speedX=-this.maxSpeedX)),this.zoomIn&&this.zoomIn.isDown?this._zoom=-this.zoomSpeed:this.zoomOut&&this.zoomOut.isDown?this._zoom=this.zoomSpeed:this._zoom=0,this._speedX!==0&&(a.scrollX-=this._speedX*l|0),this._speedY!==0&&(a.scrollY-=this._speedY*l|0),this._zoom!==0&&(a.zoom+=this._zoom,a.zoom<this.minZoom?a.zoom=this.minZoom:a.zoom>this.maxZoom&&(a.zoom=this.maxZoom))}},destroy:function(){this.camera=null,this.left=null,this.right=null,this.up=null,this.down=null,this.zoomIn=null,this.zoomOut=null}});r.exports=f},38865:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FixedKeyControl:i(63091),SmoothedKeyControl:i(58818)}},26638:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Controls:i(38865),Scene2D:i(87969)}},8054:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={VERSION:"3.88.2",LOG_VERSION:"v388",BlendModes:i(10312),ScaleModes:i(29795),AUTO:0,CANVAS:1,WEBGL:2,HEADLESS:3,FOREVER:-1,NONE:4,UP:5,DOWN:6,LEFT:7,RIGHT:8};r.exports=h},69547:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(8054),f=i(42363),l=i(82264),a=i(95540),n=i(35154),d=i(41212),c=i(29747),u=i(75508),v=i(36060),p=i(80333),g=new h({initialize:function(T){T===void 0&&(T={});var P=["#ff0000","#ffff00","#00ff00","#00ffff","#000000"],E="#ffffff",M=n(T,"scale",null);this.width=n(M,"width",1024,T),this.height=n(M,"height",768,T),this.zoom=n(M,"zoom",1,T),this.parent=n(M,"parent",void 0,T),this.scaleMode=n(M,M?"mode":"scaleMode",0,T),this.expandParent=n(M,"expandParent",!0,T),this.autoRound=n(M,"autoRound",!1,T),this.autoCenter=n(M,"autoCenter",0,T),this.resizeInterval=n(M,"resizeInterval",500,T),this.fullscreenTarget=n(M,"fullscreenTarget",null,T),this.minWidth=n(M,"min.width",0,T),this.maxWidth=n(M,"max.width",0,T),this.minHeight=n(M,"min.height",0,T),this.maxHeight=n(M,"max.height",0,T),this.snapWidth=n(M,"snap.width",0,T),this.snapHeight=n(M,"snap.height",0,T),this.renderType=n(T,"type",x.AUTO),this.canvas=n(T,"canvas",null),this.context=n(T,"context",null),this.canvasStyle=n(T,"canvasStyle",null),this.customEnvironment=n(T,"customEnvironment",!1),this.sceneConfig=n(T,"scene",null),this.seed=n(T,"seed",[(Date.now()*Math.random()).toString()]),u.RND=new u.RandomDataGenerator(this.seed),this.gameTitle=n(T,"title",""),this.gameURL=n(T,"url","https://phaser.io/"+x.LOG_VERSION),this.gameVersion=n(T,"version",""),this.autoFocus=n(T,"autoFocus",!0),this.stableSort=n(T,"stableSort",-1),this.stableSort===-1&&(this.stableSort=l.browser.es2019?1:0),l.features.stableSort=this.stableSort,this.domCreateContainer=n(T,"dom.createContainer",!1),this.domPointerEvents=n(T,"dom.pointerEvents","none"),this.inputKeyboard=n(T,"input.keyboard",!0),this.inputKeyboardEventTarget=n(T,"input.keyboard.target",window),this.inputKeyboardCapture=n(T,"input.keyboard.capture",[]),this.inputMouse=n(T,"input.mouse",!0),this.inputMouseEventTarget=n(T,"input.mouse.target",null),this.inputMousePreventDefaultDown=n(T,"input.mouse.preventDefaultDown",!0),this.inputMousePreventDefaultUp=n(T,"input.mouse.preventDefaultUp",!0),this.inputMousePreventDefaultMove=n(T,"input.mouse.preventDefaultMove",!0),this.inputMousePreventDefaultWheel=n(T,"input.mouse.preventDefaultWheel",!0),this.inputTouch=n(T,"input.touch",l.input.touch),this.inputTouchEventTarget=n(T,"input.touch.target",null),this.inputTouchCapture=n(T,"input.touch.capture",!0),this.inputActivePointers=n(T,"input.activePointers",1),this.inputSmoothFactor=n(T,"input.smoothFactor",0),this.inputWindowEvents=n(T,"input.windowEvents",!0),this.inputGamepad=n(T,"input.gamepad",!1),this.inputGamepadEventTarget=n(T,"input.gamepad.target",window),this.disableContextMenu=n(T,"disableContextMenu",!1),this.audio=n(T,"audio",{}),this.hideBanner=n(T,"banner",null)===!1,this.hidePhaser=n(T,"banner.hidePhaser",!1),this.bannerTextColor=n(T,"banner.text",E),this.bannerBackgroundColor=n(T,"banner.background",P),this.gameTitle===""&&this.hidePhaser&&(this.hideBanner=!0),this.fps=n(T,"fps",null),this.disablePreFX=n(T,"disablePreFX",!1),this.disablePostFX=n(T,"disablePostFX",!1);var w=n(T,"render",null);this.pipeline=n(w,"pipeline",null,T),this.autoMobilePipeline=n(w,"autoMobilePipeline",!0,T),this.defaultPipeline=n(w,"defaultPipeline",v.MULTI_PIPELINE,T),this.antialias=n(w,"antialias",!0,T),this.antialiasGL=n(w,"antialiasGL",!0,T),this.mipmapFilter=n(w,"mipmapFilter","",T),this.desynchronized=n(w,"desynchronized",!1,T),this.roundPixels=n(w,"roundPixels",!1,T),this.pixelArt=n(w,"pixelArt",this.zoom!==1,T),this.pixelArt&&(this.antialias=!1,this.antialiasGL=!1,this.roundPixels=!0),this.transparent=n(w,"transparent",!1,T),this.clearBeforeRender=n(w,"clearBeforeRender",!0,T),this.preserveDrawingBuffer=n(w,"preserveDrawingBuffer",!1,T),this.premultipliedAlpha=n(w,"premultipliedAlpha",!0,T),this.failIfMajorPerformanceCaveat=n(w,"failIfMajorPerformanceCaveat",!1,T),this.powerPreference=n(w,"powerPreference","default",T),this.batchSize=n(w,"batchSize",4096,T),this.maxTextures=n(w,"maxTextures",-1,T),this.maxLights=n(w,"maxLights",10,T);var R=n(T,"backgroundColor",0);this.backgroundColor=p(R),this.transparent&&(this.backgroundColor=p(0),this.backgroundColor.alpha=0),this.preBoot=n(T,"callbacks.preBoot",c),this.postBoot=n(T,"callbacks.postBoot",c),this.physics=n(T,"physics",{}),this.defaultPhysicsSystem=n(this.physics,"default",!1),this.loaderBaseURL=n(T,"loader.baseURL",""),this.loaderPath=n(T,"loader.path",""),this.loaderMaxParallelDownloads=n(T,"loader.maxParallelDownloads",l.os.android?6:32),this.loaderCrossOrigin=n(T,"loader.crossOrigin",void 0),this.loaderResponseType=n(T,"loader.responseType",""),this.loaderAsync=n(T,"loader.async",!0),this.loaderUser=n(T,"loader.user",""),this.loaderPassword=n(T,"loader.password",""),this.loaderTimeout=n(T,"loader.timeout",0),this.loaderMaxRetries=n(T,"loader.maxRetries",2),this.loaderWithCredentials=n(T,"loader.withCredentials",!1),this.loaderImageLoadType=n(T,"loader.imageLoadType","XHR"),this.loaderLocalScheme=n(T,"loader.localScheme",["file://","capacitor://"]),this.glowFXQuality=n(T,"fx.glow.quality",.1),this.glowFXDistance=n(T,"fx.glow.distance",10),this.installGlobalPlugins=[],this.installScenePlugins=[];var A=n(T,"plugins",null),O=f.DefaultScene;A&&(Array.isArray(A)?this.defaultPlugins=A:d(A)&&(this.installGlobalPlugins=a(A,"global",[]),this.installScenePlugins=a(A,"scene",[]),Array.isArray(A.default)?O=A.default:Array.isArray(A.defaultMerge)&&(O=O.concat(A.defaultMerge)))),this.defaultPlugins=O;var F="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAg";this.defaultImage=n(T,"images.default",F+"AQMAAABJtOi3AAAAA1BMVEX///+nxBvIAAAAAXRSTlMAQObYZgAAABVJREFUeF7NwIEAAAAAgKD9qdeocAMAoAABm3DkcAAAAABJRU5ErkJggg=="),this.missingImage=n(T,"images.missing",F+"CAIAAAD8GO2jAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJ9JREFUeNq01ssOwyAMRFG46v//Mt1ESmgh+DFmE2GPOBARKb2NVjo+17PXLD8a1+pl5+A+wSgFygymWYHBb0FtsKhJDdZlncG2IzJ4ayoMDv20wTmSMzClEgbWYNTAkQ0Z+OJ+A/eWnAaR9+oxCF4Os0H8htsMUp+pwcgBBiMNnAwF8GqIgL2hAzaGFFgZauDPKABmowZ4GL369/0rwACp2yA/ttmvsQAAAABJRU5ErkJggg=="),this.whiteImage=n(T,"images.white","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAECAIAAAAmkwkpAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAABdJREFUeNpi/P//PwMMMDEgAdwcgAADAJZuAwXJYZOzAAAAAElFTkSuQmCC"),window&&(window.FORCE_WEBGL?this.renderType=x.WEBGL:window.FORCE_CANVAS&&(this.renderType=x.CANVAS))}});r.exports=g},86054:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20623),x=i(27919),f=i(8054),l=i(89357),a=function(n){var d=n.config;if((d.customEnvironment||d.canvas)&&d.renderType===f.AUTO)throw new Error("Must set explicit renderType in custom environment");if(!d.customEnvironment&&!d.canvas&&d.renderType!==f.HEADLESS)if(d.renderType===f.AUTO&&(d.renderType=l.webGL?f.WEBGL:f.CANVAS),d.renderType===f.WEBGL){if(!l.webGL)throw new Error("Cannot create WebGL context, aborting.")}else if(d.renderType===f.CANVAS){if(!l.canvas)throw new Error("Cannot create Canvas context, aborting.")}else throw new Error("Unknown value for renderer type: "+d.renderType);d.antialias||x.disableSmoothing();var c=n.scale.baseSize,u=c.width,v=c.height;if(d.canvas?(n.canvas=d.canvas,n.canvas.width=u,n.canvas.height=v):n.canvas=x.create(n,u,v,d.renderType),d.canvasStyle&&(n.canvas.style=d.canvasStyle),d.antialias||h.setCrisp(n.canvas),d.renderType!==f.HEADLESS){var p,g;p=i(68627),g=i(74797),d.renderType===f.WEBGL?n.renderer=new g(n):(n.renderer=new p(n),n.context=n.renderer.gameContext)}};r.exports=a},96391:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8054),x=function(f){var l=f.config;if(!l.hideBanner){var a="WebGL";l.renderType===h.CANVAS?a="Canvas":l.renderType===h.HEADLESS&&(a="Headless");var n=l.audio,d=f.device.audio,c;if(d.webAudio&&!n.disableWebAudio?c="Web Audio":n.noAudio||!d.webAudio&&!d.audioData?c="No Audio":c="HTML5 Audio",f.device.browser.ie)window.console&&console.log("Phaser v"+h.VERSION+" / https://phaser.io");else{var u="",v=[u];if(Array.isArray(l.bannerBackgroundColor)){var p;l.bannerBackgroundColor.forEach(function(m){u=u.concat("%c "),v.push("background: "+m),p=m}),v[v.length-1]="color: "+l.bannerTextColor+"; background: "+p}else u=u.concat("%c "),v.push("color: "+l.bannerTextColor+"; background: "+l.bannerBackgroundColor);v.push("background: transparent"),l.gameTitle&&(u=u.concat(l.gameTitle),l.gameVersion&&(u=u.concat(" v"+l.gameVersion)),l.hidePhaser||(u=u.concat(" / ")));var g="";l.hidePhaser||(u=u.concat("Phaser v"+h.VERSION+g+" ("+a+" | "+c+")")),u=u.concat(" %c "+l.gameURL),v[0]=u,console.log.apply(console,v)}}};r.exports=x},50127:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40366),x=i(60848),f=i(24047),l=i(27919),a=i(83419),n=i(69547),d=i(83719),c=i(86054),u=i(45893),v=i(96391),p=i(82264),g=i(57264),m=i(50792),T=i(8443),P=i(7003),E=i(37277),M=i(77332),w=i(76531),R=i(60903),A=i(69442),O=i(17130),F=i(65898),L=i(51085),b=i(14747),D=new a({initialize:function(k){this.config=new n(k),this.renderer=null,this.domContainer=null,this.canvas=null,this.context=null,this.isBooted=!1,this.isRunning=!1,this.events=new m,this.anims=new x(this),this.textures=new O(this),this.cache=new f(this),this.registry=new u(this,new m),this.input=new P(this,this.config),this.scene=new R(this,this.config.sceneConfig),this.device=p,this.scale=new w(this,this.config),this.sound=null,this.sound=b.create(this),this.loop=new F(this,this.config.fps),this.plugins=new M(this,this.config),this.pendingDestroy=!1,this.removeCanvas=!1,this.noReturn=!1,this.hasFocus=!1,this.isPaused=!1,g(this.boot.bind(this))},boot:function(){if(!E.hasCore("EventEmitter")){console.warn("Aborting. Core Plugins missing.");return}this.isBooted=!0,this.config.preBoot(this),this.scale.preBoot(),c(this),d(this),v(this),h(this.canvas,this.config.parent),this.textures.once(A.READY,this.texturesReady,this),this.events.emit(T.BOOT)},texturesReady:function(){this.events.emit(T.READY),this.start()},start:function(){this.isRunning=!0,this.config.postBoot(this),this.renderer?this.loop.start(this.step.bind(this)):this.loop.start(this.headlessStep.bind(this)),L(this);var I=this.events;I.on(T.HIDDEN,this.onHidden,this),I.on(T.VISIBLE,this.onVisible,this),I.on(T.BLUR,this.onBlur,this),I.on(T.FOCUS,this.onFocus,this)},step:function(I,k){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(T.PRE_STEP,I,k),X.emit(T.STEP,I,k),this.scene.update(I,k),X.emit(T.POST_STEP,I,k);var W=this.renderer;W.preRender(),X.emit(T.PRE_RENDER,W,I,k),this.scene.render(W),W.postRender(),X.emit(T.POST_RENDER,W,I,k)}},headlessStep:function(I,k){if(this.pendingDestroy)return this.runDestroy();if(!this.isPaused){var X=this.events;X.emit(T.PRE_STEP,I,k),X.emit(T.STEP,I,k),this.scene.update(I,k),X.emit(T.POST_STEP,I,k),this.scene.isProcessing=!1,X.emit(T.PRE_RENDER,null,I,k),X.emit(T.POST_RENDER,null,I,k)}},onHidden:function(){this.loop.pause(),this.events.emit(T.PAUSE)},pause:function(){var I=this.isPaused;this.isPaused=!0,I||this.events.emit(T.PAUSE)},onVisible:function(){this.loop.resume(),this.events.emit(T.RESUME,this.loop.pauseDuration)},resume:function(){var I=this.isPaused;this.isPaused=!1,I&&this.events.emit(T.RESUME,0)},onBlur:function(){this.hasFocus=!1,this.loop.blur()},onFocus:function(){this.hasFocus=!0,this.loop.focus()},getFrame:function(){return this.loop.frame},getTime:function(){return this.loop.now},destroy:function(I,k){k===void 0&&(k=!1),this.pendingDestroy=!0,this.removeCanvas=I,this.noReturn=k},runDestroy:function(){this.scene.destroy(),this.events.emit(T.DESTROY),this.events.removeAllListeners(),this.renderer&&this.renderer.destroy(),this.removeCanvas&&this.canvas&&(l.remove(this.canvas),this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)),this.domContainer&&this.domContainer.parentNode&&this.domContainer.parentNode.removeChild(this.domContainer),this.loop.destroy(),this.pendingDestroy=!1}});r.exports=D},65898:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(35154),f=i(29747),l=i(43092),a=new h({initialize:function(d,c){this.game=d,this.raf=new l,this.started=!1,this.running=!1,this.minFps=x(c,"min",5),this.targetFps=x(c,"target",60),this.fpsLimit=x(c,"limit",0),this.hasFpsLimit=this.fpsLimit>0,this._limitRate=this.hasFpsLimit?1e3/this.fpsLimit:0,this._min=1e3/this.minFps,this._target=1e3/this.targetFps,this.actualFps=this.targetFps,this.nextFpsUpdate=0,this.framesThisSecond=0,this.callback=f,this.forceSetTimeOut=x(c,"forceSetTimeOut",!1),this.time=0,this.startTime=0,this.lastTime=0,this.frame=0,this.inFocus=!0,this.pauseDuration=0,this._pauseTime=0,this._coolDown=0,this.delta=0,this.deltaIndex=0,this.deltaHistory=[],this.deltaSmoothingMax=x(c,"deltaHistory",10),this.panicMax=x(c,"panicMax",120),this.rawDelta=0,this.now=0,this.smoothStep=x(c,"smoothStep",!0)},blur:function(){this.inFocus=!1},focus:function(){this.inFocus=!0,this.resetDelta()},pause:function(){this._pauseTime=window.performance.now()},resume:function(){this.resetDelta(),this.pauseDuration=this.time-this._pauseTime,this.startTime+=this.pauseDuration},resetDelta:function(){var n=window.performance.now();this.time=n,this.lastTime=n,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=Math.min(this._target,this.deltaHistory[d]);this.delta=0,this.deltaIndex=0,this._coolDown=this.panicMax},start:function(n){if(this.started)return this;this.started=!0,this.running=!0;for(var d=0;d<this.deltaSmoothingMax;d++)this.deltaHistory[d]=this._target;this.resetDelta(),this.startTime=window.performance.now(),this.callback=n;var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target)},smoothDelta:function(n){var d=this.deltaIndex,c=this.deltaHistory,u=this.deltaSmoothingMax;(this._coolDown>0||!this.inFocus)&&(this._coolDown--,n=Math.min(n,this._target)),n>this._min&&(n=c[d],n=Math.min(n,this._min)),c[d]=n,this.deltaIndex++,this.deltaIndex>=u&&(this.deltaIndex=0);for(var v=0,p=0;p<u;p++)v+=c[p];return v/=u,v},updateFPS:function(n){this.actualFps=.25*this.framesThisSecond+.75*this.actualFps,this.nextFpsUpdate=n+1e3,this.framesThisSecond=0},stepLimitFPS:function(n){this.now=n;var d=Math.max(0,n-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta+=d,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.delta>=this._limitRate&&(this.callback(n,this.delta),this.delta=0),this.lastTime=n,this.frame++},step:function(n){this.now=n;var d=Math.max(0,n-this.lastTime);this.rawDelta=d,this.time+=this.rawDelta,this.smoothStep&&(d=this.smoothDelta(d)),this.delta=d,n>=this.nextFpsUpdate&&this.updateFPS(n),this.framesThisSecond++,this.callback(n,d),this.lastTime=n,this.frame++},tick:function(){var n=window.performance.now();this.hasFpsLimit?this.stepLimitFPS(n):this.step(n)},sleep:function(){this.running&&(this.raf.stop(),this.running=!1)},wake:function(n){n===void 0&&(n=!1);var d=window.performance.now();if(!this.running){n&&(this.startTime+=-this.lastTime+(this.lastTime+d));var c=this.hasFpsLimit?this.stepLimitFPS.bind(this):this.step.bind(this);this.raf.start(c,this.forceSetTimeOut,this._target),this.running=!0,this.nextFpsUpdate=d+1e3,this.framesThisSecond=0,this.fpsLimitTriggered=!1,this.tick()}},getDuration:function(){return Math.round(this.lastTime-this.startTime)/1e3},getDurationMS:function(){return Math.round(this.lastTime-this.startTime)},stop:function(){return this.running=!1,this.started=!1,this.raf.stop(),this},destroy:function(){this.stop(),this.raf.destroy(),this.raf=null,this.game=null,this.callback=null}});r.exports=a},51085:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8443),x=function(f){var l,a=f.events;if(document.hidden!==void 0)l="visibilitychange";else{var n=["webkit","moz","ms"];n.forEach(function(c){document[c+"Hidden"]!==void 0&&(document.hidden=function(){return document[c+"Hidden"]},l=c+"visibilitychange")})}var d=function(c){document.hidden||c.type==="pause"?a.emit(h.HIDDEN):a.emit(h.VISIBLE)};l&&document.addEventListener(l,d,!1),window.onblur=function(){a.emit(h.BLUR)},window.onfocus=function(){a.emit(h.FOCUS)},window.focus&&f.config.autoFocus&&window.focus()};r.exports=x},97217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="blur"},47548:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},19814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="contextlost"},68446:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},41700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="focus"},25432:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="hidden"},65942:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},59211:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},47789:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="poststep"},39066:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},460:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prestep"},16175:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},42331:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},11966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="step"},32969:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="systemready"},94830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="visible"},8443:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BLUR:i(97217),BOOT:i(47548),CONTEXT_LOST:i(19814),DESTROY:i(68446),FOCUS:i(41700),HIDDEN:i(25432),PAUSE:i(65942),POST_RENDER:i(59211),POST_STEP:i(47789),PRE_RENDER:i(39066),PRE_STEP:i(460),READY:i(16175),RESUME:i(42331),STEP:i(11966),SYSTEM_READY:i(32969),VISIBLE:i(94830)}},42857:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Config:i(69547),CreateRenderer:i(86054),DebugHeader:i(96391),Events:i(8443),TimeStep:i(65898),VisibilityHandler:i(51085)}},99584:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(5290),x=i(27919),f=i(35154),l=function(a){var n=f(a,"data",[]),d=f(a,"canvas",null),c=f(a,"palette",h),u=f(a,"pixelWidth",1),v=f(a,"pixelHeight",u),p=f(a,"resizeCanvas",!0),g=f(a,"clearCanvas",!0),m=f(a,"preRender",null),T=f(a,"postRender",null),P=Math.floor(Math.abs(n[0].length*u)),E=Math.floor(Math.abs(n.length*v));d||(d=x.create2D(this,P,E),p=!1,g=!1),p&&(d.width=P,d.height=E);var M=d.getContext("2d",{willReadFrequently:!0});g&&M.clearRect(0,0,P,E),m&&m(d,M);for(var w=0;w<n.length;w++)for(var R=n[w],A=0;A<R.length;A++){var O=R[A];O!=="."&&O!==" "&&(M.fillStyle=c[O],M.fillRect(A*u,w*v,u,v))}return T&&T(d,M),d};r.exports=l},15822:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GenerateTexture:i(99584),Palettes:i(57763)}},5290:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#9D9D9D",2:"#FFF",3:"#BE2633",4:"#E06F8B",5:"#493C2B",6:"#A46422",7:"#EB8931",8:"#F7E26B",9:"#2F484E",A:"#44891A",B:"#A3CE27",C:"#1B2632",D:"#005784",E:"#31A2F2",F:"#B2DCEF"}},23816:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#fff",2:"#8b4131",3:"#7bbdc5",4:"#8b41ac",5:"#6aac41",6:"#3931a4",7:"#d5de73",8:"#945a20",9:"#5a4100",A:"#bd736a",B:"#525252",C:"#838383",D:"#acee8b",E:"#7b73de",F:"#acacac"}},9866:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#2234d1",2:"#0c7e45",3:"#44aacc",4:"#8a3622",5:"#5c2e78",6:"#aa5c3d",7:"#b5b5b5",8:"#5e606e",9:"#4c81fb",A:"#6cd947",B:"#7be2f9",C:"#eb8a60",D:"#e23d69",E:"#ffd93f",F:"#fff"}},77552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#f5f4eb"}},92259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={0:"#000",1:"#191028",2:"#46af45",3:"#a1d685",4:"#453e78",5:"#7664fe",6:"#833129",7:"#9ec2e8",8:"#dc534b",9:"#e18d79",A:"#d6b97b",B:"#e9d8a1",C:"#216c4b",D:"#d365c8",E:"#afaab9",F:"#fff"}},57763:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARNE16:i(5290),C64:i(23816),CGA:i(9866),JMP:i(77552),MSX:i(92259)}},46728:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(36316),f=i(80021),l=i(26099),a=new h({Extends:f,initialize:function(d,c,u,v){f.call(this,"CubicBezierCurve"),Array.isArray(d)&&(v=new l(d[6],d[7]),u=new l(d[4],d[5]),c=new l(d[2],d[3]),d=new l(d[0],d[1])),this.p0=d,this.p1=c,this.p2=u,this.p3=v},getStartPoint:function(n){return n===void 0&&(n=new l),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,d){d===void 0&&(d=new l);var c=this.p0,u=this.p1,v=this.p2,p=this.p3;return d.set(x(n,c.x,u.x,v.x,p.x),x(n,c.y,u.y,v.y,p.y))},draw:function(n,d){d===void 0&&(d=32);var c=this.getPoints(d);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)n.lineTo(c[u].x,c[u].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y,this.p3.x,this.p3.y]}}});a.fromJSON=function(n){var d=n.points,c=new l(d[0],d[1]),u=new l(d[2],d[3]),v=new l(d[4],d[5]),p=new l(d[6],d[7]);return new a(c,u,v,p)},r.exports=a},80021:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(19217),f=i(87841),l=i(26099),a=new h({initialize:function(d){this.type=d,this.defaultDivisions=5,this.arcLengthDivisions=100,this.cacheArcLengths=[],this.needsUpdate=!0,this.active=!0,this._tmpVec2A=new l,this._tmpVec2B=new l},draw:function(n,d){return d===void 0&&(d=32),n.strokePoints(this.getPoints(d))},getBounds:function(n,d){n||(n=new f),d===void 0&&(d=16);var c=this.getLength();d>c&&(d=c/2);var u=Math.max(1,Math.round(c/d));return x(this.getSpacedPoints(u),n)},getDistancePoints:function(n){var d=this.getLength(),c=Math.max(1,d/n);return this.getSpacedPoints(c)},getEndPoint:function(n){return n===void 0&&(n=new l),this.getPointAt(1,n)},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(n===void 0&&(n=this.arcLengthDivisions),this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var d=[],c,u=this.getPoint(0,this._tmpVec2A),v=0;d.push(0);for(var p=1;p<=n;p++)c=this.getPoint(p/n,this._tmpVec2B),v+=c.distance(u),d.push(v),u.copy(c);return this.cacheArcLengths=d,d},getPointAt:function(n,d){var c=this.getUtoTmapping(n);return this.getPoint(c,d)},getPoints:function(n,d,c){c===void 0&&(c=[]),n||(d?n=this.getLength()/d:n=this.defaultDivisions);for(var u=0;u<=n;u++)c.push(this.getPoint(u/n));return c},getRandomPoint:function(n){return n===void 0&&(n=new l),this.getPoint(Math.random(),n)},getSpacedPoints:function(n,d,c){c===void 0&&(c=[]),n||(d?n=this.getLength()/d:n=this.defaultDivisions);for(var u=0;u<=n;u++){var v=this.getUtoTmapping(u/n,null,n);c.push(this.getPoint(v))}return c},getStartPoint:function(n){return n===void 0&&(n=new l),this.getPointAt(0,n)},getTangent:function(n,d){d===void 0&&(d=new l);var c=1e-4,u=n-c,v=n+c;return u<0&&(u=0),v>1&&(v=1),this.getPoint(u,this._tmpVec2A),this.getPoint(v,d),d.subtract(this._tmpVec2A).normalize()},getTangentAt:function(n,d){var c=this.getUtoTmapping(n);return this.getTangent(c,d)},getTFromDistance:function(n,d){return n<=0?0:this.getUtoTmapping(0,n,d)},getUtoTmapping:function(n,d,c){var u=this.getLengths(c),v=0,p=u.length,g;d?g=Math.min(d,u[p-1]):g=n*u[p-1];for(var m=0,T=p-1,P;m<=T;)if(v=Math.floor(m+(T-m)/2),P=u[v]-g,P<0)m=v+1;else if(P>0)T=v-1;else{T=v;break}if(v=T,u[v]===g)return v/(p-1);var E=u[v],M=u[v+1],w=M-E,R=(g-E)/w;return(v+R)/(p-1)},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()}});r.exports=a},73825:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(80021),f=i(39506),l=i(35154),a=i(43396),n=i(26099),d=new h({Extends:x,initialize:function(u,v,p,g,m,T,P,E){if(typeof u=="object"){var M=u;u=l(M,"x",0),v=l(M,"y",0),p=l(M,"xRadius",0),g=l(M,"yRadius",p),m=l(M,"startAngle",0),T=l(M,"endAngle",360),P=l(M,"clockwise",!1),E=l(M,"rotation",0)}else g===void 0&&(g=p),m===void 0&&(m=0),T===void 0&&(T=360),P===void 0&&(P=!1),E===void 0&&(E=0);x.call(this,"EllipseCurve"),this.p0=new n(u,v),this._xRadius=p,this._yRadius=g,this._startAngle=f(m),this._endAngle=f(T),this._clockwise=P,this._rotation=f(E)},getStartPoint:function(c){return c===void 0&&(c=new n),this.getPoint(0,c)},getResolution:function(c){return c*2},getPoint:function(c,u){u===void 0&&(u=new n);for(var v=Math.PI*2,p=this._endAngle-this._startAngle,g=Math.abs(p)<Number.EPSILON;p<0;)p+=v;for(;p>v;)p-=v;p<Number.EPSILON&&(g?p=0:p=v),this._clockwise&&!g&&(p===v?p=-v:p=p-v);var m=this._startAngle+c*p,T=this.p0.x+this._xRadius*Math.cos(m),P=this.p0.y+this._yRadius*Math.sin(m);if(this._rotation!==0){var E=Math.cos(this._rotation),M=Math.sin(this._rotation),w=T-this.p0.x,R=P-this.p0.y;T=w*E-R*M+this.p0.x,P=w*M+R*E+this.p0.y}return u.set(T,P)},setXRadius:function(c){return this.xRadius=c,this},setYRadius:function(c){return this.yRadius=c,this},setWidth:function(c){return this.xRadius=c/2,this},setHeight:function(c){return this.yRadius=c/2,this},setStartAngle:function(c){return this.startAngle=c,this},setEndAngle:function(c){return this.endAngle=c,this},setClockwise:function(c){return this.clockwise=c,this},setRotation:function(c){return this.rotation=c,this},x:{get:function(){return this.p0.x},set:function(c){this.p0.x=c}},y:{get:function(){return this.p0.y},set:function(c){this.p0.y=c}},xRadius:{get:function(){return this._xRadius},set:function(c){this._xRadius=c}},yRadius:{get:function(){return this._yRadius},set:function(c){this._yRadius=c}},startAngle:{get:function(){return a(this._startAngle)},set:function(c){this._startAngle=f(c)}},endAngle:{get:function(){return a(this._endAngle)},set:function(c){this._endAngle=f(c)}},clockwise:{get:function(){return this._clockwise},set:function(c){this._clockwise=c}},angle:{get:function(){return a(this._rotation)},set:function(c){this._rotation=f(c)}},rotation:{get:function(){return this._rotation},set:function(c){this._rotation=c}},toJSON:function(){return{type:this.type,x:this.p0.x,y:this.p0.y,xRadius:this._xRadius,yRadius:this._yRadius,startAngle:a(this._startAngle),endAngle:a(this._endAngle),clockwise:this._clockwise,rotation:a(this._rotation)}}});d.fromJSON=function(c){return new d(c)},r.exports=d},33951:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(80021),f=i(19217),l=i(87841),a=i(26099),n=new h({Extends:x,initialize:function(c,u){x.call(this,"LineCurve"),Array.isArray(c)&&(u=new a(c[2],c[3]),c=new a(c[0],c[1])),this.p0=c,this.p1=u,this.arcLengthDivisions=1},getBounds:function(d){return d===void 0&&(d=new l),f([this.p0,this.p1],d)},getStartPoint:function(d){return d===void 0&&(d=new a),d.copy(this.p0)},getResolution:function(d){return d===void 0&&(d=1),d},getPoint:function(d,c){return c===void 0&&(c=new a),d===1?c.copy(this.p1):(c.copy(this.p1).subtract(this.p0).scale(d).add(this.p0),c)},getPointAt:function(d,c){return this.getPoint(d,c)},getTangent:function(d,c){return c===void 0&&(c=new a),c.copy(this.p1).subtract(this.p0).normalize(),c},getUtoTmapping:function(d,c,u){var v;if(c){var p=this.getLengths(u),g=p[p.length-1],m=Math.min(c,g);v=m/g}else v=d;return v},draw:function(d){return d.lineBetween(this.p0.x,this.p0.y,this.p1.x,this.p1.y),d},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y]}}});n.fromJSON=function(d){var c=d.points,u=new a(c[0],c[1]),v=new a(c[2],c[3]);return new n(u,v)},r.exports=n},14744:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(80021),f=i(32112),l=i(26099),a=new h({Extends:x,initialize:function(d,c,u){x.call(this,"QuadraticBezierCurve"),Array.isArray(d)&&(u=new l(d[4],d[5]),c=new l(d[2],d[3]),d=new l(d[0],d[1])),this.p0=d,this.p1=c,this.p2=u},getStartPoint:function(n){return n===void 0&&(n=new l),n.copy(this.p0)},getResolution:function(n){return n},getPoint:function(n,d){d===void 0&&(d=new l);var c=this.p0,u=this.p1,v=this.p2;return d.set(f(n,c.x,u.x,v.x),f(n,c.y,u.y,v.y))},draw:function(n,d){d===void 0&&(d=32);var c=this.getPoints(d);n.beginPath(),n.moveTo(this.p0.x,this.p0.y);for(var u=1;u<c.length;u++)n.lineTo(c[u].x,c[u].y);return n.strokePath(),n},toJSON:function(){return{type:this.type,points:[this.p0.x,this.p0.y,this.p1.x,this.p1.y,this.p2.x,this.p2.y]}}});a.fromJSON=function(n){var d=n.points,c=new l(d[0],d[1]),u=new l(d[2],d[3]),v=new l(d[4],d[5]);return new a(c,u,v)},r.exports=a},42534:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87842),x=i(83419),f=i(80021),l=i(26099),a=new x({Extends:f,initialize:function(d){d===void 0&&(d=[]),f.call(this,"SplineCurve"),this.points=[],this.addPoints(d)},addPoints:function(n){for(var d=0;d<n.length;d++){var c=new l;typeof n[d]=="number"?(c.x=n[d],c.y=n[d+1],d++):Array.isArray(n[d])?(c.x=n[d][0],c.y=n[d][1]):(c.x=n[d].x,c.y=n[d].y),this.points.push(c)}return this},addPoint:function(n,d){var c=new l(n,d);return this.points.push(c),c},getStartPoint:function(n){return n===void 0&&(n=new l),n.copy(this.points[0])},getResolution:function(n){return n*this.points.length},getPoint:function(n,d){d===void 0&&(d=new l);var c=this.points,u=(c.length-1)*n,v=Math.floor(u),p=u-v,g=c[v===0?v:v-1],m=c[v],T=c[v>c.length-2?c.length-1:v+1],P=c[v>c.length-3?c.length-1:v+2];return d.set(h(p,g.x,m.x,T.x,P.x),h(p,g.y,m.y,T.y,P.y))},toJSON:function(){for(var n=[],d=0;d<this.points.length;d++)n.push(this.points[d].x),n.push(this.points[d].y);return{type:this.type,points:n}}});a.fromJSON=function(n){return new a(n.points)},r.exports=a},25410:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Path:i(46669),MoveTo:i(68618),CubicBezier:i(46728),Curve:i(80021),Ellipse:i(73825),Line:i(33951),QuadraticBezier:i(14744),Spline:i(42534)}},68618:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(26099),f=new h({initialize:function(a,n){this.active=!1,this.p0=new x(a,n)},getPoint:function(l,a){return a===void 0&&(a=new x),a.copy(this.p0)},getPointAt:function(l,a){return this.getPoint(l,a)},getResolution:function(){return 1},getLength:function(){return 0},toJSON:function(){return{type:"MoveTo",points:[this.p0.x,this.p0.y]}}});r.exports=f},46669:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(46728),f=i(73825),l=i(39429),a=i(33951),n=i(68618),d=i(14744),c=i(87841),u=i(42534),v=i(26099),p=i(36383),g=new h({initialize:function(T,P){T===void 0&&(T=0),P===void 0&&(P=0),this.name="",this.defaultDivisions=12,this.curves=[],this.cacheLengths=[],this.autoClose=!1,this.startPoint=new v,this._tmpVec2A=new v,this._tmpVec2B=new v,typeof T=="object"?this.fromJSON(T):this.startPoint.set(T,P)},add:function(m){return this.curves.push(m),this},circleTo:function(m,T,P){return T===void 0&&(T=!1),this.ellipseTo(m,m,0,360,T,P)},closePath:function(){var m=this.curves[0].getPoint(0),T=this.curves[this.curves.length-1].getPoint(1);return m.equals(T)||this.curves.push(new a(T,m)),this},cubicBezierTo:function(m,T,P,E,M,w){var R=this.getEndPoint(),A,O,F;return m instanceof v?(A=m,O=T,F=P):(A=new v(P,E),O=new v(M,w),F=new v(m,T)),this.add(new x(R,A,O,F))},quadraticBezierTo:function(m,T,P,E){var M=this.getEndPoint(),w,R;return m instanceof v?(w=m,R=T):(w=new v(P,E),R=new v(m,T)),this.add(new d(M,w,R))},draw:function(m,T){for(var P=0;P<this.curves.length;P++){var E=this.curves[P];E.active&&E.draw(m,T)}return m},ellipseTo:function(m,T,P,E,M,w){var R=new f(0,0,m,T,P,E,M,w),A=this.getEndPoint(this._tmpVec2A),O=R.getStartPoint(this._tmpVec2B);return A.subtract(O),R.x=A.x,R.y=A.y,this.add(R)},fromJSON:function(m){this.curves=[],this.cacheLengths=[],this.startPoint.set(m.x,m.y),this.autoClose=m.autoClose;for(var T=0;T<m.curves.length;T++){var P=m.curves[T];switch(P.type){case"LineCurve":this.add(a.fromJSON(P));break;case"EllipseCurve":this.add(f.fromJSON(P));break;case"SplineCurve":this.add(u.fromJSON(P));break;case"CubicBezierCurve":this.add(x.fromJSON(P));break;case"QuadraticBezierCurve":this.add(d.fromJSON(P));break}}return this},getBounds:function(m,T){m===void 0&&(m=new c),T===void 0&&(T=16),m.x=Number.MAX_VALUE,m.y=Number.MAX_VALUE;for(var P=new c,E=p.MIN_SAFE_INTEGER,M=p.MIN_SAFE_INTEGER,w=0;w<this.curves.length;w++){var R=this.curves[w];R.active&&(R.getBounds(P,T),m.x=Math.min(m.x,P.x),m.y=Math.min(m.y,P.y),E=Math.max(E,P.right),M=Math.max(M,P.bottom))}return m.right=E,m.bottom=M,m},getCurveLengths:function(){if(this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var m=[],T=0,P=0;P<this.curves.length;P++)T+=this.curves[P].getLength(),m.push(T);return this.cacheLengths=m,m},getCurveAt:function(m){for(var T=m*this.getLength(),P=this.getCurveLengths(),E=0;E<P.length;){if(P[E]>=T)return this.curves[E];E++}return null},getEndPoint:function(m){return m===void 0&&(m=new v),this.curves.length>0?this.curves[this.curves.length-1].getPoint(1,m):m.copy(this.startPoint),m},getLength:function(){var m=this.getCurveLengths();return m[m.length-1]},getPoint:function(m,T){T===void 0&&(T=new v);for(var P=m*this.getLength(),E=this.getCurveLengths(),M=0;M<E.length;){if(E[M]>=P){var w=E[M]-P,R=this.curves[M],A=R.getLength(),O=A===0?0:1-w/A;return R.getPointAt(O,T)}M++}return null},getPoints:function(m,T){!m&&!T&&(m=this.defaultDivisions);for(var P=[],E,M=0;M<this.curves.length;M++){var w=this.curves[M];if(w.active)for(var R=w.getResolution(m),A=w.getPoints(R,T),O=0;O<A.length;O++){var F=A[O];E&&E.equals(F)||(P.push(F),E=F)}}return this.autoClose&&P.length>1&&!P[P.length-1].equals(P[0])&&P.push(P[0]),P},getRandomPoint:function(m){return m===void 0&&(m=new v),this.getPoint(Math.random(),m)},getSpacedPoints:function(m){m===void 0&&(m=40);for(var T=[],P=0;P<=m;P++)T.push(this.getPoint(P/m));return this.autoClose&&T.push(T[0]),T},getStartPoint:function(m){return m===void 0&&(m=new v),m.copy(this.startPoint)},getTangent:function(m,T){T===void 0&&(T=new v);for(var P=m*this.getLength(),E=this.getCurveLengths(),M=0;M<E.length;){if(E[M]>=P){var w=E[M]-P,R=this.curves[M],A=R.getLength(),O=A===0?0:1-w/A;return R.getTangentAt(O,T)}M++}return null},lineTo:function(m,T){m instanceof v?this._tmpVec2B.copy(m):typeof m=="object"?this._tmpVec2B.setFromObject(m):this._tmpVec2B.set(m,T);var P=this.getEndPoint(this._tmpVec2A);return this.add(new a([P.x,P.y,this._tmpVec2B.x,this._tmpVec2B.y]))},splineTo:function(m){return m.unshift(this.getEndPoint()),this.add(new u(m))},moveTo:function(m,T){return m instanceof v?this.add(new n(m.x,m.y)):this.add(new n(m,T))},toJSON:function(){for(var m=[],T=0;T<this.curves.length;T++)m.push(this.curves[T].toJSON());return{type:"Path",x:this.startPoint.x,y:this.startPoint.y,autoClose:this.autoClose,curves:m}},updateArcLengths:function(){this.cacheLengths=[],this.getCurveLengths()},destroy:function(){this.curves.length=0,this.cacheLengths.length=0,this.startPoint=void 0}});l.register("path",function(m,T){return new g(m,T)}),r.exports=g},45893:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(24882),f=new h({initialize:function(a,n){this.parent=a,this.events=n,n||(this.events=a.events?a.events:a),this.list={},this.values={},this._frozen=!1,!a.hasOwnProperty("sys")&&this.events&&this.events.once(x.DESTROY,this.destroy,this)},get:function(l){var a=this.list;if(Array.isArray(l)){for(var n=[],d=0;d<l.length;d++)n.push(a[l[d]]);return n}else return a[l]},getAll:function(){var l={};for(var a in this.list)this.list.hasOwnProperty(a)&&(l[a]=this.list[a]);return l},query:function(l){var a={};for(var n in this.list)this.list.hasOwnProperty(n)&&n.match(l)&&(a[n]=this.list[n]);return a},set:function(l,a){if(this._frozen)return this;if(typeof l=="string")return this.setValue(l,a);for(var n in l)this.setValue(n,l[n]);return this},inc:function(l,a){if(this._frozen)return this;a===void 0&&(a=1);var n=this.get(l);return n===void 0&&(n=0),this.set(l,n+a),this},toggle:function(l){return this._frozen?this:(this.set(l,!this.get(l)),this)},setValue:function(l,a){if(this._frozen)return this;if(this.has(l))this.values[l]=a;else{var n=this,d=this.list,c=this.events,u=this.parent;Object.defineProperty(this.values,l,{enumerable:!0,configurable:!0,get:function(){return d[l]},set:function(v){if(!n._frozen){var p=d[l];d[l]=v,c.emit(x.CHANGE_DATA,u,l,v,p),c.emit(x.CHANGE_DATA_KEY+l,u,v,p)}}}),d[l]=a,c.emit(x.SET_DATA,u,l,a)}return this},each:function(l,a){for(var n=[this.parent,null,void 0],d=1;d<arguments.length;d++)n.push(arguments[d]);for(var c in this.list)n[1]=c,n[2]=this.list[c],l.apply(a,n);return this},merge:function(l,a){a===void 0&&(a=!0);for(var n in l)l.hasOwnProperty(n)&&(a||!a&&!this.has(n))&&this.setValue(n,l[n]);return this},remove:function(l){if(this._frozen)return this;if(Array.isArray(l))for(var a=0;a<l.length;a++)this.removeValue(l[a]);else return this.removeValue(l);return this},removeValue:function(l){if(this.has(l)){var a=this.list[l];delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,a)}return this},pop:function(l){var a=void 0;return!this._frozen&&this.has(l)&&(a=this.list[l],delete this.list[l],delete this.values[l],this.events.emit(x.REMOVE_DATA,this.parent,l,a)),a},has:function(l){return this.list.hasOwnProperty(l)},setFreeze:function(l){return this._frozen=l,this},reset:function(){for(var l in this.list)delete this.list[l],delete this.values[l];return this._frozen=!1,this},destroy:function(){this.reset(),this.events.off(x.CHANGE_DATA),this.events.off(x.SET_DATA),this.events.off(x.REMOVE_DATA),this.parent=null},freeze:{get:function(){return this._frozen},set:function(l){this._frozen=!!l}},count:{get:function(){var l=0;for(var a in this.list)this.list[a]!==void 0&&l++;return l}}});r.exports=f},63646:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(45893),f=i(37277),l=i(44594),a=new h({Extends:x,initialize:function(d){x.call(this,d,d.sys.events),this.scene=d,this.systems=d.sys,d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.start,this)},boot:function(){this.events=this.systems.events,this.events.once(l.DESTROY,this.destroy,this)},start:function(){this.events.once(l.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.systems.events.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){x.prototype.destroy.call(this),this.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("DataManagerPlugin",a,"data"),r.exports=a},10700:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata"},93608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="changedata-"},60883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},69780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedata"},22166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="setdata"},24882:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CHANGE_DATA:i(10700),CHANGE_DATA_KEY:i(93608),DESTROY:i(60883),REMOVE_DATA:i(69780),SET_DATA:i(22166)}},44965:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DataManager:i(45893),DataManagerPlugin:i(63646),Events:i(24882)}},7098:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84148),x={flac:!1,aac:!1,audioData:!1,dolby:!1,m4a:!1,mp3:!1,ogg:!1,opus:!1,wav:!1,webAudio:!1,webm:!1};function f(){if(typeof importScripts=="function")return x;x.audioData=!!window.Audio,x.webAudio=!!(window.AudioContext||window.webkitAudioContext);var l=document.createElement("audio"),a=!!l.canPlayType;try{if(a){var n=function(u,v){var p=l.canPlayType("audio/"+u).replace(/^no$/,"");return v?!!(p||l.canPlayType("audio/"+v).replace(/^no$/,"")):!!p};if(x.ogg=n('ogg; codecs="vorbis"'),x.opus=n('ogg; codecs="opus"',"opus"),x.mp3=n("mpeg"),x.wav=n("wav"),x.m4a=n("x-m4a"),x.aac=n("aac"),x.flac=n("flac","x-flac"),x.webm=n('webm; codecs="vorbis"'),l.canPlayType('audio/mp4; codecs="ec-3"')!==""){if(h.edge)x.dolby=!0;else if(h.safari&&h.safariVersion>=9&&/Mac OS X (\d+)_(\d+)/.test(navigator.userAgent)){var d=parseInt(RegExp.$1,10),c=parseInt(RegExp.$2,10);(d===10&&c>=11||d>10)&&(x.dolby=!0)}}}}catch{}return x}r.exports=f()},84148:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25892),x={chrome:!1,chromeVersion:0,edge:!1,firefox:!1,firefoxVersion:0,ie:!1,ieVersion:0,mobileSafari:!1,opera:!1,safari:!1,safariVersion:0,silk:!1,trident:!1,tridentVersion:0,es2019:!1};function f(){var l=navigator.userAgent;return/Edg\/\d+/.test(l)?(x.edge=!0,x.es2019=!0):/OPR/.test(l)?(x.opera=!0,x.es2019=!0):/Chrome\/(\d+)/.test(l)&&!h.windowsPhone?(x.chrome=!0,x.chromeVersion=parseInt(RegExp.$1,10),x.es2019=x.chromeVersion>69):/Firefox\D+(\d+)/.test(l)?(x.firefox=!0,x.firefoxVersion=parseInt(RegExp.$1,10),x.es2019=x.firefoxVersion>10):/AppleWebKit\/(?!.*CriOS)/.test(l)&&h.iOS?(x.mobileSafari=!0,x.es2019=!0):/MSIE (\d+\.\d+);/.test(l)?(x.ie=!0,x.ieVersion=parseInt(RegExp.$1,10)):/Version\/(\d+\.\d+(\.\d+)?) Safari/.test(l)&&!h.windowsPhone?(x.safari=!0,x.safariVersion=parseInt(RegExp.$1,10),x.es2019=x.safariVersion>10):/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(l)&&(x.ie=!0,x.trident=!0,x.tridentVersion=parseInt(RegExp.$1,10),x.ieVersion=parseInt(RegExp.$3,10)),/Silk/.test(l)&&(x.silk=!0),x}r.exports=f()},89289:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x={supportInverseAlpha:!1,supportNewBlendModes:!1};function f(){var n="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABAQMAAADD8p2OAAAAA1BMVEX/",d="AAAACklEQVQI12NgAAAAAgAB4iG8MwAAAABJRU5ErkJggg==",c=new Image;return c.onload=function(){var u=new Image;u.onload=function(){var v=h.create2D(u,6),p=v.getContext("2d",{willReadFrequently:!0});if(p.globalCompositeOperation="multiply",p.drawImage(c,0,0),p.drawImage(u,2,0),!p.getImageData(2,0,1,1))return!1;var g=p.getImageData(2,0,1,1).data;h.remove(u),x.supportNewBlendModes=g[0]===255&&g[1]===0&&g[2]===0},u.src=n+"/wCKxvRF"+d},c.src=n+"AP804Oa6"+d,!1}function l(){var n=h.create2D(this,2),d=n.getContext("2d",{willReadFrequently:!0});d.fillStyle="rgba(10, 20, 30, 0.5)",d.fillRect(0,0,1,1);var c=d.getImageData(0,0,1,1);if(c===null)return!1;d.putImageData(c,1,0);var u=d.getImageData(1,0,1,1),v=u.data[0]===c.data[0]&&u.data[1]===c.data[1]&&u.data[2]===c.data[2]&&u.data[3]===c.data[3];return h.remove(this),v}function a(){return typeof importScripts!="function"&&document!==void 0&&(x.supportNewBlendModes=f(),x.supportInverseAlpha=l()),x}r.exports=a()},89357:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25892),x=i(84148),f=i(27919),l={canvas:!1,canvasBitBltShift:null,file:!1,fileSystem:!1,getUserMedia:!0,littleEndian:!1,localStorage:!1,pointerLock:!1,stableSort:!1,support32bit:!1,vibration:!1,webGL:!1,worker:!1};function a(){var d=new ArrayBuffer(4),c=new Uint8Array(d),u=new Uint32Array(d);return c[0]=161,c[1]=178,c[2]=195,c[3]=212,u[0]===3569595041?!0:u[0]===2712847316?!1:null}function n(){if(typeof importScripts=="function")return l;l.canvas=!!window.CanvasRenderingContext2D;try{l.localStorage=!!localStorage.getItem}catch{l.localStorage=!1}l.file=!!window.File&&!!window.FileReader&&!!window.FileList&&!!window.Blob,l.fileSystem=!!window.requestFileSystem;var d=!1,c=function(){if(window.WebGLRenderingContext)try{var u=f.createWebGL(this),v=u.getContext("webgl")||u.getContext("experimental-webgl"),p=f.create2D(this),g=p.getContext("2d",{willReadFrequently:!0}),m=g.createImageData(1,1);return d=m.data instanceof Uint8ClampedArray,f.remove(u),f.remove(p),!!v}catch{return!1}return!1};return l.webGL=c(),l.worker=!!window.Worker,l.pointerLock="pointerLockElement"in document||"mozPointerLockElement"in document||"webkitPointerLockElement"in document,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia||navigator.oGetUserMedia,window.URL=window.URL||window.webkitURL||window.mozURL||window.msURL,l.getUserMedia=l.getUserMedia&&!!navigator.getUserMedia&&!!window.URL,x.firefox&&x.firefoxVersion<21&&(l.getUserMedia=!1),!h.iOS&&(x.ie||x.firefox||x.chrome)&&(l.canvasBitBltShift=!0),(x.safari||x.mobileSafari)&&(l.canvasBitBltShift=!1),navigator.vibrate=navigator.vibrate||navigator.webkitVibrate||navigator.mozVibrate||navigator.msVibrate,navigator.vibrate&&(l.vibration=!0),typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint32Array<"u"&&(l.littleEndian=a()),l.support32bit=typeof ArrayBuffer<"u"&&typeof Uint8ClampedArray<"u"&&typeof Int32Array<"u"&&l.littleEndian!==null&&d,l}r.exports=n()},91639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={available:!1,cancel:"",keyboard:!1,request:""};function i(){if(typeof importScripts=="function")return C;var h,x="Fullscreen",f="FullScreen",l=["request"+x,"request"+f,"webkitRequest"+x,"webkitRequest"+f,"msRequest"+x,"msRequest"+f,"mozRequest"+f,"mozRequest"+x];for(h=0;h<l.length;h++)if(document.documentElement[l[h]]){C.available=!0,C.request=l[h];break}var a=["cancel"+f,"exit"+x,"webkitCancel"+f,"webkitExit"+x,"msCancel"+f,"msExit"+x,"mozCancel"+f,"mozExit"+x];if(C.available){for(h=0;h<a.length;h++)if(document[a[h]]){C.cancel=a[h];break}}return window.Element&&Element.ALLOW_KEYBOARD_INPUT&&!/ Version\/5\.1(?:\.\d+)? Safari\//.test(navigator.userAgent)&&(C.keyboard=!0),Object.defineProperty(C,"active",{get:function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)}}),C}r.exports=i()},31784:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84148),x={gamepads:!1,mspointer:!1,touch:!1,wheelEvent:null};function f(){return typeof importScripts=="function"||(("ontouchstart"in document.documentElement||navigator.maxTouchPoints&&navigator.maxTouchPoints>=1)&&(x.touch=!0),(navigator.msPointerEnabled||navigator.pointerEnabled)&&(x.mspointer=!0),navigator.getGamepads&&(x.gamepads=!0),"onwheel"in window||h.ie&&"WheelEvent"in window?x.wheelEvent="wheel":"onmousewheel"in window?x.wheelEvent="mousewheel":h.firefox&&"MouseScrollEvent"in window&&(x.wheelEvent="DOMMouseScroll")),x}r.exports=f()},25892:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={android:!1,chromeOS:!1,cordova:!1,crosswalk:!1,desktop:!1,ejecta:!1,electron:!1,iOS:!1,iOSVersion:0,iPad:!1,iPhone:!1,kindle:!1,linux:!1,macOS:!1,node:!1,nodeWebkit:!1,pixelRatio:1,webApp:!1,windows:!1,windowsPhone:!1};function i(){if(typeof importScripts=="function")return C;var h=navigator.userAgent;/Windows/.test(h)?C.windows=!0:/Mac OS/.test(h)&&!/like Mac OS/.test(h)?navigator.maxTouchPoints&&navigator.maxTouchPoints>2?(C.iOS=!0,C.iPad=!0,navigator.appVersion.match(/Version\/(\d+)/),C.iOSVersion=parseInt(RegExp.$1,10)):C.macOS=!0:/Android/.test(h)?C.android=!0:/Linux/.test(h)?C.linux=!0:/iP[ao]d|iPhone/i.test(h)?(C.iOS=!0,navigator.appVersion.match(/OS (\d+)/),C.iOSVersion=parseInt(RegExp.$1,10),C.iPhone=h.toLowerCase().indexOf("iphone")!==-1,C.iPad=h.toLowerCase().indexOf("ipad")!==-1):/Kindle/.test(h)||/\bKF[A-Z][A-Z]+/.test(h)||/Silk.*Mobile Safari/.test(h)?C.kindle=!0:/CrOS/.test(h)&&(C.chromeOS=!0),(/Windows Phone/i.test(h)||/IEMobile/i.test(h))&&(C.android=!1,C.iOS=!1,C.macOS=!1,C.windows=!0,C.windowsPhone=!0);var x=/Silk/.test(h);return(C.windows||C.macOS||C.linux&&!x||C.chromeOS)&&(C.desktop=!0),(C.windowsPhone||/Windows NT/i.test(h)&&/Touch/i.test(h))&&(C.desktop=!1),navigator.standalone&&(C.webApp=!0),typeof importScripts!="function"&&(window.cordova!==void 0&&(C.cordova=!0),window.ejecta!==void 0&&(C.ejecta=!0)),typeof process<"u"&&process.versions&&process.versions.node&&(C.node=!0),C.node&&typeof process.versions=="object"&&(C.nodeWebkit=!!process.versions["node-webkit"],C.electron=!!process.versions.electron),/Crosswalk/.test(h)&&(C.crosswalk=!0),C.pixelRatio=window.devicePixelRatio||1,C}r.exports=i()},43267:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x={h264:!1,hls:!1,mp4:!1,m4v:!1,ogg:!1,vp9:!1,webm:!1,hasRequestVideoFrame:!1};function f(){if(typeof importScripts=="function")return x;var l=document.createElement("video"),a=!!l.canPlayType,n=/^no$/;try{a&&(l.canPlayType('video/ogg; codecs="theora"').replace(n,"")&&(x.ogg=!0),l.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(n,"")&&(x.h264=!0,x.mp4=!0),l.canPlayType("video/x-m4v").replace(n,"")&&(x.m4v=!0),l.canPlayType('video/webm; codecs="vp8, vorbis"').replace(n,"")&&(x.webm=!0),l.canPlayType('video/webm; codecs="vp9"').replace(n,"")&&(x.vp9=!0),l.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(n,"")&&(x.hls=!0))}catch{}return l.parentNode&&l.parentNode.removeChild(l),x.getVideoURL=function(d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var u=h(d[c],"url",d[c]);if(u.indexOf("blob:")===0)return{url:u,type:""};var v;if(u.indexOf("data:")===0?v=u.split(",")[0].match(/\/(.*?);/):v=u.match(/\.([a-zA-Z0-9]+)($|\?)/),v=h(d[c],"type",v?v[1]:"").toLowerCase(),x[v])return{url:u,type:v}}return null},x}r.exports=f()},82264:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={os:i(25892),browser:i(84148),features:i(89357),input:i(31784),audio:i(7098),video:i(43267),fullscreen:i(91639),canvasFeatures:i(89289)}},89422:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new Float32Array(20),f=new h({initialize:function(){this._matrix=new Float32Array(20),this.alpha=1,this._dirty=!0,this._data=new Float32Array(20),this.reset()},set:function(l){return this._matrix.set(l),this._dirty=!0,this},reset:function(){var l=this._matrix;return l.fill(0),l[0]=1,l[6]=1,l[12]=1,l[18]=1,this.alpha=1,this._dirty=!0,this},getData:function(){var l=this._data;return this._dirty&&(l.set(this._matrix),l[4]/=255,l[9]/=255,l[14]/=255,l[19]/=255,this._dirty=!1),l},brightness:function(l,a){l===void 0&&(l=0),a===void 0&&(a=!1);var n=l;return this.multiply([n,0,0,0,0,0,n,0,0,0,0,0,n,0,0,0,0,0,1,0],a)},saturate:function(l,a){l===void 0&&(l=0),a===void 0&&(a=!1);var n=l*2/3+1,d=(n-1)*-.5;return this.multiply([n,d,d,0,0,d,n,d,0,0,d,d,n,0,0,0,0,0,1,0],a)},desaturate:function(l){return l===void 0&&(l=!1),this.saturate(-1,l)},hue:function(l,a){l===void 0&&(l=0),a===void 0&&(a=!1),l=l/180*Math.PI;var n=Math.cos(l),d=Math.sin(l),c=.213,u=.715,v=.072;return this.multiply([c+n*(1-c)+d*-.213,u+n*-.715+d*-.715,v+n*-.072+d*(1-v),0,0,c+n*-.213+d*.143,u+n*(1-u)+d*.14,v+n*-.072+d*-.283,0,0,c+n*-.213+d*-.787,u+n*-.715+d*u,v+n*(1-v)+d*v,0,0,0,0,0,1,0],a)},grayscale:function(l,a){return l===void 0&&(l=1),a===void 0&&(a=!1),this.saturate(-l,a)},blackWhite:function(l){return l===void 0&&(l=!1),this.multiply(f.BLACK_WHITE,l)},contrast:function(l,a){l===void 0&&(l=0),a===void 0&&(a=!1);var n=l+1,d=-.5*(n-1);return this.multiply([n,0,0,0,d,0,n,0,0,d,0,0,n,0,d,0,0,0,1,0],a)},negative:function(l){return l===void 0&&(l=!1),this.multiply(f.NEGATIVE,l)},desaturateLuminance:function(l){return l===void 0&&(l=!1),this.multiply(f.DESATURATE_LUMINANCE,l)},sepia:function(l){return l===void 0&&(l=!1),this.multiply(f.SEPIA,l)},night:function(l,a){return l===void 0&&(l=.1),a===void 0&&(a=!1),this.multiply([l*-2,-l,0,0,0,-l,0,l,0,0,0,l,l*2,0,0,0,0,0,1,0],a)},lsd:function(l){return l===void 0&&(l=!1),this.multiply(f.LSD,l)},brown:function(l){return l===void 0&&(l=!1),this.multiply(f.BROWN,l)},vintagePinhole:function(l){return l===void 0&&(l=!1),this.multiply(f.VINTAGE,l)},kodachrome:function(l){return l===void 0&&(l=!1),this.multiply(f.KODACHROME,l)},technicolor:function(l){return l===void 0&&(l=!1),this.multiply(f.TECHNICOLOR,l)},polaroid:function(l){return l===void 0&&(l=!1),this.multiply(f.POLAROID,l)},shiftToBGR:function(l){return l===void 0&&(l=!1),this.multiply(f.SHIFT_BGR,l)},multiply:function(l,a){a===void 0&&(a=!1),a||this.reset();var n=this._matrix,d=x;return d.set(n),n.set([d[0]*l[0]+d[1]*l[5]+d[2]*l[10]+d[3]*l[15],d[0]*l[1]+d[1]*l[6]+d[2]*l[11]+d[3]*l[16],d[0]*l[2]+d[1]*l[7]+d[2]*l[12]+d[3]*l[17],d[0]*l[3]+d[1]*l[8]+d[2]*l[13]+d[3]*l[18],d[0]*l[4]+d[1]*l[9]+d[2]*l[14]+d[3]*l[19]+d[4],d[5]*l[0]+d[6]*l[5]+d[7]*l[10]+d[8]*l[15],d[5]*l[1]+d[6]*l[6]+d[7]*l[11]+d[8]*l[16],d[5]*l[2]+d[6]*l[7]+d[7]*l[12]+d[8]*l[17],d[5]*l[3]+d[6]*l[8]+d[7]*l[13]+d[8]*l[18],d[5]*l[4]+d[6]*l[9]+d[7]*l[14]+d[8]*l[19]+d[9],d[10]*l[0]+d[11]*l[5]+d[12]*l[10]+d[13]*l[15],d[10]*l[1]+d[11]*l[6]+d[12]*l[11]+d[13]*l[16],d[10]*l[2]+d[11]*l[7]+d[12]*l[12]+d[13]*l[17],d[10]*l[3]+d[11]*l[8]+d[12]*l[13]+d[13]*l[18],d[10]*l[4]+d[11]*l[9]+d[12]*l[14]+d[13]*l[19]+d[14],d[15]*l[0]+d[16]*l[5]+d[17]*l[10]+d[18]*l[15],d[15]*l[1]+d[16]*l[6]+d[17]*l[11]+d[18]*l[16],d[15]*l[2]+d[16]*l[7]+d[17]*l[12]+d[18]*l[17],d[15]*l[3]+d[16]*l[8]+d[17]*l[13]+d[18]*l[18],d[15]*l[4]+d[16]*l[9]+d[17]*l[14]+d[18]*l[19]+d[19]]),this._dirty=!0,this}});f.BLACK_WHITE=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],f.NEGATIVE=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],f.DESATURATE_LUMINANCE=[.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,.2764723,.929708,.0938197,0,-37.1,0,0,0,1,0],f.SEPIA=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],f.LSD=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],f.BROWN=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],f.VINTAGE=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],f.KODACHROME=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],f.TECHNICOLOR=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],f.POLAROID=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],f.SHIFT_BGR=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],r.exports=f},51767:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(29747),f=new h({initialize:function(a,n,d){this._rgb=[0,0,0],this.onChangeCallback=x,this.dirty=!1,this.set(a,n,d)},set:function(l,a,n){return l===void 0&&(l=0),a===void 0&&(a=0),n===void 0&&(n=0),this._rgb=[l,a,n],this.onChange(),this},equals:function(l,a,n){var d=this._rgb;return d[0]===l&&d[1]===a&&d[2]===n},onChange:function(){this.dirty=!0;var l=this._rgb;this.onChangeCallback.call(this,l[0],l[1],l[2])},r:{get:function(){return this._rgb[0]},set:function(l){this._rgb[0]=l,this.onChange()}},g:{get:function(){return this._rgb[1]},set:function(l){this._rgb[1]=l,this.onChange()}},b:{get:function(){return this._rgb[2]},set:function(l){this._rgb[2]=l,this.onChange()}},destroy:function(){this.onChangeCallback=null}});r.exports=f},60461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_TOP:3,LEFT_CENTER:4,LEFT_BOTTOM:5,CENTER:6,RIGHT_TOP:7,RIGHT_CENTER:8,RIGHT_BOTTOM:9,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12};r.exports=C},54312:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(35893),f=i(86327),l=i(88417),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)+c),f(n,h(d)+u),n};r.exports=a},46768:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(26541),f=i(86327),l=i(385),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)-c),f(n,h(d)+u),n};r.exports=a},35827:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(54380),f=i(86327),l=i(40136),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)+c),f(n,h(d)+u),n};r.exports=a},46871:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66786),x=i(35893),f=i(7702),l=function(a,n,d,c){return d===void 0&&(d=0),c===void 0&&(c=0),h(a,x(n)+d,f(n)+c),a};r.exports=l},5198:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),x=i(26541),f=i(20786),l=i(385),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)-c),f(n,h(d)+u),n};r.exports=a},11879:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),x=[];x[h.BOTTOM_CENTER]=i(54312),x[h.BOTTOM_LEFT]=i(46768),x[h.BOTTOM_RIGHT]=i(35827),x[h.CENTER]=i(46871),x[h.LEFT_CENTER]=i(5198),x[h.RIGHT_CENTER]=i(80503),x[h.TOP_CENTER]=i(89698),x[h.TOP_LEFT]=i(922),x[h.TOP_RIGHT]=i(21373),x[h.LEFT_BOTTOM]=x[h.BOTTOM_LEFT],x[h.LEFT_TOP]=x[h.TOP_LEFT],x[h.RIGHT_BOTTOM]=x[h.BOTTOM_RIGHT],x[h.RIGHT_TOP]=x[h.TOP_RIGHT];var f=function(l,a,n,d,c){return x[n](l,a,d,c)};r.exports=f},80503:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),x=i(54380),f=i(20786),l=i(40136),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)+c),f(n,h(d)+u),n};r.exports=a},89698:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35893),x=i(17717),f=i(88417),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,h(d)+c),l(n,x(d)-u),n};r.exports=a},922:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26541),x=i(17717),f=i(385),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,h(d)-c),l(n,x(d)-u),n};r.exports=a},21373:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54380),x=i(17717),f=i(40136),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,h(d)+c),l(n,x(d)-u),n};r.exports=a},91660:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:i(54312),BottomLeft:i(46768),BottomRight:i(35827),Center:i(46871),LeftCenter:i(5198),QuickSet:i(11879),RightCenter:i(80503),TopCenter:i(89698),TopLeft:i(922),TopRight:i(21373)}},71926:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),x=i(79291),f={In:i(91660),To:i(16694)};f=x(!1,f,h),r.exports=f},21578:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(35893),f=i(88417),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,x(d)+c),l(n,h(d)+u),n};r.exports=a},10210:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(26541),f=i(385),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,x(d)-c),l(n,h(d)+u),n};r.exports=a},82341:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(54380),f=i(40136),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,x(d)+c),l(n,h(d)+u),n};r.exports=a},87958:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(26541),f=i(86327),l=i(40136),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)-c),f(n,h(d)+u),n};r.exports=a},40080:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),x=i(26541),f=i(20786),l=i(40136),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)-c),f(n,h(d)+u),n};r.exports=a},88466:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26541),x=i(17717),f=i(40136),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,h(d)-c),l(n,x(d)-u),n};r.exports=a},38829:(r,C,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),x=[];x[h.BOTTOM_CENTER]=i(21578),x[h.BOTTOM_LEFT]=i(10210),x[h.BOTTOM_RIGHT]=i(82341),x[h.LEFT_BOTTOM]=i(87958),x[h.LEFT_CENTER]=i(40080),x[h.LEFT_TOP]=i(88466),x[h.RIGHT_BOTTOM]=i(19211),x[h.RIGHT_CENTER]=i(34609),x[h.RIGHT_TOP]=i(48741),x[h.TOP_CENTER]=i(49440),x[h.TOP_LEFT]=i(81288),x[h.TOP_RIGHT]=i(61323);var f=function(l,a,n,d,c){return x[n](l,a,d,c)};r.exports=f},19211:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(54380),f=i(86327),l=i(385),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)+c),f(n,h(d)+u),n};r.exports=a},34609:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7702),x=i(54380),f=i(20786),l=i(385),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,x(d)+c),f(n,h(d)+u),n};r.exports=a},48741:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54380),x=i(17717),f=i(385),l=i(66737),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),f(n,h(d)+c),l(n,x(d)-u),n};r.exports=a},49440:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35893),x=i(17717),f=i(86327),l=i(88417),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,h(d)+c),f(n,x(d)-u),n};r.exports=a},81288:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26541),x=i(17717),f=i(86327),l=i(385),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,h(d)-c),f(n,x(d)-u),n};r.exports=a},61323:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54380),x=i(17717),f=i(86327),l=i(40136),a=function(n,d,c,u){return c===void 0&&(c=0),u===void 0&&(u=0),l(n,h(d)+c),f(n,x(d)-u),n};r.exports=a},16694:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BottomCenter:i(21578),BottomLeft:i(10210),BottomRight:i(82341),LeftBottom:i(87958),LeftCenter:i(40080),LeftTop:i(88466),QuickSet:i(38829),RightBottom:i(19211),RightCenter:i(34609),RightTop:i(48741),TopCenter:i(49440),TopLeft:i(81288),TopRight:i(61323)}},66786:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(88417),x=i(20786),f=function(l,a,n){return h(l,a),x(l,n)};r.exports=f},62235:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.y+i.height-i.height*i.originY};r.exports=C},72873:(r,C,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62235),x=i(26541),f=i(54380),l=i(17717),a=i(87841),n=function(d,c){c===void 0&&(c=new a);var u=x(d),v=l(d);return c.x=u,c.y=v,c.width=f(d)-u,c.height=h(d)-v,c};r.exports=n},35893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x-i.width*i.originX+i.width*.5};r.exports=C},7702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.y-i.height*i.originY+i.height*.5};r.exports=C},26541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x-i.width*i.originX};r.exports=C},87431:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.width*i.originX};r.exports=C},46928:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.height*i.originY};r.exports=C},54380:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x+i.width-i.width*i.originX};r.exports=C},17717:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.y-i.height*i.originY};r.exports=C},86327:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.y=h-i.height+i.height*i.originY,i};r.exports=C},88417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.width*i.originX;return i.x=h+x-i.width*.5,i};r.exports=C},20786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.height*i.originY;return i.y=h+x-i.height*.5,i};r.exports=C},385:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x=h+i.width*i.originX,i};r.exports=C},40136:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x=h-i.width+i.width*i.originX,i};r.exports=C},66737:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.y=h+i.height*i.originY,i};r.exports=C},58724:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CenterOn:i(66786),GetBottom:i(62235),GetBounds:i(72873),GetCenterX:i(35893),GetCenterY:i(7702),GetLeft:i(26541),GetOffsetX:i(87431),GetOffsetY:i(46928),GetRight:i(54380),GetTop:i(17717),SetBottom:i(86327),SetCenterX:i(88417),SetCenterY:i(20786),SetLeft:i(385),SetRight:i(40136),SetTop:i(66737)}},20623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCrisp:function(i){var h=["optimizeSpeed","-moz-crisp-edges","-o-crisp-edges","-webkit-optimize-contrast","optimize-contrast","crisp-edges","pixelated"];return h.forEach(function(x){i.style["image-rendering"]=x}),i.style.msInterpolationMode="nearest-neighbor",i},setBicubic:function(i){return i.style["image-rendering"]="auto",i.style.msInterpolationMode="bicubic",i}};r.exports=C},27919:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8054),x=i(68703),f=[],l=!1,a=function(){var n=function(P,E,M,w,R){E===void 0&&(E=1),M===void 0&&(M=1),w===void 0&&(w=h.CANVAS),R===void 0&&(R=!1);var A,O=u(w);return O===null?(O={parent:P,canvas:document.createElement("canvas"),type:w},w===h.CANVAS&&f.push(O),A=O.canvas):(O.parent=P,A=O.canvas),R&&(O.parent=A),A.width=E,A.height=M,l&&w===h.CANVAS&&x.disable(A.getContext("2d",{willReadFrequently:!1})),A},d=function(P,E,M){return n(P,E,M,h.CANVAS)},c=function(P,E,M){return n(P,E,M,h.WEBGL)},u=function(P){if(P===void 0&&(P=h.CANVAS),P===h.WEBGL)return null;for(var E=0;E<f.length;E++){var M=f[E];if(!M.parent&&M.type===P)return M}return null},v=function(P){var E=P instanceof HTMLCanvasElement;f.forEach(function(M){(E&&M.canvas===P||!E&&M.parent===P)&&(M.parent=null,M.canvas.width=1,M.canvas.height=1)})},p=function(){var P=0;return f.forEach(function(E){E.parent&&P++}),P},g=function(){return f.length-p()},m=function(){l=!0},T=function(){l=!1};return{create2D:d,create:n,createWebGL:c,disableSmoothing:m,enableSmoothing:T,first:u,free:g,pool:f,remove:v,total:p}};r.exports=a()},68703:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="",i=function(){var h=function(a){for(var n=["i","webkitI","msI","mozI","oI"],d=0;d<n.length;d++){var c=n[d]+"mageSmoothingEnabled";if(c in a)return c}return null},x=function(a){return C===""&&(C=h(a)),C&&(a[C]=!0),a},f=function(a){return C===""&&(C=h(a)),C&&(a[C]=!1),a},l=function(a){return C!==null?a[C]:null};return{disable:f,enable:x,getPrefix:h,isEnabled:l}};r.exports=i()},65208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h="none"),i.style.msTouchAction=h,i.style["ms-touch-action"]=h,i.style["touch-action"]=h,i};r.exports=C},91610:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h="none");var x=["-webkit-","-khtml-","-moz-","-ms-",""];return x.forEach(function(f){i.style[f+"user-select"]=h}),i.style["-webkit-touch-callout"]=h,i.style["-webkit-tap-highlight-color"]="rgba(0, 0, 0, 0)",i};r.exports=C},26253:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasInterpolation:i(20623),CanvasPool:i(27919),Smoothing:i(68703),TouchAction:i(65208),UserSelect:i(91610)}},40987:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(37589),f=i(1e3),l=i(7537),a=i(87837),n=new h({initialize:function(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=255),this.r=0,this.g=0,this.b=0,this.a=255,this._h=0,this._s=0,this._v=0,this._locked=!1,this.gl=[0,0,0,1],this._color=0,this._color32=0,this._rgba="",this.setTo(c,u,v,p)},transparent:function(){return this._locked=!0,this.red=0,this.green=0,this.blue=0,this.alpha=0,this._locked=!1,this.update(!0)},setTo:function(d,c,u,v,p){return v===void 0&&(v=255),p===void 0&&(p=!0),this._locked=!0,this.red=d,this.green=c,this.blue=u,this.alpha=v,this._locked=!1,this.update(p)},setGLTo:function(d,c,u,v){return v===void 0&&(v=1),this._locked=!0,this.redGL=d,this.greenGL=c,this.blueGL=u,this.alphaGL=v,this._locked=!1,this.update(!0)},setFromRGB:function(d){return this._locked=!0,this.red=d.r,this.green=d.g,this.blue=d.b,d.hasOwnProperty("a")&&(this.alpha=d.a),this._locked=!1,this.update(!0)},setFromHSV:function(d,c,u){return l(d,c,u,this)},update:function(d){if(d===void 0&&(d=!1),this._locked)return this;var c=this.r,u=this.g,v=this.b,p=this.a;return this._color=x(c,u,v),this._color32=f(c,u,v,p),this._rgba="rgba("+c+","+u+","+v+","+p/255+")",d&&a(c,u,v,this),this},updateHSV:function(){var d=this.r,c=this.g,u=this.b;return a(d,c,u,this),this},clone:function(){return new n(this.r,this.g,this.b,this.a)},gray:function(d){return this.setTo(d,d,d)},random:function(d,c){d===void 0&&(d=0),c===void 0&&(c=255);var u=Math.floor(d+Math.random()*(c-d)),v=Math.floor(d+Math.random()*(c-d)),p=Math.floor(d+Math.random()*(c-d));return this.setTo(u,v,p)},randomGray:function(d,c){d===void 0&&(d=0),c===void 0&&(c=255);var u=Math.floor(d+Math.random()*(c-d));return this.setTo(u,u,u)},saturate:function(d){return this.s+=d/100,this},desaturate:function(d){return this.s-=d/100,this},lighten:function(d){return this.v+=d/100,this},darken:function(d){return this.v-=d/100,this},brighten:function(d){var c=this.r,u=this.g,v=this.b;return c=Math.max(0,Math.min(255,c-Math.round(255*-(d/100)))),u=Math.max(0,Math.min(255,u-Math.round(255*-(d/100)))),v=Math.max(0,Math.min(255,v-Math.round(255*-(d/100)))),this.setTo(c,u,v)},color:{get:function(){return this._color}},color32:{get:function(){return this._color32}},rgba:{get:function(){return this._rgba}},redGL:{get:function(){return this.gl[0]},set:function(d){this.gl[0]=Math.min(Math.abs(d),1),this.r=Math.floor(this.gl[0]*255),this.update(!0)}},greenGL:{get:function(){return this.gl[1]},set:function(d){this.gl[1]=Math.min(Math.abs(d),1),this.g=Math.floor(this.gl[1]*255),this.update(!0)}},blueGL:{get:function(){return this.gl[2]},set:function(d){this.gl[2]=Math.min(Math.abs(d),1),this.b=Math.floor(this.gl[2]*255),this.update(!0)}},alphaGL:{get:function(){return this.gl[3]},set:function(d){this.gl[3]=Math.min(Math.abs(d),1),this.a=Math.floor(this.gl[3]*255),this.update()}},red:{get:function(){return this.r},set:function(d){d=Math.floor(Math.abs(d)),this.r=Math.min(d,255),this.gl[0]=d/255,this.update(!0)}},green:{get:function(){return this.g},set:function(d){d=Math.floor(Math.abs(d)),this.g=Math.min(d,255),this.gl[1]=d/255,this.update(!0)}},blue:{get:function(){return this.b},set:function(d){d=Math.floor(Math.abs(d)),this.b=Math.min(d,255),this.gl[2]=d/255,this.update(!0)}},alpha:{get:function(){return this.a},set:function(d){d=Math.floor(Math.abs(d)),this.a=Math.min(d,255),this.gl[3]=d/255,this.update()}},h:{get:function(){return this._h},set:function(d){this._h=d,l(d,this._s,this._v,this)}},s:{get:function(){return this._s},set:function(d){this._s=d,l(this._h,d,this._v,this)}},v:{get:function(){return this._v},set:function(d){this._v=d,l(this._h,this._s,d,this)}}});r.exports=n},92728:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37589),x=function(f){f===void 0&&(f=1024);var l=[],a=255,n,d=255,c=0,u=0;for(n=0;n<=a;n++)l.push({r:d,g:n,b:u,color:h(d,n,u)});for(c=255,n=a;n>=0;n--)l.push({r:n,g:c,b:u,color:h(n,c,u)});for(d=0,n=0;n<=a;n++,c--)l.push({r:d,g:c,b:n,color:h(d,c,n)});for(c=0,u=255,n=0;n<=a;n++,u--,d++)l.push({r:d,g:c,b:u,color:h(d,c,u)});if(f===1024)return l;var v=[],p=0,g=1024/f;for(n=0;n<f;n++)v.push(l[Math.floor(p)]),p+=g;return v};r.exports=x},91588:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h={r:i>>16&255,g:i>>8&255,b:i&255,a:255};return i>16777215&&(h.a=i>>>24),h};r.exports=C},62957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=i.toString(16);return h.length===1?"0"+h:h};r.exports=C},37589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i<<16|h<<8|x};r.exports=C},1e3:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return f<<24|i<<16|h<<8|x};r.exports=C},62183:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),x=i(89528),f=function(l,a,n){var d=n,c=n,u=n;if(a!==0){var v=n<.5?n*(1+a):n+a-n*a,p=2*n-v;d=x(p,v,l+1/3),c=x(p,v,l),u=x(p,v,l-1/3)}var g=new h;return g.setGLTo(d,c,u,1)};r.exports=f},27939:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7537),x=function(f,l){f===void 0&&(f=1),l===void 0&&(l=1);for(var a=[],n=0;n<=359;n++)a.push(h(n/359,f,l));return a};r.exports=x},7537:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37589);function x(l,a,n,d){var c=(l+a*6)%6,u=Math.min(c,4-c,1);return Math.round(255*(d-d*n*Math.max(0,u)))}var f=function(l,a,n,d){a===void 0&&(a=1),n===void 0&&(n=1);var c=x(5,l,a,n),u=x(3,l,a,n),v=x(1,l,a,n);return d?d.setTo?d.setTo(c,u,v,d.alpha,!0):(d.r=c,d.g=u,d.b=v,d.color=h(c,u,v),d):{r:c,g:u,b:v,color:h(c,u,v)}};r.exports=f},70238:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),x=function(f){var l=new h;f=f.replace(/^(?:#|0x)?([a-f\d])([a-f\d])([a-f\d])$/i,function(u,v,p,g){return v+v+p+p+g+g});var a=/^(?:#|0x)?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(f);if(a){var n=parseInt(a[1],16),d=parseInt(a[2],16),c=parseInt(a[3],16);l.setTo(n,d,c)}return l};r.exports=x},89528:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return x<0&&(x+=1),x>1&&(x-=1),x<.16666666666666666?i+(h-i)*6*x:x<.5?h:x<.6666666666666666?i+(h-i)*(.6666666666666666-x)*6:i};r.exports=C},30100:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),x=i(90664),f=function(l){var a=x(l);return new h(a.r,a.g,a.b,a.a)};r.exports=f},90664:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i>16777215?{a:i>>>24,r:i>>16&255,g:i>>8&255,b:i&255}:{a:255,r:i>>16&255,g:i>>8&255,b:i&255}};r.exports=C},13699:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28915),x=i(37589),f=function(n,d,c,u,v,p,g,m){g===void 0&&(g=100),m===void 0&&(m=0);var T=m/g,P=h(n,u,T),E=h(d,v,T),M=h(c,p,T);return{r:P,g:E,b:M,a:255,color:x(P,E,M)}},l=function(n,d,c,u){return c===void 0&&(c=100),u===void 0&&(u=0),f(n.r,n.g,n.b,d.r,d.g,d.b,c,u)},a=function(n,d,c,u,v,p){return v===void 0&&(v=100),p===void 0&&(p=0),f(n.r,n.g,n.b,d,c,u,v,p)};r.exports={RGBWithRGB:f,ColorWithRGB:a,ColorWithColor:l}},68957:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),x=function(f){return new h(f.r,f.g,f.b,f.a)};r.exports=x},87388:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987),x=function(f){var l=new h,a=/^rgba?\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d+(?:\.\d+)?))?\s*\)$/.exec(f.toLowerCase());if(a){var n=parseInt(a[1],10),d=parseInt(a[2],10),c=parseInt(a[3],10),u=a[4]!==void 0?parseFloat(a[4]):1;l.setTo(n,d,c,u*255)}return l};r.exports=x},87837:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){f===void 0&&(f={h:0,s:0,v:0}),i/=255,h/=255,x/=255;var l=Math.min(i,h,x),a=Math.max(i,h,x),n=a-l,d=0,c=a===0?0:n/a,u=a;return a!==l&&(a===i?d=(h-x)/n+(h<x?6:0):a===h?d=(x-i)/n+2:a===x&&(d=(i-h)/n+4),d/=6),f.hasOwnProperty("_h")?(f._h=d,f._s=c,f._v=u):(f.h=d,f.s=c,f.v=u),f};r.exports=C},75723:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62957),x=function(f,l,a,n,d){return n===void 0&&(n=255),d===void 0&&(d="#"),d==="#"?"#"+((1<<24)+(f<<16)+(l<<8)+a).toString(16).slice(1,7):"0x"+h(n)+h(f)+h(l)+h(a)};r.exports=x},85386:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),x=i(40987),f=function(l,a){return l===void 0&&(l=0),a===void 0&&(a=255),new x(h(l,a),h(l,a),h(l,a))};r.exports=f},80333:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70238),x=i(30100),f=i(68957),l=i(87388),a=function(n){var d=typeof n;switch(d){case"string":return n.substr(0,3).toLowerCase()==="rgb"?l(n):h(n);case"number":return x(n);case"object":return f(n)}};r.exports=a},3956:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40987);h.ColorSpectrum=i(92728),h.ColorToRGBA=i(91588),h.ComponentToHex=i(62957),h.GetColor=i(37589),h.GetColor32=i(1e3),h.HexStringToColor=i(70238),h.HSLToColor=i(62183),h.HSVColorWheel=i(27939),h.HSVToRGB=i(7537),h.HueToComponent=i(89528),h.IntegerToColor=i(30100),h.IntegerToRGB=i(90664),h.Interpolate=i(13699),h.ObjectToColor=i(68957),h.RandomRGB=i(85386),h.RGBStringToColor=i(87388),h.RGBToHSV=i(87837),h.RGBToString=i(75723),h.ValueToColor=i(80333),r.exports=h},27460:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Align:i(71926),BaseShader:i(73894),Bounds:i(58724),Canvas:i(26253),Color:i(3956),ColorMatrix:i(89422),Masks:i(69781),RGB:i(51767)}},6858:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(39429),f=new h({initialize:function(a,n,d,c,u,v){n||(n=a.sys.make.image({x:d,y:c,key:u,frame:v,add:!1})),this.bitmapMask=n,this.invertAlpha=!1,this.isStencil=!1},setBitmap:function(l){this.bitmapMask=l},preRenderWebGL:function(l,a,n){l.pipelines.BITMAPMASK_PIPELINE.beginMask(this,a,n)},postRenderWebGL:function(l,a,n){l.pipelines.BITMAPMASK_PIPELINE.endMask(this,a,n)},preRenderCanvas:function(){},postRenderCanvas:function(){},destroy:function(){this.bitmapMask=null}});x.register("bitmapMask",function(l,a,n,d,c){return new f(this.scene,l,a,n,d,c)}),r.exports=f},80661:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a){this.geometryMask=a,this.invertAlpha=!1,this.isStencil=!0,this.level=0},setShape:function(f){return this.geometryMask=f,this},setInvertAlpha:function(f){return f===void 0&&(f=!0),this.invertAlpha=f,this},preRenderWebGL:function(f,l,a){var n=f.gl;f.flush(),f.maskStack.length===0&&(n.enable(n.STENCIL_TEST),n.clear(n.STENCIL_BUFFER_BIT),f.maskCount=0),f.currentCameraMask.mask!==this&&(f.currentMask.mask=this),f.maskStack.push({mask:this,camera:a}),this.applyStencil(f,a,!0),f.maskCount++},applyStencil:function(f,l,a){var n=f.gl,d=this.geometryMask,c=f.maskCount,u=255;n.colorMask(!1,!1,!1,!1),a?(n.stencilFunc(n.EQUAL,c,u),n.stencilOp(n.KEEP,n.KEEP,n.INCR),c++):(n.stencilFunc(n.EQUAL,c+1,u),n.stencilOp(n.KEEP,n.KEEP,n.DECR)),this.level=c,d.renderWebGL(f,d,l),f.flush(),n.colorMask(!0,!0,!0,!0),n.stencilOp(n.KEEP,n.KEEP,n.KEEP),this.invertAlpha?n.stencilFunc(n.NOTEQUAL,c,u):n.stencilFunc(n.EQUAL,c,u)},postRenderWebGL:function(f){var l=f.gl;f.maskStack.pop(),f.maskCount--,f.flush();var a=f.currentMask;if(f.maskStack.length===0)a.mask=null,l.disable(l.STENCIL_TEST);else{var n=f.maskStack[f.maskStack.length-1];n.mask.applyStencil(f,n.camera,!1),f.currentCameraMask.mask!==n.mask?(a.mask=n.mask,a.camera=n.camera):a.mask=null}},preRenderCanvas:function(f,l,a){var n=this.geometryMask;f.currentContext.save(),n.renderCanvas(f,n,a,null,null,!0),f.currentContext.clip()},postRenderCanvas:function(f){f.currentContext.restore()},destroy:function(){this.geometryMask=null}});r.exports=x},69781:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BitmapMask:i(6858),GeometryMask:i(80661)}},73894:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d){(!a||a==="")&&(a=["precision mediump float;","uniform vec2 resolution;","varying vec2 fragCoord;","void main () {","    vec2 uv = fragCoord / resolution.xy;","    gl_FragColor = vec4(uv.xyx, 1.0);","}"].join(`
`)),(!n||n==="")&&(n=["precision mediump float;","uniform mat4 uProjectionMatrix;","uniform mat4 uViewMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","varying vec2 fragCoord;","varying vec2 outTexCoord;","void main () {","   gl_Position = uProjectionMatrix * uViewMatrix * vec4(inPosition, 1.0, 1.0);","   fragCoord = vec2(inPosition.x, uResolution.y - inPosition.y);","   outTexCoord = vec2(inPosition.x / uResolution.x, fragCoord.y / uResolution.y);","}"].join(`
`)),d===void 0&&(d=null),this.key=l,this.fragmentSrc=a,this.vertexSrc=n,this.uniforms=d}});r.exports=x},40366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x;if(h)typeof h=="string"?x=document.getElementById(h):typeof h=="object"&&h.nodeType===1&&(x=h);else if(i.parentElement||h===null)return i;return x||(x=document.body),x.appendChild(i),i};r.exports=C},83719:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40366),x=function(f){var l=f.config;if(!(!l.parent||!l.domCreateContainer)){var a=document.createElement("div");a.style.cssText=["display: block;","width: "+f.scale.width+"px;","height: "+f.scale.height+"px;","padding: 0; margin: 0;","position: absolute;","overflow: hidden;","pointer-events: "+l.domPointerEvents+";","transform: scale(1);","transform-origin: left top;"].join(" "),f.domContainer=a,h(a,l.parent)}};r.exports=x},57264:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25892),x=function(f){if(document.readyState==="complete"||document.readyState==="interactive"){f();return}var l=function(){document.removeEventListener("deviceready",l,!0),document.removeEventListener("DOMContentLoaded",l,!0),window.removeEventListener("load",l,!0),f()};document.body?h.cordova?document.addEventListener("deviceready",l,!1):(document.addEventListener("DOMContentLoaded",l,!0),window.addEventListener("load",l,!0)):window.setTimeout(l,20)};r.exports=x},57811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){if(!i)return window.innerHeight;var h=Math.abs(window.orientation),x={w:0,h:0},f=document.createElement("div");return f.setAttribute("style","position: fixed; height: 100vh; width: 0; top: 0"),document.documentElement.appendChild(f),x.w=h===90?f.offsetHeight:window.innerWidth,x.h=h===90?window.innerWidth:f.offsetHeight,document.documentElement.removeChild(f),f=null,Math.abs(window.orientation)!==90?x.h:x.w};r.exports=C},45818:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13560),x=function(f,l){var a=window.screen,n=a?a.orientation||a.mozOrientation||a.msOrientation:!1;if(n&&typeof n.type=="string")return n.type;if(typeof n=="string")return n;if(typeof window.orientation=="number")return window.orientation===0||window.orientation===180?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE;if(window.matchMedia){if(window.matchMedia("(orientation: portrait)").matches)return h.ORIENTATION.PORTRAIT;if(window.matchMedia("(orientation: landscape)").matches)return h.ORIENTATION.LANDSCAPE}else return l>f?h.ORIENTATION.PORTRAIT:h.ORIENTATION.LANDSCAPE};r.exports=x},74403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h;return i!==""&&(typeof i=="string"?h=document.getElementById(i):i&&i.nodeType===1&&(h=i)),h||(h=document.body),h};r.exports=C},56836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h="";try{if(window.DOMParser){var x=new DOMParser;h=x.parseFromString(i,"text/xml")}else h=new ActiveXObject("Microsoft.XMLDOM"),h.loadXML(i)}catch{h=null}return!h||!h.documentElement||h.getElementsByTagName("parsererror").length?null:h};r.exports=C},35846:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){i.parentNode&&i.parentNode.removeChild(i)};r.exports=C},43092:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(29747),f=new h({initialize:function(){this.isRunning=!1,this.callback=x,this.isSetTimeOut=!1,this.timeOutID=null,this.delay=0;var a=this;this.step=function n(d){a.callback(d),a.isRunning&&(a.timeOutID=window.requestAnimationFrame(n))},this.stepTimeout=function n(){a.isRunning&&(a.timeOutID=window.setTimeout(n,a.delay)),a.callback(window.performance.now())}},start:function(l,a,n){this.isRunning||(this.callback=l,this.isSetTimeOut=a,this.delay=n,this.isRunning=!0,this.timeOutID=a?window.setTimeout(this.stepTimeout,0):window.requestAnimationFrame(this.step))},stop:function(){this.isRunning=!1,this.isSetTimeOut?clearTimeout(this.timeOutID):window.cancelAnimationFrame(this.timeOutID)},destroy:function(){this.stop(),this.callback=x}});r.exports=f},84902:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={AddToDOM:i(40366),DOMContentLoaded:i(57264),GetInnerHeight:i(57811),GetScreenOrientation:i(45818),GetTarget:i(74403),ParseXML:i(56836),RemoveFromDOM:i(35846),RequestAnimationFrame:i(43092)};r.exports=h},47565:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(37277),l=new h({Extends:x,initialize:function(){x.call(this)},shutdown:function(){this.removeAllListeners()},destroy:function(){this.removeAllListeners()}});f.register("EventEmitter",l,"events"),r.exports=l},93055:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EventEmitter:i(47565)}},20122:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d){d===void 0&&(d=1),x.call(this,f.BARREL,n),this.amount=d}});r.exports=l},32251:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v,p,g){c===void 0&&(c=1),u===void 0&&(u=1),v===void 0&&(v=1),p===void 0&&(p=1),g===void 0&&(g=4),x.call(this,f.BLOOM,n),this.steps=g,this.offsetX=c,this.offsetY=u,this.blurStrength=v,this.strength=p,this.glcolor=[1,1,1],d!=null&&(this.color=d)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var n=this.glcolor;n[0]=(a>>16&255)/255,n[1]=(a>>8&255)/255,n[2]=(a&255)/255}}});r.exports=l},9047:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v,p,g){d===void 0&&(d=0),c===void 0&&(c=2),u===void 0&&(u=2),v===void 0&&(v=1),g===void 0&&(g=4),x.call(this,f.BLUR,n),this.quality=d,this.x=c,this.y=u,this.steps=g,this.strength=v,this.glcolor=[1,1,1],p!=null&&(this.color=p)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var n=this.glcolor;n[0]=(a>>16&255)/255,n[1]=(a>>8&255)/255,n[2]=(a&255)/255}}});r.exports=l},27885:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v,p,g,m){d===void 0&&(d=.5),c===void 0&&(c=1),u===void 0&&(u=.2),v===void 0&&(v=!1),p===void 0&&(p=1),g===void 0&&(g=1),m===void 0&&(m=1),x.call(this,f.BOKEH,n),this.radius=d,this.amount=c,this.contrast=u,this.isTiltShift=v,this.strength=m,this.blurX=p,this.blurY=g}});r.exports=l},12578:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v,p){d===void 0&&(d=8),v===void 0&&(v=1),p===void 0&&(p=.005),x.call(this,f.CIRCLE,n),this.scale=v,this.feather=p,this.thickness=d,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4],c!=null&&(this.color=c),u!=null&&(this.backgroundColor=u)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var n=this.glcolor;n[0]=(a>>16&255)/255,n[1]=(a>>8&255)/255,n[2]=(a&255)/255}},backgroundColor:{get:function(){var a=this.glcolor2;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var n=this.glcolor2;n[0]=(a>>16&255)/255,n[1]=(a>>8&255)/255,n[2]=(a&255)/255}},backgroundAlpha:{get:function(){return this.glcolor2[3]},set:function(a){this.glcolor2[3]=a}}});r.exports=l},15802:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(89422),f=i(14811),l=new h({Extends:x,initialize:function(n){x.call(this),this.type=f.COLOR_MATRIX,this.gameObject=n,this.active=!0},destroy:function(){this.gameObject=null,this._matrix=null,this._data=null}});r.exports=l},72898:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a){this.type=l,this.gameObject=a,this.active=!0},setActive:function(f){return this.active=f,this},destroy:function(){this.gameObject=null,this.active=!1}});r.exports=x},44553:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u){d===void 0&&(d="__WHITE"),c===void 0&&(c=.005),u===void 0&&(u=.005),x.call(this,f.DISPLACEMENT,n),this.x=c,this.y=u,this.glTexture,this.setTexture(d)},setTexture:function(a){var n=this.gameObject.scene.sys.textures.getFrame(a);return n&&(this.glTexture=n.glTexture),this}});r.exports=l},68531:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v){c===void 0&&(c=4),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,f.GLOW,n),this.outerStrength=c,this.innerStrength=u,this.knockout=v,this.glcolor=[1,1,1,1],d!==void 0&&(this.color=d)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var n=this.glcolor;n[0]=(a>>16&255)/255,n[1]=(a>>8&255)/255,n[2]=(a&255)/255}}});r.exports=l},37102:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v,p,g,m,T){u===void 0&&(u=.2),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=1),T===void 0&&(T=0),x.call(this,f.GRADIENT,n),this.alpha=u,this.size=T,this.fromX=v,this.fromY=p,this.toX=g,this.toY=m,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0],d!=null&&(this.color1=d),c!=null&&(this.color2=c)},color1:{get:function(){var a=this.glcolor1;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var n=this.glcolor1;n[0]=a>>16&255,n[1]=a>>8&255,n[2]=a&255}},color2:{get:function(){var a=this.glcolor2;return(a[0]<<16)+(a[1]<<8)+(a[2]|0)},set:function(a){var n=this.glcolor2;n[0]=a>>16&255,n[1]=a>>8&255,n[2]=a&255}}});r.exports=l},86886:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d){d===void 0&&(d=1),x.call(this,f.PIXELATE,n),this.amount=d}});r.exports=l},92322:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v,p,g,m){d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=.1),v===void 0&&(v=1),g===void 0&&(g=6),m===void 0&&(m=1),x.call(this,f.SHADOW,n),this.x=d,this.y=c,this.decay=u,this.power=v,this.glcolor=[0,0,0,1],this.samples=g,this.intensity=m,p!==void 0&&(this.color=p)},color:{get:function(){var a=this.glcolor;return(a[0]*255<<16)+(a[1]*255<<8)+(a[2]*255|0)},set:function(a){var n=this.glcolor;n[0]=(a>>16&255)/255,n[1]=(a>>8&255)/255,n[2]=(a&255)/255}}});r.exports=l},39563:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v){d===void 0&&(d=.5),c===void 0&&(c=.5),u===void 0&&(u=3),v===void 0&&(v=!1),x.call(this,f.SHINE,n),this.speed=d,this.lineWidth=c,this.gradient=u,this.reveal=v}});r.exports=l},56448:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v){d===void 0&&(d=.5),c===void 0&&(c=.5),u===void 0&&(u=.5),v===void 0&&(v=.5),x.call(this,f.VIGNETTE,n),this.x=d,this.y=c,this.radius=u,this.strength=v}});r.exports=l},38433:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72898),f=i(14811),l=new h({Extends:x,initialize:function(n,d,c,u,v){d===void 0&&(d=.1),c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=!1),x.call(this,f.WIPE,n),this.progress=0,this.wipeWidth=d,this.direction=c,this.axis=u,this.reveal=v}});r.exports=l},14811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={GLOW:4,SHADOW:5,PIXELATE:6,VIGNETTE:7,SHINE:8,BLUR:9,GRADIENT:12,BLOOM:13,COLOR_MATRIX:14,CIRCLE:15,BARREL:16,DISPLACEMENT:17,WIPE:18,BOKEH:19};r.exports=C},66064:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),x=i(14811),f={Barrel:i(20122),Controller:i(72898),Bloom:i(32251),Blur:i(9047),Bokeh:i(27885),Circle:i(12578),ColorMatrix:i(15802),Displacement:i(44553),Glow:i(68531),Gradient:i(37102),Pixelate:i(86886),Shadow:i(92322),Shine:i(39563),Vignette:i(56448),Wipe:i(38433)};f=h(!1,f,x),r.exports=f},25305:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x=i(23568),f=function(l,a,n){a.x=x(n,"x",0),a.y=x(n,"y",0),a.depth=x(n,"depth",0),a.flipX=x(n,"flipX",!1),a.flipY=x(n,"flipY",!1);var d=x(n,"scale",null);typeof d=="number"?a.setScale(d):d!==null&&(a.scaleX=x(d,"x",1),a.scaleY=x(d,"y",1));var c=x(n,"scrollFactor",null);typeof c=="number"?a.setScrollFactor(c):c!==null&&(a.scrollFactorX=x(c,"x",1),a.scrollFactorY=x(c,"y",1)),a.rotation=x(n,"rotation",0);var u=x(n,"angle",null);u!==null&&(a.angle=u),a.alpha=x(n,"alpha",1);var v=x(n,"origin",null);if(typeof v=="number")a.setOrigin(v);else if(v!==null){var p=x(v,"x",.5),g=x(v,"y",.5);a.setOrigin(p,g)}a.blendMode=x(n,"blendMode",h.NORMAL),a.visible=x(n,"visible",!0);var m=x(n,"add",!0);return m&&l.sys.displayList.add(a),a.preUpdate&&l.sys.updateList.add(a),a};r.exports=f},13059:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23568),x=function(f,l){var a=h(l,"anims",null);if(a===null)return f;if(typeof a=="string")f.anims.play(a);else if(typeof a=="object"){var n=f.anims,d=h(a,"key",void 0);if(d){var c=h(a,"startFrame",void 0),u=h(a,"delay",0),v=h(a,"repeat",0),p=h(a,"repeatDelay",0),g=h(a,"yoyo",!1),m=h(a,"play",!1),T=h(a,"delayedPlay",0),P={key:d,delay:u,repeat:v,repeatDelay:p,yoyo:g,startFrame:c};m?n.play(P):T>0?n.playAfterDelay(P,T):n.load(P)}}return f};r.exports=x},8050:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(73162),f=i(37277),l=i(51708),a=i(44594),n=i(19186),d=new h({Extends:x,initialize:function(u){x.call(this,u),this.sortChildrenFlag=!1,this.scene=u,this.systems=u.sys,this.events=u.sys.events,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.events.once(a.BOOT,this.boot,this),this.events.on(a.START,this.start,this)},boot:function(){this.events.once(a.DESTROY,this.destroy,this)},addChildCallback:function(c){c.displayList&&c.displayList!==this&&c.removeFromDisplayList(),c.parentContainer&&c.parentContainer.remove(c),c.displayList||(this.queueDepthSort(),c.displayList=this,c.emit(l.ADDED_TO_SCENE,c,this.scene),this.events.emit(a.ADDED_TO_SCENE,c,this.scene))},removeChildCallback:function(c){this.queueDepthSort(),c.displayList=null,c.emit(l.REMOVED_FROM_SCENE,c,this.scene),this.events.emit(a.REMOVED_FROM_SCENE,c,this.scene)},start:function(){this.events.once(a.SHUTDOWN,this.shutdown,this)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(n(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(c,u){return c._depth-u._depth},getChildren:function(){return this.list},shutdown:function(){for(var c=this.list,u=c.length;u--;)c[u].destroy(!0);c.length=0,this.events.off(a.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(a.START,this.start,this),this.scene=null,this.systems=null,this.events=null}});f.register("DisplayList",d,"displayList"),r.exports=d},95643:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(53774),f=i(45893),l=i(50792),a=i(51708),n=i(44594),d=new h({Extends:l,initialize:function(u,v){l.call(this),this.scene=u,this.displayList=null,this.type=v,this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.on(a.ADDED_TO_SCENE,this.addedToScene,this),this.on(a.REMOVED_FROM_SCENE,this.removedFromScene,this),u.sys.queueDepthSort()},setActive:function(c){return this.active=c,this},setName:function(c){return this.name=c,this},setState:function(c){return this.state=c,this},setDataEnabled:function(){return this.data||(this.data=new f(this)),this},setData:function(c,u){return this.data||(this.data=new f(this)),this.data.set(c,u),this},incData:function(c,u){return this.data||(this.data=new f(this)),this.data.inc(c,u),this},toggleData:function(c){return this.data||(this.data=new f(this)),this.data.toggle(c),this},getData:function(c){return this.data||(this.data=new f(this)),this.data.get(c)},setInteractive:function(c,u,v){return this.scene.sys.input.enable(this,c,u,v),this},disableInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.disable(this,c),this},removeInteractive:function(c){return c===void 0&&(c=!1),this.scene.sys.input.clear(this),c&&this.scene.sys.input.resetCursor(),this.input=void 0,this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return x(this)},willRender:function(c){var u=this.displayList&&this.displayList.active?this.displayList.willRender(c):!0;return!(!u||d.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&c.id)},getIndexList:function(){for(var c=this,u=this.parentContainer,v=[];u&&(v.unshift(u.getIndex(c)),c=u,u.parentContainer);)u=u.parentContainer;return this.displayList?v.unshift(this.displayList.getIndex(c)):v.unshift(this.scene.sys.displayList.getIndex(c)),v},addToDisplayList:function(c){return c===void 0&&(c=this.scene.sys.displayList),this.displayList&&this.displayList!==c&&this.removeFromDisplayList(),c.exists(this)||(this.displayList=c,c.add(this,!0),c.queueDepthSort(),this.emit(a.ADDED_TO_SCENE,this,this.scene),c.events.emit(n.ADDED_TO_SCENE,this,this.scene)),this},addToUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.add(this),this},removeFromDisplayList:function(){var c=this.displayList||this.scene.sys.displayList;return c&&c.exists(this)&&(c.remove(this,!0),c.queueDepthSort(),this.displayList=null,this.emit(a.REMOVED_FROM_SCENE,this,this.scene),c.events.emit(n.REMOVED_FROM_SCENE,this,this.scene)),this},removeFromUpdateList:function(){return this.scene&&this.preUpdate&&this.scene.sys.updateList.remove(this),this},getDisplayList:function(){var c=null;return this.parentContainer?c=this.parentContainer.list:this.displayList&&(c=this.displayList.list),c},destroy:function(c){!this.scene||this.ignoreDestroy||(c===void 0&&(c=!1),this.preDestroy&&this.preDestroy.call(this),this.emit(a.DESTROY,this,c),this.removeAllListeners(),this.postPipelines&&this.resetPostPipeline(!0),this.removeFromDisplayList(),this.removeFromUpdateList(),this.input&&(this.scene.sys.input.clear(this),this.input=void 0),this.data&&(this.data.destroy(),this.data=void 0),this.body&&(this.body.destroy(),this.body=void 0),this.preFX&&(this.preFX.destroy(),this.preFX=void 0),this.postFX&&(this.postFX.destroy(),this.postFX=void 0),this.active=!1,this.visible=!1,this.scene=void 0,this.parentContainer=void 0)}});d.RENDER_MASK=15,r.exports=d},44603:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(37277),f=i(44594),l=new h({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(a,n){l.prototype.hasOwnProperty(a)||(l.prototype[a]=n)},l.remove=function(a){l.prototype.hasOwnProperty(a)&&delete l.prototype[a]},x.register("GameObjectCreator",l,"make"),r.exports=l},39429:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(37277),f=i(44594),l=new h({initialize:function(n){this.scene=n,this.systems=n.sys,this.events=n.sys.events,this.displayList,this.updateList,this.events.once(f.BOOT,this.boot,this),this.events.on(f.START,this.start,this)},boot:function(){this.displayList=this.systems.displayList,this.updateList=this.systems.updateList,this.events.once(f.DESTROY,this.destroy,this)},start:function(){this.events.once(f.SHUTDOWN,this.shutdown,this)},existing:function(a){return(a.renderCanvas||a.renderWebGL)&&this.displayList.add(a),a.preUpdate&&this.updateList.add(a),a},shutdown:function(){this.events.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.events=null,this.displayList=null,this.updateList=null}});l.register=function(a,n){l.prototype.hasOwnProperty(a)||(l.prototype[a]=n)},l.remove=function(a){l.prototype.hasOwnProperty(a)&&delete l.prototype[a]},x.register("GameObjectFactory",l,"add"),r.exports=l},91296:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61340),x=new h,f=new h,l=new h,a={camera:x,sprite:f,calc:l},n=function(d,c,u){var v=x,p=f,g=l;return p.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),v.copyFrom(c.matrix),u?(v.multiplyWithOffset(u,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),p.e=d.x,p.f=d.y):(p.e-=c.scrollX*d.scrollFactorX,p.f-=c.scrollY*d.scrollFactorY),v.multiply(p,g),a};r.exports=n},45027:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(25774),f=i(37277),l=i(44594),a=new h({Extends:x,initialize:function(d){x.call(this),this.checkQueue=!0,this.scene=d,this.systems=d.sys,d.sys.events.once(l.BOOT,this.boot,this),d.sys.events.on(l.START,this.start,this)},boot:function(){this.systems.events.once(l.DESTROY,this.destroy,this)},start:function(){var n=this.systems.events;n.on(l.PRE_UPDATE,this.update,this),n.on(l.UPDATE,this.sceneUpdate,this),n.once(l.SHUTDOWN,this.shutdown,this)},sceneUpdate:function(n,d){for(var c=this._active,u=c.length,v=0;v<u;v++){var p=c[v];p.active&&p.preUpdate.call(p,n,d)}},shutdown:function(){for(var n=this._active.length;n--;)this._active[n].destroy(!0);for(n=this._pending.length;n--;)this._pending[n].destroy(!0);for(n=this._destroy.length;n--;)this._destroy[n].destroy(!0);this._toProcess=0,this._pending=[],this._active=[],this._destroy=[],this.removeAllListeners();var d=this.systems.events;d.off(l.PRE_UPDATE,this.update,this),d.off(l.UPDATE,this.sceneUpdate,this),d.off(l.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.systems.events.off(l.START,this.start,this),this.scene=null,this.systems=null}});f.register("UpdateList",a,"updateList"),r.exports=a},3217:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l,a,n,d,c,u,v,p,g,m,T){var P=x.x-h.displayOriginX+l,E=x.y-h.displayOriginY+a,M=P+x.w,w=E+x.h,R=n.a,A=n.b,O=n.c,F=n.d,L=n.e,b=n.f,D=P*R+E*O+L,I=P*A+E*F+b,k=P*R+w*O+L,X=P*A+w*F+b,W=M*R+w*O+L,Y=M*A+w*F+b,N=M*R+E*O+L,V=M*A+E*F+b;d&&(D=Math.round(D),I=Math.round(I),k=Math.round(k),X=Math.round(X),W=Math.round(W),Y=Math.round(Y),N=Math.round(N),V=Math.round(V)),i.batchQuad(h,D,I,k,X,W,Y,N,V,f.u0,f.v0,f.u1,f.v1,c,u,v,p,g,m,T)};r.exports=C},53048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){if(x===void 0&&(x=!1),f===void 0)return f={local:{x:0,y:0,width:0,height:0},global:{x:0,y:0,width:0,height:0},lines:{shortest:0,longest:0,lengths:null,height:0},wrappedText:"",words:[],characters:[],scaleX:0,scaleY:0},f;var l=i.text,a=l.length,n=i.maxWidth,d=i.wordWrapCharCode,c=Number.MAX_VALUE,u=Number.MAX_VALUE,v=0,p=0,g=i.fontData.chars,m=i.fontData.lineHeight,T=i.letterSpacing,P=i.lineSpacing,E=0,M=0,w=0,R=null,A=i._align,O=0,F=0,L=i.fontSize/i.fontData.size,b=L*i.scaleX,D=L*i.scaleY,I=null,k=0,X=[],W=Number.MAX_VALUE,Y=0,N=0,V=0,G,B,z,U=[],H=[],$=null,K=function(Gt,se){for(var bt=0,Nt=0;Nt<Gt.length;Nt++){var Ut=Gt.charCodeAt(Nt),ye=se.chars[Ut];ye&&(bt+=ye.xAdvance)}return bt*b};if(n>0){z=l.split(`
`);var Z=[];for(G=0;G<z.length;G++){var J=z[G],Q="",j="",tt="",it="";for(B=0;B<J.length;B++)if(w=J.charCodeAt(B),Q+=J[B],w===d||B===J.length-1){it=tt+Q;var q=K(it,i.fontData);q<=n?tt=it:(j=j.slice(0,-1),j+=(j?`
`:"")+tt,tt=Q),Q=""}j=j.slice(0,-1),j+=(j?`
`:"")+tt,Z.push(j)}l=Z.join(`
`),f.wrappedText=l,a=l.length}var ht=0;for(G=0;G<a;G++){if(w=l.charCodeAt(G),w===10){$!==null&&(U.push({word:$.word,i:$.i,x:$.x*b,y:$.y*D,w:$.w*b,h:$.h*D}),$=null),I=null,X[N]=V,V>Y&&(Y=V),V<W&&(W=V),N++,V=0,E=0,M=(m+P)*N;continue}if(R=g[w],!!R){if(O=E,F=M,I!==null){var ot=R.kerning[k];O+=ot!==void 0?ot:0}c>O&&(c=O),u>F&&(u=F);var lt=O+R.xAdvance,_=F+m;v<lt&&(v=lt),p<_&&(p=_);var nt=R.xOffset+R.xAdvance+(ot!==void 0?ot:0);w===d?$!==null&&(U.push({word:$.word,i:$.i,x:$.x*b,y:$.y*D,w:$.w*b,h:$.h*D}),$=null):($===null&&($={word:"",i:ht,x:E,y:M,w:0,h:m}),$.word=$.word.concat(l[G]),$.w+=nt),H.push({i:ht,idx:G,char:l[G],code:w,x:(R.xOffset+O)*L,y:(R.yOffset+M)*L,w:R.width*L,h:R.height*L,t:M*L,r:lt*L,b:m*L,line:N,glyph:R}),E+=R.xAdvance+T+(ot!==void 0?ot:0),I=R,k=w,V=lt*L,ht++}}if($!==null&&U.push({word:$.word,i:$.i,x:$.x*b,y:$.y*D,w:$.w*b,h:$.h*D}),X[N]=V,V>Y&&(Y=V),V<W&&(W=V),A>0)for(var at=0;at<H.length;at++){var ct=H[at];if(A===1){var Ct=(Y-X[ct.line])/2;ct.x+=Ct,ct.r+=Ct}else if(A===2){var Ft=Y-X[ct.line];ct.x+=Ft,ct.r+=Ft}}var xt=f.local,St=f.global;return z=f.lines,xt.x=c*L,xt.y=u*L,xt.width=v*L,xt.height=p*L,St.x=i.x-i._displayOriginX+c*b,St.y=i.y-i._displayOriginY+u*D,St.width=v*b,St.height=p*D,z.shortest=W,z.longest=Y,z.lengths=X,h&&(xt.x=Math.ceil(xt.x),xt.y=Math.ceil(xt.y),xt.width=Math.ceil(xt.width),xt.height=Math.ceil(xt.height),St.x=Math.ceil(St.x),St.y=Math.ceil(St.y),St.width=Math.ceil(St.width),St.height=Math.ceil(St.height),z.shortest=Math.ceil(W),z.longest=Math.ceil(Y)),x&&(i._displayOriginX=i.originX*xt.width,i._displayOriginY=i.originY*xt.height,St.x=i.x-i._displayOriginX*i.scaleX,St.y=i.y-i._displayOriginY*i.scaleY,h&&(St.x=Math.ceil(St.x),St.y=Math.ceil(St.y))),f.words=U,f.characters=H,f.lines.height=m,f.scale=L,f.scaleX=i.scaleX,f.scaleY=i.scaleY,f};r.exports=C},61327:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(21859),x=function(f,l,a,n,d,c,u){var v=f.sys.textures.get(a),p=v.get(n),g=f.sys.cache.xml.get(d);if(p&&g){var m=h(g,p,c,u,v);return f.sys.cache.bitmapFont.add(l,{data:m,texture:a,frame:n,fromAtlas:!0}),!0}else return!1};r.exports=x},6925:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),x=function(f,l){var a=l.width,n=l.height,d=Math.floor(a/2),c=Math.floor(n/2),u=h(l,"chars","");if(u!==""){var v=h(l,"image",""),p=f.sys.textures.getFrame(v),g=p.cutX,m=p.cutY,T=p.source.width,P=p.source.height,E=h(l,"offset.x",0),M=h(l,"offset.y",0),w=h(l,"spacing.x",0),R=h(l,"spacing.y",0),A=h(l,"lineSpacing",0),O=h(l,"charsPerRow",null);O===null&&(O=T/a,O>u.length&&(O=u.length));for(var F=E,L=M,b={retroFont:!0,font:v,size:a,lineHeight:n+A,chars:{}},D=0,I=0;I<u.length;I++){var k=u.charCodeAt(I),X=(g+F)/T,W=(m+L)/P,Y=(g+F+a)/T,N=(m+L+n)/P;b.chars[k]={x:F,y:L,width:a,height:n,centerX:d,centerY:c,xOffset:0,yOffset:0,xAdvance:a,data:{},kerning:{},u0:X,v0:W,u1:Y,v1:N},D++,D===O?(D=0,F=E,L+=n+R):F+=a+w}var V={data:b,frame:null,texture:v};return V}};r.exports=x},21859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(h,x){return parseInt(h.getAttribute(x),10)}var i=function(h,x,f,l,a){f===void 0&&(f=0),l===void 0&&(l=0);var n=x.cutX,d=x.cutY,c=x.source.width,u=x.source.height,v=x.sourceIndex,p={},g=h.getElementsByTagName("info")[0],m=h.getElementsByTagName("common")[0];p.font=g.getAttribute("face"),p.size=C(g,"size"),p.lineHeight=C(m,"lineHeight")+l,p.chars={};var T=h.getElementsByTagName("char"),P=x!==void 0&&x.trimmed;if(P)var E=x.height,M=x.width;for(var w=0;w<T.length;w++){var R=T[w],A=C(R,"id"),O=String.fromCharCode(A),F=C(R,"x"),L=C(R,"y"),b=C(R,"width"),D=C(R,"height");P&&(F<M&&(M=F),L<E&&(E=L)),P&&E!==0&&M!==0&&(F-=x.x,L-=x.y);var I=(n+F)/c,k=(d+L)/u,X=(n+F+b)/c,W=(d+L+D)/u;if(p.chars[A]={x:F,y:L,width:b,height:D,centerX:Math.floor(b/2),centerY:Math.floor(D/2),xOffset:C(R,"xoffset"),yOffset:C(R,"yoffset"),xAdvance:C(R,"xadvance")+f,data:{},kerning:{},u0:I,v0:k,u1:X,v1:W},a&&b!==0&&D!==0){var Y=a.add(O,v,F,L,b,D);Y&&Y.setUVs(b,D,I,k,X,W)}}var N=h.getElementsByTagName("kerning");for(w=0;w<N.length;w++){var V=N[w],G=C(V,"first"),B=C(V,"second"),z=C(V,"amount");p.chars[B].kerning[G]=z}return p};r.exports=i},196:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87662),x=i(79291),f={Parse:i(6925)};f=x(!1,f,h),r.exports=f},87662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={TEXT_SET1:" !\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~",TEXT_SET2:` !"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ`,TEXT_SET3:"ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789 ",TEXT_SET4:"ABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789",TEXT_SET5:"ABCDEFGHIJKLMNOPQRSTUVWXYZ.,/() '!?-*:0123456789",TEXT_SET6:`ABCDEFGHIJKLMNOPQRSTUVWXYZ!?:;0123456789"(),-.' `,TEXT_SET7:`AGMSY+:4BHNTZ!;5CIOU.?06DJPV,(17EKQW")28FLRX-'39`,TEXT_SET8:"0123456789 .ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET9:`ABCDEFGHIJKLMNOPQRSTUVWXYZ()-0123456789.:,'"?!`,TEXT_SET10:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",TEXT_SET11:`ABCDEFGHIJKLMNOPQRSTUVWXYZ.,"-+!?()':;0123456789`};r.exports=C},2638:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22186),x=i(83419),f=i(12310),l=new x({Extends:h,Mixins:[f],initialize:function(n,d,c,u,v,p,g){h.call(this,n,d,c,u,v,p,g),this.type="DynamicBitmapText",this.scrollX=0,this.scrollY=0,this.cropWidth=0,this.cropHeight=0,this.displayCallback,this.callbackData={parent:this,color:0,tint:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},index:0,charCode:0,x:0,y:0,scale:0,rotation:0,data:0}},setSize:function(a,n){return this.cropWidth=a,this.cropHeight=n,this},setDisplayCallback:function(a){return this.displayCallback=a,this},setScrollX:function(a){return this.scrollX=a,this},setScrollY:function(a){return this.scrollY=a,this}});r.exports=l},86741:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20926),x=function(f,l,a,n){var d=l._text,c=d.length,u=f.currentContext;if(!(c===0||!h(f,u,l,a,n))){a.addToRenderList(l);var v=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.displayCallback,g=l.callbackData,m=l.fontData.chars,T=l.fontData.lineHeight,P=l._letterSpacing,E=0,M=0,w=0,R=null,A=0,O=0,F=0,L=0,b=0,D=0,I=null,k=0,X=l.frame.source.image,W=v.cutX,Y=v.cutY,N=0,V=0,G=l._fontSize/l.fontData.size,B=l._align,z=0,U=0;l.getTextBounds(!1);var H=l._bounds.lines;B===1?U=(H.longest-H.lengths[0])/2:B===2&&(U=H.longest-H.lengths[0]),u.translate(-l.displayOriginX,-l.displayOriginY);var $=a.roundPixels;l.cropWidth>0&&l.cropHeight>0&&(u.beginPath(),u.rect(0,0,l.cropWidth,l.cropHeight),u.clip());for(var K=0;K<c;K++){if(V=G,N=0,w=d.charCodeAt(K),w===10){z++,B===1?U=(H.longest-H.lengths[z])/2:B===2&&(U=H.longest-H.lengths[z]),E=0,M+=T,I=null;continue}if(R=m[w],!!R){if(A=W+R.x,O=Y+R.y,F=R.width,L=R.height,b=R.xOffset+E-l.scrollX,D=R.yOffset+M-l.scrollY,I!==null){var Z=R.kerning[k];b+=Z!==void 0?Z:0}if(p){g.index=K,g.charCode=w,g.x=b,g.y=D,g.scale=V,g.rotation=N,g.data=R.data;var J=p(g);b=J.x,D=J.y,V=J.scale,N=J.rotation}b*=V,D*=V,b+=U,E+=R.xAdvance+P+(Z!==void 0?Z:0),I=R,k=w,!(F===0||L===0||w===32)&&($&&(b=Math.round(b),D=Math.round(D)),u.save(),u.translate(b,D),u.rotate(N),u.scale(V,V),u.drawImage(X,A,O,F,L,0,0,F,L),u.restore())}}u.restore()}};r.exports=x},11164:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2638),x=i(25305),f=i(44603),l=i(23568);f.register("dynamicBitmapText",function(a,n){a===void 0&&(a={});var d=l(a,"font",""),c=l(a,"text",""),u=l(a,"size",!1),v=new h(this.scene,0,0,d,c,u);return n!==void 0&&(a.add=n),x(this.scene,v,a),v})},72566:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2638),x=i(39429);x.register("dynamicBitmapText",function(f,l,a,n,d){return this.displayList.add(new h(this.scene,f,l,a,n,d))})},12310:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(73482),f=i(86741),r.exports={renderWebGL:x,renderCanvas:f}},73482:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(61340),f=i(70554),l=new x,a=function(n,d,c,u){var v=d.text,p=v.length;if(p!==0){c.addToRenderList(d);var g=n.pipelines.set(d.pipeline,d),m=h(d,c,u);n.pipelines.preBatch(d);var T=m.sprite,P=m.calc,E=l,M=d.cropWidth>0||d.cropHeight>0;M&&(g.flush(),n.pushScissor(P.tx,P.ty,d.cropWidth*P.scaleX,d.cropHeight*P.scaleY));var w=d.frame,R=w.glTexture,A=d.tintFill,O=f.getTintAppendFloatAlpha(d.tintTopLeft,c.alpha*d._alphaTL),F=f.getTintAppendFloatAlpha(d.tintTopRight,c.alpha*d._alphaTR),L=f.getTintAppendFloatAlpha(d.tintBottomLeft,c.alpha*d._alphaBL),b=f.getTintAppendFloatAlpha(d.tintBottomRight,c.alpha*d._alphaBR),D=g.setGameObject(d),I=0,k=0,X=0,W=0,Y=d.letterSpacing,N,V=0,G=0,B,z=d.scrollX,U=d.scrollY,H=d.fontData,$=H.chars,K=H.lineHeight,Z=d.fontSize/H.size,J=0,Q=d._align,j=0,tt=0,it=d.getTextBounds(!1);d.maxWidth>0&&(v=it.wrappedText,p=v.length);var q=d._bounds.lines;Q===1?tt=(q.longest-q.lengths[0])/2:Q===2&&(tt=q.longest-q.lengths[0]);for(var ht=c.roundPixels,ot=d.displayCallback,lt=d.callbackData,_=0;_<p;_++){if(X=v.charCodeAt(_),X===10){j++,Q===1?tt=(q.longest-q.lengths[j])/2:Q===2&&(tt=q.longest-q.lengths[j]),I=0,k+=K,B=null;continue}if(N=$[X],!!N){V=N.width,G=N.height;var nt=N.xOffset+I-z,at=N.yOffset+k-U;if(B!==null){var ct=N.kerning[W]||0;nt+=ct,I+=ct}if(I+=N.xAdvance+Y,B=N,W=X,!(V===0||G===0||X===32)){if(Z=d.fontSize/d.fontData.size,J=0,ot){lt.color=0,lt.tint.topLeft=O,lt.tint.topRight=F,lt.tint.bottomLeft=L,lt.tint.bottomRight=b,lt.index=_,lt.charCode=X,lt.x=nt,lt.y=at,lt.scale=Z,lt.rotation=J,lt.data=N.data;var Ct=ot(lt);nt=Ct.x,at=Ct.y,Z=Ct.scale,J=Ct.rotation,Ct.color?(O=Ct.color,F=Ct.color,L=Ct.color,b=Ct.color):(O=Ct.tint.topLeft,F=Ct.tint.topRight,L=Ct.tint.bottomLeft,b=Ct.tint.bottomRight),O=f.getTintAppendFloatAlpha(O,c.alpha*d._alphaTL),F=f.getTintAppendFloatAlpha(F,c.alpha*d._alphaTR),L=f.getTintAppendFloatAlpha(L,c.alpha*d._alphaBL),b=f.getTintAppendFloatAlpha(b,c.alpha*d._alphaBR)}nt*=Z,at*=Z,nt-=d.displayOriginX,at-=d.displayOriginY,nt+=tt,E.applyITRS(nt,at,J,Z,Z),P.multiply(E,T);var Ft=N.u0,xt=N.v0,St=N.u1,Gt=N.v1,se=V,bt=G,Nt=T.e,Ut=T.f,ye=bt*T.c+T.e,Gs=bt*T.d+T.f,Ns=se*T.a+bt*T.c+T.e,ks=se*T.b+bt*T.d+T.f,Vs=se*T.a+T.e,zs=se*T.b+T.f;ht&&(Nt=Math.round(Nt),Ut=Math.round(Ut),ye=Math.round(ye),Gs=Math.round(Gs),Ns=Math.round(Ns),ks=Math.round(ks),Vs=Math.round(Vs),zs=Math.round(zs)),g.shouldFlush(6)&&(g.flush(),D=g.setGameObject(d)),g.batchQuad(d,Nt,Ut,ye,Gs,Ns,ks,Vs,zs,Ft,xt,St,Gt,O,F,L,b,A,R,D)}}}M&&(g.flush(),n.popScissor()),n.pipelines.postBatch(d)}};r.exports=a},22186:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(45319),f=i(31401),l=i(95643),a=i(53048),n=i(61327),d=i(21859),c=i(87841),u=i(18658),v=new h({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Texture,f.Tint,f.Transform,f.Visible,u],initialize:function(g,m,T,P,E,M,w){E===void 0&&(E=""),w===void 0&&(w=0),l.call(this,g,"BitmapText"),this.font=P;var R=this.scene.sys.cache.bitmapFont.get(P);if(!R)throw new Error("Invalid BitmapText key: "+P);this.fontData=R.data,this._text="",this._fontSize=M||this.fontData.size,this._letterSpacing=0,this._lineSpacing=0,this._align=w,this._bounds=a(),this._dirty=!0,this._maxWidth=0,this.wordWrapCharCode=32,this.charColors=[],this.dropShadowX=0,this.dropShadowY=0,this.dropShadowColor=0,this.dropShadowAlpha=.5,this.fromAtlas=R.fromAtlas,this.setTexture(R.texture,R.frame),this.setPosition(m,T),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(),this.setText(E)},setLeftAlign:function(){return this._align=v.ALIGN_LEFT,this._dirty=!0,this},setCenterAlign:function(){return this._align=v.ALIGN_CENTER,this._dirty=!0,this},setRightAlign:function(){return this._align=v.ALIGN_RIGHT,this._dirty=!0,this},setFontSize:function(p){return this._fontSize=p,this._dirty=!0,this},setLetterSpacing:function(p){return p===void 0&&(p=0),this._letterSpacing=p,this._dirty=!0,this},setLineSpacing:function(p){return p===void 0&&(p=0),this.lineSpacing=p,this},setText:function(p){return!p&&p!==0&&(p=""),Array.isArray(p)&&(p=p.join(`
`)),p!==this.text&&(this._text=p.toString(),this._dirty=!0,this.updateDisplayOrigin()),this},setDropShadow:function(p,g,m,T){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=.5),this.dropShadowX=p,this.dropShadowY=g,this.dropShadowColor=m,this.dropShadowAlpha=T,this},setCharacterTint:function(p,g,m,T,P,E,M){p===void 0&&(p=0),g===void 0&&(g=1),m===void 0&&(m=!1),T===void 0&&(T=-1),P===void 0&&(P=T,E=T,M=T);var w=this.text.length;g===-1&&(g=w),p<0&&(p=w+p),p=x(p,0,w-1);for(var R=x(p+g,p,w),A=this.charColors,O=p;O<R;O++){var F=A[O];if(T===-1)A[O]=null;else{var L=m?1:0;F?(F.tintEffect=L,F.tintTL=T,F.tintTR=P,F.tintBL=E,F.tintBR=M):A[O]={tintEffect:L,tintTL:T,tintTR:P,tintBL:E,tintBR:M}}}return this},setWordTint:function(p,g,m,T,P,E,M){g===void 0&&(g=1);for(var w=this.getTextBounds(),R=w.words,A=typeof p=="number",O=0,F=0;F<R.length;F++){var L=R[F];if((A&&F===p||!A&&L.word===p)&&(this.setCharacterTint(L.i,L.word.length,m,T,P,E,M),O++,O===g))return this}return this},getTextBounds:function(p){var g=this._bounds;return(this._dirty||p||this.scaleX!==g.scaleX||this.scaleY!==g.scaleY)&&(a(this,p,!0,g),this._dirty=!1),g},getCharacterAt:function(p,g,m){for(var T=this.getLocalPoint(p,g,null,m),P=this.getTextBounds(),E=P.characters,M=new c,w=0;w<E.length;w++){var R=E[w];if(M.setTo(R.x,R.t,R.r-R.x,R.b),M.contains(T.x,T.y))return R}return null},updateDisplayOrigin:function(){return this._dirty=!0,this.getTextBounds(!1),this},setFont:function(p,g,m){g===void 0&&(g=this._fontSize),m===void 0&&(m=this._align);var T=this.scene.sys.cache.bitmapFont.get(p);return T&&(this.font=p,this.fontData=T.data,this._fontSize=g,this._align=m,this.fromAtlas=T.fromAtlas===!0,this.setTexture(T.texture,T.frame),a(this,!1,!0,this._bounds)),this},setMaxWidth:function(p,g){return this._maxWidth=p,this._dirty=!0,g!==void 0&&(this.wordWrapCharCode=g),this},align:{set:function(p){this._align=p,this._dirty=!0},get:function(){return this._align}},text:{set:function(p){this.setText(p)},get:function(){return this._text}},fontSize:{set:function(p){this._fontSize=p,this._dirty=!0},get:function(){return this._fontSize}},letterSpacing:{set:function(p){this._letterSpacing=p,this._dirty=!0},get:function(){return this._letterSpacing}},lineSpacing:{set:function(p){this._lineSpacing=p,this._dirty=!0},get:function(){return this._lineSpacing}},maxWidth:{set:function(p){this._maxWidth=p,this._dirty=!0},get:function(){return this._maxWidth}},width:{get:function(){return this.getTextBounds(!1),this._bounds.global.width}},height:{get:function(){return this.getTextBounds(!1),this._bounds.global.height}},displayWidth:{get:function(){return this.width}},displayHeight:{get:function(){return this.height}},toJSON:function(){var p=f.ToJSON(this),g={font:this.font,text:this.text,fontSize:this.fontSize,letterSpacing:this.letterSpacing,lineSpacing:this.lineSpacing,align:this.align};return p.data=g,p},preDestroy:function(){this.charColors.length=0,this._bounds=null,this.fontData=null}});v.ALIGN_LEFT=0,v.ALIGN_CENTER=1,v.ALIGN_RIGHT=2,v.ParseFromAtlas=n,v.ParseXMLBitmapFont=d,r.exports=v},37289:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20926),x=function(f,l,a,n){var d=l._text,c=d.length,u=f.currentContext;if(!(c===0||!h(f,u,l,a,n))){a.addToRenderList(l);var v=l.fromAtlas?l.frame:l.texture.frames.__BASE,p=l.fontData.chars,g=l.fontData.lineHeight,m=l._letterSpacing,T=l._lineSpacing,P=0,E=0,M=0,w=null,R=0,A=0,O=0,F=0,L=0,b=0,D=null,I=0,k=v.source.image,X=v.cutX,W=v.cutY,Y=l._fontSize/l.fontData.size,N=l._align,V=0,G=0,B=l.getTextBounds(!1);l.maxWidth>0&&(d=B.wrappedText,c=d.length);var z=l._bounds.lines;N===1?G=(z.longest-z.lengths[0])/2:N===2&&(G=z.longest-z.lengths[0]),u.translate(-l.displayOriginX,-l.displayOriginY);for(var U=a.roundPixels,H=0;H<c;H++){if(M=d.charCodeAt(H),M===10){V++,N===1?G=(z.longest-z.lengths[V])/2:N===2&&(G=z.longest-z.lengths[V]),P=0,E+=g+T,D=null;continue}if(w=p[M],!!w){if(R=X+w.x,A=W+w.y,O=w.width,F=w.height,L=w.xOffset+P,b=w.yOffset+E,D!==null){var $=w.kerning[I];L+=$!==void 0?$:0}L*=Y,b*=Y,L+=G,P+=w.xAdvance+m+($!==void 0?$:0),D=w,I=M,!(O===0||F===0||M===32)&&(U&&(L=Math.round(L),b=Math.round(b)),u.save(),u.translate(L,b),u.scale(Y,Y),u.drawImage(k,R,A,O,F,0,0,O,F),u.restore())}}u.restore()}};r.exports=x},57336:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22186),x=i(25305),f=i(44603),l=i(23568),a=i(35154);f.register("bitmapText",function(n,d){n===void 0&&(n={});var c=a(n,"font",""),u=l(n,"text",""),v=l(n,"size",!1),p=a(n,"align",0),g=new h(this.scene,0,0,c,u,v,p);return d!==void 0&&(n.add=d),x(this.scene,g,n),g})},34914:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22186),x=i(39429);x.register("bitmapText",function(f,l,a,n,d,c){return this.displayList.add(new h(this.scene,f,l,a,n,d,c))})},18658:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(33590),f=i(37289),r.exports={renderWebGL:x,renderCanvas:f}},33590:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(3217),x=i(91296),f=i(70554),l=function(a,n,d,c){var u=n._text,v=u.length;if(v!==0){d.addToRenderList(n);var p=a.pipelines.set(n.pipeline,n),g=x(n,d,c).calc;a.pipelines.preBatch(n);var m=d.roundPixels,T=d.alpha,P=n.charColors,E=n.tintFill,M=f.getTintAppendFloatAlpha,w=M(n.tintTopLeft,T*n._alphaTL),R=M(n.tintTopRight,T*n._alphaTR),A=M(n.tintBottomLeft,T*n._alphaBL),O=M(n.tintBottomRight,T*n._alphaBR),F=n.frame.glTexture,L=p.setGameObject(n),b=n.getTextBounds(!1),D,I,k,X=b.characters,W=n.dropShadowX,Y=n.dropShadowY,N=W!==0||Y!==0;if(N){var V=n.dropShadowColor,G=n.dropShadowAlpha,B=M(V,T*G*n._alphaTL),z=M(V,T*G*n._alphaTR),U=M(V,T*G*n._alphaBL),H=M(V,T*G*n._alphaBR);for(D=0;D<X.length;D++)I=X[D],k=I.glyph,!(I.code===32||k.width===0||k.height===0)&&h(p,n,I,k,W,Y,g,m,B,z,U,H,1,F,L)}for(D=0;D<X.length;D++)if(I=X[D],k=I.glyph,!(I.code===32||k.width===0||k.height===0))if(p.shouldFlush(6)&&(p.flush(),L=p.setGameObject(n)),P[I.i]){var $=P[I.i],K=$.tintEffect,Z=M($.tintTL,T*n._alphaTL),J=M($.tintTR,T*n._alphaTR),Q=M($.tintBL,T*n._alphaBL),j=M($.tintBR,T*n._alphaBR);h(p,n,I,k,0,0,g,m,Z,J,Q,j,K,F,L)}else h(p,n,I,k,0,0,g,m,w,R,A,O,E,F,L);a.pipelines.postBatch(n)}};r.exports=l},6107:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(48011),x=i(46590),f=i(83419),l=i(31401),a=i(4327),n=i(95643),d=i(73162),c=new f({Extends:n,Mixins:[l.Alpha,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Size,l.Texture,l.Transform,l.Visible,h],initialize:function(v,p,g,m,T){n.call(this,v,"Blitter"),this.setTexture(m,T),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(),this.children=new d,this.renderList=[],this.dirty=!1},create:function(u,v,p,g,m){g===void 0&&(g=!0),m===void 0&&(m=this.children.length),p===void 0?p=this.frame:p instanceof a||(p=this.texture.get(p));var T=new x(this,u,v,p,g);return this.children.addAt(T,m,!1),this.dirty=!0,T},createFromCallback:function(u,v,p,g){for(var m=this.createMultiple(v,p,g),T=0;T<m.length;T++){var P=m[T];u.call(this,P,T)}return m},createMultiple:function(u,v,p){v===void 0&&(v=this.frame.name),p===void 0&&(p=!0),Array.isArray(v)||(v=[v]);var g=[],m=this;return v.forEach(function(T){for(var P=0;P<u;P++)g.push(m.create(0,0,T,p))}),g},childCanRender:function(u){return u.visible&&u.alpha>0},getRenderList:function(){return this.dirty&&(this.renderList=this.children.list.filter(this.childCanRender,this),this.dirty=!1),this.renderList},clear:function(){this.children.removeAll(),this.dirty=!0},preDestroy:function(){this.children.destroy(),this.renderList=[]}});r.exports=c},72396:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=h.getRenderList();if(l.length!==0){var a=i.currentContext,n=x.alpha*h.alpha;if(n!==0){x.addToRenderList(h),a.globalCompositeOperation=i.blendModes[h.blendMode],a.imageSmoothingEnabled=!h.frame.source.scaleMode;var d=h.x-x.scrollX*h.scrollFactorX,c=h.y-x.scrollY*h.scrollFactorY;a.save(),f&&f.copyToContext(a);for(var u=x.roundPixels,v=0;v<l.length;v++){var p=l[v],g=p.flipX||p.flipY,m=p.frame,T=m.canvasData,P=m.x,E=m.y,M=1,w=1,R=p.alpha*n;R!==0&&(a.globalAlpha=R,g?(p.flipX&&(M=-1,P-=T.width),p.flipY&&(w=-1,E-=T.height),T.width>0&&T.height>0&&(a.save(),a.translate(p.x+d,p.y+c),a.scale(M,w),a.drawImage(m.source.image,T.x,T.y,T.width,T.height,P,E,T.width,T.height),a.restore())):(u&&(P=Math.round(P),E=Math.round(E)),T.width>0&&T.height>0&&a.drawImage(m.source.image,T.x,T.y,T.width,T.height,P+p.x+d,E+p.y+c,T.width,T.height)))}a.restore()}}};r.exports=C},9403:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6107),x=i(25305),f=i(44603),l=i(23568);f.register("blitter",function(a,n){a===void 0&&(a={});var d=l(a,"key",null),c=l(a,"frame",null),u=new h(this.scene,0,0,d,c);return n!==void 0&&(a.add=n),x(this.scene,u,a),u})},12709:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6107),x=i(39429);x.register("blitter",function(f,l,a,n){return this.displayList.add(new h(this.scene,f,l,a,n))})},48011:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(99485),f=i(72396),r.exports={renderWebGL:x,renderCanvas:f}},99485:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61340),x=i(70554),f=new h,l=function(a,n,d,c){var u=n.getRenderList(),v=d.alpha*n.alpha;if(!(u.length===0||v===0)){d.addToRenderList(n);var p=a.pipelines.set(this.pipeline,n),g=d.scrollX*n.scrollFactorX,m=d.scrollY*n.scrollFactorY,T=f.copyFrom(d.matrix);c&&(T.multiplyWithOffset(c,-g,-m),g=0,m=0);var P=n.x-g,E=n.y-m,M=-1,w=!1,R=d.roundPixels;a.pipelines.preBatch(n);for(var A=0;A<u.length;A++){var O=u[A],F=O.frame,L=O.alpha*v;if(L!==0){var b=F.width,D=F.height,I=P+O.x+F.x,k=E+O.y+F.y;O.flipX&&(b*=-1,I+=F.width),O.flipY&&(D*=-1,k+=F.height);var X=T.setQuad(I,k,I+b,k+D,R),W=x.getTintAppendFloatAlpha(O.tint,L);if(F.sourceIndex!==M){var Y=p.setGameObject(n,F);M=F.sourceIndex}p.batchQuad(n,X[0],X[1],X[2],X[3],X[4],X[5],X[6],X[7],F.u0,F.v0,F.u1,F.v1,W,W,W,W,w,F.glTexture,Y)&&(M=-1)}}a.pipelines.postBatch(n)}};r.exports=l},46590:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(4327),f=new h({initialize:function(a,n,d,c,u){this.parent=a,this.x=n,this.y=d,this.frame=c,this.data={},this.tint=16777215,this._visible=u,this._alpha=1,this.flipX=!1,this.flipY=!1,this.hasTransformComponent=!0},setFrame:function(l){return l===void 0?this.frame=this.parent.frame:l instanceof x&&l.texture===this.parent.texture?this.frame=l:this.frame=this.parent.texture.get(l),this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this},reset:function(l,a,n){return this.x=l,this.y=a,this.flipX=!1,this.flipY=!1,this._alpha=1,this._visible=!0,this.parent.dirty=!0,n&&this.setFrame(n),this},setPosition:function(l,a){return this.x=l,this.y=a,this},setFlipX:function(l){return this.flipX=l,this},setFlipY:function(l){return this.flipY=l,this},setFlip:function(l,a){return this.flipX=l,this.flipY=a,this},setVisible:function(l){return this.visible=l,this},setAlpha:function(l){return this.alpha=l,this},setTint:function(l){return this.tint=l,this},destroy:function(){this.parent.dirty=!0,this.parent.children.remove(this),this.parent=void 0,this.frame=void 0,this.data=void 0},visible:{get:function(){return this._visible},set:function(l){this.parent.dirty|=this._visible!==l,this._visible=l}},alpha:{get:function(){return this._alpha},set:function(l){this.parent.dirty|=this._alpha>0!=l>0,this._alpha=l}}});r.exports=f},16005:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=2,f={_alpha:1,_alphaTL:1,_alphaTR:1,_alphaBL:1,_alphaBR:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l,a,n,d){return l===void 0&&(l=1),a===void 0?this.alpha=l:(this._alphaTL=h(l,0,1),this._alphaTR=h(a,0,1),this._alphaBL=h(n,0,1),this._alphaBR=h(d,0,1)),this},alpha:{get:function(){return this._alpha},set:function(l){var a=h(l,0,1);this._alpha=a,this._alphaTL=a,this._alphaTR=a,this._alphaBL=a,this._alphaBR=a,a===0?this.renderFlags&=-3:this.renderFlags|=x}},alphaTopLeft:{get:function(){return this._alphaTL},set:function(l){var a=h(l,0,1);this._alphaTL=a,a!==0&&(this.renderFlags|=x)}},alphaTopRight:{get:function(){return this._alphaTR},set:function(l){var a=h(l,0,1);this._alphaTR=a,a!==0&&(this.renderFlags|=x)}},alphaBottomLeft:{get:function(){return this._alphaBL},set:function(l){var a=h(l,0,1);this._alphaBL=a,a!==0&&(this.renderFlags|=x)}},alphaBottomRight:{get:function(){return this._alphaBR},set:function(l){var a=h(l,0,1);this._alphaBR=a,a!==0&&(this.renderFlags|=x)}}};r.exports=f},88509:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=2,f={_alpha:1,clearAlpha:function(){return this.setAlpha(1)},setAlpha:function(l){return l===void 0&&(l=1),this.alpha=l,this},alpha:{get:function(){return this._alpha},set:function(l){var a=h(l,0,1);this._alpha=a,a===0?this.renderFlags&=-3:this.renderFlags|=x}}};r.exports=f},90065:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x={_blendMode:h.NORMAL,blendMode:{get:function(){return this._blendMode},set:function(f){typeof f=="string"&&(f=h[f]),f|=0,f>=-1&&(this._blendMode=f)}},setBlendMode:function(f){return this.blendMode=f,this}};r.exports=x},94215:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={width:0,height:0,displayWidth:{get:function(){return this.scaleX*this.width},set:function(i){this.scaleX=i/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(i){this.scaleY=i/this.height}},setSize:function(i,h){return this.width=i,this.height=h,this},setDisplaySize:function(i,h){return this.displayWidth=i,this.displayHeight=h,this}};r.exports=C},61683:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={texture:null,frame:null,isCropped:!1,setCrop:function(i,h,x,f){if(i===void 0)this.isCropped=!1;else if(this.frame){if(typeof i=="number")this.frame.setCropUVs(this._crop,i,h,x,f,this.flipX,this.flipY);else{var l=i;this.frame.setCropUVs(this._crop,l.x,l.y,l.width,l.height,this.flipX,this.flipY)}this.isCropped=!0}return this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=C},89272:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37105),x={_depth:0,depth:{get:function(){return this._depth},set:function(f){this.displayList&&this.displayList.queueDepthSort(),this._depth=f}},setDepth:function(f){return f===void 0&&(f=0),this.depth=f,this},setToTop:function(){var f=this.getDisplayList();return f&&h.BringToTop(f,this),this},setToBack:function(){var f=this.getDisplayList();return f&&h.SendToBack(f,this),this},setAbove:function(f){var l=this.getDisplayList();return l&&f&&h.MoveAbove(l,this,f),this},setBelow:function(f){var l=this.getDisplayList();return l&&f&&h.MoveBelow(l,this,f),this}};r.exports=x},47059:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(66064),f=i(19133),l=new h({initialize:function(n,d){this.gameObject=n,this.isPost=d,this.enabled=!1,this.list=[],this.padding=0},setPadding:function(a){return a===void 0&&(a=0),this.padding=a,this.gameObject},onFXCopy:function(){},onFX:function(){},enable:function(a){if(!this.isPost){var n=this.gameObject.scene.sys.renderer;n&&n.pipelines?(this.gameObject.pipeline=n.pipelines.FX_PIPELINE,a!==void 0&&(this.padding=a),this.enabled=!0):this.enabled=!1}},clear:function(){if(this.isPost)this.gameObject.resetPostPipeline(!0);else{for(var a=this.list,n=0;n<a.length;n++)a[n].destroy();this.list=[]}return this.enabled=!1,this.gameObject},remove:function(a){var n;if(this.isPost){var d=this.gameObject.getPostPipeline(String(a.type));for(Array.isArray(d)||(d=[d]),n=0;n<d.length;n++){var c=d[n];if(c.controller===a){this.gameObject.removePostPipeline(c),a.destroy();break}}}else{var u=this.list;for(n=0;n<u.length;n++)u[n]===a&&(f(u,n),a.destroy())}return this.gameObject},disable:function(a){return a===void 0&&(a=!1),this.isPost||this.gameObject.resetPipeline(),this.enabled=!1,a&&this.clear(),this.gameObject},add:function(a,n){if(this.isPost){var d=String(a.type);this.gameObject.setPostPipeline(d,n);var c=this.gameObject.getPostPipeline(d);if(c)return Array.isArray(c)&&(c=c.pop()),c&&(c.controller=a),a}else return this.enabled||this.enable(),this.list.push(a),a},addGlow:function(a,n,d,c,u,v){return this.add(new x.Glow(this.gameObject,a,n,d,c),{quality:u,distance:v})},addShadow:function(a,n,d,c,u,v,p){return this.add(new x.Shadow(this.gameObject,a,n,d,c,u,v,p))},addPixelate:function(a){return this.add(new x.Pixelate(this.gameObject,a))},addVignette:function(a,n,d,c){return this.add(new x.Vignette(this.gameObject,a,n,d,c))},addShine:function(a,n,d,c){return this.add(new x.Shine(this.gameObject,a,n,d,c))},addBlur:function(a,n,d,c,u,v){return this.add(new x.Blur(this.gameObject,a,n,d,c,u,v))},addGradient:function(a,n,d,c,u,v,p,g){return this.add(new x.Gradient(this.gameObject,a,n,d,c,u,v,p,g))},addBloom:function(a,n,d,c,u,v){return this.add(new x.Bloom(this.gameObject,a,n,d,c,u,v))},addColorMatrix:function(){return this.add(new x.ColorMatrix(this.gameObject))},addCircle:function(a,n,d,c,u){return this.add(new x.Circle(this.gameObject,a,n,d,c,u))},addBarrel:function(a){return this.add(new x.Barrel(this.gameObject,a))},addDisplacement:function(a,n,d){return this.add(new x.Displacement(this.gameObject,a,n,d))},addWipe:function(a,n,d){return this.add(new x.Wipe(this.gameObject,a,n,d))},addReveal:function(a,n,d){return this.add(new x.Wipe(this.gameObject,a,n,d,!0))},addBokeh:function(a,n,d){return this.add(new x.Bokeh(this.gameObject,a,n,d))},addTiltShift:function(a,n,d,c,u,v){return this.add(new x.Bokeh(this.gameObject,a,n,d,!0,c,u,v))},destroy:function(){this.clear(),this.gameObject=null}});r.exports=l},54434:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={flipX:!1,flipY:!1,toggleFlipX:function(){return this.flipX=!this.flipX,this},toggleFlipY:function(){return this.flipY=!this.flipY,this},setFlipX:function(i){return this.flipX=i,this},setFlipY:function(i){return this.flipY=i,this},setFlip:function(i,h){return this.flipX=i,this.flipY=h,this},resetFlip:function(){return this.flipX=!1,this.flipY=!1,this}};r.exports=C},8004:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=i(11520),f=i(26099),l={prepareBoundsOutput:function(a,n){if(n===void 0&&(n=!1),this.rotation!==0&&x(a,this.x,this.y,this.rotation),n&&this.parentContainer){var d=this.parentContainer.getBoundsTransformMatrix();d.transformPoint(a.x,a.y,a)}return a},getCenter:function(a,n){return a===void 0&&(a=new f),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getTopLeft:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getTopCenter:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getTopRight:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY,this.prepareBoundsOutput(a,n)},getLeftCenter:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getRightCenter:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight/2,this.prepareBoundsOutput(a,n)},getBottomLeft:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBottomCenter:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX+this.displayWidth/2,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBottomRight:function(a,n){return a||(a=new f),a.x=this.x-this.displayWidth*this.originX+this.displayWidth,a.y=this.y-this.displayHeight*this.originY+this.displayHeight,this.prepareBoundsOutput(a,n)},getBounds:function(a){a===void 0&&(a=new h);var n,d,c,u,v,p,g,m;if(this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix();this.getTopLeft(a),T.transformPoint(a.x,a.y,a),n=a.x,d=a.y,this.getTopRight(a),T.transformPoint(a.x,a.y,a),c=a.x,u=a.y,this.getBottomLeft(a),T.transformPoint(a.x,a.y,a),v=a.x,p=a.y,this.getBottomRight(a),T.transformPoint(a.x,a.y,a),g=a.x,m=a.y}else this.getTopLeft(a),n=a.x,d=a.y,this.getTopRight(a),c=a.x,u=a.y,this.getBottomLeft(a),v=a.x,p=a.y,this.getBottomRight(a),g=a.x,m=a.y;return a.x=Math.min(n,c,v,g),a.y=Math.min(d,u,p,m),a.width=Math.max(n,c,v,g)-a.x,a.height=Math.max(d,u,p,m)-a.y,a}};r.exports=l},8573:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6858),x=i(80661),f={mask:null,setMask:function(l){return this.mask=l,this},clearMask:function(l){return l===void 0&&(l=!1),l&&this.mask&&this.mask.destroy(),this.mask=null,this},createBitmapMask:function(l,a,n,d,c){return l===void 0&&(this.texture||this.shader||this.geom)&&(l=this),new h(this.scene,l,a,n,d,c)},createGeometryMask:function(l){return l===void 0&&(this.type==="Graphics"||this.geom)&&(l=this),new x(this.scene,l)}};r.exports=f},27387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_originComponent:!0,originX:.5,originY:.5,_displayOriginX:0,_displayOriginY:0,displayOriginX:{get:function(){return this._displayOriginX},set:function(i){this._displayOriginX=i,this.originX=i/this.width}},displayOriginY:{get:function(){return this._displayOriginY},set:function(i){this._displayOriginY=i,this.originY=i/this.height}},setOrigin:function(i,h){return i===void 0&&(i=.5),h===void 0&&(h=i),this.originX=i,this.originY=h,this.updateDisplayOrigin()},setOriginFromFrame:function(){return!this.frame||!this.frame.customPivot?this.setOrigin():(this.originX=this.frame.pivotX,this.originY=this.frame.pivotY,this.updateDisplayOrigin())},setDisplayOrigin:function(i,h){return i===void 0&&(i=0),h===void 0&&(h=i),this.displayOriginX=i,this.displayOriginY=h,this},updateDisplayOrigin:function(){return this._displayOriginX=this.originX*this.width,this._displayOriginY=this.originY*this.height,this}};r.exports=C},37640:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39506),x=i(57355),f=i(35154),l=i(86353),a=i(26099),n={path:null,rotateToPath:!1,pathRotationOffset:0,pathOffset:null,pathVector:null,pathDelta:null,pathTween:null,pathConfig:null,_prevDirection:l.PLAYING_FORWARD,setPath:function(d,c){c===void 0&&(c=this.pathConfig);var u=this.pathTween;return u&&u.isPlaying()&&u.stop(),this.path=d,c&&this.startFollow(c),this},setRotateToPath:function(d,c){return c===void 0&&(c=0),this.rotateToPath=d,this.pathRotationOffset=c,this},isFollowing:function(){var d=this.pathTween;return d&&d.isPlaying()},startFollow:function(d,c){d===void 0&&(d={}),c===void 0&&(c=0);var u=this.pathTween;u&&u.isPlaying()&&u.stop(),typeof d=="number"&&(d={duration:d}),d.from=f(d,"from",0),d.to=f(d,"to",1);var v=x(d,"positionOnPath",!1);this.rotateToPath=x(d,"rotateToPath",!1),this.pathRotationOffset=f(d,"rotationOffset",0);var p=f(d,"startAt",c);if(p&&(d.onStart=function(m){var T=m.data[0];T.progress=p,T.elapsed=T.duration*p;var P=T.ease(T.progress);T.current=T.start+(T.end-T.start)*P,T.setTargetValue()}),this.pathOffset||(this.pathOffset=new a(this.x,this.y)),this.pathVector||(this.pathVector=new a),this.pathDelta||(this.pathDelta=new a),this.pathDelta.reset(),d.persist=!0,this.pathTween=this.scene.sys.tweens.addCounter(d),this.path.getStartPoint(this.pathOffset),v&&(this.x=this.pathOffset.x,this.y=this.pathOffset.y),this.pathOffset.x=this.x-this.pathOffset.x,this.pathOffset.y=this.y-this.pathOffset.y,this._prevDirection=l.PLAYING_FORWARD,this.rotateToPath){var g=this.path.getPoint(.1);this.rotation=Math.atan2(g.y-this.y,g.x-this.x)+h(this.pathRotationOffset)}return this.pathConfig=d,this},pauseFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.pause(),this},resumeFollow:function(){var d=this.pathTween;return d&&d.isPaused()&&d.resume(),this},stopFollow:function(){var d=this.pathTween;return d&&d.isPlaying()&&d.stop(),this},pathUpdate:function(){var d=this.pathTween;if(d&&d.data){var c=d.data[0],u=this.pathDelta,v=this.pathVector;if(u.copy(v).negate(),c.state===l.COMPLETE){this.path.getPoint(c.end,v),u.add(v),v.add(this.pathOffset),this.setPosition(v.x,v.y);return}else if(c.state!==l.PLAYING_FORWARD&&c.state!==l.PLAYING_BACKWARD)return;this.path.getPoint(d.getValue(),v),u.add(v),v.add(this.pathOffset);var p=this.x,g=this.y;this.setPosition(v.x,v.y);var m=this.x-p,T=this.y-g;if(m===0&&T===0)return;if(c.state!==this._prevDirection){this._prevDirection=c.state;return}this.rotateToPath&&(this.rotation=Math.atan2(T,m)+h(this.pathRotationOffset))}}};r.exports=n},72699:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62644),x={defaultPipeline:null,pipeline:null,pipelineData:null,initPipeline:function(f){this.pipelineData={};var l=this.scene.sys.renderer;if(!l)return!1;var a=l.pipelines;if(a){f===void 0&&(f=a.default);var n=a.get(f);if(n)return this.defaultPipeline=n,this.pipeline=n,!0}return!1},setPipeline:function(f,l,a){var n=this.scene.sys.renderer;if(!n)return this;var d=n.pipelines;if(d){var c=d.get(f);c&&(this.pipeline=c),l&&(this.pipelineData=a?h(l):l)}return this},setPipelineData:function(f,l){var a=this.pipelineData;return l===void 0?delete a[f]:a[f]=l,this},resetPipeline:function(f){return f===void 0&&(f=!1),this.pipeline=this.defaultPipeline,f&&(this.pipelineData={}),this.pipeline!==null},getPipelineName:function(){return this.pipeline===null?null:this.pipeline.name}};r.exports=x},17581:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62644),x=i(47059),f=i(19133),l={hasPostPipeline:!1,postPipelines:null,postPipelineData:null,preFX:null,postFX:null,initPostPipeline:function(a){this.postPipelines=[],this.postPipelineData={},this.postFX=new x(this,!0),a&&(this.preFX=new x(this,!1))},setPostPipeline:function(a,n,d){var c=this.scene.sys.renderer;if(!c)return this;var u=c.pipelines;if(u){Array.isArray(a)||(a=[a]);for(var v=0;v<a.length;v++){var p=u.getPostPipeline(a[v],this,n);p&&this.postPipelines.push(p)}n&&(this.postPipelineData=d?h(n):n)}return this.hasPostPipeline=this.postPipelines.length>0,this},setPostPipelineData:function(a,n){var d=this.postPipelineData;return n===void 0?delete d[a]:d[a]=n,this},getPostPipeline:function(a){for(var n=typeof a=="string",d=this.postPipelines,c=[],u=0;u<d.length;u++){var v=d[u];(n&&v.name===a||!n&&v instanceof a)&&c.push(v)}return c.length===1?c[0]:c},resetPostPipeline:function(a){a===void 0&&(a=!1);for(var n=this.postPipelines,d=0;d<n.length;d++)n[d].destroy();this.postPipelines=[],this.hasPostPipeline=!1,a&&(this.postPipelineData={})},removePostPipeline:function(a){for(var n=typeof a=="string",d=this.postPipelines,c=d.length-1;c>=0;c--){var u=d[c];(n&&u.name===a||!n&&u===a)&&(u.destroy(),f(d,c))}return this.hasPostPipeline=this.postPipelines.length>0,this},clearFX:function(){return this.preFX&&this.preFX.clear(),this.postFX&&this.postFX.clear(),this}};r.exports=l},80227:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={scrollFactorX:1,scrollFactorY:1,setScrollFactor:function(i,h){return h===void 0&&(h=i),this.scrollFactorX=i,this.scrollFactorY=h,this}};r.exports=C},16736:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={_sizeComponent:!0,width:0,height:0,displayWidth:{get:function(){return Math.abs(this.scaleX*this.frame.realWidth)},set:function(i){this.scaleX=i/this.frame.realWidth}},displayHeight:{get:function(){return Math.abs(this.scaleY*this.frame.realHeight)},set:function(i){this.scaleY=i/this.frame.realHeight}},setSizeToFrame:function(i){i||(i=this.frame),this.width=i.realWidth,this.height=i.realHeight;var h=this.input;return h&&!h.customHitArea&&(h.hitArea.width=this.width,h.hitArea.height=this.height),this},setSize:function(i,h){return this.width=i,this.height=h,this},setDisplaySize:function(i,h){return this.displayWidth=i,this.displayHeight=h,this}};r.exports=C},37726:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4327),x=8,f={texture:null,frame:null,isCropped:!1,setTexture:function(l,a,n,d){return this.texture=this.scene.sys.textures.get(l),this.setFrame(a,n,d)},setFrame:function(l,a,n){return a===void 0&&(a=!0),n===void 0&&(n=!0),l instanceof h?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=x,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this}};r.exports=f},79812:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4327),x=8,f={texture:null,frame:null,isCropped:!1,setCrop:function(l,a,n,d){if(l===void 0)this.isCropped=!1;else if(this.frame){if(typeof l=="number")this.frame.setCropUVs(this._crop,l,a,n,d,this.flipX,this.flipY);else{var c=l;this.frame.setCropUVs(this._crop,c.x,c.y,c.width,c.height,this.flipX,this.flipY)}this.isCropped=!0}return this},setTexture:function(l,a){return this.texture=this.scene.sys.textures.get(l),this.setFrame(a)},setFrame:function(l,a,n){return a===void 0&&(a=!0),n===void 0&&(n=!0),l instanceof h?(this.texture=this.scene.sys.textures.get(l.texture.key),this.frame=l):this.frame=this.texture.get(l),!this.frame.cutWidth||!this.frame.cutHeight?this.renderFlags&=-9:this.renderFlags|=x,this._sizeComponent&&a&&this.setSizeToFrame(),this._originComponent&&n&&(this.frame.customPivot?this.setOrigin(this.frame.pivotX,this.frame.pivotY):this.updateDisplayOrigin()),this.isCropped&&this.frame.updateCropUVs(this._crop,this.flipX,this.flipY),this},resetCropObject:function(){return{u0:0,v0:0,u1:0,v1:0,width:0,height:0,x:0,y:0,flipX:!1,flipY:!1,cx:0,cy:0,cw:0,ch:0}}};r.exports=f},27472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={tintTopLeft:16777215,tintTopRight:16777215,tintBottomLeft:16777215,tintBottomRight:16777215,tintFill:!1,clearTint:function(){return this.setTint(16777215),this},setTint:function(i,h,x,f){return i===void 0&&(i=16777215),h===void 0&&(h=i,x=i,f=i),this.tintTopLeft=i,this.tintTopRight=h,this.tintBottomLeft=x,this.tintBottomRight=f,this.tintFill=!1,this},setTintFill:function(i,h,x,f){return this.setTint(i,h,x,f),this.tintFill=!0,this},tint:{get:function(){return this.tintTopLeft},set:function(i){this.setTint(i,i,i,i)}},isTinted:{get:function(){var i=16777215;return this.tintFill||this.tintTopLeft!==i||this.tintTopRight!==i||this.tintBottomLeft!==i||this.tintBottomRight!==i}}};r.exports=C},53774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h={name:i.name,type:i.type,x:i.x,y:i.y,depth:i.depth,scale:{x:i.scaleX,y:i.scaleY},origin:{x:i.originX,y:i.originY},flipX:i.flipX,flipY:i.flipY,rotation:i.rotation,alpha:i.alpha,visible:i.visible,blendMode:i.blendMode,textureKey:"",frameKey:"",data:{}};return i.texture&&(h.textureKey=i.texture.key,h.frameKey=i.frame.name),h};r.exports=C},16901:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=i(61340),f=i(85955),l=i(86554),a=i(30954),n=i(26099),d=4,c={hasTransformComponent:!0,_scaleX:1,_scaleY:1,_rotation:0,x:0,y:0,z:0,w:0,scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(u){this._scaleX=u,this._scaleY=u,u===0?this.renderFlags&=-5:this.renderFlags|=d}},scaleX:{get:function(){return this._scaleX},set:function(u){this._scaleX=u,u===0?this.renderFlags&=-5:this._scaleY!==0&&(this.renderFlags|=d)}},scaleY:{get:function(){return this._scaleY},set:function(u){this._scaleY=u,u===0?this.renderFlags&=-5:this._scaleX!==0&&(this.renderFlags|=d)}},angle:{get:function(){return a(this._rotation*h.RAD_TO_DEG)},set:function(u){this.rotation=a(u)*h.DEG_TO_RAD}},rotation:{get:function(){return this._rotation},set:function(u){this._rotation=l(u)}},setPosition:function(u,v,p,g){return u===void 0&&(u=0),v===void 0&&(v=u),p===void 0&&(p=0),g===void 0&&(g=0),this.x=u,this.y=v,this.z=p,this.w=g,this},copyPosition:function(u){return u.x!==void 0&&(this.x=u.x),u.y!==void 0&&(this.y=u.y),u.z!==void 0&&(this.z=u.z),u.w!==void 0&&(this.w=u.w),this},setRandomPosition:function(u,v,p,g){return u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=this.scene.sys.scale.width),g===void 0&&(g=this.scene.sys.scale.height),this.x=u+Math.random()*p,this.y=v+Math.random()*g,this},setRotation:function(u){return u===void 0&&(u=0),this.rotation=u,this},setAngle:function(u){return u===void 0&&(u=0),this.angle=u,this},setScale:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=u),this.scaleX=u,this.scaleY=v,this},setX:function(u){return u===void 0&&(u=0),this.x=u,this},setY:function(u){return u===void 0&&(u=0),this.y=u,this},setZ:function(u){return u===void 0&&(u=0),this.z=u,this},setW:function(u){return u===void 0&&(u=0),this.w=u,this},getLocalTransformMatrix:function(u){return u===void 0&&(u=new x),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY)},getWorldTransformMatrix:function(u,v){u===void 0&&(u=new x);var p=this.parentContainer;if(!p)return this.getLocalTransformMatrix(u);var g=!1;for(v||(v=new x,g=!0),u.applyITRS(this.x,this.y,this._rotation,this._scaleX,this._scaleY);p;)v.applyITRS(p.x,p.y,p._rotation,p._scaleX,p._scaleY),v.multiply(u,u),p=p.parentContainer;return g&&v.destroy(),u},getLocalPoint:function(u,v,p,g){p||(p=new n),g||(g=this.scene.sys.cameras.main);var m=g.scrollX,T=g.scrollY,P=u+m*this.scrollFactorX-m,E=v+T*this.scrollFactorY-T;return this.parentContainer?this.getWorldTransformMatrix().applyInverse(P,E,p):f(P,E,this.x,this.y,this.rotation,this.scaleX,this.scaleY,p),this._originComponent&&(p.x+=this._displayOriginX,p.y+=this._displayOriginY),p},getWorldPoint:function(u,v,p){u===void 0&&(u=new n);var g=this.parentContainer;if(!g)return u.x=this.x,u.y=this.y,u;var m=this.getWorldTransformMatrix(v,p);return u.x=m.tx,u.y=m.ty,u},getParentRotation:function(){for(var u=0,v=this.parentContainer;v;)u+=v.rotation,v=v.parentContainer;return u}};r.exports=c},61340:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(36383),f=i(26099),l=new h({initialize:function(n,d,c,u,v,p){n===void 0&&(n=1),d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=1),v===void 0&&(v=0),p===void 0&&(p=0),this.matrix=new Float32Array([n,d,c,u,v,p,0,0,1]),this.decomposedMatrix={translateX:0,translateY:0,scaleX:1,scaleY:1,rotation:0},this.quad=new Float32Array(8)},a:{get:function(){return this.matrix[0]},set:function(a){this.matrix[0]=a}},b:{get:function(){return this.matrix[1]},set:function(a){this.matrix[1]=a}},c:{get:function(){return this.matrix[2]},set:function(a){this.matrix[2]=a}},d:{get:function(){return this.matrix[3]},set:function(a){this.matrix[3]=a}},e:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},f:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},tx:{get:function(){return this.matrix[4]},set:function(a){this.matrix[4]=a}},ty:{get:function(){return this.matrix[5]},set:function(a){this.matrix[5]=a}},rotation:{get:function(){return Math.acos(this.a/this.scaleX)*(Math.atan(-this.c/this.a)<0?-1:1)}},rotationNormalized:{get:function(){var a=this.matrix,n=a[0],d=a[1],c=a[2],u=a[3];return n||d?d>0?Math.acos(n/this.scaleX):-Math.acos(n/this.scaleX):c||u?x.TAU-(u>0?Math.acos(-c/this.scaleY):-Math.acos(c/this.scaleY)):0}},scaleX:{get:function(){return Math.sqrt(this.a*this.a+this.b*this.b)}},scaleY:{get:function(){return Math.sqrt(this.c*this.c+this.d*this.d)}},loadIdentity:function(){var a=this.matrix;return a[0]=1,a[1]=0,a[2]=0,a[3]=1,a[4]=0,a[5]=0,this},translate:function(a,n){var d=this.matrix;return d[4]=d[0]*a+d[2]*n+d[4],d[5]=d[1]*a+d[3]*n+d[5],this},scale:function(a,n){var d=this.matrix;return d[0]*=a,d[1]*=a,d[2]*=n,d[3]*=n,this},rotate:function(a){var n=Math.sin(a),d=Math.cos(a),c=this.matrix,u=c[0],v=c[1],p=c[2],g=c[3];return c[0]=u*d+p*n,c[1]=v*d+g*n,c[2]=u*-n+p*d,c[3]=v*-n+g*d,this},multiply:function(a,n){var d=this.matrix,c=a.matrix,u=d[0],v=d[1],p=d[2],g=d[3],m=d[4],T=d[5],P=c[0],E=c[1],M=c[2],w=c[3],R=c[4],A=c[5],O=n===void 0?d:n.matrix;return O[0]=P*u+E*p,O[1]=P*v+E*g,O[2]=M*u+w*p,O[3]=M*v+w*g,O[4]=R*u+A*p+m,O[5]=R*v+A*g+T,O},multiplyWithOffset:function(a,n,d){var c=this.matrix,u=a.matrix,v=c[0],p=c[1],g=c[2],m=c[3],T=c[4],P=c[5],E=n*v+d*g+T,M=n*p+d*m+P,w=u[0],R=u[1],A=u[2],O=u[3],F=u[4],L=u[5];return c[0]=w*v+R*g,c[1]=w*p+R*m,c[2]=A*v+O*g,c[3]=A*p+O*m,c[4]=F*v+L*g+E,c[5]=F*p+L*m+M,this},transform:function(a,n,d,c,u,v){var p=this.matrix,g=p[0],m=p[1],T=p[2],P=p[3],E=p[4],M=p[5];return p[0]=a*g+n*T,p[1]=a*m+n*P,p[2]=d*g+c*T,p[3]=d*m+c*P,p[4]=u*g+v*T+E,p[5]=u*m+v*P+M,this},transformPoint:function(a,n,d){d===void 0&&(d={x:0,y:0});var c=this.matrix,u=c[0],v=c[1],p=c[2],g=c[3],m=c[4],T=c[5];return d.x=a*u+n*p+m,d.y=a*v+n*g+T,d},invert:function(){var a=this.matrix,n=a[0],d=a[1],c=a[2],u=a[3],v=a[4],p=a[5],g=n*u-d*c;return a[0]=u/g,a[1]=-d/g,a[2]=-c/g,a[3]=n/g,a[4]=(c*p-u*v)/g,a[5]=-(n*p-d*v)/g,this},copyFrom:function(a){var n=this.matrix;return n[0]=a.a,n[1]=a.b,n[2]=a.c,n[3]=a.d,n[4]=a.e,n[5]=a.f,this},copyFromArray:function(a){var n=this.matrix;return n[0]=a[0],n[1]=a[1],n[2]=a[2],n[3]=a[3],n[4]=a[4],n[5]=a[5],this},copyToContext:function(a){var n=this.matrix;return a.transform(n[0],n[1],n[2],n[3],n[4],n[5]),a},setToContext:function(a){return a.setTransform(this.a,this.b,this.c,this.d,this.e,this.f),a},copyToArray:function(a){var n=this.matrix;return a===void 0?a=[n[0],n[1],n[2],n[3],n[4],n[5]]:(a[0]=n[0],a[1]=n[1],a[2]=n[2],a[3]=n[3],a[4]=n[4],a[5]=n[5]),a},setTransform:function(a,n,d,c,u,v){var p=this.matrix;return p[0]=a,p[1]=n,p[2]=d,p[3]=c,p[4]=u,p[5]=v,this},decomposeMatrix:function(){var a=this.decomposedMatrix,n=this.matrix,d=n[0],c=n[1],u=n[2],v=n[3],p=d*v-c*u;if(a.translateX=n[4],a.translateY=n[5],d||c){var g=Math.sqrt(d*d+c*c);a.rotation=c>0?Math.acos(d/g):-Math.acos(d/g),a.scaleX=g,a.scaleY=p/g}else if(u||v){var m=Math.sqrt(u*u+v*v);a.rotation=Math.PI*.5-(v>0?Math.acos(-u/m):-Math.acos(u/m)),a.scaleX=p/m,a.scaleY=m}else a.rotation=0,a.scaleX=0,a.scaleY=0;return a},applyITRS:function(a,n,d,c,u){var v=this.matrix,p=Math.sin(d),g=Math.cos(d);return v[4]=a,v[5]=n,v[0]=g*c,v[1]=p*c,v[2]=-p*u,v[3]=g*u,this},applyInverse:function(a,n,d){d===void 0&&(d=new f);var c=this.matrix,u=c[0],v=c[1],p=c[2],g=c[3],m=c[4],T=c[5],P=1/(u*g+p*-v);return d.x=g*P*a+-p*P*n+(T*p-m*g)*P,d.y=u*P*n+-v*P*a+(-T*u+m*v)*P,d},setQuad:function(a,n,d,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=this.quad);var p=this.matrix,g=p[0],m=p[1],T=p[2],P=p[3],E=p[4],M=p[5],w=a*g+n*T+E,R=a*m+n*P+M,A=a*g+c*T+E,O=a*m+c*P+M,F=d*g+c*T+E,L=d*m+c*P+M,b=d*g+n*T+E,D=d*m+n*P+M;if(u){var I=Math.floor(w+.5),k=Math.floor(R+.5),X=I-w,W=k-R;v[0]=I,v[1]=k,v[2]=A+X,v[3]=O+W,v[4]=F+X,v[5]=L+W,v[6]=b+X,v[7]=D+W}else v[0]=w,v[1]=R,v[2]=A,v[3]=O,v[4]=F,v[5]=L,v[6]=b,v[7]=D;return v},getX:function(a,n){return a*this.a+n*this.c+this.e},getY:function(a,n){return a*this.b+n*this.d+this.f},getXRound:function(a,n,d){var c=this.getX(a,n);return d&&(c=Math.floor(c+.5)),c},getYRound:function(a,n,d){var c=this.getY(a,n);return d&&(c=Math.floor(c+.5)),c},getCSSMatrix:function(){var a=this.matrix;return"matrix("+a[0]+","+a[1]+","+a[2]+","+a[3]+","+a[4]+","+a[5]+")"},destroy:function(){this.matrix=null,this.quad=null,this.decomposedMatrix=null}});r.exports=l},59715:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=1,i={_visible:!0,visible:{get:function(){return this._visible},set:function(h){h?(this._visible=!0,this.renderFlags|=C):(this._visible=!1,this.renderFlags&=-2)}},setVisible:function(h){return this.visible=h,this}};r.exports=i},31401:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Alpha:i(16005),AlphaSingle:i(88509),BlendMode:i(90065),ComputedSize:i(94215),Crop:i(61683),Depth:i(89272),Flip:i(54434),FX:i(47059),GetBounds:i(8004),Mask:i(8573),Origin:i(27387),PathFollower:i(37640),Pipeline:i(72699),PostPipeline:i(17581),ScrollFactor:i(80227),Size:i(16736),Texture:i(37726),TextureCrop:i(79812),Tint:i(27472),ToJSON:i(53774),Transform:i(16901),TransformMatrix:i(61340),Visible:i(59715)}},31559:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37105),x=i(10312),f=i(83419),l=i(31401),a=i(51708),n=i(95643),d=i(87841),c=i(29959),u=i(36899),v=i(26099),p=new l.TransformMatrix,g=new f({Extends:n,Mixins:[l.AlphaSingle,l.BlendMode,l.ComputedSize,l.Depth,l.Mask,l.PostPipeline,l.Transform,l.Visible,c],initialize:function(T,P,E,M){n.call(this,T,"Container"),this.list=[],this.exclusive=!0,this.maxSize=-1,this.position=0,this.localTransform=new l.TransformMatrix,this._sortKey="",this._sysEvents=T.sys.events,this.scrollFactorX=1,this.scrollFactorY=1,this.initPostPipeline(),this.setPosition(P,E),this.setBlendMode(x.SKIP_CHECK),M&&this.add(M)},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this.width*.5}},displayOriginY:{get:function(){return this.height*.5}},setExclusive:function(m){return m===void 0&&(m=!0),this.exclusive=m,this},getBounds:function(m){if(m===void 0&&(m=new d),m.setTo(this.x,this.y,0,0),this.parentContainer){var T=this.parentContainer.getBoundsTransformMatrix(),P=T.transformPoint(this.x,this.y);m.setTo(P.x,P.y,0,0)}if(this.list.length>0){var E=this.list,M=new d,w=!1;m.setEmpty();for(var R=0;R<E.length;R++){var A=E[R];A.getBounds&&(A.getBounds(M),w?u(M,m,m):(m.setTo(M.x,M.y,M.width,M.height),w=!0))}}return m},addHandler:function(m){m.once(a.DESTROY,this.onChildDestroyed,this),this.exclusive&&(m.parentContainer&&m.parentContainer.remove(m),m.parentContainer=this,m.removeFromDisplayList(),m.addedToScene())},removeHandler:function(m){m.off(a.DESTROY,this.remove,this),this.exclusive&&(m.parentContainer=null,m.removedFromScene(),m.addToDisplayList())},pointToContainer:function(m,T){T===void 0&&(T=new v),this.parentContainer?this.parentContainer.pointToContainer(m,T):(T.x=m.x,T.y=m.y);var P=p;return P.applyITRS(this.x,this.y,this.rotation,this.scaleX,this.scaleY),P.invert(),P.transformPoint(m.x,m.y,T),T},getBoundsTransformMatrix:function(){return this.getWorldTransformMatrix(p,this.localTransform)},add:function(m){return h.Add(this.list,m,this.maxSize,this.addHandler,this),this},addAt:function(m,T){return h.AddAt(this.list,m,T,this.maxSize,this.addHandler,this),this},getAt:function(m){return this.list[m]},getIndex:function(m){return this.list.indexOf(m)},sort:function(m,T){return m?(T===void 0&&(T=function(P,E){return P[m]-E[m]}),h.StableSort(this.list,T),this):this},getByName:function(m){return h.GetFirst(this.list,"name",m)},getRandom:function(m,T){return h.GetRandom(this.list,m,T)},getFirst:function(m,T,P,E){return h.GetFirst(this.list,m,T,P,E)},getAll:function(m,T,P,E){return h.GetAll(this.list,m,T,P,E)},count:function(m,T,P,E){return h.CountAllMatching(this.list,m,T,P,E)},swap:function(m,T){return h.Swap(this.list,m,T),this},moveTo:function(m,T){return h.MoveTo(this.list,m,T),this},moveAbove:function(m,T){return h.MoveAbove(this.list,m,T),this},moveBelow:function(m,T){return h.MoveBelow(this.list,m,T),this},remove:function(m,T){var P=h.Remove(this.list,m,this.removeHandler,this);if(T&&P){Array.isArray(P)||(P=[P]);for(var E=0;E<P.length;E++)P[E].destroy()}return this},removeAt:function(m,T){var P=h.RemoveAt(this.list,m,this.removeHandler,this);return T&&P&&P.destroy(),this},removeBetween:function(m,T,P){var E=h.RemoveBetween(this.list,m,T,this.removeHandler,this);if(P)for(var M=0;M<E.length;M++)E[M].destroy();return this},removeAll:function(m){var T=this.list;if(m){for(var P=0;P<T.length;P++)T[P]&&T[P].scene&&(T[P].off(a.DESTROY,this.onChildDestroyed,this),T[P].destroy());this.list=[]}else h.RemoveBetween(T,0,T.length,this.removeHandler,this);return this},bringToTop:function(m){return h.BringToTop(this.list,m),this},sendToBack:function(m){return h.SendToBack(this.list,m),this},moveUp:function(m){return h.MoveUp(this.list,m),this},moveDown:function(m){return h.MoveDown(this.list,m),this},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(m,T,P){var E=h.Replace(this.list,m,T);return E&&(this.addHandler(T),this.removeHandler(m),P&&m.destroy()),this},exists:function(m){return this.list.indexOf(m)>-1},setAll:function(m,T,P,E){return h.SetAll(this.list,m,T,P,E),this},each:function(m,T){var P=[null],E,M=this.list.slice(),w=M.length;for(E=2;E<arguments.length;E++)P.push(arguments[E]);for(E=0;E<w;E++)P[0]=M[E],m.apply(T,P);return this},iterate:function(m,T){var P=[null],E;for(E=2;E<arguments.length;E++)P.push(arguments[E]);for(E=0;E<this.list.length;E++)P[0]=this.list[E],m.apply(T,P);return this},setScrollFactor:function(m,T,P){return T===void 0&&(T=m),P===void 0&&(P=!1),this.scrollFactorX=m,this.scrollFactorY=T,P&&(h.SetAll(this.list,"scrollFactorX",m),h.SetAll(this.list,"scrollFactorY",T)),this},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}},preDestroy:function(){this.removeAll(!!this.exclusive),this.localTransform.destroy(),this.list=[]},onChildDestroyed:function(m){h.Remove(this.list,m),this.exclusive&&(m.parentContainer=null,m.removedFromScene())}});r.exports=g},53584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x.addToRenderList(h);var l=h.list;if(l.length!==0){var a=h.localTransform;f?(a.loadIdentity(),a.multiply(f),a.translate(h.x,h.y),a.rotate(h.rotation),a.scale(h.scaleX,h.scaleY)):a.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY);var n=h.blendMode!==-1;n||i.setBlendMode(0);var d=h._alpha,c=h.scrollFactorX,u=h.scrollFactorY;h.mask&&h.mask.preRenderCanvas(i,null,x);for(var v=0;v<l.length;v++){var p=l[v];if(p.willRender(x)){var g=p.alpha,m=p.scrollFactorX,T=p.scrollFactorY;!n&&p.blendMode!==i.currentBlendMode&&i.setBlendMode(p.blendMode),p.setScrollFactor(m*c,T*u),p.setAlpha(g*d),p.renderCanvas(i,p,x,a),p.setAlpha(g),p.setScrollFactor(m,T)}}h.mask&&h.mask.postRenderCanvas(i)}};r.exports=C},77143:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(31559),f=i(44603),l=i(23568),a=i(95540);f.register("container",function(n,d){n===void 0&&(n={});var c=l(n,"x",0),u=l(n,"y",0),v=a(n,"children",null),p=new x(this.scene,c,u,v);return d!==void 0&&(n.add=d),h(this.scene,p,n),p})},24961:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(31559),x=i(39429);x.register("container",function(f,l,a){return this.displayList.add(new h(this.scene,f,l,a))})},29959:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(72249),f=i(53584),r.exports={renderWebGL:x,renderCanvas:f}},72249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x.addToRenderList(h);var l=h.list,a=l.length;if(a!==0){var n=h.localTransform;f?(n.loadIdentity(),n.multiply(f),n.translate(h.x,h.y),n.rotate(h.rotation),n.scale(h.scaleX,h.scaleY)):n.applyITRS(h.x,h.y,h.rotation,h.scaleX,h.scaleY),i.pipelines.preBatch(h);var d=h.blendMode!==-1;d||i.setBlendMode(0);for(var c=h.alpha,u=h.scrollFactorX,v=h.scrollFactorY,p=0;p<a;p++){var g=l[p];if(g.willRender(x)){var m,T,P,E;if(g.alphaTopLeft!==void 0)m=g.alphaTopLeft,T=g.alphaTopRight,P=g.alphaBottomLeft,E=g.alphaBottomRight;else{var M=g.alpha;m=M,T=M,P=M,E=M}var w=g.scrollFactorX,R=g.scrollFactorY;!d&&g.blendMode!==i.currentBlendMode&&i.setBlendMode(g.blendMode);var A=g.mask;A&&A.preRenderWebGL(i,g,x);var O=g.type;O!==i.currentType&&(i.newType=!0,i.currentType=O),i.nextTypeMatch=p<a-1?l[p+1].type===i.currentType:!1,g.setScrollFactor(w*u,R*v),g.setAlpha(m*c,T*c,P*c,E*c),g.renderWebGL(i,g,x,n,h),g.setAlpha(m,T,P,E),g.setScrollFactor(w,R),A&&A.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(h)}};r.exports=C},47407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["normal","multiply","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"]},3069:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(441),l=i(95643),a=i(41212),n=i(35846),d=i(44594),c=i(61369),u=new h({Extends:l,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Origin,x.ScrollFactor,x.Transform,x.Visible,f],initialize:function(p,g,m,T,P,E){l.call(this,p,"DOMElement"),this.parent=p.sys.game.domContainer,this.cache=p.sys.cache.html,this.node,this.transformOnly=!1,this.skewX=0,this.skewY=0,this.rotate3d=new c,this.rotate3dAngle="deg",this.pointerEvents="auto",this.width=0,this.height=0,this.displayWidth=0,this.displayHeight=0,this.handler=this.dispatchNativeEvent.bind(this),this.setPosition(g,m),typeof T=="string"?T[0]==="#"?this.setElement(T.substr(1),P,E):this.createElement(T,P,E):T&&this.setElement(T,P,E),p.sys.events.on(d.SLEEP,this.handleSceneEvent,this),p.sys.events.on(d.WAKE,this.handleSceneEvent,this),p.sys.events.on(d.PRE_RENDER,this.preRender,this)},handleSceneEvent:function(v){var p=this.node,g=p.style;p&&(g.display=v.settings.visible?"block":"none")},setSkew:function(v,p){return v===void 0&&(v=0),p===void 0&&(p=v),this.skewX=v,this.skewY=p,this},setPerspective:function(v){return this.parent.style.perspective=v+"px",this},perspective:{get:function(){return parseFloat(this.parent.style.perspective)},set:function(v){this.parent.style.perspective=v+"px"}},addListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.addEventListener(v[p],this.handler,!1)}return this},removeListener:function(v){if(this.node){v=v.split(" ");for(var p=0;p<v.length;p++)this.node.removeEventListener(v[p],this.handler)}return this},dispatchNativeEvent:function(v){this.emit(v.type,v)},createElement:function(v,p,g){return this.setElement(document.createElement(v),p,g)},setElement:function(v,p,g){this.removeElement();var m;if(typeof v=="string"?(v[0]==="#"&&(v=v.substr(1)),m=document.getElementById(v)):typeof v=="object"&&v.nodeType===1&&(m=v),!m)return this;if(this.node=m,p&&a(p))for(var T in p)m.style[T]=p[T];else typeof p=="string"&&(m.style=p);return m.style.zIndex="0",m.style.display="inline",m.style.position="absolute",m.phaser=this,this.parent&&this.parent.appendChild(m),g&&(m.innerText=g),this.updateSize()},createFromCache:function(v,p){var g=this.cache.get(v);return g&&this.createFromHTML(g,p),this},createFromHTML:function(v,p){p===void 0&&(p="div"),this.removeElement();var g=document.createElement(p);return this.node=g,g.style.zIndex="0",g.style.display="inline",g.style.position="absolute",g.phaser=this,this.parent&&this.parent.appendChild(g),g.innerHTML=v,this.updateSize()},removeElement:function(){return this.node&&(n(this.node),this.node=null),this},updateSize:function(){var v=this.node;return this.width=v.clientWidth,this.height=v.clientHeight,this.displayWidth=this.width*this.scaleX,this.displayHeight=this.height*this.scaleY,this},getChildByProperty:function(v,p){if(this.node){for(var g=this.node.querySelectorAll("*"),m=0;m<g.length;m++)if(g[m][v]===p)return g[m]}return null},getChildByID:function(v){return this.getChildByProperty("id",v)},getChildByName:function(v){return this.getChildByProperty("name",v)},setClassName:function(v){return this.node&&(this.node.className=v,this.updateSize()),this},setText:function(v){return this.node&&(this.node.innerText=v,this.updateSize()),this},setHTML:function(v){return this.node&&(this.node.innerHTML=v,this.updateSize()),this},preRender:function(){var v=this.parentContainer,p=this.node;p&&v&&!v.willRender()&&(p.style.display="none")},willRender:function(){return!0},preDestroy:function(){this.removeElement(),this.scene.sys.events.off(d.SLEEP,this.handleSceneEvent,this),this.scene.sys.events.off(d.WAKE,this.handleSceneEvent,this),this.scene.sys.events.off(d.PRE_RENDER,this.preRender,this)}});r.exports=u},49381:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(47407),x=i(95643),f=i(61340),l=new f,a=new f,n=new f,d=function(c,u,v,p){if(u.node){var g=u.node.style,m=u.scene.sys.settings;if(!g||!m.visible||x.RENDER_MASK!==u.renderFlags||u.cameraFilter!==0&&u.cameraFilter&v.id||u.parentContainer&&!u.parentContainer.willRender()){g.display="none";return}var T=u.parentContainer,P=v.alpha*u.alpha;T&&(P*=T.alpha);var E=l,M=a,w=n,R=0,A=0,O="0%",F="0%";p?(R=u.width*u.scaleX*u.originX,A=u.height*u.scaleY*u.originY,M.applyITRS(u.x-R,u.y-A,u.rotation,u.scaleX,u.scaleY),E.copyFrom(v.matrix),E.multiplyWithOffset(p,-v.scrollX*u.scrollFactorX,-v.scrollY*u.scrollFactorY),M.e=u.x-R,M.f=u.y-A,E.multiply(M,w)):(R=u.width*u.originX,A=u.height*u.originY,M.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY),E.copyFrom(v.matrix),O=100*u.originX+"%",F=100*u.originY+"%",M.e-=v.scrollX*u.scrollFactorX,M.f-=v.scrollY*u.scrollFactorY,E.multiply(M,w),w.e-=R,w.f-=A),u.transformOnly||(g.display="block",g.opacity=P,g.zIndex=u._depth,g.pointerEvents=u.pointerEvents,g.mixBlendMode=h[u._blendMode]),g.transform=w.getCSSMatrix()+" skew("+u.skewX+"rad, "+u.skewY+"rad) rotate3d("+u.rotate3d.x+","+u.rotate3d.y+","+u.rotate3d.z+","+u.rotate3d.w+u.rotate3dAngle+")",g.transformOrigin=O+" "+F}};r.exports=d},2611:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(3069),x=i(39429);x.register("dom",function(f,l,a,n,d){var c=new h(this.scene,f,l,a,n,d);return this.displayList.add(c),c})},441:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(49381),f=i(49381),r.exports={renderWebGL:x,renderCanvas:f}},62980:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},41337:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},44947:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},49358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},35163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="created"},97249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="error"},19483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="locked"},56059:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},26772:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="metadata"},64437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="playing"},83411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},75780:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeked"},67799:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seeking"},63500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stalled"},55541:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},53208:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="textureready"},4992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},12:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unsupported"},51708:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:i(62980),DESTROY:i(41337),REMOVED_FROM_SCENE:i(44947),VIDEO_COMPLETE:i(49358),VIDEO_CREATED:i(35163),VIDEO_ERROR:i(97249),VIDEO_LOCKED:i(19483),VIDEO_LOOP:i(56059),VIDEO_METADATA:i(26772),VIDEO_PLAY:i(83411),VIDEO_PLAYING:i(64437),VIDEO_SEEKED:i(75780),VIDEO_SEEKING:i(67799),VIDEO_STALLED:i(63500),VIDEO_STOP:i(55541),VIDEO_TEXTURE:i(53208),VIDEO_UNLOCKED:i(4992),VIDEO_UNSUPPORTED:i(12)}},42421:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(95643),l=i(64993),a=new h({Extends:f,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.Origin,x.ScrollFactor,x.Size,x.Texture,x.Tint,x.Transform,x.Visible,l],initialize:function(d){f.call(this,d,"Extern")},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(){},render:function(){}});r.exports=a},70217:()=>{},56315:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42421),x=i(39429);x.register("extern",function(){var f=new h(this.scene);return this.displayList.add(f),f})},64993:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(80287),f=i(70217),r.exports={renderWebGL:x,renderCanvas:f}},80287:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=function(f,l,a,n){f.pipelines.clear();var d=h(l,a,n).calc;l.render.call(l,f,a,d),f.pipelines.rebind()};r.exports=x},85592:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ARC:0,BEGIN_PATH:1,CLOSE_PATH:2,FILL_RECT:3,LINE_TO:4,MOVE_TO:5,LINE_STYLE:6,FILL_STYLE:7,FILL_PATH:8,STROKE_PATH:9,FILL_TRIANGLE:10,STROKE_TRIANGLE:11,SAVE:14,RESTORE:15,TRANSLATE:16,SCALE:17,ROTATE:18,GRADIENT_FILL_STYLE:21,GRADIENT_LINE_STYLE:22}},43831:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71911),x=i(83419),f=i(85592),l=i(31401),a=i(8497),n=i(95643),d=i(95540),c=i(35154),u=i(36383),v=i(84503),p=new x({Extends:n,Mixins:[l.AlphaSingle,l.BlendMode,l.Depth,l.Mask,l.Pipeline,l.PostPipeline,l.Transform,l.Visible,l.ScrollFactor,v],initialize:function(m,T){var P=c(T,"x",0),E=c(T,"y",0);n.call(this,m,"Graphics"),this.setPosition(P,E),this.initPipeline(),this.initPostPipeline(),this.displayOriginX=0,this.displayOriginY=0,this.commandBuffer=[],this.defaultFillColor=-1,this.defaultFillAlpha=1,this.defaultStrokeWidth=1,this.defaultStrokeColor=-1,this.defaultStrokeAlpha=1,this._lineWidth=1,this.lineStyle(1,0,0),this.fillStyle(0,0),this.setDefaultStyles(T)},setDefaultStyles:function(g){return c(g,"lineStyle",null)&&(this.defaultStrokeWidth=c(g,"lineStyle.width",1),this.defaultStrokeColor=c(g,"lineStyle.color",16777215),this.defaultStrokeAlpha=c(g,"lineStyle.alpha",1),this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha)),c(g,"fillStyle",null)&&(this.defaultFillColor=c(g,"fillStyle.color",16777215),this.defaultFillAlpha=c(g,"fillStyle.alpha",1),this.fillStyle(this.defaultFillColor,this.defaultFillAlpha)),this},lineStyle:function(g,m,T){return T===void 0&&(T=1),this.commandBuffer.push(f.LINE_STYLE,g,m,T),this._lineWidth=g,this},fillStyle:function(g,m){return m===void 0&&(m=1),this.commandBuffer.push(f.FILL_STYLE,g,m),this},fillGradientStyle:function(g,m,T,P,E,M,w,R){return E===void 0&&(E=1),M===void 0&&(M=E),w===void 0&&(w=E),R===void 0&&(R=E),this.commandBuffer.push(f.GRADIENT_FILL_STYLE,E,M,w,R,g,m,T,P),this},lineGradientStyle:function(g,m,T,P,E,M){return M===void 0&&(M=1),this.commandBuffer.push(f.GRADIENT_LINE_STYLE,g,M,m,T,P,E),this},beginPath:function(){return this.commandBuffer.push(f.BEGIN_PATH),this},closePath:function(){return this.commandBuffer.push(f.CLOSE_PATH),this},fillPath:function(){return this.commandBuffer.push(f.FILL_PATH),this},fill:function(){return this.commandBuffer.push(f.FILL_PATH),this},strokePath:function(){return this.commandBuffer.push(f.STROKE_PATH),this},stroke:function(){return this.commandBuffer.push(f.STROKE_PATH),this},fillCircleShape:function(g){return this.fillCircle(g.x,g.y,g.radius)},strokeCircleShape:function(g){return this.strokeCircle(g.x,g.y,g.radius)},fillCircle:function(g,m,T){return this.beginPath(),this.arc(g,m,T,0,u.PI2),this.fillPath(),this},strokeCircle:function(g,m,T){return this.beginPath(),this.arc(g,m,T,0,u.PI2),this.strokePath(),this},fillRectShape:function(g){return this.fillRect(g.x,g.y,g.width,g.height)},strokeRectShape:function(g){return this.strokeRect(g.x,g.y,g.width,g.height)},fillRect:function(g,m,T,P){return this.commandBuffer.push(f.FILL_RECT,g,m,T,P),this},strokeRect:function(g,m,T,P){var E=this._lineWidth/2,M=g-E,w=g+E;return this.beginPath(),this.moveTo(g,m),this.lineTo(g,m+P),this.strokePath(),this.beginPath(),this.moveTo(g+T,m),this.lineTo(g+T,m+P),this.strokePath(),this.beginPath(),this.moveTo(M,m),this.lineTo(w+T,m),this.strokePath(),this.beginPath(),this.moveTo(M,m+P),this.lineTo(w+T,m+P),this.strokePath(),this},fillRoundedRect:function(g,m,T,P,E){E===void 0&&(E=20);var M=E,w=E,R=E,A=E;typeof E!="number"&&(M=d(E,"tl",20),w=d(E,"tr",20),R=d(E,"bl",20),A=d(E,"br",20));var O=M>=0,F=w>=0,L=R>=0,b=A>=0;return M=Math.abs(M),w=Math.abs(w),R=Math.abs(R),A=Math.abs(A),this.beginPath(),this.moveTo(g+M,m),this.lineTo(g+T-w,m),F?this.arc(g+T-w,m+w,w,-u.TAU,0):this.arc(g+T,m,w,Math.PI,u.TAU,!0),this.lineTo(g+T,m+P-A),b?this.arc(g+T-A,m+P-A,A,0,u.TAU):this.arc(g+T,m+P,A,-u.TAU,Math.PI,!0),this.lineTo(g+R,m+P),L?this.arc(g+R,m+P-R,R,u.TAU,Math.PI):this.arc(g,m+P,R,0,-u.TAU,!0),this.lineTo(g,m+M),O?this.arc(g+M,m+M,M,-Math.PI,-u.TAU):this.arc(g,m,M,u.TAU,0,!0),this.fillPath(),this},strokeRoundedRect:function(g,m,T,P,E){E===void 0&&(E=20);var M=E,w=E,R=E,A=E,O=Math.min(T,P)/2;typeof E!="number"&&(M=d(E,"tl",20),w=d(E,"tr",20),R=d(E,"bl",20),A=d(E,"br",20));var F=M>=0,L=w>=0,b=R>=0,D=A>=0;return M=Math.min(Math.abs(M),O),w=Math.min(Math.abs(w),O),R=Math.min(Math.abs(R),O),A=Math.min(Math.abs(A),O),this.beginPath(),this.moveTo(g+M,m),this.lineTo(g+T-w,m),this.moveTo(g+T-w,m),L?this.arc(g+T-w,m+w,w,-u.TAU,0):this.arc(g+T,m,w,Math.PI,u.TAU,!0),this.lineTo(g+T,m+P-A),this.moveTo(g+T,m+P-A),D?this.arc(g+T-A,m+P-A,A,0,u.TAU):this.arc(g+T,m+P,A,-u.TAU,Math.PI,!0),this.lineTo(g+R,m+P),this.moveTo(g+R,m+P),b?this.arc(g+R,m+P-R,R,u.TAU,Math.PI):this.arc(g,m+P,R,0,-u.TAU,!0),this.lineTo(g,m+M),this.moveTo(g,m+M),F?this.arc(g+M,m+M,M,-Math.PI,-u.TAU):this.arc(g,m,M,u.TAU,0,!0),this.strokePath(),this},fillPointShape:function(g,m){return this.fillPoint(g.x,g.y,m)},fillPoint:function(g,m,T){return!T||T<1?T=1:(g-=T/2,m-=T/2),this.commandBuffer.push(f.FILL_RECT,g,m,T,T),this},fillTriangleShape:function(g){return this.fillTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},strokeTriangleShape:function(g){return this.strokeTriangle(g.x1,g.y1,g.x2,g.y2,g.x3,g.y3)},fillTriangle:function(g,m,T,P,E,M){return this.commandBuffer.push(f.FILL_TRIANGLE,g,m,T,P,E,M),this},strokeTriangle:function(g,m,T,P,E,M){return this.commandBuffer.push(f.STROKE_TRIANGLE,g,m,T,P,E,M),this},strokeLineShape:function(g){return this.lineBetween(g.x1,g.y1,g.x2,g.y2)},lineBetween:function(g,m,T,P){return this.beginPath(),this.moveTo(g,m),this.lineTo(T,P),this.strokePath(),this},lineTo:function(g,m){return this.commandBuffer.push(f.LINE_TO,g,m),this},moveTo:function(g,m){return this.commandBuffer.push(f.MOVE_TO,g,m),this},strokePoints:function(g,m,T,P){m===void 0&&(m=!1),T===void 0&&(T=!1),P===void 0&&(P=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var E=1;E<P;E++)this.lineTo(g[E].x,g[E].y);return m&&this.lineTo(g[0].x,g[0].y),T&&this.closePath(),this.strokePath(),this},fillPoints:function(g,m,T,P){m===void 0&&(m=!1),T===void 0&&(T=!1),P===void 0&&(P=g.length),this.beginPath(),this.moveTo(g[0].x,g[0].y);for(var E=1;E<P;E++)this.lineTo(g[E].x,g[E].y);return m&&this.lineTo(g[0].x,g[0].y),T&&this.closePath(),this.fillPath(),this},strokeEllipseShape:function(g,m){m===void 0&&(m=32);var T=g.getPoints(m);return this.strokePoints(T,!0)},strokeEllipse:function(g,m,T,P,E){E===void 0&&(E=32);var M=new a(g,m,T,P),w=M.getPoints(E);return this.strokePoints(w,!0)},fillEllipseShape:function(g,m){m===void 0&&(m=32);var T=g.getPoints(m);return this.fillPoints(T,!0)},fillEllipse:function(g,m,T,P,E){E===void 0&&(E=32);var M=new a(g,m,T,P),w=M.getPoints(E);return this.fillPoints(w,!0)},arc:function(g,m,T,P,E,M,w){return M===void 0&&(M=!1),w===void 0&&(w=0),this.commandBuffer.push(f.ARC,g,m,T,P,E,M,w),this},slice:function(g,m,T,P,E,M,w){return M===void 0&&(M=!1),w===void 0&&(w=0),this.commandBuffer.push(f.BEGIN_PATH),this.commandBuffer.push(f.MOVE_TO,g,m),this.commandBuffer.push(f.ARC,g,m,T,P,E,M,w),this.commandBuffer.push(f.CLOSE_PATH),this},save:function(){return this.commandBuffer.push(f.SAVE),this},restore:function(){return this.commandBuffer.push(f.RESTORE),this},translateCanvas:function(g,m){return this.commandBuffer.push(f.TRANSLATE,g,m),this},scaleCanvas:function(g,m){return this.commandBuffer.push(f.SCALE,g,m),this},rotateCanvas:function(g){return this.commandBuffer.push(f.ROTATE,g),this},clear:function(){return this.commandBuffer.length=0,this.defaultFillColor>-1&&this.fillStyle(this.defaultFillColor,this.defaultFillAlpha),this.defaultStrokeColor>-1&&this.lineStyle(this.defaultStrokeWidth,this.defaultStrokeColor,this.defaultStrokeAlpha),this},generateTexture:function(g,m,T){var P=this.scene.sys,E=P.game.renderer;m===void 0&&(m=P.scale.width),T===void 0&&(T=P.scale.height),p.TargetCamera.setScene(this.scene),p.TargetCamera.setViewport(0,0,m,T),p.TargetCamera.scrollX=this.x,p.TargetCamera.scrollY=this.y;var M,w,R={willReadFrequently:!0};if(typeof g=="string")if(P.textures.exists(g)){M=P.textures.get(g);var A=M.getSourceImage();A instanceof HTMLCanvasElement&&(w=A.getContext("2d",R))}else M=P.textures.createCanvas(g,m,T),w=M.getSourceImage().getContext("2d",R);else g instanceof HTMLCanvasElement&&(w=g.getContext("2d",R));return w&&(this.renderCanvas(E,this,p.TargetCamera,null,w,!1),M&&M.refresh()),this},preDestroy:function(){this.commandBuffer=[]}});p.TargetCamera=new h,r.exports=p},32768:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85592),x=i(20926),f=function(l,a,n,d,c,u){var v=a.commandBuffer,p=v.length,g=c||l.currentContext;if(!(p===0||!x(l,g,a,n,d))){n.addToRenderList(a);var m=1,T=1,P=0,E=0,M=1,w=0,R=0,A=0;g.beginPath();for(var O=0;O<p;++O){var F=v[O];switch(F){case h.ARC:g.arc(v[O+1],v[O+2],v[O+3],v[O+4],v[O+5],v[O+6]),O+=7;break;case h.LINE_STYLE:M=v[O+1],P=v[O+2],m=v[O+3],w=(P&16711680)>>>16,R=(P&65280)>>>8,A=P&255,g.strokeStyle="rgba("+w+","+R+","+A+","+m+")",g.lineWidth=M,O+=3;break;case h.FILL_STYLE:E=v[O+1],T=v[O+2],w=(E&16711680)>>>16,R=(E&65280)>>>8,A=E&255,g.fillStyle="rgba("+w+","+R+","+A+","+T+")",O+=2;break;case h.BEGIN_PATH:g.beginPath();break;case h.CLOSE_PATH:g.closePath();break;case h.FILL_PATH:u||g.fill();break;case h.STROKE_PATH:u||g.stroke();break;case h.FILL_RECT:u?g.rect(v[O+1],v[O+2],v[O+3],v[O+4]):g.fillRect(v[O+1],v[O+2],v[O+3],v[O+4]),O+=4;break;case h.FILL_TRIANGLE:g.beginPath(),g.moveTo(v[O+1],v[O+2]),g.lineTo(v[O+3],v[O+4]),g.lineTo(v[O+5],v[O+6]),g.closePath(),u||g.fill(),O+=6;break;case h.STROKE_TRIANGLE:g.beginPath(),g.moveTo(v[O+1],v[O+2]),g.lineTo(v[O+3],v[O+4]),g.lineTo(v[O+5],v[O+6]),g.closePath(),u||g.stroke(),O+=6;break;case h.LINE_TO:g.lineTo(v[O+1],v[O+2]),O+=2;break;case h.MOVE_TO:g.moveTo(v[O+1],v[O+2]),O+=2;break;case h.LINE_FX_TO:g.lineTo(v[O+1],v[O+2]),O+=5;break;case h.MOVE_FX_TO:g.moveTo(v[O+1],v[O+2]),O+=5;break;case h.SAVE:g.save();break;case h.RESTORE:g.restore();break;case h.TRANSLATE:g.translate(v[O+1],v[O+2]),O+=2;break;case h.SCALE:g.scale(v[O+1],v[O+2]),O+=2;break;case h.ROTATE:g.rotate(v[O+1]),O+=1;break;case h.GRADIENT_FILL_STYLE:O+=5;break;case h.GRADIENT_LINE_STYLE:O+=6;break}}g.restore()}};r.exports=f},87079:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),x=i(43831);h.register("graphics",function(f,l){f===void 0&&(f={}),l!==void 0&&(f.add=l);var a=new x(this.scene,f);return f.add&&this.scene.sys.displayList.add(a),a})},1201:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43831),x=i(39429);x.register("graphics",function(f){return this.displayList.add(new h(this.scene,f))})},84503:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(77545),f=i(32768),f=i(32768),r.exports={renderWebGL:x,renderCanvas:f}},77545:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85592),x=i(91296),f=i(61340),l=i(70554),a=function(v,p,g){this.x=v,this.y=p,this.width=g},n=function(v,p,g){this.points=[],this.pointsLength=1,this.points[0]=new a(v,p,g)},d=[],c=new f,u=function(v,p,g,m){if(p.commandBuffer.length!==0){g.addToRenderList(p);var T=v.pipelines.set(p.pipeline,p);v.pipelines.preBatch(p);for(var P=x(p,g,m).calc,E=c.loadIdentity(),M=p.commandBuffer,w=g.alpha*p.alpha,R=1,A=T.fillTint,O=T.strokeTint,F=0,L=0,b=0,D=.01,I=Math.PI*2,k,X=[],W=0,Y=!0,N=null,V=l.getTintAppendFloatAlpha,G=0;G<M.length;G++)switch(k=M[G],k){case h.BEGIN_PATH:{X.length=0,N=null,Y=!0;break}case h.CLOSE_PATH:{Y=!1,N&&N.points.length&&N.points.push(N.points[0]);break}case h.FILL_PATH:{for(W=0;W<X.length;W++)T.batchFillPath(X[W].points,E,P);break}case h.STROKE_PATH:{for(W=0;W<X.length;W++)T.batchStrokePath(X[W].points,R,Y,E,P);break}case h.LINE_STYLE:{R=M[++G];var B=M[++G],z=M[++G]*w,U=V(B,z);O.TL=U,O.TR=U,O.BL=U,O.BR=U;break}case h.FILL_STYLE:{var H=M[++G],$=M[++G]*w,K=V(H,$);A.TL=K,A.TR=K,A.BL=K,A.BR=K;break}case h.GRADIENT_FILL_STYLE:{var Z=M[++G]*w,J=M[++G]*w,Q=M[++G]*w,j=M[++G]*w;A.TL=V(M[++G],Z),A.TR=V(M[++G],J),A.BL=V(M[++G],Q),A.BR=V(M[++G],j);break}case h.GRADIENT_LINE_STYLE:{R=M[++G];var tt=M[++G]*w;O.TL=V(M[++G],tt),O.TR=V(M[++G],tt),O.BL=V(M[++G],tt),O.BR=V(M[++G],tt);break}case h.ARC:{var it=0,q=M[++G],ht=M[++G],ot=M[++G],lt=M[++G],_=M[++G],nt=M[++G],at=M[++G];for(_-=lt,nt?_<-I?_=-I:_>0&&(_=-I+_%I):_>I?_=I:_<0&&(_=I+_%I),N===null&&(N=new n(q+Math.cos(lt)*ot,ht+Math.sin(lt)*ot,R),X.push(N),it+=D);it<1+at;)b=_*it+lt,F=q+Math.cos(b)*ot,L=ht+Math.sin(b)*ot,N.points.push(new a(F,L,R)),it+=D;b=_+lt,F=q+Math.cos(b)*ot,L=ht+Math.sin(b)*ot,N.points.push(new a(F,L,R));break}case h.FILL_RECT:{T.batchFillRect(M[++G],M[++G],M[++G],M[++G],E,P);break}case h.FILL_TRIANGLE:{T.batchFillTriangle(M[++G],M[++G],M[++G],M[++G],M[++G],M[++G],E,P);break}case h.STROKE_TRIANGLE:{T.batchStrokeTriangle(M[++G],M[++G],M[++G],M[++G],M[++G],M[++G],R,E,P);break}case h.LINE_TO:{N!==null?N.points.push(new a(M[++G],M[++G],R)):(N=new n(M[++G],M[++G],R),X.push(N));break}case h.MOVE_TO:{N=new n(M[++G],M[++G],R),X.push(N);break}case h.SAVE:{d.push(E.copyToArray());break}case h.RESTORE:{E.copyFromArray(d.pop());break}case h.TRANSLATE:{q=M[++G],ht=M[++G],E.translate(q,ht);break}case h.SCALE:{q=M[++G],ht=M[++G],E.scale(q,ht);break}case h.ROTATE:{E.rotate(M[++G]);break}}v.pipelines.postBatch(p)}};r.exports=u},26479:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61061),x=i(83419),f=i(51708),l=i(50792),a=i(46710),n=i(95540),d=i(35154),c=i(97022),u=i(41212),v=i(88492),p=i(35072),g=i(68287),m=new x({Extends:l,initialize:function(P,E,M){l.call(this),M?E&&!Array.isArray(E)&&(E=[E]):Array.isArray(E)?u(E[0])&&(M=E,E=null):u(E)&&(M=E,E=null),this.scene=P,this.children=new p,this.isParent=!0,this.type="Group",this.classType=n(M,"classType",g),this.name=n(M,"name",""),this.active=n(M,"active",!0),this.maxSize=n(M,"maxSize",-1),this.defaultKey=n(M,"defaultKey",null),this.defaultFrame=n(M,"defaultFrame",null),this.runChildUpdate=n(M,"runChildUpdate",!1),this.createCallback=n(M,"createCallback",null),this.removeCallback=n(M,"removeCallback",null),this.createMultipleCallback=n(M,"createMultipleCallback",null),this.internalCreateCallback=n(M,"internalCreateCallback",null),this.internalRemoveCallback=n(M,"internalRemoveCallback",null),E&&this.addMultiple(E),M&&this.createMultiple(M),this.on(f.ADDED_TO_SCENE,this.addedToScene,this),this.on(f.REMOVED_FROM_SCENE,this.removedFromScene,this)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},create:function(T,P,E,M,w,R){if(T===void 0&&(T=0),P===void 0&&(P=0),E===void 0&&(E=this.defaultKey),M===void 0&&(M=this.defaultFrame),w===void 0&&(w=!0),R===void 0&&(R=!0),this.isFull())return null;var A=new this.classType(this.scene,T,P,E,M);return A.addToDisplayList(this.scene.sys.displayList),A.addToUpdateList(),A.visible=w,A.setActive(R),this.add(A),A},createMultiple:function(T){if(this.isFull())return[];Array.isArray(T)||(T=[T]);var P=[];if(T[0].key)for(var E=0;E<T.length;E++){var M=this.createFromConfig(T[E]);P=P.concat(M)}return P},createFromConfig:function(T){if(this.isFull())return[];this.classType=n(T,"classType",this.classType);var P=n(T,"key",void 0),E=n(T,"frame",null),M=n(T,"visible",!0),w=n(T,"active",!0),R=[];if(P===void 0)return R;Array.isArray(P)||(P=[P]),Array.isArray(E)||(E=[E]);var A=n(T,"repeat",0),O=n(T,"randomKey",!1),F=n(T,"randomFrame",!1),L=n(T,"yoyo",!1),b=n(T,"quantity",!1),D=n(T,"frameQuantity",1),I=n(T,"max",0),k=v(P,E,{max:I,qty:b||D,random:O,randomB:F,repeat:A,yoyo:L});T.createCallback&&(this.createCallback=T.createCallback),T.removeCallback&&(this.removeCallback=T.removeCallback),T.internalCreateCallback&&(this.internalCreateCallback=T.internalCreateCallback),T.internalRemoveCallback&&(this.internalRemoveCallback=T.internalRemoveCallback);for(var X=0;X<k.length;X++){var W=this.create(0,0,k[X].a,k[X].b,M,w);if(!W)break;R.push(W)}if(c(T,"setXY")){var Y=d(T,"setXY.x",0),N=d(T,"setXY.y",0),V=d(T,"setXY.stepX",0),G=d(T,"setXY.stepY",0);h.SetXY(R,Y,N,V,G)}if(c(T,"setRotation")){var B=d(T,"setRotation.value",0),z=d(T,"setRotation.step",0);h.SetRotation(R,B,z)}if(c(T,"setScale")){var U=d(T,"setScale.x",1),H=d(T,"setScale.y",U),$=d(T,"setScale.stepX",0),K=d(T,"setScale.stepY",0);h.SetScale(R,U,H,$,K)}if(c(T,"setOrigin")){var Z=d(T,"setOrigin.x",.5),J=d(T,"setOrigin.y",Z),Q=d(T,"setOrigin.stepX",0),j=d(T,"setOrigin.stepY",0);h.SetOrigin(R,Z,J,Q,j)}if(c(T,"setAlpha")){var tt=d(T,"setAlpha.value",1),it=d(T,"setAlpha.step",0);h.SetAlpha(R,tt,it)}if(c(T,"setDepth")){var q=d(T,"setDepth.value",0),ht=d(T,"setDepth.step",0);h.SetDepth(R,q,ht)}if(c(T,"setScrollFactor")){var ot=d(T,"setScrollFactor.x",1),lt=d(T,"setScrollFactor.y",ot),_=d(T,"setScrollFactor.stepX",0),nt=d(T,"setScrollFactor.stepY",0);h.SetScrollFactor(R,ot,lt,_,nt)}var at=n(T,"hitArea",null),ct=n(T,"hitAreaCallback",null);at&&h.SetHitArea(R,at,ct);var Ct=n(T,"gridAlign",!1);return Ct&&h.GridAlign(R,Ct),this.createMultipleCallback&&this.createMultipleCallback.call(this,R),R},preUpdate:function(T,P){if(!(!this.runChildUpdate||this.children.size===0))for(var E=this.children.entries.slice(),M=0;M<E.length;M++){var w=E[M];w.active&&w.update(T,P)}},add:function(T,P){return P===void 0&&(P=!1),this.isFull()?this:(this.children.set(T),this.internalCreateCallback&&this.internalCreateCallback.call(this,T),this.createCallback&&this.createCallback.call(this,T),P&&(T.addToDisplayList(this.scene.sys.displayList),T.addToUpdateList()),T.on(f.DESTROY,this.remove,this),this)},addMultiple:function(T,P){if(P===void 0&&(P=!1),Array.isArray(T))for(var E=0;E<T.length;E++)this.add(T[E],P);return this},remove:function(T,P,E){return P===void 0&&(P=!1),E===void 0&&(E=!1),this.children.contains(T)?(this.children.delete(T),this.internalRemoveCallback&&this.internalRemoveCallback.call(this,T),this.removeCallback&&this.removeCallback.call(this,T),T.off(f.DESTROY,this.remove,this),E?T.destroy():P&&(T.removeFromDisplayList(),T.removeFromUpdateList()),this):this},clear:function(T,P){T===void 0&&(T=!1),P===void 0&&(P=!1);for(var E=this.children,M=0;M<E.size;M++){var w=E.entries[M];w.off(f.DESTROY,this.remove,this),P?w.destroy():T&&(w.removeFromDisplayList(),w.removeFromUpdateList())}return this.children.clear(),this},contains:function(T){return this.children.contains(T)},getChildren:function(){return this.children.entries},getLength:function(){return this.children.size},getMatching:function(T,P,E,M){return a(this.children.entries,T,P,E,M)},getFirst:function(T,P,E,M,w,R,A){return this.getHandler(!0,1,T,P,E,M,w,R,A)},getFirstNth:function(T,P,E,M,w,R,A,O){return this.getHandler(!0,T,P,E,M,w,R,A,O)},getLast:function(T,P,E,M,w,R,A){return this.getHandler(!1,1,T,P,E,M,w,R,A)},getLastNth:function(T,P,E,M,w,R,A,O){return this.getHandler(!1,T,P,E,M,w,R,A,O)},getHandler:function(T,P,E,M,w,R,A,O,F){E===void 0&&(E=!1),M===void 0&&(M=!1);var L,b,D=0,I=this.children.entries;if(T)for(b=0;b<I.length;b++)if(L=I[b],L.active===E){if(D++,D===P)break}else L=null;else for(b=I.length-1;b>=0;b--)if(L=I[b],L.active===E){if(D++,D===P)break}else L=null;return L?(typeof w=="number"&&(L.x=w),typeof R=="number"&&(L.y=R),L):M?this.create(w,R,A,O,F):null},get:function(T,P,E,M,w){return this.getFirst(!1,!0,T,P,E,M,w)},getFirstAlive:function(T,P,E,M,w,R){return this.getFirst(!0,T,P,E,M,w,R)},getFirstDead:function(T,P,E,M,w,R){return this.getFirst(!1,T,P,E,M,w,R)},playAnimation:function(T,P){return h.PlayAnimation(this.children.entries,T,P),this},isFull:function(){return this.maxSize===-1?!1:this.children.size>=this.maxSize},countActive:function(T){T===void 0&&(T=!0);for(var P=0,E=0;E<this.children.size;E++)this.children.entries[E].active===T&&P++;return P},getTotalUsed:function(){return this.countActive()},getTotalFree:function(){var T=this.getTotalUsed(),P=this.maxSize===-1?999999999999:this.maxSize;return P-T},setActive:function(T){return this.active=T,this},setName:function(T){return this.name=T,this},propertyValueSet:function(T,P,E,M,w){return h.PropertyValueSet(this.children.entries,T,P,E,M,w),this},propertyValueInc:function(T,P,E,M,w){return h.PropertyValueInc(this.children.entries,T,P,E,M,w),this},setX:function(T,P){return h.SetX(this.children.entries,T,P),this},setY:function(T,P){return h.SetY(this.children.entries,T,P),this},setXY:function(T,P,E,M){return h.SetXY(this.children.entries,T,P,E,M),this},incX:function(T,P){return h.IncX(this.children.entries,T,P),this},incY:function(T,P){return h.IncY(this.children.entries,T,P),this},incXY:function(T,P,E,M){return h.IncXY(this.children.entries,T,P,E,M),this},shiftPosition:function(T,P,E){return h.ShiftPosition(this.children.entries,T,P,E),this},angle:function(T,P){return h.Angle(this.children.entries,T,P),this},rotate:function(T,P){return h.Rotate(this.children.entries,T,P),this},rotateAround:function(T,P){return h.RotateAround(this.children.entries,T,P),this},rotateAroundDistance:function(T,P,E){return h.RotateAroundDistance(this.children.entries,T,P,E),this},setAlpha:function(T,P){return h.SetAlpha(this.children.entries,T,P),this},setTint:function(T,P,E,M){return h.SetTint(this.children.entries,T,P,E,M),this},setOrigin:function(T,P,E,M){return h.SetOrigin(this.children.entries,T,P,E,M),this},scaleX:function(T,P){return h.ScaleX(this.children.entries,T,P),this},scaleY:function(T,P){return h.ScaleY(this.children.entries,T,P),this},scaleXY:function(T,P,E,M){return h.ScaleXY(this.children.entries,T,P,E,M),this},setDepth:function(T,P){return h.SetDepth(this.children.entries,T,P),this},setBlendMode:function(T){return h.SetBlendMode(this.children.entries,T),this},setHitArea:function(T,P){return h.SetHitArea(this.children.entries,T,P),this},shuffle:function(){return h.Shuffle(this.children.entries),this},kill:function(T){this.children.contains(T)&&T.setActive(!1)},killAndHide:function(T){this.children.contains(T)&&(T.setActive(!1),T.setVisible(!1))},setVisible:function(T,P,E){return h.SetVisible(this.children.entries,T,P,E),this},toggleVisible:function(){return h.ToggleVisible(this.children.entries),this},destroy:function(T,P){T===void 0&&(T=!1),P===void 0&&(P=!1),!(!this.scene||this.ignoreDestroy)&&(this.emit(f.DESTROY,this),this.removeAllListeners(),this.scene.sys.updateList.remove(this),this.clear(P,T),this.scene=void 0,this.children=void 0)}});r.exports=m},94975:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),x=i(26479);h.register("group",function(f){return new x(this.scene,null,f)})},3385:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26479),x=i(39429);x.register("group",function(f,l){return this.updateList.add(new h(this.scene,f,l))})},88571:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(95643),l=i(59819),a=new h({Extends:f,Mixins:[x.Alpha,x.BlendMode,x.Depth,x.Flip,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.TextureCrop,x.Tint,x.Transform,x.Visible,l],initialize:function(d,c,u,v,p){f.call(this,d,"Image"),this._crop=this.resetCropObject(),this.setTexture(v,p),this.setPosition(c,u),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=a},40652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x.addToRenderList(h),i.batchSprite(h,h.frame,x,f)};r.exports=C},82459:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(88571);x.register("image",function(a,n){a===void 0&&(a={});var d=f(a,"key",null),c=f(a,"frame",null),u=new l(this.scene,0,0,d,c);return n!==void 0&&(a.add=n),h(this.scene,u,a),u})},2117:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(88571),x=i(39429);x.register("image",function(f,l,a,n){return this.displayList.add(new h(this.scene,f,l,a,n))})},59819:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(99517),f=i(40652),r.exports={renderWebGL:x,renderCanvas:f}},99517:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x.addToRenderList(h),this.pipeline.batchSprite(h,x,f)};r.exports=C},77856:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Events:i(51708),DisplayList:i(8050),GameObjectCreator:i(44603),GameObjectFactory:i(39429),UpdateList:i(45027),Components:i(31401),GetCalcMatrix:i(91296),BuildGameObject:i(25305),BuildGameObjectAnimation:i(13059),GameObject:i(95643),BitmapText:i(22186),Blitter:i(6107),Bob:i(46590),Container:i(31559),DOMElement:i(3069),DynamicBitmapText:i(2638),Extern:i(42421),Graphics:i(43831),Group:i(26479),Image:i(88571),Layer:i(93595),Particles:i(18404),PathFollower:i(1159),RenderTexture:i(591),RetroFont:i(196),Rope:i(77757),Sprite:i(68287),Text:i(50171),GetTextSize:i(14220),MeasureText:i(79557),TextStyle:i(35762),TileSprite:i(20839),Zone:i(41481),Video:i(18471),Shape:i(17803),Arc:i(23629),Curve:i(89),Ellipse:i(19921),Grid:i(30479),IsoBox:i(61475),IsoTriangle:i(16933),Line:i(57847),Polygon:i(24949),Rectangle:i(74561),Star:i(55911),Triangle:i(36931),Factories:{Blitter:i(12709),Container:i(24961),DOMElement:i(2611),DynamicBitmapText:i(72566),Extern:i(56315),Graphics:i(1201),Group:i(3385),Image:i(2117),Layer:i(20005),Particles:i(676),PathFollower:i(90145),RenderTexture:i(60505),Rope:i(96819),Sprite:i(46409),StaticBitmapText:i(34914),Text:i(68005),TileSprite:i(91681),Zone:i(84175),Video:i(89025),Arc:i(42563),Curve:i(40511),Ellipse:i(1543),Grid:i(34137),IsoBox:i(3933),IsoTriangle:i(49803),Line:i(2481),Polygon:i(64827),Rectangle:i(87959),Star:i(93697),Triangle:i(45245)},Creators:{Blitter:i(9403),Container:i(77143),DynamicBitmapText:i(11164),Graphics:i(87079),Group:i(94975),Image:i(82459),Layer:i(25179),Particles:i(92730),RenderTexture:i(34495),Rope:i(26209),Sprite:i(15567),StaticBitmapText:i(57336),Text:i(71259),TileSprite:i(14167),Zone:i(95261),Video:i(11511)}};h.Shader=i(20071),h.Mesh=i(4703),h.NineSlice=i(28103),h.PointLight=i(80321),h.Plane=i(33663),h.Factories.Shader=i(74177),h.Factories.Mesh=i(9225),h.Factories.NineSlice=i(47521),h.Factories.PointLight=i(71255),h.Factories.Plane=i(30985),h.Creators.Shader=i(54935),h.Creators.Mesh=i(20527),h.Creators.NineSlice=i(28279),h.Creators.PointLight=i(39829),h.Creators.Plane=i(56015),h.Light=i(41432),h.LightsManager=i(61356),h.LightsPlugin=i(88992),r.exports=h},93595:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x=i(83419),f=i(31401),l=i(53774),a=i(45893),n=i(50792),d=i(51708),c=i(73162),u=i(33963),v=i(44594),p=i(19186),g=new x({Extends:c,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Mask,f.PostPipeline,f.Visible,n,u],initialize:function(T,P){c.call(this,T),n.call(this),this.scene=T,this.displayList=null,this.type="Layer",this.state=0,this.parentContainer=null,this.name="",this.active=!0,this.tabIndex=-1,this.data=null,this.renderFlags=15,this.cameraFilter=0,this.input=null,this.body=null,this.ignoreDestroy=!1,this.systems=T.sys,this.events=T.sys.events,this.sortChildrenFlag=!1,this.addCallback=this.addChildCallback,this.removeCallback=this.removeChildCallback,this.initPostPipeline(),this.clearAlpha(),this.setBlendMode(h.SKIP_CHECK),P&&this.add(P),T.sys.queueDepthSort()},setActive:function(m){return this.active=m,this},setName:function(m){return this.name=m,this},setState:function(m){return this.state=m,this},setDataEnabled:function(){return this.data||(this.data=new a(this)),this},setData:function(m,T){return this.data||(this.data=new a(this)),this.data.set(m,T),this},incData:function(m,T){return this.data||(this.data=new a(this)),this.data.inc(m,T),this},toggleData:function(m){return this.data||(this.data=new a(this)),this.data.toggle(m),this},getData:function(m){return this.data||(this.data=new a(this)),this.data.get(m)},setInteractive:function(){return this},disableInteractive:function(){return this},removeInteractive:function(){return this},addedToScene:function(){},removedFromScene:function(){},update:function(){},toJSON:function(){return l(this)},willRender:function(m){return!(this.renderFlags!==15||this.list.length===0||this.cameraFilter!==0&&this.cameraFilter&m.id)},getIndexList:function(){for(var m=this,T=this.parentContainer,P=[];T&&(P.unshift(T.getIndex(m)),m=T,T.parentContainer);)T=T.parentContainer;return P.unshift(this.displayList.getIndex(m)),P},addChildCallback:function(m){var T=m.displayList;T&&T!==this&&m.removeFromDisplayList(),m.displayList||(this.queueDepthSort(),m.displayList=this,m.emit(d.ADDED_TO_SCENE,m,this.scene),this.events.emit(v.ADDED_TO_SCENE,m,this.scene))},removeChildCallback:function(m){this.queueDepthSort(),m.displayList=null,m.emit(d.REMOVED_FROM_SCENE,m,this.scene),this.events.emit(v.REMOVED_FROM_SCENE,m,this.scene)},queueDepthSort:function(){this.sortChildrenFlag=!0},depthSort:function(){this.sortChildrenFlag&&(p(this.list,this.sortByDepth),this.sortChildrenFlag=!1)},sortByDepth:function(m,T){return m._depth-T._depth},getChildren:function(){return this.list},addToDisplayList:function(m){return m===void 0&&(m=this.scene.sys.displayList),this.displayList&&this.displayList!==m&&this.removeFromDisplayList(),m.exists(this)||(this.displayList=m,m.add(this,!0),m.queueDepthSort(),this.emit(d.ADDED_TO_SCENE,this,this.scene),m.events.emit(v.ADDED_TO_SCENE,this,this.scene)),this},removeFromDisplayList:function(){var m=this.displayList||this.scene.sys.displayList;return m.exists(this)&&(m.remove(this,!0),m.queueDepthSort(),this.displayList=null,this.emit(d.REMOVED_FROM_SCENE,this,this.scene),m.events.emit(v.REMOVED_FROM_SCENE,this,this.scene)),this},getDisplayList:function(){var m=null;return this.parentContainer?m=this.parentContainer.list:this.displayList&&(m=this.displayList.list),m},destroy:function(m){if(!(!this.scene||this.ignoreDestroy)){this.emit(d.DESTROY,this);for(var T=this.list;T.length;)T[0].destroy(m);this.removeAllListeners(),this.resetPostPipeline(!0),this.displayList&&(this.displayList.remove(this,!0,!1),this.displayList.queueDepthSort()),this.data&&(this.data.destroy(),this.data=void 0),this.active=!1,this.visible=!1,this.list=void 0,this.scene=void 0,this.displayList=void 0,this.systems=void 0,this.events=void 0}}});r.exports=g},2956:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=h.list;if(f.length!==0){h.depthSort();var l=h.blendMode!==-1;l||i.setBlendMode(0);var a=h._alpha;h.mask&&h.mask.preRenderCanvas(i,null,x);for(var n=0;n<f.length;n++){var d=f[n];if(d.willRender(x)){var c=d.alpha;!l&&d.blendMode!==i.currentBlendMode&&i.setBlendMode(d.blendMode),d.setAlpha(c*a),d.renderCanvas(i,d,x),d.setAlpha(c)}}h.mask&&h.mask.postRenderCanvas(i)}};r.exports=C},25179:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(93595),f=i(44603),l=i(23568);f.register("layer",function(a,n){a===void 0&&(a={});var d=l(a,"children",null),c=new x(this.scene,d);return n!==void 0&&(a.add=n),h(this.scene,c,a),c})},20005:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(93595),x=i(39429);x.register("layer",function(f){return this.displayList.add(new h(this.scene,f))})},33963:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(15869),f=i(2956),r.exports={renderWebGL:x,renderCanvas:f}},15869:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=h.list,l=f.length;if(l!==0){h.depthSort(),i.pipelines.preBatch(h);var a=h.blendMode!==-1;a||i.setBlendMode(0);for(var n=h.alpha,d=0;d<l;d++){var c=f[d];if(c.willRender(x)){var u,v,p,g;if(c.alphaTopLeft!==void 0)u=c.alphaTopLeft,v=c.alphaTopRight,p=c.alphaBottomLeft,g=c.alphaBottomRight;else{var m=c.alpha;u=m,v=m,p=m,g=m}!a&&c.blendMode!==i.currentBlendMode&&i.setBlendMode(c.blendMode);var T=c.mask;T&&T.preRenderWebGL(i,c,x);var P=c.type;P!==i.currentType&&(i.newType=!0,i.currentType=P),i.nextTypeMatch=d<l-1?f[d+1].type===i.currentType:!1,c.setAlpha(u*n,v*n,p*n,g*n),c.renderWebGL(i,c,x),c.setAlpha(u,v,p,g),T&&T.postRenderWebGL(i,x),i.newType=!1}}i.pipelines.postBatch(h)}};r.exports=C},41432:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),x=i(83419),f=i(31401),l=i(51767),a=i(70554),n=new x({Extends:h,Mixins:[f.Origin,f.ScrollFactor,f.Visible],initialize:function(c,u,v,p,g,m,T){h.call(this,c,u,v),this.color=new l(p,g,m),this.intensity=T,this.renderFlags=15,this.cameraFilter=0,this.setScrollFactor(1,1),this.setOrigin(),this.setDisplayOrigin(v)},displayWidth:{get:function(){return this.diameter},set:function(d){this.diameter=d}},displayHeight:{get:function(){return this.diameter},set:function(d){this.diameter=d}},width:{get:function(){return this.diameter},set:function(d){this.diameter=d}},height:{get:function(){return this.diameter},set:function(d){this.diameter=d}},willRender:function(d){return!(n.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&d.id)},setColor:function(d){var c=a.getFloatsFromUintRGB(d);return this.color.set(c[0],c[1],c[2]),this},setIntensity:function(d){return this.intensity=d,this},setRadius:function(d){return this.radius=d,this}});n.RENDER_MASK=15,r.exports=n},61356:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81491),x=i(83419),f=i(20339),l=i(41432),a=i(80321),n=i(51767),d=i(19133),c=i(19186),u=i(70554),v=new x({initialize:function(){this.lights=[],this.ambientColor=new n(.1,.1,.1),this.active=!1,this.maxLights=-1,this.visibleLights=0},addPointLight:function(p,g,m,T,P,E){return this.systems.displayList.add(new a(this.scene,p,g,m,T,P,E))},enable:function(){return this.maxLights===-1&&(this.maxLights=this.systems.renderer.config.maxLights),this.active=!0,this},disable:function(){return this.active=!1,this},getLights:function(p){for(var g=this.lights,m=p.worldView,T=[],P=0;P<g.length;P++){var E=g[P];E.willRender(p)&&h(E,m)&&T.push({light:E,distance:f(E.x,E.y,m.centerX,m.centerY)})}return T.length>this.maxLights&&(c(T,this.sortByDistance),T=T.slice(0,this.maxLights)),this.visibleLights=T.length,T},sortByDistance:function(p,g){return p.distance>=g.distance},setAmbientColor:function(p){var g=u.getFloatsFromUintRGB(p);return this.ambientColor.set(g[0],g[1],g[2]),this},getMaxVisibleLights:function(){return this.maxLights},getLightCount:function(){return this.lights.length},addLight:function(p,g,m,T,P){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),T===void 0&&(T=16777215),P===void 0&&(P=1);var E=u.getFloatsFromUintRGB(T),M=new l(p,g,m,E[0],E[1],E[2],P);return this.lights.push(M),M},removeLight:function(p){var g=this.lights.indexOf(p);return g>=0&&d(this.lights,g),this},shutdown:function(){this.lights.length=0},destroy:function(){this.shutdown()}});r.exports=v},88992:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(61356),f=i(37277),l=i(44594),a=new h({Extends:x,initialize:function(d){this.scene=d,this.systems=d.sys,d.sys.settings.isBooted||d.sys.events.once(l.BOOT,this.boot,this),x.call(this)},boot:function(){var n=this.systems.events;n.on(l.SHUTDOWN,this.shutdown,this),n.on(l.DESTROY,this.destroy,this)},destroy:function(){this.shutdown(),this.scene=void 0,this.systems=void 0}});f.register("LightsPlugin",a,"lights"),r.exports=a},4703:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(39506),l=i(83997),a=i(95643),n=i(34684),d=i(92515),c=i(91296),u=i(37867),v=i(29807),p=i(43396),g=i(19186),m=i(25836),T=i(39318),P=new h({Extends:a,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Size,x.Texture,x.Transform,x.Visible,v],initialize:function(M,w,R,A,O,F,L,b,D,I,k,X){w===void 0&&(w=0),R===void 0&&(R=0),A===void 0&&(A="__WHITE"),a.call(this,M,"Mesh"),this.faces=[],this.vertices=[],this.tintFill=!1,this.debugCallback=null,this.debugGraphic=null,this.hideCCW=!0,this.modelPosition=new m,this.modelScale=new m(1,1,1),this.modelRotation=new m,this.dirtyCache=[0,0,0,0,0,0,0,0,0,0,0,0],this.transformMatrix=new u,this.viewPosition=new m,this.viewMatrix=new u,this.projectionMatrix=new u,this.totalRendered=0,this.totalFrame=0,this.ignoreDirtyCache=!1,this.fov,this.displayOriginX=0,this.displayOriginY=0;var W=M.sys.renderer;this.setPosition(w,R),this.setTexture(A,O),this.setSize(W.width,W.height),this.initPipeline(),this.initPostPipeline(),this.setPerspective(W.width,W.height),F&&this.addVertices(F,L,b,D,I,k,X)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},panX:function(E){return this.viewPosition.addScale(m.LEFT,E),this.dirtyCache[10]=1,this},panY:function(E){return this.viewPosition.y+=m.DOWN.y*E,this.dirtyCache[10]=1,this},panZ:function(E){return this.viewPosition.z+=E,this.dirtyCache[10]=1,this},setPerspective:function(E,M,w,R,A){return w===void 0&&(w=45),R===void 0&&(R=.01),A===void 0&&(A=1e3),this.fov=w,this.projectionMatrix.perspective(f(w),E/M,R,A),this.dirtyCache[10]=1,this.dirtyCache[11]=0,this},setOrtho:function(E,M,w,R){return E===void 0&&(E=this.scene.sys.renderer.getAspectRatio()),M===void 0&&(M=1),w===void 0&&(w=-1e3),R===void 0&&(R=1e3),this.fov=0,this.projectionMatrix.ortho(-E,E,-M,M,w,R),this.dirtyCache[10]=1,this.dirtyCache[11]=1,this},clear:function(){return this.faces.forEach(function(E){E.destroy()}),this.faces=[],this.vertices=[],this},addVerticesFromObj:function(E,M,w,R,A,O,F,L,b){var D=this.scene.sys.cache.obj.get(E),I;return D&&(I=n(D,this,M,w,R,A,O,F,L,b)),(!I||I.verts.length===0)&&console.warn("Mesh.addVerticesFromObj data empty:",E),this},sortByDepth:function(E,M){return E.depth-M.depth},depthSort:function(){return g(this.faces,this.sortByDepth),this},addVertex:function(E,M,w,R,A,O,F){var L=new T(E,M,w,R,A,O,F);return this.vertices.push(L),L},addFace:function(E,M,w){var R=new l(E,M,w);return this.faces.push(R),this.dirtyCache[9]=-1,R},addVertices:function(E,M,w,R,A,O,F){var L=d(E,M,w,R,A,O,F);return L?(this.faces=this.faces.concat(L.faces),this.vertices=this.vertices.concat(L.vertices)):console.warn("Mesh.addVertices data empty or invalid"),this.dirtyCache[9]=-1,this},getFaceCount:function(){return this.faces.length},getVertexCount:function(){return this.vertices.length},getFace:function(E){return this.faces[E]},hasFaceAt:function(E,M,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=c(this,w).calc,A=this.faces,O=0;O<A.length;O++){var F=A[O];if(F.contains(E,M,R))return!0}return!1},getFaceAt:function(E,M,w){w===void 0&&(w=this.scene.sys.cameras.main);for(var R=c(this,w).calc,A=this.faces,O=[],F=0;F<A.length;F++){var L=A[F];L.contains(E,M,R)&&O.push(L)}return g(O,this.sortByDepth)},setDebug:function(E,M){return this.debugGraphic=E,!E&&!M?this.debugCallback=null:M?this.debugCallback=M:this.debugCallback=this.renderDebug,this},isDirty:function(){var E=this.modelPosition,M=this.modelRotation,w=this.modelScale,R=this.dirtyCache,A=E.x,O=E.y,F=E.z,L=M.x,b=M.y,D=M.z,I=w.x,k=w.y,X=w.z,W=this.getFaceCount(),Y=R[0],N=R[1],V=R[2],G=R[3],B=R[4],z=R[5],U=R[6],H=R[7],$=R[8],K=R[9];return R[0]=A,R[1]=O,R[2]=F,R[3]=L,R[4]=b,R[5]=D,R[6]=I,R[7]=k,R[8]=X,R[9]=W,Y!==A||N!==O||V!==F||G!==L||B!==b||z!==D||U!==I||H!==k||$!==X||K!==W},preUpdate:function(){this.totalRendered=this.totalFrame,this.totalFrame=0;var E=this.dirtyCache;if(!(!this.ignoreDirtyCache&&!E[10]&&!this.isDirty())){var M=this.width,w=this.height,R=this.viewMatrix,A=this.viewPosition;E[10]&&(R.identity(),R.translate(A),R.invert(),E[10]=0);var O=this.transformMatrix;O.setWorldMatrix(this.modelRotation,this.modelPosition,this.modelScale,this.viewMatrix,this.projectionMatrix);for(var F=A.z,L=this.faces,b=0;b<L.length;b++)L[b].transformCoordinatesLocal(O,M,w,F);this.depthSort()}},renderDebug:function(E,M){for(var w=E.debugGraphic,R=0;R<M.length;R++){var A=M[R],O=A.vertex1.tx,F=A.vertex1.ty,L=A.vertex2.tx,b=A.vertex2.ty,D=A.vertex3.tx,I=A.vertex3.ty;w.strokeTriangle(O,F,L,b,D,I)}},preDestroy:function(){this.clear(),this.debugCallback=null,this.debugGraphic=null},clearTint:function(){return this.setTint()},setInteractive:function(E){E===void 0&&(E={});var M=(function(w,R,A){for(var O=this.faces,F=0;F<O.length;F++){var L=O[F];if(L.contains(R,A))return!0}return!1}).bind(this);return this.scene.sys.input.enable(this,E,M),this},setTint:function(E){E===void 0&&(E=16777215);for(var M=this.vertices,w=0;w<M.length;w++)M[w].color=E;return this},uvScroll:function(E,M){for(var w=this.faces,R=0;R<w.length;R++)w[R].scrollUV(E,M);return this},uvScale:function(E,M){for(var w=this.faces,R=0;R<w.length;R++)w[R].scaleUV(E,M);return this},tint:{set:function(E){this.setTint(E)}},rotateX:{get:function(){return p(this.modelRotation.x)},set:function(E){this.modelRotation.x=f(E)}},rotateY:{get:function(){return p(this.modelRotation.y)},set:function(E){this.modelRotation.y=f(E)}},rotateZ:{get:function(){return p(this.modelRotation.z)},set:function(E){this.modelRotation.z=f(E)}}});r.exports=P},36488:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};r.exports=C},20527:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(35154),a=i(4703);x.register("mesh",function(n,d){n===void 0&&(n={});var c=f(n,"key",null),u=f(n,"frame",null),v=l(n,"vertices",[]),p=l(n,"uvs",[]),g=l(n,"indicies",[]),m=l(n,"containsZ",!1),T=l(n,"normals",[]),P=l(n,"colors",16777215),E=l(n,"alphas",1),M=new a(this.scene,0,0,c,u,v,p,g,m,T,P,E);return d!==void 0&&(n.add=d),h(this.scene,M,n),M})},9225:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4703),x=i(39429);x.register("mesh",function(f,l,a,n,d,c,u,v,p,g,m){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u,v,p,g,m))})},29807:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(48833),f=i(36488),r.exports={renderWebGL:x,renderCanvas:f}},48833:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=function(f,l,a,n){var d=l.faces,c=d.length;if(c!==0){a.addToRenderList(l);var u=f.pipelines.set(l.pipeline,l),v=h(l,a,n).calc;f.pipelines.preBatch(l);for(var p=u.setGameObject(l),g=u.vertexViewF32,m=u.vertexViewU32,T=u.vertexCount*u.currentShader.vertexComponentCount-1,P=l.tintFill,E=[],M=l.debugCallback,w=v.a,R=v.b,A=v.c,O=v.d,F=v.e,L=v.f,b=l.viewPosition.z,D=l.hideCCW,I=a.roundPixels,k=a.alpha*l.alpha,X=0,W=0;W<c;W++){var Y=d[W];Y.isInView(a,D,b,k,w,R,A,O,F,L,I)&&(u.shouldFlush(3)&&(u.flush(),p=u.setGameObject(l),T=u.vertexCount*u.currentShader.vertexComponentCount-1),T=Y.load(g,m,T,p,P),X++,u.vertexCount+=3,u.currentBatch.count=u.vertexCount-u.currentBatch.start,M&&E.push(Y))}l.totalFrame+=X,M&&M.call(l,l,E),f.pipelines.postBatch(l)}};r.exports=x},28103:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(95643),l=i(78023),a=i(39318),n=new h({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,l],initialize:function(c,u,v,p,g,m,T,P,E,M,w){f.call(this,c,"NineSlice"),this._width,this._height,this._originX=.5,this._originY=.5,this._sizeComponent=!0,this.vertices=[],this.leftWidth,this.rightWidth,this.topHeight,this.bottomHeight,this.tint=16777215,this.tintFill=!1;var R=c.textures.getFrame(p,g);this.is3Slice=!M&&!w,R&&R.scale9&&(this.is3Slice=R.is3Slice);for(var A=this.is3Slice?18:54,O=0;O<A;O++)this.vertices.push(new a);this.setPosition(u,v),this.setTexture(p,g),this.setSlices(m,T,P,E,M,w,!1),this.updateDisplayOrigin(),this.initPipeline(),this.initPostPipeline()},setSlices:function(d,c,u,v,p,g,m){u===void 0&&(u=10),v===void 0&&(v=10),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=!1);var T=this.frame,P=!1;if(this.is3Slice&&m&&p!==0&&g!==0&&(P=!0),P)console.warn("Cannot change 9 slice to 3 slice");else{if(T&&T.scale9&&!m){var E=T.data.scale9Borders,M=E.x,w=E.y;u=M,v=T.width-E.w-M,p=w,g=T.height-E.h-w,d===void 0&&(d=T.width),c===void 0&&(c=T.height)}else d===void 0&&(d=256),c===void 0&&(c=256);this._width=d,this._height=c,this.leftWidth=u,this.rightWidth=v,this.topHeight=p,this.bottomHeight=g,this.is3Slice&&(c=T.height,this._height=c,this.topHeight=c,this.bottomHeight=0),this.updateVertices(),this.updateUVs()}return this},updateUVs:function(){var d=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,p=this.frame.width,g=this.frame.height;this.updateQuadUVs(0,0,0,d/p,u/g),this.updateQuadUVs(6,d/p,0,1-c/p,u/g),this.updateQuadUVs(12,1-c/p,0,1,u/g),this.is3Slice||(this.updateQuadUVs(18,0,u/g,d/p,1-v/g),this.updateQuadUVs(24,d/p,u/g,1-c/p,1-v/g),this.updateQuadUVs(30,1-c/p,u/g,1,1-v/g),this.updateQuadUVs(36,0,1-v/g,d/p,1),this.updateQuadUVs(42,d/p,1-v/g,1-c/p,1),this.updateQuadUVs(48,1-c/p,1-v/g,1,1))},updateVertices:function(){var d=this.leftWidth,c=this.rightWidth,u=this.topHeight,v=this.bottomHeight,p=this.width,g=this.height;this.updateQuad(0,-.5,.5,-.5+d/p,.5-u/g),this.updateQuad(6,-.5+d/p,.5,.5-c/p,.5-u/g),this.updateQuad(12,.5-c/p,.5,.5,.5-u/g),this.is3Slice||(this.updateQuad(18,-.5,.5-u/g,-.5+d/p,-.5+v/g),this.updateQuad(24,-.5+d/p,.5-u/g,.5-c/p,-.5+v/g),this.updateQuad(30,.5-c/p,.5-u/g,.5,-.5+v/g),this.updateQuad(36,-.5,-.5+v/g,-.5+d/p,-.5),this.updateQuad(42,-.5+d/p,-.5+v/g,.5-c/p,-.5),this.updateQuad(48,.5-c/p,-.5+v/g,.5,-.5))},updateQuad:function(d,c,u,v,p){var g=this.width,m=this.height,T=this.originX,P=this.originY,E=this.vertices;E[d+0].resize(c,u,g,m,T,P),E[d+1].resize(c,p,g,m,T,P),E[d+2].resize(v,u,g,m,T,P),E[d+3].resize(c,p,g,m,T,P),E[d+4].resize(v,p,g,m,T,P),E[d+5].resize(v,u,g,m,T,P)},updateQuadUVs:function(d,c,u,v,p){var g=this.vertices,m=this.frame,T=m.u0,P=m.v0,E=m.u1,M=m.v1;if(T!==0||E!==1){var w=E-T;c=T+c*w,v=T+v*w}if(P!==0||M!==1){var R=M-P;u=P+u*R,p=P+p*R}g[d+0].setUVs(c,u),g[d+1].setUVs(c,p),g[d+2].setUVs(v,u),g[d+3].setUVs(c,p),g[d+4].setUVs(v,p),g[d+5].setUVs(v,u)},clearTint:function(){return this.setTint(16777215),this},setTint:function(d){return d===void 0&&(d=16777215),this.tint=d,this.tintFill=!1,this},setTintFill:function(d){return this.setTint(d),this.tintFill=!0,this},isTinted:{get:function(){return this.tint!==16777215}},width:{get:function(){return this._width},set:function(d){this._width=Math.max(d,this.leftWidth+this.rightWidth),this.updateVertices()}},height:{get:function(){return this._height},set:function(d){this.is3Slice||(this._height=Math.max(d,this.topHeight+this.bottomHeight),this.updateVertices())}},displayWidth:{get:function(){return this.scaleX*this.width},set:function(d){this.scaleX=d/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(d){this.scaleY=d/this.height}},setSize:function(d,c){this.width=d,this.height=c,this.updateDisplayOrigin();var u=this.input;return u&&!u.customHitArea&&(u.hitArea.width=this.width,u.hitArea.height=this.height),this},setDisplaySize:function(d,c){return this.displayWidth=d,this.displayHeight=c,this},originX:{get:function(){return this._originX},set:function(d){this._originX=d,this.updateVertices()}},originY:{get:function(){return this._originY},set:function(d){this._originY=d,this.updateVertices()}},setOrigin:function(d,c){return d===void 0&&(d=.5),c===void 0&&(c=d),this._originX=d,this._originY=c,this.updateVertices(),this.updateDisplayOrigin()},setSizeToFrame:function(){if(this.is3Slice){var d=this.frame.height;this._height=d,this.topHeight=d,this.bottomHeight=0}return this.updateUVs(),this},preDestroy:function(){this.vertices=[]}});r.exports=n},28279:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(35154),a=i(28103);x.register("nineslice",function(n,d){n===void 0&&(n={});var c=f(n,"key",null),u=f(n,"frame",null),v=l(n,"width",256),p=l(n,"height",256),g=l(n,"leftWidth",10),m=l(n,"rightWidth",10),T=l(n,"topHeight",0),P=l(n,"bottomHeight",0),E=new a(this.scene,0,0,c,u,v,p,g,m,T,P);return d!==void 0&&(n.add=d),h(this.scene,E,n),E})},47521:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28103),x=i(39429);x.register("nineslice",function(f,l,a,n,d,c,u,v,p,g){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u,v,p,g))})},78023:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(52230),r.exports={renderWebGL:x,renderCanvas:f}},52230:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(70554),f=function(l,a,n,d){var c=a.vertices,u=c.length;if(u!==0){n.addToRenderList(a);var v=l.pipelines.set(a.pipeline,a),p=h(a,n,d,!1).calc;l.pipelines.preBatch(a);var g=v.setGameObject(a),m=v.vertexViewF32,T=v.vertexViewU32,P=v.vertexCount*v.currentShader.vertexComponentCount-1,E=n.roundPixels,M=a.tintFill,w=n.alpha*a.alpha,R=x.getTintAppendFloatAlpha(a.tint,w),A=v.vertexAvailable(),O=-1;A<u&&(O=A);for(var F=0;F<u;F++){var L=c[F];F===O&&(v.flush(),g=v.setGameObject(a),P=0),m[++P]=p.getXRound(L.vx,L.vy,E),m[++P]=p.getYRound(L.vx,L.vy,E),m[++P]=L.u,m[++P]=L.v,m[++P]=g,m[++P]=M,T[++P]=R,v.vertexCount++,v.currentBatch.count=v.vertexCount-v.currentBatch.start}l.pipelines.postBatch(a)}};r.exports=f},76472:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(44777),f=i(37589),l=i(6113),a=i(91389),n=i(90664),d=new h({Extends:x,initialize:function(u){x.call(this,u,null,!1),this.active=!1,this.easeName="Linear",this.r=[],this.g=[],this.b=[]},getMethod:function(){return this.propertyValue===null?0:9},setMethods:function(){var c=this.propertyValue,u=c,v=this.defaultEmit,p=this.defaultUpdate;if(this.method===9){this.start=c[0],this.ease=l("Linear"),this.interpolation=a("linear"),v=this.easedValueEmit,p=this.easeValueUpdate,u=c[0],this.active=!0;for(var g=0;g<c.length;g++){var m=n(c[g]);this.r.push(m.r),this.g.push(m.g),this.b.push(m.b)}}return this.onEmit=v,this.onUpdate=p,this.current=u,this},setEase:function(c){this.easeName=c,this.ease=l(c)},easedValueEmit:function(){return this.current=this.start,this.start},easeValueUpdate:function(c,u,v){var p=this.ease(v),g=this.interpolation(this.r,p),m=this.interpolation(this.g,p),T=this.interpolation(this.b,p),P=f(g,m,T);return this.current=P,P}});r.exports=d},44777:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),x=i(45319),f=i(83419),l=i(99472),a=i(6113),n=i(95540),d=i(91389),c=i(77720),u=i(15994),v=new f({initialize:function(g,m,T){T===void 0&&(T=!1),this.propertyKey=g,this.propertyValue=m,this.defaultValue=m,this.steps=0,this.counter=0,this.yoyo=!1,this.direction=0,this.start=0,this.current=0,this.end=0,this.ease=null,this.interpolation=null,this.emitOnly=T,this.onEmit=this.defaultEmit,this.onUpdate=this.defaultUpdate,this.active=!0,this.method=0,this._onEmit,this._onUpdate},loadConfig:function(p,g){p===void 0&&(p={}),g&&(this.propertyKey=g),this.propertyValue=n(p,this.propertyKey,this.defaultValue),this.method=this.getMethod(),this.setMethods(),this.emitOnly&&(this.onUpdate=this.defaultUpdate)},toJSON:function(){return JSON.stringify(this.propertyValue)},onChange:function(p){var g;switch(this.method){case 1:case 3:case 8:g=p;break;case 2:this.propertyValue.indexOf(p)>=0&&(g=p);break;case 4:var m=(this.end-this.start)/this.steps;g=c(p,m),this.counter=g;break;case 5:case 6:case 7:g=x(p,this.start,this.end);break;case 9:g=this.start[0];break}return this.current=g,this},getMethod:function(){var p=this.propertyValue;if(p===null)return 0;var g=typeof p;if(g==="number")return 1;if(Array.isArray(p))return 2;if(g==="function")return 3;if(g==="object"){if(this.hasBoth(p,"start","end"))return this.has(p,"steps")?4:5;if(this.hasBoth(p,"min","max"))return 6;if(this.has(p,"random"))return 7;if(this.hasEither(p,"onEmit","onUpdate"))return 8;if(this.hasEither(p,"values","interpolation"))return 9}return 0},setMethods:function(){var p=this.propertyValue,g=p,m=this.defaultEmit,T=this.defaultUpdate;switch(this.method){case 1:m=this.staticValueEmit;break;case 2:m=this.randomStaticValueEmit,g=p[0];break;case 3:this._onEmit=p,m=this.proxyEmit,g=this.defaultValue;break;case 4:this.start=p.start,this.end=p.end,this.steps=p.steps,this.counter=this.start,this.yoyo=this.has(p,"yoyo")?p.yoyo:!1,this.direction=0,m=this.steppedEmit,g=this.start;break;case 5:this.start=p.start,this.end=p.end;var P=this.has(p,"ease")?p.ease:"Linear";this.ease=a(P,p.easeParams),m=this.has(p,"random")&&p.random?this.randomRangedValueEmit:this.easedValueEmit,T=this.easeValueUpdate,g=this.start;break;case 6:this.start=p.min,this.end=p.max,m=this.has(p,"int")&&p.int?this.randomRangedIntEmit:this.randomRangedValueEmit,g=this.start;break;case 7:var E=p.random;Array.isArray(E)&&(this.start=E[0],this.end=E[1]),m=this.randomRangedIntEmit,g=this.start;break;case 8:this._onEmit=this.has(p,"onEmit")?p.onEmit:this.defaultEmit,this._onUpdate=this.has(p,"onUpdate")?p.onUpdate:this.defaultUpdate,m=this.proxyEmit,T=this.proxyUpdate,g=this.defaultValue;break;case 9:this.start=p.values;var M=this.has(p,"ease")?p.ease:"Linear";this.ease=a(M,p.easeParams),this.interpolation=d(p.interpolation),m=this.easedValueEmit,T=this.easeValueUpdate,g=this.start[0];break}return this.onEmit=m,this.onUpdate=T,this.current=g,this},has:function(p,g){return p.hasOwnProperty(g)},hasBoth:function(p,g,m){return p.hasOwnProperty(g)&&p.hasOwnProperty(m)},hasEither:function(p,g,m){return p.hasOwnProperty(g)||p.hasOwnProperty(m)},defaultEmit:function(){return this.defaultValue},defaultUpdate:function(p,g,m,T){return T},proxyEmit:function(p,g,m){var T=this._onEmit(p,g,m);return this.current=T,T},proxyUpdate:function(p,g,m,T){var P=this._onUpdate(p,g,m,T);return this.current=P,P},staticValueEmit:function(){return this.current},staticValueUpdate:function(){return this.current},randomStaticValueEmit:function(){var p=Math.floor(Math.random()*this.propertyValue.length);return this.current=this.propertyValue[p],this.current},randomRangedValueEmit:function(p,g){var m=l(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},randomRangedIntEmit:function(p,g){var m=h(this.start,this.end);return p&&p.data[g]&&(p.data[g].min=m,p.data[g].max=this.end),this.current=m,m},steppedEmit:function(){var p=this.counter,g=p,m=(this.end-this.start)/this.steps;if(this.yoyo){var T;this.direction===0?(g+=m,g>=this.end&&(T=g-this.end,g=this.end-T,this.direction=1)):(g-=m,g<=this.start&&(T=this.start-g,g=this.start+T,this.direction=0)),this.counter=g}else this.counter=u(g+m,this.start,this.end);return this.current=p,p},easedValueEmit:function(p,g){if(p&&p.data[g]){var m=p.data[g];m.min=this.start,m.max=this.end}return this.current=this.start,this.start},easeValueUpdate:function(p,g,m){var T=p.data[g],P,E=this.ease(m);return this.interpolation?P=this.interpolation(this.start,E):P=(T.max-T.min)*E+T.min,this.current=P,P},destroy:function(){this.propertyValue=null,this.defaultValue=null,this.ease=null,this.interpolation=null,this._onEmit=null,this._onUpdate=null}});r.exports=v},24502:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(20286),l=new h({Extends:f,initialize:function(n,d,c,u,v){if(typeof n=="object"){var p=n;n=x(p,"x",0),d=x(p,"y",0),c=x(p,"power",0),u=x(p,"epsilon",100),v=x(p,"gravity",50)}else n===void 0&&(n=0),d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=100),v===void 0&&(v=50);f.call(this,n,d,!0),this._gravity=v,this._power=c*v,this._epsilon=u*u},update:function(a,n){var d=this.x-a.x,c=this.y-a.y,u=d*d+c*c;if(u!==0){var v=Math.sqrt(u);u<this._epsilon&&(u=this._epsilon);var p=this._power*n/(u*v)*100;a.velocityX+=d*p,a.velocityY+=c*p}},epsilon:{get:function(){return Math.sqrt(this._epsilon)},set:function(a){this._epsilon=a*a}},power:{get:function(){return this._power/this._gravity},set:function(a){this._power=a*this._gravity}},gravity:{get:function(){return this._gravity},set:function(a){var n=this.power;this._gravity=a,this.power=n}}});r.exports=l},56480:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),x=i(45319),f=i(83419),l=i(39506),a=i(87841),n=i(11520),d=i(26099),c=new f({initialize:function(v){this.emitter=v,this.texture=null,this.frame=null,this.x=0,this.y=0,this.worldPosition=new d,this.velocityX=0,this.velocityY=0,this.accelerationX=0,this.accelerationY=0,this.maxVelocityX=1e4,this.maxVelocityY=1e4,this.bounce=0,this.scaleX=1,this.scaleY=1,this.alpha=1,this.angle=0,this.rotation=0,this.tint=16777215,this.life=1e3,this.lifeCurrent=1e3,this.delayCurrent=0,this.holdCurrent=0,this.lifeT=0,this.data={tint:{min:16777215,max:16777215},alpha:{min:1,max:1},rotate:{min:0,max:0},scaleX:{min:1,max:1},scaleY:{min:1,max:1},x:{min:0,max:0},y:{min:0,max:0},accelerationX:{min:0,max:0},accelerationY:{min:0,max:0},maxVelocityX:{min:0,max:0},maxVelocityY:{min:0,max:0},moveToX:{min:0,max:0},moveToY:{min:0,max:0},bounce:{min:0,max:0}},this.isCropped=!1,this.scene=v.scene,this.anims=null,this.emitter.anims.length>0&&(this.anims=new h(this)),this.bounds=new a},emit:function(u,v,p,g,m,T){return this.emitter.emit(u,v,p,g,m,T)},isAlive:function(){return this.lifeCurrent>0},kill:function(){this.lifeCurrent=0},setPosition:function(u,v){u===void 0&&(u=0),v===void 0&&(v=0),this.x=u,this.y=v},fire:function(u,v){var p=this.emitter,g=p.ops,m=p.getAnim();if(m?this.anims.play(m):(this.frame=p.getFrame(),this.texture=this.frame.texture),!this.frame)throw new Error("Particle has no texture frame");if(p.getEmitZone(this),u===void 0?this.x+=g.x.onEmit(this,"x"):g.x.steps>0?this.x+=u+g.x.onEmit(this,"x"):this.x+=u,v===void 0?this.y+=g.y.onEmit(this,"y"):g.y.steps>0?this.y+=v+g.y.onEmit(this,"y"):this.y+=v,this.life=g.lifespan.onEmit(this,"lifespan"),this.lifeCurrent=this.life,this.lifeT=0,this.delayCurrent=g.delay.onEmit(this,"delay"),this.holdCurrent=g.hold.onEmit(this,"hold"),this.scaleX=g.scaleX.onEmit(this,"scaleX"),this.scaleY=g.scaleY.active?g.scaleY.onEmit(this,"scaleY"):this.scaleX,this.angle=g.rotate.onEmit(this,"rotate"),this.rotation=l(this.angle),p.worldMatrix.transformPoint(this.x,this.y,this.worldPosition),this.delayCurrent===0&&p.getDeathZone(this))return this.lifeCurrent=0,!1;var T=g.speedX.onEmit(this,"speedX"),P=g.speedY.active?g.speedY.onEmit(this,"speedY"):T;if(p.radial){var E=l(g.angle.onEmit(this,"angle"));this.velocityX=Math.cos(E)*Math.abs(T),this.velocityY=Math.sin(E)*Math.abs(P)}else if(p.moveTo){var M=g.moveToX.onEmit(this,"moveToX"),w=g.moveToY.onEmit(this,"moveToY"),R=this.life/1e3;this.velocityX=(M-this.x)/R,this.velocityY=(w-this.y)/R}else this.velocityX=T,this.velocityY=P;return p.acceleration&&(this.accelerationX=g.accelerationX.onEmit(this,"accelerationX"),this.accelerationY=g.accelerationY.onEmit(this,"accelerationY")),this.maxVelocityX=g.maxVelocityX.onEmit(this,"maxVelocityX"),this.maxVelocityY=g.maxVelocityY.onEmit(this,"maxVelocityY"),this.bounce=g.bounce.onEmit(this,"bounce"),this.alpha=g.alpha.onEmit(this,"alpha"),g.color.active?this.tint=g.color.onEmit(this,"tint"):this.tint=g.tint.onEmit(this,"tint"),!0},update:function(u,v,p){if(this.lifeCurrent<=0)return this.holdCurrent>0?(this.holdCurrent-=u,this.holdCurrent<=0):!0;if(this.delayCurrent>0)return this.delayCurrent-=u,!1;this.anims&&this.anims.update(0,u);var g=this.emitter,m=g.ops,T=1-this.lifeCurrent/this.life;if(this.lifeT=T,this.x=m.x.onUpdate(this,"x",T,this.x),this.y=m.y.onUpdate(this,"y",T,this.y),g.moveTo){var P=m.moveToX.onUpdate(this,"moveToX",T,g.moveToX),E=m.moveToY.onUpdate(this,"moveToY",T,g.moveToY),M=this.lifeCurrent/1e3;this.velocityX=(P-this.x)/M,this.velocityY=(E-this.y)/M}return this.computeVelocity(g,u,v,p,T),this.scaleX=m.scaleX.onUpdate(this,"scaleX",T,this.scaleX),m.scaleY.active?this.scaleY=m.scaleY.onUpdate(this,"scaleY",T,this.scaleY):this.scaleY=this.scaleX,this.angle=m.rotate.onUpdate(this,"rotate",T,this.angle),this.rotation=l(this.angle),g.getDeathZone(this)?(this.lifeCurrent=0,!0):(this.alpha=x(m.alpha.onUpdate(this,"alpha",T,this.alpha),0,1),m.color.active?this.tint=m.color.onUpdate(this,"color",T,this.tint):this.tint=m.tint.onUpdate(this,"tint",T,this.tint),this.lifeCurrent-=u,this.lifeCurrent<=0&&this.holdCurrent<=0)},computeVelocity:function(u,v,p,g,m){var T=u.ops,P=this.velocityX,E=this.velocityY,M=T.accelerationX.onUpdate(this,"accelerationX",m,this.accelerationX),w=T.accelerationY.onUpdate(this,"accelerationY",m,this.accelerationY),R=T.maxVelocityX.onUpdate(this,"maxVelocityX",m,this.maxVelocityX),A=T.maxVelocityY.onUpdate(this,"maxVelocityY",m,this.maxVelocityY);this.bounce=T.bounce.onUpdate(this,"bounce",m,this.bounce),P+=u.gravityX*p+M*p,E+=u.gravityY*p+w*p,P=x(P,-R,R),E=x(E,-A,A),this.velocityX=P,this.velocityY=E,this.x+=P*p,this.y+=E*p,u.worldMatrix.transformPoint(this.x,this.y,this.worldPosition);for(var O=0;O<g.length;O++){var F=g[O];F.active&&F.update(this,v,p,m)}},setSizeToFrame:function(){},getBounds:function(u){u===void 0&&(u=this.emitter.getWorldTransformMatrix());var v=Math.abs(u.scaleX)*this.scaleX,p=Math.abs(u.scaleY)*this.scaleY,g=this.x,m=this.y,T=this.rotation,P=this.frame.width*v/2,E=this.frame.height*p/2,M=this.bounds,w=new d(g-P,m-E),R=new d(g+P,m-E),A=new d(g-P,m+E),O=new d(g+P,m+E);return T!==0&&(n(w,g,m,T),n(R,g,m,T),n(A,g,m,T),n(O,g,m,T)),u.transformPoint(w.x,w.y,w),u.transformPoint(R.x,R.y,R),u.transformPoint(A.x,A.y,A),u.transformPoint(O.x,O.y,O),M.x=Math.min(w.x,R.x,A.x,O.x),M.y=Math.min(w.y,R.y,A.y,O.y),M.width=Math.max(w.x,R.x,A.x,O.x)-M.x,M.height=Math.max(w.y,R.y,A.y,O.y)-M.y,M},destroy:function(){this.anims&&this.anims.destroy(),this.anims=null,this.emitter=null,this.texture=null,this.frame=null,this.scene=null}});r.exports=c},69601:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(20286),f=i(87841),l=new h({Extends:x,initialize:function(n,d,c,u,v,p,g,m){v===void 0&&(v=!0),p===void 0&&(p=!0),g===void 0&&(g=!0),m===void 0&&(m=!0),x.call(this,n,d,!0),this.bounds=new f(n,d,c,u),this.collideLeft=v,this.collideRight=p,this.collideTop=g,this.collideBottom=m},update:function(a){var n=this.bounds,d=-a.bounce,c=a.worldPosition;c.x<n.x&&this.collideLeft?(a.x+=n.x-c.x,a.velocityX*=d):c.x>n.right&&this.collideRight&&(a.x-=c.x-n.right,a.velocityX*=d),c.y<n.y&&this.collideTop?(a.y+=n.y-c.y,a.velocityY*=d):c.y>n.bottom&&this.collideBottom&&(a.y-=c.y-n.bottom,a.velocityY*=d)}});r.exports=l},31600:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(53774),l=i(43459),a=i(26388),n=i(19909),d=i(76472),c=i(44777),u=i(20696),v=i(95643),p=i(95540),g=i(26546),m=i(24502),T=i(1985),P=i(97022),E=i(86091),M=i(73162),w=i(20074),R=i(269),A=i(56480),O=i(69601),F=i(68875),L=i(87841),b=i(59996),D=i(72905),I=i(90668),k=i(19186),X=i(61340),W=i(26099),Y=i(15994),N=["active","advance","blendMode","colorEase","deathCallback","deathCallbackScope","duration","emitCallback","emitCallbackScope","follow","frequency","gravityX","gravityY","maxAliveParticles","maxParticles","name","emitting","particleBringToTop","particleClass","radial","sortCallback","sortOrderAsc","sortProperty","stopAfter","tintFill","timeScale","trackVisible","visible"],V=["accelerationX","accelerationY","alpha","angle","bounce","color","delay","hold","lifespan","maxVelocityX","maxVelocityY","moveToX","moveToY","quantity","rotate","scaleX","scaleY","speedX","speedY","tint","x","y"],G=new h({Extends:v,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Texture,x.Transform,x.Visible,I],initialize:function(z,U,H,$,K){v.call(this,z,"ParticleEmitter"),this.particleClass=A,this.config=null,this.ops={accelerationX:new c("accelerationX",0),accelerationY:new c("accelerationY",0),alpha:new c("alpha",1),angle:new c("angle",{min:0,max:360},!0),bounce:new c("bounce",0),color:new d("color"),delay:new c("delay",0,!0),hold:new c("hold",0,!0),lifespan:new c("lifespan",1e3,!0),maxVelocityX:new c("maxVelocityX",1e4),maxVelocityY:new c("maxVelocityY",1e4),moveToX:new c("moveToX",0),moveToY:new c("moveToY",0),quantity:new c("quantity",1,!0),rotate:new c("rotate",0),scaleX:new c("scaleX",1),scaleY:new c("scaleY",1),speedX:new c("speedX",0,!0),speedY:new c("speedY",0,!0),tint:new c("tint",16777215),x:new c("x",0),y:new c("y",0)},this.radial=!0,this.gravityX=0,this.gravityY=0,this.acceleration=!1,this.moveTo=!1,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.maxParticles=0,this.maxAliveParticles=0,this.stopAfter=0,this.duration=0,this.frequency=0,this.emitting=!0,this.particleBringToTop=!0,this.timeScale=1,this.emitZones=[],this.deathZones=[],this.viewBounds=null,this.follow=null,this.followOffset=new W,this.trackVisible=!1,this.frames=[],this.randomFrame=!0,this.frameQuantity=1,this.anims=[],this.randomAnim=!0,this.animQuantity=1,this.dead=[],this.alive=[],this.counters=new Float32Array(10),this.skipping=!1,this.worldMatrix=new X,this.sortProperty="",this.sortOrderAsc=!0,this.sortCallback=this.depthSortCallback,this.processors=new M(this),this.tintFill=!1,this.initPipeline(),this.initPostPipeline(),this.setPosition(U,H),this.setTexture($),K&&this.setConfig(K)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},setConfig:function(B){if(!B)return this;this.config=B;var z=0,U="",H=this.ops;for(z=0;z<V.length;z++)U=V[z],H[U].loadConfig(B);for(z=0;z<N.length;z++)U=N[z],P(B,U)&&(this[U]=p(B,U));if(this.acceleration=this.accelerationX!==0||this.accelerationY!==0,this.moveTo=this.moveToX!==0&&this.moveToY!==0,P(B,"speed")&&(H.speedX.loadConfig(B,"speed"),H.speedY.active=!1),(T(B,["speedX","speedY"])||this.moveTo)&&(this.radial=!1),P(B,"scale")&&(H.scaleX.loadConfig(B,"scale"),H.scaleY.active=!1),P(B,"callbackScope")){var $=p(B,"callbackScope",null);this.emitCallbackScope=$,this.deathCallbackScope=$}if(P(B,"emitZone")&&this.addEmitZone(B.emitZone),P(B,"deathZone")&&this.addDeathZone(B.deathZone),P(B,"bounds")){var K=this.addParticleBounds(B.bounds);K.collideLeft=p(B,"collideLeft",!0),K.collideRight=p(B,"collideRight",!0),K.collideTop=p(B,"collideTop",!0),K.collideBottom=p(B,"collideBottom",!0)}return P(B,"followOffset")&&this.followOffset.setFromObject(p(B,"followOffset",0)),P(B,"texture")&&this.setTexture(B.texture),P(B,"frame")?this.setEmitterFrame(B.frame):P(B,"anim")&&this.setAnim(B.anim),P(B,"reserve")&&this.reserve(B.reserve),P(B,"advance")&&this.fastForward(B.advance),this.resetCounters(this.frequency,this.emitting),this.emitting&&this.emit(u.START,this),this},updateConfig:function(B){return B&&(this.config?this.setConfig(R(this.config,B)):this.setConfig(B)),this},toJSON:function(){var B=f(this),z=0,U="";for(z=0;z<N.length;z++)U=N[z],B[U]=this[U];var H=this.ops;for(z=0;z<V.length;z++)U=V[z],H[U]&&(B[U]=H[U].toJSON());return H.speedY.active||(delete B.speedX,B.speed=H.speedX.toJSON()),this.scaleX===this.scaleY&&(delete B.scaleX,delete B.scaleY,B.scale=H.scaleX.toJSON()),B},resetCounters:function(B,z){var U=this.counters;U.fill(0),U[0]=B,z&&(U[5]=1)},startFollow:function(B,z,U,H){return z===void 0&&(z=0),U===void 0&&(U=0),H===void 0&&(H=!1),this.follow=B,this.followOffset.set(z,U),this.trackVisible=H,this},stopFollow:function(){return this.follow=null,this.followOffset.set(0,0),this.trackVisible=!1,this},getFrame:function(){var B=this.frames,z=B.length,U;return z===1?U=B[0]:this.randomFrame?U=g(B):(U=B[this.currentFrame],this.frameCounter++,this.frameCounter===this.frameQuantity&&(this.frameCounter=0,this.currentFrame++,this.currentFrame===z&&(this.currentFrame=0))),this.texture.get(U)},setEmitterFrame:function(B,z,U){z===void 0&&(z=!0),U===void 0&&(U=1),this.randomFrame=z,this.frameQuantity=U,this.currentFrame=0;var H=typeof B;if(this.frames.length=0,Array.isArray(B))this.frames=this.frames.concat(B);else if(H==="string"||H==="number")this.frames.push(B);else if(H==="object"){var $=B;B=p($,"frames",null),B&&(this.frames=this.frames.concat(B));var K=p($,"cycle",!1);this.randomFrame=!K,this.frameQuantity=p($,"quantity",U)}return this.frames.length===1&&(this.frameQuantity=1,this.randomFrame=!1),this},getAnim:function(){var B=this.anims,z=B.length;if(z===0)return null;if(z===1)return B[0];if(this.randomAnim)return g(B);var U=B[this.currentAnim];return this.animCounter++,this.animCounter>=this.animQuantity&&(this.animCounter=0,this.currentAnim=Y(this.currentAnim+1,0,z)),U},setAnim:function(B,z,U){z===void 0&&(z=!0),U===void 0&&(U=1),this.randomAnim=z,this.animQuantity=U,this.currentAnim=0;var H=typeof B;if(this.anims.length=0,Array.isArray(B))this.anims=this.anims.concat(B);else if(H==="string")this.anims.push(B);else if(H==="object"){var $=B;B=p($,"anims",null),B&&(this.anims=this.anims.concat(B));var K=p($,"cycle",!1);this.randomAnim=!K,this.animQuantity=p($,"quantity",U)}return this.anims.length===1&&(this.animQuantity=1,this.randomAnim=!1),this},setRadial:function(B){return B===void 0&&(B=!0),this.radial=B,this},addParticleBounds:function(B,z,U,H,$,K,Z,J){if(typeof B=="object"){var Q=B;B=Q.x,z=Q.y,U=P(Q,"w")?Q.w:Q.width,H=P(Q,"h")?Q.h:Q.height}return this.addParticleProcessor(new O(B,z,U,H,$,K,Z,J))},setParticleSpeed:function(B,z){return z===void 0&&(z=B),this.ops.speedX.onChange(B),B===z?this.ops.speedY.active=!1:this.ops.speedY.onChange(z),this.radial=!0,this},setParticleScale:function(B,z){return B===void 0&&(B=1),z===void 0&&(z=B),this.ops.scaleX.onChange(B),this.ops.scaleY.onChange(z),this},setParticleGravity:function(B,z){return this.gravityX=B,this.gravityY=z,this},setParticleAlpha:function(B){return this.ops.alpha.onChange(B),this},setParticleTint:function(B){return this.ops.tint.onChange(B),this},setEmitterAngle:function(B){return this.ops.angle.onChange(B),this},setParticleLifespan:function(B){return this.ops.lifespan.onChange(B),this},setQuantity:function(B){return this.quantity=B,this},setFrequency:function(B,z){return this.frequency=B,this.flowCounter=B>0?B:0,z&&(this.quantity=z),this},addDeathZone:function(B){Array.isArray(B)||(B=[B]);for(var z,U=[],H=0;H<B.length;H++)if(z=B[H],z instanceof a)U.push(z);else if(typeof z.contains=="function")z=new a(z,!0),U.push(z);else{var $=p(z,"type","onEnter"),K=p(z,"source",null);if(K&&typeof K.contains=="function"){var Z=$==="onEnter";z=new a(K,Z),U.push(z)}}return this.deathZones=this.deathZones.concat(U),U},removeDeathZone:function(B){return D(this.deathZones,B),this},clearDeathZones:function(){return this.deathZones.length=0,this},addEmitZone:function(B){Array.isArray(B)||(B=[B]);for(var z,U=[],H=0;H<B.length;H++)if(z=B[H],z instanceof F||z instanceof n)U.push(z);else{var $=p(z,"source",null);if($){var K=p(z,"type","random");if(K==="random"&&typeof $.getRandomPoint=="function")z=new F($),U.push(z);else if(K==="edge"&&typeof $.getPoints=="function"){var Z=p(z,"quantity",1),J=p(z,"stepRate",0),Q=p(z,"yoyo",!1),j=p(z,"seamless",!0),tt=p(z,"total",-1);z=new n($,Z,J,Q,j,tt),U.push(z)}}}return this.emitZones=this.emitZones.concat(U),U},removeEmitZone:function(B){return D(this.emitZones,B),this.zoneIndex=0,this},clearEmitZones:function(){return this.emitZones.length=0,this.zoneIndex=0,this},getEmitZone:function(B){var z=this.emitZones,U=z.length;if(U!==0){var H=z[this.zoneIndex];H.getPoint(B),H.total>-1&&(this.zoneTotal++,this.zoneTotal===H.total&&(this.zoneTotal=0,this.zoneIndex++,this.zoneIndex===U&&(this.zoneIndex=0)))}},getDeathZone:function(B){for(var z=this.deathZones,U=0;U<z.length;U++){var H=z[U];if(H.willKill(B))return this.emit(u.DEATH_ZONE,this,B,H),!0}return!1},setEmitZone:function(B){var z;return isFinite(B)?z=B:z=this.emitZones.indexOf(B),z>=0&&(this.zoneIndex=z),this},addParticleProcessor:function(B){return this.processors.exists(B)||(B.emitter&&B.emitter.removeParticleProcessor(B),this.processors.add(B),B.emitter=this),B},removeParticleProcessor:function(B){return this.processors.exists(B)&&(this.processors.remove(B,!0),B.emitter=null),B},getProcessors:function(){return this.processors.getAll("active",!0)},createGravityWell:function(B){return this.addParticleProcessor(new m(B))},reserve:function(B){var z=this.dead;if(this.maxParticles>0){var U=this.getParticleCount();U+B>this.maxParticles&&(B=this.maxParticles-(U+B))}for(var H=0;H<B;H++)z.push(new this.particleClass(this));return this},getAliveParticleCount:function(){return this.alive.length},getDeadParticleCount:function(){return this.dead.length},getParticleCount:function(){return this.getAliveParticleCount()+this.getDeadParticleCount()},atLimit:function(){return this.maxParticles>0&&this.getParticleCount()>=this.maxParticles?!0:this.maxAliveParticles>0&&this.getAliveParticleCount()>=this.maxAliveParticles},onParticleEmit:function(B,z){return B===void 0?(this.emitCallback=null,this.emitCallbackScope=null):typeof B=="function"&&(this.emitCallback=B,z&&(this.emitCallbackScope=z)),this},onParticleDeath:function(B,z){return B===void 0?(this.deathCallback=null,this.deathCallbackScope=null):typeof B=="function"&&(this.deathCallback=B,z&&(this.deathCallbackScope=z)),this},killAll:function(){for(var B=this.dead,z=this.alive;z.length>0;)B.push(z.pop());return this},forEachAlive:function(B,z){for(var U=this.alive,H=U.length,$=0;$<H;$++)B.call(z,U[$],this);return this},forEachDead:function(B,z){for(var U=this.dead,H=U.length,$=0;$<H;$++)B.call(z,U[$],this);return this},start:function(B,z){return B===void 0&&(B=0),this.emitting||(B>0&&this.fastForward(B),this.emitting=!0,this.resetCounters(this.frequency,!0),z!==void 0&&(this.duration=Math.abs(z)),this.emit(u.START,this)),this},stop:function(B){return B===void 0&&(B=!1),this.emitting&&(this.emitting=!1,B&&this.killAll(),this.emit(u.STOP,this)),this},pause:function(){return this.active=!1,this},resume:function(){return this.active=!0,this},setSortProperty:function(B,z){return B===void 0&&(B=""),z===void 0&&(z=this.true),this.sortProperty=B,this.sortOrderAsc=z,this.sortCallback=this.depthSortCallback,this},setSortCallback:function(B){return this.sortProperty!==""?B=this.depthSortCallback:B=null,this.sortCallback=B,this},depthSort:function(){return k(this.alive,this.sortCallback.bind(this)),this},depthSortCallback:function(B,z){var U=this.sortProperty;return this.sortOrderAsc?B[U]-z[U]:z[U]-B[U]},flow:function(B,z,U){return z===void 0&&(z=1),this.emitting=!1,this.frequency=B,this.quantity=z,U!==void 0&&(this.stopAfter=U),this.start()},explode:function(B,z,U){this.frequency=-1,this.resetCounters(-1,!0);var H=this.emitParticle(B,z,U);return this.emit(u.EXPLODE,this,H),H},emitParticleAt:function(B,z,U){return this.emitParticle(U,B,z)},emitParticle:function(B,z,U){if(!this.atLimit()){B===void 0&&(B=this.ops.quantity.onEmit());for(var H=this.dead,$=this.stopAfter,K=this.follow?this.follow.x+this.followOffset.x:z,Z=this.follow?this.follow.y+this.followOffset.y:U,J=0;J<B;J++){var Q=H.pop();if(Q||(Q=new this.particleClass(this)),Q.fire(K,Z)?(this.particleBringToTop?this.alive.push(Q):this.alive.unshift(Q),this.emitCallback&&this.emitCallback.call(this.emitCallbackScope,Q,this)):this.dead.push(Q),$>0&&(this.stopCounter++,this.stopCounter>=$)||this.atLimit())break}return Q}},fastForward:function(B,z){z===void 0&&(z=1e3/60);var U=0;for(this.skipping=!0;U<Math.abs(B);)this.preUpdate(0,z),U+=z;return this.skipping=!1,this},preUpdate:function(B,z){z*=this.timeScale;var U=z/1e3;this.trackVisible&&(this.visible=this.follow.visible),this.getWorldTransformMatrix(this.worldMatrix);var H=this.getProcessors(),$=this.alive,K=this.dead,Z=0,J=[],Q=$.length;for(Z=0;Z<Q;Z++){var j=$[Z];j.update(z,U,H)&&J.push({index:Z,particle:j})}if(Q=J.length,Q>0){var tt=this.deathCallback,it=this.deathCallbackScope;for(Z=Q-1;Z>=0;Z--){var q=J[Z];$.splice(q.index,1),K.push(q.particle),tt&&tt.call(it,q.particle),q.particle.setPosition()}}if(!this.emitting&&!this.skipping){this.completeFlag===1&&$.length===0&&(this.completeFlag=0,this.emit(u.COMPLETE,this));return}if(this.frequency===0)this.emitParticle();else if(this.frequency>0)for(this.flowCounter-=z;this.flowCounter<=0;)this.emitParticle(),this.flowCounter+=this.frequency;this.skipping||(this.duration>0&&(this.elapsed+=z,this.elapsed>=this.duration&&this.stop()),this.stopAfter>0&&this.stopCounter>=this.stopAfter&&this.stop())},overlap:function(B){for(var z=this.getWorldTransformMatrix(),U=this.alive,H=U.length,$=[],K=0;K<H;K++){var Z=U[K];b(B,Z.getBounds(z))&&$.push(Z)}return $},getBounds:function(B,z,U,H){B===void 0&&(B=0),z===void 0&&(z=0),U===void 0&&(U=1e3/60),H===void 0&&(H=new L);var $=this.getWorldTransformMatrix(),K,Z,J=this.alive,Q=!1;if(H.setTo(0,0,0,0),z>0){var j=0;for(this.skipping=!0;j<Math.abs(z);){for(this.preUpdate(0,U),K=0;K<J.length;K++)Z=J[K].getBounds($),Q?w(H,Z):(Q=!0,l(Z,H));j+=U}this.skipping=!1}else for(K=0;K<J.length;K++)Z=J[K].getBounds($),Q?w(H,Z):(Q=!0,l(Z,H));return B>0&&E(H,B,B),H},createEmitter:function(){throw new Error("createEmitter removed. See ParticleEmitter docs for info")},particleX:{get:function(){return this.ops.x.current},set:function(B){this.ops.x.onChange(B)}},particleY:{get:function(){return this.ops.y.current},set:function(B){this.ops.y.onChange(B)}},accelerationX:{get:function(){return this.ops.accelerationX.current},set:function(B){this.ops.accelerationX.onChange(B)}},accelerationY:{get:function(){return this.ops.accelerationY.current},set:function(B){this.ops.accelerationY.onChange(B)}},maxVelocityX:{get:function(){return this.ops.maxVelocityX.current},set:function(B){this.ops.maxVelocityX.onChange(B)}},maxVelocityY:{get:function(){return this.ops.maxVelocityY.current},set:function(B){this.ops.maxVelocityY.onChange(B)}},speed:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B),this.ops.speedY.onChange(B)}},speedX:{get:function(){return this.ops.speedX.current},set:function(B){this.ops.speedX.onChange(B)}},speedY:{get:function(){return this.ops.speedY.current},set:function(B){this.ops.speedY.onChange(B)}},moveToX:{get:function(){return this.ops.moveToX.current},set:function(B){this.ops.moveToX.onChange(B)}},moveToY:{get:function(){return this.ops.moveToY.current},set:function(B){this.ops.moveToY.onChange(B)}},bounce:{get:function(){return this.ops.bounce.current},set:function(B){this.ops.bounce.onChange(B)}},particleScaleX:{get:function(){return this.ops.scaleX.current},set:function(B){this.ops.scaleX.onChange(B)}},particleScaleY:{get:function(){return this.ops.scaleY.current},set:function(B){this.ops.scaleY.onChange(B)}},particleColor:{get:function(){return this.ops.color.current},set:function(B){this.ops.color.onChange(B)}},colorEase:{get:function(){return this.ops.color.easeName},set:function(B){this.ops.color.setEase(B)}},particleTint:{get:function(){return this.ops.tint.current},set:function(B){this.ops.tint.onChange(B)}},particleAlpha:{get:function(){return this.ops.alpha.current},set:function(B){this.ops.alpha.onChange(B)}},lifespan:{get:function(){return this.ops.lifespan.current},set:function(B){this.ops.lifespan.onChange(B)}},particleAngle:{get:function(){return this.ops.angle.current},set:function(B){this.ops.angle.onChange(B)}},particleRotate:{get:function(){return this.ops.rotate.current},set:function(B){this.ops.rotate.onChange(B)}},quantity:{get:function(){return this.ops.quantity.current},set:function(B){this.ops.quantity.onChange(B)}},delay:{get:function(){return this.ops.delay.current},set:function(B){this.ops.delay.onChange(B)}},hold:{get:function(){return this.ops.hold.current},set:function(B){this.ops.hold.onChange(B)}},flowCounter:{get:function(){return this.counters[0]},set:function(B){this.counters[0]=B}},frameCounter:{get:function(){return this.counters[1]},set:function(B){this.counters[1]=B}},animCounter:{get:function(){return this.counters[2]},set:function(B){this.counters[2]=B}},elapsed:{get:function(){return this.counters[3]},set:function(B){this.counters[3]=B}},stopCounter:{get:function(){return this.counters[4]},set:function(B){this.counters[4]=B}},completeFlag:{get:function(){return this.counters[5]},set:function(B){this.counters[5]=B}},zoneIndex:{get:function(){return this.counters[6]},set:function(B){this.counters[6]=B}},zoneTotal:{get:function(){return this.counters[7]},set:function(B){this.counters[7]=B}},currentFrame:{get:function(){return this.counters[8]},set:function(B){this.counters[8]=B}},currentAnim:{get:function(){return this.counters[9]},set:function(B){this.counters[9]=B}},preDestroy:function(){this.texture=null,this.frames=null,this.anims=null,this.emitCallback=null,this.emitCallbackScope=null,this.deathCallback=null,this.deathCallbackScope=null,this.emitZones=null,this.deathZones=null,this.bounds=null,this.follow=null,this.counters=null;var B,z=this.ops;for(B=0;B<V.length;B++){var U=V[B];z[U].destroy()}for(B=0;B<this.alive.length;B++)this.alive[B].destroy();for(B=0;B<this.dead.length;B++)this.dead[B].destroy();this.ops=null,this.alive=[],this.dead=[],this.worldMatrix.destroy()}});r.exports=G},9871:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(59996),x=i(61340),f=new x,l=new x,a=new x,n=new x,d=function(c,u,v,p){var g=f,m=l,T=a,P=n;p?(P.loadIdentity(),P.multiply(p),P.translate(u.x,u.y),P.rotate(u.rotation),P.scale(u.scaleX,u.scaleY)):P.applyITRS(u.x,u.y,u.rotation,u.scaleX,u.scaleY);var E=c.currentContext,M=v.roundPixels,w=v.alpha,R=u.alpha,A=u.alive,O=A.length,F=u.viewBounds;if(!(!u.visible||O===0||F&&!h(F,v.worldView))){u.sortCallback&&u.depthSort(),v.addToRenderList(u);var L=u.scrollFactorX,b=u.scrollFactorY;E.save(),E.globalCompositeOperation=c.blendModes[u.blendMode];for(var D=0;D<O;D++){var I=A[D],k=I.alpha*R*w;if(!(k<=0||I.scaleX===0||I.scaleY===0)){T.applyITRS(I.x,I.y,I.rotation,I.scaleX,I.scaleY),g.copyFrom(v.matrix),g.multiplyWithOffset(P,-v.scrollX*L,-v.scrollY*b),T.e=I.x,T.f=I.y,g.multiply(T,m);var X=I.frame,W=X.canvasData;if(W.width>0&&W.height>0){var Y=-X.halfWidth,N=-X.halfHeight;E.globalAlpha=k,E.save(),m.setToContext(E),M&&(Y=Math.round(Y),N=Math.round(N)),E.imageSmoothingEnabled=!X.source.scaleMode,E.drawImage(X.source.image,W.x,W.y,W.width,W.height,Y,N,W.width,W.height),E.restore()}}}E.restore()}};r.exports=d},92730:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(95540),a=i(31600);x.register("particles",function(n,d){n===void 0&&(n={});var c=f(n,"key",null),u=l(n,"config",null),v=new a(this.scene,0,0,c);return d!==void 0&&(n.add=d),h(this.scene,v,n),u&&v.setConfig(u),v})},676:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(31600);h.register("particles",function(f,l,a,n){return f!==void 0&&typeof f=="string"&&console.warn("ParticleEmitterManager was removed in Phaser 3.60. See documentation for details"),this.displayList.add(new x(this.scene,f,l,a,n))})},90668:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(21188),f=i(9871),r.exports={renderWebGL:x,renderCanvas:f}},21188:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(59996),x=i(61340),f=i(70554),l=new x,a=new x,n=new x,d=new x,c=function(u,v,p,g){var m=u.pipelines.set(v.pipeline),T=l,P=a,E=n,M=d;g?(M.loadIdentity(),M.multiply(g),M.translate(v.x,v.y),M.rotate(v.rotation),M.scale(v.scaleX,v.scaleY)):M.applyITRS(v.x,v.y,v.rotation,v.scaleX,v.scaleY);var w=f.getTintAppendFloatAlpha,R=p.alpha,A=v.alpha;u.pipelines.preBatch(v);var O=v.alive,F=O.length,L=v.viewBounds;if(!(F===0||L&&!h(L,p.worldView))){v.sortCallback&&v.depthSort(),p.addToRenderList(v),T.copyFrom(p.matrix),T.multiplyWithOffset(M,-p.scrollX*v.scrollFactorX,-p.scrollY*v.scrollFactorY),u.setBlendMode(v.blendMode),v.mask&&(v.mask.preRenderWebGL(u,v,p),u.pipelines.set(v.pipeline));for(var b=v.tintFill,D,I,k=0;k<F;k++){var X=O[k],W=X.alpha*A*R;if(!(W<=0||X.scaleX===0||X.scaleY===0)){E.applyITRS(X.x,X.y,X.rotation,X.scaleX,X.scaleY),E.e=X.x,E.f=X.y,T.multiply(E,P);var Y=X.frame;Y.glTexture!==I&&(I=Y.glTexture,D=m.setGameObject(v,Y));var N=-Y.halfWidth,V=-Y.halfHeight,G=P.setQuad(N,V,N+Y.width,V+Y.height),B=w(X.tint,W);m.shouldFlush(6)&&(m.flush(),D=m.setGameObject(v,Y)),m.batchQuad(v,G[0],G[1],G[2],G[3],G[4],G[5],G[6],G[7],Y.u0,Y.v0,Y.u1,Y.v1,B,B,B,B,b,I,D)}}v.mask&&v.mask.postRenderWebGL(u,p),u.pipelines.postBatch(v)}};r.exports=c},20286:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n){l===void 0&&(l=0),a===void 0&&(a=0),n===void 0&&(n=!0),this.emitter,this.x=l,this.y=a,this.active=n},update:function(){},destroy:function(){this.emitter=null}});r.exports=x},9774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},812:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="deathzone"},30522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="explode"},96695:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},18677:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},20696:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(9774),DEATH_ZONE:i(812),EXPLODE:i(30522),START:i(96695),STOP:i(18677)}},18404:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={EmitterColorOp:i(76472),EmitterOp:i(44777),Events:i(20696),GravityWell:i(24502),Particle:i(56480),ParticleBounds:i(69601),ParticleEmitter:i(31600),ParticleProcessor:i(20286),Zones:i(21024)}},26388:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a){this.source=l,this.killOnEnter=a},willKill:function(f){var l=f.worldPosition,a=this.source.contains(l.x,l.y);return a&&this.killOnEnter||!a&&!this.killOnEnter}});r.exports=x},19909:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d,c,u){d===void 0&&(d=!1),c===void 0&&(c=!0),u===void 0&&(u=-1),this.source=l,this.points=[],this.quantity=a,this.stepRate=n,this.yoyo=d,this.counter=-1,this.seamless=c,this._length=0,this._direction=0,this.total=u,this.updateSource()},updateSource:function(){if(this.points=this.source.getPoints(this.quantity,this.stepRate),this.seamless){var f=this.points[0],l=this.points[this.points.length-1];f.x===l.x&&f.y===l.y&&this.points.pop()}var a=this._length;return this._length=this.points.length,this._length<a&&this.counter>this._length&&(this.counter=this._length-1),this},changeSource:function(f){return this.source=f,this.updateSource()},getPoint:function(f){this._direction===0?(this.counter++,this.counter>=this._length&&(this.yoyo?(this._direction=1,this.counter=this._length-1):this.counter=0)):(this.counter--,this.counter===-1&&(this.yoyo?(this._direction=0,this.counter=0):this.counter=this._length-1));var l=this.points[this.counter];l&&(f.x=l.x,f.y=l.y)}});r.exports=x},68875:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(26099),f=new h({initialize:function(a){this.source=a,this._tempVec=new x,this.total=-1},getPoint:function(l){var a=this._tempVec;this.source.getRandomPoint(a),l.x=a.x,l.y=a.y}});r.exports=f},21024:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DeathZone:i(26388),EdgeZone:i(19909),RandomZone:i(68875)}},1159:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(68287),l=new h({Extends:f,Mixins:[x.PathFollower],initialize:function(n,d,c,u,v,p){f.call(this,n,c,u,v,p),this.path=d},preUpdate:function(a,n){this.anims.update(a,n),this.pathUpdate(a)}});r.exports=l},90145:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(1159);h.register("follower",function(f,l,a,n,d){var c=new x(this.scene,f,l,a,n,d);return this.displayList.add(c),this.updateList.add(c),c})},33663:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),x=i(83419),f=i(48803),l=i(90664),a=i(4703),n=i(45650),d=new x({Extends:a,initialize:function(u,v,p,g,m,T,P,E){g||(g="__DEFAULT"),a.call(this,u,v,p,g,m),this.type="Plane",this.anims=new h(this),this.gridWidth,this.gridHeight,this.isTiled,this._checkerboard=null,this.hideCCW=!1,this.setGridSize(T,P,E),this.setSizeToFrame(!1),this.setViewHeight()},originX:{get:function(){return .5}},originY:{get:function(){return .5}},setGridSize:function(c,u,v){c===void 0&&(c=8),u===void 0&&(u=8),v===void 0&&(v=!1);var p=!1;return v&&(p=!0),this.gridWidth=c,this.gridHeight=u,this.isTiled=v,this.clear(),f({mesh:this,widthSegments:c,heightSegments:u,isOrtho:!1,tile:v,flipY:p}),this},setSizeToFrame:function(c){c===void 0&&(c=!0);var u=this.frame;if(this.setPerspective(this.width/u.width,this.height/u.height),this._checkerboard&&this._checkerboard!==this.texture&&this.removeCheckerboard(),!c)return this;var v=this.gridWidth,p=this.gridHeight,g=this.vertices,m=u.u0,T=u.u1,P=u.v0,E=u.v1,M,w,R=0;if(this.isTiled)for(P=u.v1,E=u.v0,w=0;w<p;w++)for(M=0;M<v;M++)g[R++].setUVs(m,E),g[R++].setUVs(m,P),g[R++].setUVs(T,E),g[R++].setUVs(m,P),g[R++].setUVs(T,P),g[R++].setUVs(T,E);else{var A=v+1,O=p+1,F=T-m,L=E-P,b=[];for(w=0;w<O;w++)for(M=0;M<A;M++){var D=m+F*(M/v),I=P+L*(w/p);b.push(D,I)}for(w=0;w<p;w++)for(M=0;M<v;M++){var k=(M+A*w)*2,X=(M+A*(w+1))*2,W=(M+1+A*(w+1))*2,Y=(M+1+A*w)*2;g[R++].setUVs(b[k],b[k+1]),g[R++].setUVs(b[X],b[X+1]),g[R++].setUVs(b[Y],b[Y+1]),g[R++].setUVs(b[X],b[X+1]),g[R++].setUVs(b[W],b[W+1]),g[R++].setUVs(b[Y],b[Y+1])}}return this},setViewHeight:function(c){c===void 0&&(c=this.frame.height);var u=this.fov*(Math.PI/180);this.viewPosition.z=this.height/c/Math.tan(u/2),this.dirtyCache[10]=1},createCheckerboard:function(c,u,v,p,g){c===void 0&&(c=16777215),u===void 0&&(u=255),v===void 0&&(v=255),p===void 0&&(p=255),g===void 0&&(g=128);for(var m=l(c),T=l(u),P=[],E=0;E<16;E++)for(var M=0;M<16;M++)E<8&&M<8||E>7&&M>7?P.push(m.r,m.g,m.b,v):P.push(T.r,T.g,T.b,p);var w=this.scene.sys.textures.addUint8Array(n(),new Uint8Array(P),16,16);return this.removeCheckerboard(),this.setTexture(w),this.setSizeToFrame(),this.setViewHeight(g),this},removeCheckerboard:function(){this._checkerboard&&(this._checkerboard.destroy(),this._checkerboard=null)},play:function(c,u){return this.anims.play(c,u)},playReverse:function(c,u){return this.anims.playReverse(c,u)},playAfterDelay:function(c,u){return this.anims.playAfterDelay(c,u)},playAfterRepeat:function(c,u){return this.anims.playAfterRepeat(c,u)},stop:function(){return this.anims.stop()},stopAfterDelay:function(c){return this.anims.stopAfterDelay(c)},stopAfterRepeat:function(c){return this.anims.stopAfterRepeat(c)},stopOnFrame:function(c){return this.anims.stopOnFrame(c)},preUpdate:function(c,u){a.prototype.preUpdate.call(this,c,u),this.anims.update(c,u)},preDestroy:function(){this.clear(),this.removeCheckerboard(),this.anims.destroy(),this.anims=void 0,this.debugCallback=null,this.debugGraphic=null}});r.exports=d},56015:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(13059),f=i(44603),l=i(23568),a=i(35154),n=i(33663);f.register("plane",function(d,c){d===void 0&&(d={});var u=l(d,"key",null),v=l(d,"frame",null),p=a(d,"width",8),g=a(d,"height",8),m=a(d,"tile",!1),T=new n(this.scene,0,0,u,v,p,g,m);c!==void 0&&(d.add=c);var P=a(d,"checkerboard",null);if(P){var E=a(P,"color1",16777215),M=a(P,"color2",255),w=a(P,"alpha1",255),R=a(P,"alpha2",255),A=a(P,"height",128);T.createCheckerboard(E,M,w,R,A)}return h(this.scene,T,d),x(T,d),T})},30985:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33663),x=i(39429);x.register("plane",function(f,l,a,n,d,c,u){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u))})},80321:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(95643),l=i(30100),a=i(36060),n=i(67277),d=new h({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.Mask,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible,n],initialize:function(u,v,p,g,m,T,P){g===void 0&&(g=16777215),m===void 0&&(m=128),T===void 0&&(T=1),P===void 0&&(P=.1),f.call(this,u,"PointLight"),this.initPipeline(a.POINTLIGHT_PIPELINE),this.initPostPipeline(),this.setPosition(v,p),this.color=l(g),this.intensity=T,this.attenuation=P,this.width=m*2,this.height=m*2,this._radius=m},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this.width=c*2,this.height=c*2}},originX:{get:function(){return .5}},originY:{get:function(){return .5}},displayOriginX:{get:function(){return this._radius}},displayOriginY:{get:function(){return this._radius}}});r.exports=d},39829:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(80321);x.register("pointlight",function(a,n){a===void 0&&(a={});var d=f(a,"color",16777215),c=f(a,"radius",128),u=f(a,"intensity",1),v=f(a,"attenuation",.1),p=new l(this.scene,0,0,d,c,u,v);return n!==void 0&&(a.add=n),h(this.scene,p,a),p})},71255:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(80321);h.register("pointlight",function(f,l,a,n,d,c){return this.displayList.add(new x(this.scene,f,l,a,n,d,c))})},67277:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(57787),r.exports={renderWebGL:x,renderCanvas:f}},57787:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=function(f,l,a,n){a.addToRenderList(l);var d=f.pipelines.set(l.pipeline),c=h(l,a,n).calc,u=l.width,v=l.height,p=-l._radius,g=-l._radius,m=p+u,T=g+v,P=c.getX(0,0),E=c.getY(0,0),M=c.getX(p,g),w=c.getY(p,g),R=c.getX(p,T),A=c.getY(p,T),O=c.getX(m,T),F=c.getY(m,T),L=c.getX(m,g),b=c.getY(m,g);f.pipelines.preBatch(l),d.batchPointLight(l,a,M,w,R,A,O,F,L,b,P,E),f.pipelines.postBatch(l)};r.exports=x},591:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(81320),f=i(88571),l=new h({Extends:f,initialize:function(n,d,c,u,v,p){d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=32),v===void 0&&(v=32),p===void 0&&(p=!0);var g=new x(n.sys.textures,"",u,v,p);f.call(this,n,d,c,g),this.type="RenderTexture",this.camera=this.texture.camera,this._saved=!1},setSize:function(a,n){this.width=a,this.height=n,this.updateDisplayOrigin();var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=a,d.hitArea.height=n),this},resize:function(a,n,d){return this.texture.setSize(a,n,d),this.setSize(this.texture.width,this.texture.height),this},saveTexture:function(a){var n=this.texture;return n.key=a,n.manager.addDynamicTexture(n)&&(this._saved=!0),n},fill:function(a,n,d,c,u,v){return this.texture.fill(a,n,d,c,u,v),this},clear:function(){return this.texture.clear(),this},stamp:function(a,n,d,c,u){return this.texture.stamp(a,n,d,c,u),this},erase:function(a,n,d){return this.texture.erase(a,n,d),this},draw:function(a,n,d,c,u){return this.texture.draw(a,n,d,c,u),this},drawFrame:function(a,n,d,c,u,v){return this.texture.drawFrame(a,n,d,c,u,v),this},repeat:function(a,n,d,c,u,v,p,g,m){return this.texture.repeat(a,n,d,c,u,v,p,g,m),this},beginDraw:function(){return this.texture.beginDraw(),this},batchDraw:function(a,n,d,c,u){return this.texture.batchDraw(a,n,d,c,u),this},batchDrawFrame:function(a,n,d,c,u,v){return this.texture.batchDrawFrame(a,n,d,c,u,v),this},endDraw:function(a){return this.texture.endDraw(a),this},snapshotArea:function(a,n,d,c,u,v,p){return this.texture.snapshotArea(a,n,d,c,u,v,p),this},snapshot:function(a,n,d){return this.snapshotArea(0,0,this.width,this.height,a,n,d)},snapshotPixel:function(a,n,d){return this.snapshotArea(a,n,1,1,d,"pixel")},preDestroy:function(){this.camera=null,this._saved||this.texture.destroy()}});r.exports=l},34495:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(591);x.register("renderTexture",function(a,n){a===void 0&&(a={});var d=f(a,"x",0),c=f(a,"y",0),u=f(a,"width",32),v=f(a,"height",32),p=new l(this.scene,d,c,u,v);return n!==void 0&&(a.add=n),h(this.scene,p,a),p})},60505:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(591);h.register("renderTexture",function(f,l,a,n){return this.displayList.add(new x(this.scene,f,l,a,n))})},77757:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),x=i(83419),f=i(31401),l=i(95643),a=i(36060),n=i(38745),d=i(26099),c=new x({Extends:l,Mixins:[f.AlphaSingle,f.BlendMode,f.Depth,f.Flip,f.Mask,f.Pipeline,f.PostPipeline,f.Size,f.Texture,f.Transform,f.Visible,f.ScrollFactor,n],initialize:function(v,p,g,m,T,P,E,M,w){m===void 0&&(m="__DEFAULT"),P===void 0&&(P=2),E===void 0&&(E=!0),l.call(this,v,"Rope"),this.anims=new h(this),this.points=P,this.vertices,this.uv,this.colors,this.alphas,this.tintFill=m==="__DEFAULT",this.dirty=!1,this.horizontal=E,this._flipX=!1,this._flipY=!1,this._perp=new d,this.debugCallback=null,this.debugGraphic=null,this.setTexture(m,T),this.setPosition(p,g),this.setSizeToFrame(),this.initPipeline(a.ROPE_PIPELINE),this.initPostPipeline(),Array.isArray(P)&&this.resizeArrays(P.length),this.setPoints(P,M,w),this.updateVertices()},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(u,v){var p=this.anims.currentFrame;this.anims.update(u,v),this.anims.currentFrame!==p&&(this.updateUVs(),this.updateVertices())},play:function(u,v,p){return this.anims.play(u,v,p),this},setDirty:function(){return this.dirty=!0,this},setHorizontal:function(u,v,p){return u===void 0&&(u=this.points.length),this.horizontal?this:(this.horizontal=!0,this.setPoints(u,v,p))},setVertical:function(u,v,p){return u===void 0&&(u=this.points.length),this.horizontal?(this.horizontal=!1,this.setPoints(u,v,p)):this},setTintFill:function(u){return u===void 0&&(u=!1),this.tintFill=u,this},setAlphas:function(u,v){var p=this.points.length;if(p<1)return this;var g=this.alphas;u===void 0?u=[1]:!Array.isArray(u)&&v===void 0&&(u=[u]);var m,T=0;if(v!==void 0)for(m=0;m<p;m++)T=m*2,g[T]=u,g[T+1]=v;else if(u.length===p)for(m=0;m<p;m++)T=m*2,g[T]=u[m],g[T+1]=u[m];else{var P=u[0];for(m=0;m<p;m++)T=m*2,u.length>T&&(P=u[T]),g[T]=P,u.length>T+1&&(P=u[T+1]),g[T+1]=P}return this},setColors:function(u){var v=this.points.length;if(v<1)return this;var p=this.colors;u===void 0?u=[16777215]:Array.isArray(u)||(u=[u]);var g,m=0;if(u.length===v)for(g=0;g<v;g++)m=g*2,p[m]=u[g],p[m+1]=u[g];else{var T=u[0];for(g=0;g<v;g++)m=g*2,u.length>m&&(T=u[m]),p[m]=T,u.length>m+1&&(T=u[m+1]),p[m+1]=T}return this},setPoints:function(u,v,p){if(u===void 0&&(u=2),typeof u=="number"){var g=u;g<2&&(g=2),u=[];var m,T,P;if(this.horizontal)for(P=-this.frame.halfWidth,T=this.frame.width/(g-1),m=0;m<g;m++)u.push({x:P+m*T,y:0});else for(P=-this.frame.halfHeight,T=this.frame.height/(g-1),m=0;m<g;m++)u.push({x:0,y:P+m*T})}var E=u.length,M=this.points.length;return E<1?(console.warn("Rope: Not enough points given"),this):(E===1&&(u.unshift({x:0,y:0}),E++),M!==E&&this.resizeArrays(E),this.dirty=!0,this.points=u,this.updateUVs(),v!=null&&this.setColors(v),p!=null&&this.setAlphas(p),this)},updateUVs:function(){for(var u=this.uv,v=this.points.length,p=this.frame.u0,g=this.frame.v0,m=this.frame.u1,T=this.frame.v1,P=(m-p)/(v-1),E=(T-g)/(v-1),M=0;M<v;M++){var w=M*4,R,A,O,F;this.horizontal?(this._flipX?(R=m-M*P,O=m-M*P):(R=p+M*P,O=p+M*P),this._flipY?(A=T,F=g):(A=g,F=T)):(this._flipX?(R=p,O=m):(R=m,O=p),this._flipY?(A=T-M*E,F=T-M*E):(A=g+M*E,F=g+M*E)),u[w+0]=R,u[w+1]=A,u[w+2]=O,u[w+3]=F}return this},resizeArrays:function(u){var v=this.colors,p=this.alphas;this.vertices=new Float32Array(u*4),this.uv=new Float32Array(u*4),v=new Uint32Array(u*2),p=new Float32Array(u*2);for(var g=0;g<u*2;g++)v[g]=16777215,p[g]=1;return this.colors=v,this.alphas=p,this.dirty=!0,this},updateVertices:function(){var u=this._perp,v=this.points,p=this.vertices,g=v.length;if(this.dirty=!1,!(g<1)){for(var m,T=v[0],P=this.horizontal?this.frame.halfHeight:this.frame.halfWidth,E=0;E<g;E++){var M=v[E],w=E*4;E<g-1?m=v[E+1]:m=M,u.x=m.y-T.y,u.y=-(m.x-T.x);var R=u.length();u.x/=R,u.y/=R,u.x*=P,u.y*=P,p[w]=M.x+u.x,p[w+1]=M.y+u.y,p[w+2]=M.x-u.x,p[w+3]=M.y-u.y,T=M}return this}},setDebug:function(u,v){return this.debugGraphic=u,!u&&!v?this.debugCallback=null:v?this.debugCallback=v:this.debugCallback=this.renderDebugVerts,this},renderDebugVerts:function(u,v,p){var g=u.debugGraphic,m=p[0],T=p[1],P=p[2],E=p[3];g.lineBetween(m,T,P,E);for(var M=4;M<v;M+=4){var w=p[M+0],R=p[M+1],A=p[M+2],O=p[M+3];g.lineBetween(m,T,w,R),g.lineBetween(P,E,A,O),g.lineBetween(P,E,w,R),g.lineBetween(w,R,A,O),m=w,T=R,P=A,E=O}},preDestroy:function(){this.anims.destroy(),this.anims=void 0,this.points=null,this.vertices=null,this.uv=null,this.colors=null,this.alphas=null,this.debugCallback=null,this.debugGraphic=null},flipX:{get:function(){return this._flipX},set:function(u){return this._flipX=u,this.updateUVs()}},flipY:{get:function(){return this._flipY},set:function(u){return this._flipY=u,this.updateUVs()}}});r.exports=c},95262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};r.exports=C},26209:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(35154),a=i(77757);x.register("rope",function(n,d){n===void 0&&(n={});var c=f(n,"key",null),u=f(n,"frame",null),v=f(n,"horizontal",!0),p=l(n,"points",void 0),g=l(n,"colors",void 0),m=l(n,"alphas",void 0),T=new a(this.scene,0,0,c,u,p,v,g,m);return d!==void 0&&(n.add=d),h(this.scene,T,n),T})},96819:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(77757),x=i(39429);x.register("rope",function(f,l,a,n,d,c,u,v){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u,v))})},38745:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(20439),f=i(95262),r.exports={renderWebGL:x,renderCanvas:f}},20439:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(70554),f=function(l,a,n,d){n.addToRenderList(a);var c=l.pipelines.set(a.pipeline,a),u=h(a,n,d).calc,v=a.vertices,p=a.uv,g=a.colors,m=a.alphas,T=a.alpha,P=x.getTintAppendFloatAlpha,E=n.roundPixels,M=v.length,w=Math.floor(M*.5);c.flush(),l.pipelines.preBatch(a);var R=c.setGameObject(a),A=c.vertexViewF32,O=c.vertexViewU32,F=c.vertexCount*c.currentShader.vertexComponentCount-1,L=0,b=a.tintFill;a.dirty&&a.updateVertices();for(var D=a.debugCallback,I=[],k=0;k<M;k+=2){var X=v[k+0],W=v[k+1],Y=X*u.a+W*u.c+u.e,N=X*u.b+W*u.d+u.f;E&&(Y=Math.round(Y),N=Math.round(N)),A[++F]=Y,A[++F]=N,A[++F]=p[k+0],A[++F]=p[k+1],A[++F]=R,A[++F]=b,O[++F]=P(g[L],n.alpha*(m[L]*T)),L++,D&&(I[k+0]=Y,I[k+1]=N)}D&&D.call(a,a,M,I),c.vertexCount+=w,c.currentBatch.count=c.vertexCount-c.currentBatch.start,l.pipelines.postBatch(a)};r.exports=f},20071:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(95643),l=i(95540),a=i(79291),n=i(61622),d=i(25479),c=i(61340),u=i(95428),v=i(92503),p=new h({Extends:f,Mixins:[x.ComputedSize,x.Depth,x.GetBounds,x.Mask,x.Origin,x.ScrollFactor,x.Transform,x.Visible,d],initialize:function(m,T,P,E,M,w,R,A){P===void 0&&(P=0),E===void 0&&(E=0),M===void 0&&(M=128),w===void 0&&(w=128),f.call(this,m,"Shader"),this.blendMode=-1,this.shader;var O=m.sys.renderer;this.renderer=O,this.gl=O.gl,this.vertexData=new ArrayBuffer(6*(Float32Array.BYTES_PER_ELEMENT*2)),this.vertexBuffer=O.createVertexBuffer(this.vertexData.byteLength,this.gl.STREAM_DRAW),this._deferSetShader=null,this._deferProjOrtho=null,this.program=null,this.bytes=new Uint8Array(this.vertexData),this.vertexViewF32=new Float32Array(this.vertexData),this._tempMatrix1=new c,this._tempMatrix2=new c,this._tempMatrix3=new c,this.viewMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.projectionMatrix=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this.uniforms={},this.pointer=null,this._rendererWidth=O.width,this._rendererHeight=O.height,this._textureCount=0,this.framebuffer=null,this.glTexture=null,this.renderToTexture=!1,this.texture=null,this.setPosition(P,E),this.setSize(M,w),this.setOrigin(.5,.5),this.setShader(T,R,A),this.renderer.on(v.RESTORE_WEBGL,this.onContextRestored,this)},willRender:function(g){return this.renderToTexture?!0:!(f.RENDER_MASK!==this.renderFlags||this.cameraFilter!==0&&this.cameraFilter&g.id)},setRenderToTexture:function(g,m){if(!this.renderToTexture){var T=this.width,P=this.height,E=this.renderer;this.glTexture=E.createTextureFromSource(null,T,P,0),this.framebuffer=E.createFramebuffer(T,P,this.glTexture,!1),this._rendererWidth=T,this._rendererHeight=P,this.renderToTexture=!0,this.projOrtho(0,this.width,this.height,0),g&&(this.texture=this.scene.sys.textures.addGLTexture(g,this.glTexture))}return this.shader&&(E.pipelines.clear(),this.load(),this.flush(),E.pipelines.rebind()),this},setShader:function(g,m,T){if(this.renderer.contextLost)return this._deferSetShader={key:g,textures:m,textureData:T},this;if(m===void 0&&(m=[]),typeof g=="string"){var P=this.scene.sys.cache.shader;if(!P.has(g))return console.warn("Shader missing: "+g),this;this.shader=P.get(g)}else this.shader=g;var E=this.gl,M=this.renderer;this.program&&M.deleteProgram(this.program);var w=M.createProgram(this.shader.vertexSrc,this.shader.fragmentSrc);E.uniformMatrix4fv(E.getUniformLocation(w.webGLProgram,"uViewMatrix"),!1,this.viewMatrix),E.uniformMatrix4fv(E.getUniformLocation(w.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),E.uniform2f(E.getUniformLocation(w.webGLProgram,"uResolution"),this.width,this.height),this.program=w;var R=new Date,A={resolution:{type:"2f",value:{x:this.width,y:this.height}},time:{type:"1f",value:0},mouse:{type:"2f",value:{x:this.width/2,y:this.height/2}},date:{type:"4fv",value:[R.getFullYear(),R.getMonth(),R.getDate(),R.getHours()*60*60+R.getMinutes()*60+R.getSeconds()]},sampleRate:{type:"1f",value:44100},iChannel0:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel1:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel2:{type:"sampler2D",value:null,textureData:{repeat:!0}},iChannel3:{type:"sampler2D",value:null,textureData:{repeat:!0}}};this.shader.uniforms?this.uniforms=a(!0,{},this.shader.uniforms,A):this.uniforms=A;for(var O=0;O<4;O++)m[O]&&this.setSampler2D("iChannel"+O,m[O],O,T);return this.initUniforms(),this.projOrtho(0,this._rendererWidth,this._rendererHeight,0),this},setPointer:function(g){return this.pointer=g,this},projOrtho:function(g,m,T,P){if(this.renderer.contextLost){this._deferProjOrtho={left:g,right:m,bottom:T,top:P};return}var E=-1e3,M=1e3,w=1/(g-m),R=1/(T-P),A=1/(E-M),O=this.projectionMatrix;O[0]=-2*w,O[5]=-2*R,O[10]=2*A,O[12]=(g+m)*w,O[13]=(P+T)*R,O[14]=(M+E)*A;var F=this.program,L=this.gl,b=this.renderer;b.setProgram(F),L.uniformMatrix4fv(L.getUniformLocation(F.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),this._rendererWidth=m,this._rendererHeight=T},initUniforms:function(){var g=this.renderer.glFuncMap,m=this.program;this._textureCount=0;for(var T in this.uniforms){var P=this.uniforms[T],E=P.type,M=g[E];P.uniformLocation=this.renderer.createUniformLocation(m,T),E!=="sampler2D"&&(P.glMatrix=M.matrix,P.glValueLength=M.length,P.glFunc=M.func)}},setSampler2DBuffer:function(g,m,T,P,E,M){E===void 0&&(E=0),M===void 0&&(M={});var w=this.uniforms[g];return w.value=m,M.width=T,M.height=P,w.textureData=M,this._textureCount=E,this.initSampler2D(w),this},setSampler2D:function(g,m,T,P){T===void 0&&(T=0);var E=this.scene.sys.textures;if(E.exists(m)){var M=E.getFrame(m);if(M.glTexture&&M.glTexture.isRenderTexture)return this.setSampler2DBuffer(g,M.glTexture,M.width,M.height,T,P);var w=this.uniforms[g],R=M.source;w.textureKey=m,w.source=R.image,w.value=M.glTexture,R.isGLTexture&&(P||(P={}),P.width=R.width,P.height=R.height),P&&(w.textureData=P),this._textureCount=T,this.initSampler2D(w)}return this},setUniform:function(g,m){return n(this.uniforms,g,m),this},getUniform:function(g){return l(this.uniforms,g,null)},setChannel0:function(g,m){return this.setSampler2D("iChannel0",g,0,m)},setChannel1:function(g,m){return this.setSampler2D("iChannel1",g,1,m)},setChannel2:function(g,m){return this.setSampler2D("iChannel2",g,2,m)},setChannel3:function(g,m){return this.setSampler2D("iChannel3",g,3,m)},initSampler2D:function(g){if(g.value){var m=g.textureData;if(m&&!g.value.isRenderTexture){var T=this.gl,P=g.value,E=T[l(m,"magFilter","linear").toUpperCase()],M=T[l(m,"minFilter","linear").toUpperCase()],w=T[l(m,"wrapS","repeat").toUpperCase()],R=T[l(m,"wrapT","repeat").toUpperCase()],A=T[l(m,"format","rgba").toUpperCase()],O=l(m,"flipY",!1),F=l(m,"width",P.width),L=l(m,"height",P.height),b=l(m,"source",P.pixels);m.repeat&&(w=T.REPEAT,R=T.REPEAT),m.width&&(b=null),P.update(b,F,L,O,w,R,M,E,A)}this.renderer.setProgram(this.program),this._textureCount++}},syncUniforms:function(){var g=this.gl,m=this.uniforms,T,P,E,M,w,R=0;for(var A in m)T=m[A],E=T.glFunc,P=T.glValueLength,M=T.uniformLocation,w=T.value,w!==null&&(P===1?T.glMatrix?E.call(g,M.webGLUniformLocation,T.transpose,w):E.call(g,M.webGLUniformLocation,w):P===2?E.call(g,M.webGLUniformLocation,w.x,w.y):P===3?E.call(g,M.webGLUniformLocation,w.x,w.y,w.z):P===4?E.call(g,M.webGLUniformLocation,w.x,w.y,w.z,w.w):T.type==="sampler2D"&&(g.activeTexture(g.TEXTURE0+R),g.bindTexture(g.TEXTURE_2D,w.webGLTexture),g.uniform1i(M.webGLUniformLocation,R),R++))},load:function(g){var m=this.gl,T=this.width,P=this.height,E=this.renderer,M=this.program,w=this.viewMatrix;if(!this.renderToTexture){var R=-this._displayOriginX,A=-this._displayOriginY;w[0]=g[0],w[1]=g[1],w[4]=g[2],w[5]=g[3],w[8]=g[4],w[9]=g[5],w[12]=w[0]*R+w[4]*A,w[13]=w[1]*R+w[5]*A}m.useProgram(M.webGLProgram),m.uniformMatrix4fv(m.getUniformLocation(M.webGLProgram,"uViewMatrix"),!1,w),m.uniformMatrix4fv(m.getUniformLocation(M.webGLProgram,"uProjectionMatrix"),!1,this.projectionMatrix),m.uniform2f(m.getUniformLocation(M.webGLProgram,"uResolution"),this.width,this.height);var O=this.uniforms,F=O.resolution;F.value.x=T,F.value.y=P,O.time.value=E.game.loop.getDuration();var L=this.pointer;if(L){var b=O.mouse,D=L.x/T,I=1-L.y/P;b.value.x=D.toFixed(2),b.value.y=I.toFixed(2)}this.syncUniforms()},flush:function(){var g=this.width,m=this.height,T=this.program,P=this.gl,E=this.vertexBuffer,M=this.renderer,w=Float32Array.BYTES_PER_ELEMENT*2;this.renderToTexture&&(M.setFramebuffer(this.framebuffer),P.clearColor(0,0,0,0),P.clear(P.COLOR_BUFFER_BIT)),P.bindBuffer(P.ARRAY_BUFFER,E.webGLBuffer);var R=P.getAttribLocation(T.webGLProgram,"inPosition");R!==-1&&(P.enableVertexAttribArray(R),P.vertexAttribPointer(R,2,P.FLOAT,!1,w,0));var A=this.vertexViewF32;A[3]=m,A[4]=g,A[5]=m,A[8]=g,A[9]=m,A[10]=g;var O=6;P.bufferSubData(P.ARRAY_BUFFER,0,this.bytes.subarray(0,O*w)),P.drawArrays(P.TRIANGLES,0,O),this.renderToTexture&&M.setFramebuffer(null,!1)},setAlpha:function(){},setBlendMode:function(){},onContextRestored:function(){if(this._deferSetShader!==null){var g=this._deferSetShader.key,m=this._deferSetShader.textures,T=this._deferSetShader.textureData;this._deferSetShader=null,this.setShader(g,m,T)}if(this._deferProjOrtho!==null){var P=this._deferProjOrtho.left,E=this._deferProjOrtho.right,M=this._deferProjOrtho.bottom,w=this._deferProjOrtho.top;this._deferProjOrtho=null,this.projOrtho(P,E,M,w)}},preDestroy:function(){var g=this.renderer;g.off(v.RESTORE_WEBGL,this.onContextRestored,this),g.deleteProgram(this.program),g.deleteBuffer(this.vertexBuffer),this.renderToTexture&&(g.deleteFramebuffer(this.framebuffer),this.texture.destroy(),this.framebuffer=null,this.glTexture=null,this.texture=null),u(this.uniforms,function(m){g.deleteUniformLocation(m.uniformLocation),m.uniformLocation=null})}});r.exports=p},80464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};r.exports=C},54935:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(20071);x.register("shader",function(a,n){a===void 0&&(a={});var d=f(a,"key",null),c=f(a,"x",0),u=f(a,"y",0),v=f(a,"width",128),p=f(a,"height",128),g=new l(this.scene,d,c,u,v,p);return n!==void 0&&(a.add=n),h(this.scene,g,a),g})},74177:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20071),x=i(39429);x.register("shader",function(f,l,a,n,d,c,u){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u))})},25479:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(19257),f=i(80464),r.exports={renderWebGL:x,renderCanvas:f}},19257:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=function(f,l,a,n){if(l.shader){if(a.addToRenderList(l),f.pipelines.clear(),l.renderToTexture)l.load(),l.flush();else{var d=h(l,a,n).calc;(f.width!==l._rendererWidth||f.height!==l._rendererHeight)&&l.projOrtho(0,f.width,f.height,0),l.load(d.matrix),l.flush()}f.pipelines.rebind()}};r.exports=x},10441:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),x=function(f,l,a,n,d,c){for(var u=h.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*n),v=a.pathData,p=a.pathIndexes,g=0;g<p.length;g+=3){var m=p[g]*2,T=p[g+1]*2,P=p[g+2]*2,E=v[m+0]-d,M=v[m+1]-c,w=v[T+0]-d,R=v[T+1]-c,A=v[P+0]-d,O=v[P+1]-c,F=l.getX(E,M),L=l.getY(E,M),b=l.getX(w,R),D=l.getY(w,R),I=l.getX(A,O),k=l.getY(A,O);f.batchTri(a,F,L,b,D,I,k,0,0,1,1,u,u,u,2)}};r.exports=x},65960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=x||h.fillColor,a=f||h.fillAlpha,n=(l&16711680)>>>16,d=(l&65280)>>>8,c=l&255;i.fillStyle="rgba("+n+","+d+","+c+","+a+")"};r.exports=C},75177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=x||h.strokeColor,a=f||h.strokeAlpha,n=(l&16711680)>>>16,d=(l&65280)>>>8,c=l&255;i.strokeStyle="rgba("+n+","+d+","+c+","+a+")",i.lineWidth=h.lineWidth};r.exports=C},17803:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(95643),l=i(23031),a=new h({Extends:f,Mixins:[x.AlphaSingle,x.BlendMode,x.Depth,x.GetBounds,x.Mask,x.Origin,x.Pipeline,x.PostPipeline,x.ScrollFactor,x.Transform,x.Visible],initialize:function(d,c,u){c===void 0&&(c="Shape"),f.call(this,d,c),this.geom=u,this.pathData=[],this.pathIndexes=[],this.fillColor=16777215,this.fillAlpha=1,this.strokeColor=16777215,this.strokeAlpha=1,this.lineWidth=1,this.isFilled=!1,this.isStroked=!1,this.closePath=!0,this._tempLine=new l,this.width=0,this.height=0,this.initPipeline(),this.initPostPipeline()},setFillStyle:function(n,d){return d===void 0&&(d=1),n===void 0?this.isFilled=!1:(this.fillColor=n,this.fillAlpha=d,this.isFilled=!0),this},setStrokeStyle:function(n,d,c){return c===void 0&&(c=1),n===void 0?this.isStroked=!1:(this.lineWidth=n,this.strokeColor=d,this.strokeAlpha=c,this.isStroked=!0),this},setClosePath:function(n){return this.closePath=n,this},setSize:function(n,d){return this.width=n,this.height=d,this},setDisplaySize:function(n,d){return this.displayWidth=n,this.displayHeight=d,this},preDestroy:function(){this.geom=null,this._tempLine=null,this.pathData=[],this.pathIndexes=[]},displayWidth:{get:function(){return this.scaleX*this.width},set:function(n){this.scaleX=n/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(n){this.scaleY=n/this.height}}});r.exports=a},34682:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),x=function(f,l,a,n,d){var c=f.strokeTint,u=h.getTintAppendFloatAlpha(l.strokeColor,l.strokeAlpha*a);c.TL=u,c.TR=u,c.BL=u,c.BR=u;var v=l.pathData,p=v.length-1,g=l.lineWidth,m=g/2,T=v[0]-n,P=v[1]-d;l.closePath||(p-=2);for(var E=2;E<p;E+=2){var M=v[E]-n,w=v[E+1]-d;f.batchLine(T,P,M,w,m,m,g,E-2,l.closePath?E===p-1:!1),T=M,P=w}};r.exports=x},23629:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13609),x=i(83419),f=i(39506),l=i(94811),a=i(96503),n=i(36383),d=i(17803),c=new x({Extends:d,Mixins:[h],initialize:function(v,p,g,m,T,P,E,M,w){p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=128),T===void 0&&(T=0),P===void 0&&(P=360),E===void 0&&(E=!1),d.call(this,v,"Arc",new a(0,0,m)),this._startAngle=T,this._endAngle=P,this._anticlockwise=E,this._iterations=.01,this.setPosition(p,g);var R=this.geom.radius*2;this.setSize(R,R),M!==void 0&&this.setFillStyle(M,w),this.updateDisplayOrigin(),this.updateData()},iterations:{get:function(){return this._iterations},set:function(u){this._iterations=u,this.updateData()}},radius:{get:function(){return this.geom.radius},set:function(u){this.geom.radius=u;var v=u*2;this.setSize(v,v),this.updateDisplayOrigin(),this.updateData()}},startAngle:{get:function(){return this._startAngle},set:function(u){this._startAngle=u,this.updateData()}},endAngle:{get:function(){return this._endAngle},set:function(u){this._endAngle=u,this.updateData()}},anticlockwise:{get:function(){return this._anticlockwise},set:function(u){this._anticlockwise=u,this.updateData()}},setRadius:function(u){return this.radius=u,this},setIterations:function(u){return u===void 0&&(u=.01),this.iterations=u,this},setStartAngle:function(u,v){return this._startAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},setEndAngle:function(u,v){return this._endAngle=u,v!==void 0&&(this._anticlockwise=v),this.updateData()},updateData:function(){var u=this._iterations,v=u,p=this.geom.radius,g=f(this._startAngle),m=f(this._endAngle),T=this._anticlockwise,P=p,E=p;m-=g,T?m<-n.PI2?m=-n.PI2:m>0&&(m=-n.PI2+m%n.PI2):m>n.PI2?m=n.PI2:m<0&&(m=n.PI2+m%n.PI2);for(var M=[P+Math.cos(g)*p,E+Math.sin(g)*p],w;v<1;)w=m*v+g,M.push(P+Math.cos(w)*p,E+Math.sin(w)*p),v+=u;return w=m+g,M.push(P+Math.cos(w)*p,E+Math.sin(w)*p),M.push(P+Math.cos(g)*p,E+Math.sin(g)*p),this.pathIndexes=l(M),this.pathData=M,this}});r.exports=c},42542:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39506),x=i(65960),f=i(75177),l=i(20926),a=function(n,d,c,u){c.addToRenderList(d);var v=n.currentContext;if(l(n,v,d,c,u)){var p=d.radius;v.beginPath(),v.arc(p-d.originX*(p*2),p-d.originY*(p*2),p,h(d._startAngle),h(d._endAngle),d.anticlockwise),d.closePath&&v.closePath(),d.isFilled&&(x(v,d),v.fill()),d.isStroked&&(f(v,d),v.stroke()),v.restore()}};r.exports=a},42563:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23629),x=i(39429);x.register("arc",function(f,l,a,n,d,c,u,v){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u,v))}),x.register("circle",function(f,l,a,n,d){return this.displayList.add(new h(this.scene,f,l,a,0,360,!1,n,d))})},13609:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(41447),f=i(42542),r.exports={renderWebGL:x,renderCanvas:f}},41447:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(10441),f=i(34682),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=h(n,d,c),p=u.calcMatrix.copyFrom(v.calc),g=n._displayOriginX,m=n._displayOriginY,T=d.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&x(u,p,n,T,g,m),n.isStroked&&f(u,n,T,g,m),a.pipelines.postBatch(n)};r.exports=l},89:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(33141),f=i(94811),l=i(87841),a=i(17803),n=new h({Extends:a,Mixins:[x],initialize:function(c,u,v,p,g,m){u===void 0&&(u=0),v===void 0&&(v=0),a.call(this,c,"Curve",p),this._smoothness=32,this._curveBounds=new l,this.closePath=!1,this.setPosition(u,v),g!==void 0&&this.setFillStyle(g,m),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){var d=this._curveBounds,c=this._smoothness;this.geom.getBounds(d,c),this.setSize(d.width,d.height),this.updateDisplayOrigin();for(var u=[],v=this.geom.getPoints(c),p=0;p<v.length;p++)u.push(v[p].x,v[p].y);return u.push(v[0].x,v[0].y),this.pathIndexes=f(u),this.pathData=u,this}});r.exports=n},3170:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=n._displayOriginX+n._curveBounds.x,p=n._displayOriginY+n._curveBounds.y,g=n.pathData,m=g.length-1,T=g[0]-v,P=g[1]-p;u.beginPath(),u.moveTo(T,P),n.closePath||(m-=2);for(var E=2;E<m;E+=2){var M=g[E]-v,w=g[E+1]-p;u.lineTo(M,w)}n.closePath&&u.closePath(),n.isFilled&&(h(u,n),u.fill()),n.isStroked&&(x(u,n),u.stroke()),u.restore()}};r.exports=l},40511:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(89);h.register("curve",function(f,l,a,n,d){return this.displayList.add(new x(this.scene,f,l,a,n,d))})},33141:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(53987),f=i(3170),r.exports={renderWebGL:x,renderCanvas:f}},53987:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),x=i(91296),f=i(34682),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=x(n,d,c),p=u.calcMatrix.copyFrom(v.calc),g=n._displayOriginX+n._curveBounds.x,m=n._displayOriginY+n._curveBounds.y,T=d.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&h(u,p,n,T,g,m),n.isStroked&&f(u,n,T,g,m),a.pipelines.postBatch(n)};r.exports=l},19921:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(94811),f=i(54205),l=i(8497),a=i(17803),n=new h({Extends:a,Mixins:[f],initialize:function(c,u,v,p,g,m,T){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=128),g===void 0&&(g=128),a.call(this,c,"Ellipse",new l(p/2,g/2,p,g)),this._smoothness=64,this.setPosition(u,v),this.width=p,this.height=g,m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},smoothness:{get:function(){return this._smoothness},set:function(d){this._smoothness=d,this.updateData()}},setSize:function(d,c){return this.width=d,this.height=c,this.geom.setPosition(d/2,c/2),this.geom.setSize(d,c),this.updateDisplayOrigin(),this.updateData()},setSmoothness:function(d){return this._smoothness=d,this.updateData()},updateData:function(){for(var d=[],c=this.geom.getPoints(this._smoothness),u=0;u<c.length;u++)d.push(c[u].x,c[u].y);return d.push(c[0].x,c[0].y),this.pathIndexes=x(d),this.pathData=d,this}});r.exports=n},7930:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=n._displayOriginX,p=n._displayOriginY,g=n.pathData,m=g.length-1,T=g[0]-v,P=g[1]-p;u.beginPath(),u.moveTo(T,P),n.closePath||(m-=2);for(var E=2;E<m;E+=2){var M=g[E]-v,w=g[E+1]-p;u.lineTo(M,w)}u.closePath(),n.isFilled&&(h(u,n),u.fill()),n.isStroked&&(x(u,n),u.stroke()),u.restore()}};r.exports=l},1543:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19921),x=i(39429);x.register("ellipse",function(f,l,a,n,d,c){return this.displayList.add(new h(this.scene,f,l,a,n,d,c))})},54205:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(19467),f=i(7930),r.exports={renderWebGL:x,renderCanvas:f}},19467:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),x=i(91296),f=i(34682),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=x(n,d,c),p=u.calcMatrix.copyFrom(v.calc),g=n._displayOriginX,m=n._displayOriginY,T=d.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&h(u,p,n,T,g,m),n.isStroked&&f(u,n,T,g,m),a.pipelines.postBatch(n)};r.exports=l},30479:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(17803),f=i(26015),l=new h({Extends:x,Mixins:[f],initialize:function(n,d,c,u,v,p,g,m,T,P,E){d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=128),v===void 0&&(v=128),p===void 0&&(p=32),g===void 0&&(g=32),x.call(this,n,"Grid",null),this.cellWidth=p,this.cellHeight=g,this.showCells=!0,this.outlineFillColor=0,this.outlineFillAlpha=0,this.showOutline=!0,this.showAltCells=!1,this.altFillColor,this.altFillAlpha,this.setPosition(d,c),this.setSize(u,v),this.setFillStyle(m,T),P!==void 0&&this.setOutlineStyle(P,E),this.updateDisplayOrigin()},setFillStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showCells=!1:(this.fillColor=a,this.fillAlpha=n,this.showCells=!0),this},setAltFillStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showAltCells=!1:(this.altFillColor=a,this.altFillAlpha=n,this.showAltCells=!0),this},setOutlineStyle:function(a,n){return n===void 0&&(n=1),a===void 0?this.showOutline=!1:(this.outlineFillColor=a,this.outlineFillAlpha=n,this.showOutline=!0),this}});r.exports=l},49912:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=-n._displayOriginX,p=-n._displayOriginY,g=d.alpha*n.alpha,m=n.width,T=n.height,P=n.cellWidth,E=n.cellHeight,M=Math.ceil(m/P),w=Math.ceil(T/E),R=P,A=E,O=P-(M*P-m),F=E-(w*E-T),L=n.showCells,b=n.showAltCells,D=n.showOutline,I=0,k=0,X=0,W=0,Y=0;if(D&&(R--,A--,O===P&&O--,F===E&&F--),L&&n.fillAlpha>0)for(h(u,n),k=0;k<w;k++)for(b&&(X=k%2),I=0;I<M;I++){if(b&&X){X=0;continue}X++,W=I<M-1?R:O,Y=k<w-1?A:F,u.fillRect(v+I*P,p+k*E,W,Y)}if(b&&n.altFillAlpha>0)for(h(u,n,n.altFillColor,n.altFillAlpha*g),k=0;k<w;k++)for(b&&(X=k%2),I=0;I<M;I++){if(b&&!X){X=1;continue}X=0,W=I<M-1?R:O,Y=k<w-1?A:F,u.fillRect(v+I*P,p+k*E,W,Y)}if(D&&n.outlineFillAlpha>0){for(x(u,n,n.outlineFillColor,n.outlineFillAlpha*g),I=1;I<M;I++){var N=I*P;u.beginPath(),u.moveTo(N+v,p),u.lineTo(N+v,T+p),u.stroke()}for(k=1;k<w;k++){var V=k*E;u.beginPath(),u.moveTo(v,V+p),u.lineTo(v+m,V+p),u.stroke()}}u.restore()}};r.exports=l},34137:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(30479);h.register("grid",function(f,l,a,n,d,c,u,v,p,g){return this.displayList.add(new x(this.scene,f,l,a,n,d,c,u,v,p,g))})},26015:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(46161),f=i(49912),r.exports={renderWebGL:x,renderCanvas:f}},46161:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(70554),f=function(l,a,n,d){n.addToRenderList(a);var c=l.pipelines.set(a.pipeline),u=h(a,n,d),v=c.calcMatrix.copyFrom(u.calc);v.translate(-a._displayOriginX,-a._displayOriginY);var p=n.alpha*a.alpha,g=a.width,m=a.height,T=a.cellWidth,P=a.cellHeight,E=Math.ceil(g/T),M=Math.ceil(m/P),w=T,R=P,A=T-(E*T-g),O=P-(M*P-m),F,L,b=a.showCells,D=a.showAltCells,I=a.showOutline,k=0,X=0,W=0,Y=0,N=0;if(I&&(w--,R--,A===T&&A--,O===P&&O--),l.pipelines.preBatch(a),b&&a.fillAlpha>0)for(F=c.fillTint,L=x.getTintAppendFloatAlpha(a.fillColor,a.fillAlpha*p),F.TL=L,F.TR=L,F.BL=L,F.BR=L,X=0;X<M;X++)for(D&&(W=X%2),k=0;k<E;k++){if(D&&W){W=0;continue}W++,Y=k<E-1?w:A,N=X<M-1?R:O,c.batchFillRect(k*T,X*P,Y,N)}if(D&&a.altFillAlpha>0)for(F=c.fillTint,L=x.getTintAppendFloatAlpha(a.altFillColor,a.altFillAlpha*p),F.TL=L,F.TR=L,F.BL=L,F.BR=L,X=0;X<M;X++)for(D&&(W=X%2),k=0;k<E;k++){if(D&&!W){W=1;continue}W=0,Y=k<E-1?w:A,N=X<M-1?R:O,c.batchFillRect(k*T,X*P,Y,N)}if(I&&a.outlineFillAlpha>0){var V=c.strokeTint,G=x.getTintAppendFloatAlpha(a.outlineFillColor,a.outlineFillAlpha*p);for(V.TL=G,V.TR=G,V.BL=G,V.BR=G,k=1;k<E;k++){var B=k*T;c.batchLine(B,0,B,m,1,1,1,0,!1)}for(X=1;X<M;X++){var z=X*P;c.batchLine(0,z,g,z,1,1,1,0,!1)}}l.pipelines.postBatch(a)};r.exports=f},61475:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99651),x=i(83419),f=i(17803),l=new x({Extends:f,Mixins:[h],initialize:function(n,d,c,u,v,p,g,m){d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),p===void 0&&(p=15658734),g===void 0&&(g=10066329),m===void 0&&(m=13421772),f.call(this,n,"IsoBox",null),this.projection=4,this.fillTop=p,this.fillLeft=g,this.fillRight=m,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isFilled=!0,this.setPosition(d,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setFaces:function(a,n,d){return a===void 0&&(a=!0),n===void 0&&(n=!0),d===void 0&&(d=!0),this.showTop=a,this.showLeft=n,this.showRight=d,this},setFillStyle:function(a,n,d){return this.fillTop=a,this.fillLeft=n,this.fillRight=d,this.isFilled=!0,this}});r.exports=l},11508:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(20926),f=function(l,a,n,d){n.addToRenderList(a);var c=l.currentContext;if(x(l,c,a,n,d)&&a.isFilled){var u=a.width,v=a.height,p=u/2,g=u/a.projection;a.showTop&&(h(c,a,a.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-g-v),c.lineTo(p,-v),c.lineTo(p,-1),c.lineTo(0,g-1),c.lineTo(-p,-1),c.lineTo(-p,-v),c.fill()),a.showLeft&&(h(c,a,a.fillLeft),c.beginPath(),c.moveTo(-p,0),c.lineTo(0,g),c.lineTo(0,g-v),c.lineTo(-p,-v),c.lineTo(-p,0),c.fill()),a.showRight&&(h(c,a,a.fillRight),c.beginPath(),c.moveTo(p,0),c.lineTo(0,g),c.lineTo(0,g-v),c.lineTo(p,-v),c.lineTo(p,0),c.fill()),c.restore()}};r.exports=f},3933:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(61475);h.register("isobox",function(f,l,a,n,d,c,u){return this.displayList.add(new x(this.scene,f,l,a,n,d,c,u))})},99651:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(68149),f=i(11508),r.exports={renderWebGL:x,renderCanvas:f}},68149:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(70554),f=function(l,a,n,d){n.addToRenderList(a);var c=l.pipelines.set(a.pipeline),u=h(a,n,d),v=c.calcMatrix.copyFrom(u.calc),p=a.width,g=a.height,m=p/2,T=p/a.projection,P=n.alpha*a.alpha;if(a.isFilled){var E,M,w,R,A,O,F,L,b;l.pipelines.preBatch(a),a.showTop&&(E=x.getTintAppendFloatAlpha(a.fillTop,P),M=v.getX(-m,-g),w=v.getY(-m,-g),R=v.getX(0,-T-g),A=v.getY(0,-T-g),O=v.getX(m,-g),F=v.getY(m,-g),L=v.getX(0,T-g),b=v.getY(0,T-g),c.batchQuad(a,M,w,R,A,O,F,L,b,0,0,1,1,E,E,E,E,2)),a.showLeft&&(E=x.getTintAppendFloatAlpha(a.fillLeft,P),M=v.getX(-m,0),w=v.getY(-m,0),R=v.getX(0,T),A=v.getY(0,T),O=v.getX(0,T-g),F=v.getY(0,T-g),L=v.getX(-m,-g),b=v.getY(-m,-g),c.batchQuad(a,M,w,R,A,O,F,L,b,0,0,1,1,E,E,E,E,2)),a.showRight&&(E=x.getTintAppendFloatAlpha(a.fillRight,P),M=v.getX(m,0),w=v.getY(m,0),R=v.getX(0,T),A=v.getY(0,T),O=v.getX(0,T-g),F=v.getY(0,T-g),L=v.getX(m,-g),b=v.getY(m,-g),c.batchQuad(a,M,w,R,A,O,F,L,b,0,0,1,1,E,E,E,E,2)),l.pipelines.postBatch(a)}};r.exports=f},16933:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(60561),f=i(17803),l=new h({Extends:f,Mixins:[x],initialize:function(n,d,c,u,v,p,g,m,T){d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u=48),v===void 0&&(v=32),p===void 0&&(p=!1),g===void 0&&(g=15658734),m===void 0&&(m=10066329),T===void 0&&(T=13421772),f.call(this,n,"IsoTriangle",null),this.projection=4,this.fillTop=g,this.fillLeft=m,this.fillRight=T,this.showTop=!0,this.showLeft=!0,this.showRight=!0,this.isReversed=p,this.isFilled=!0,this.setPosition(d,c),this.setSize(u,v),this.updateDisplayOrigin()},setProjection:function(a){return this.projection=a,this},setReversed:function(a){return this.isReversed=a,this},setFaces:function(a,n,d){return a===void 0&&(a=!0),n===void 0&&(n=!0),d===void 0&&(d=!0),this.showTop=a,this.showLeft=n,this.showRight=d,this},setFillStyle:function(a,n,d){return this.fillTop=a,this.fillLeft=n,this.fillRight=d,this.isFilled=!0,this}});r.exports=l},79590:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(20926),f=function(l,a,n,d){n.addToRenderList(a);var c=l.currentContext;if(x(l,c,a,n,d)&&a.isFilled){var u=a.width,v=a.height,p=u/2,g=u/a.projection,m=a.isReversed;a.showTop&&m&&(h(c,a,a.fillTop),c.beginPath(),c.moveTo(-p,-v),c.lineTo(0,-g-v),c.lineTo(p,-v),c.lineTo(0,g-v),c.fill()),a.showLeft&&(h(c,a,a.fillLeft),c.beginPath(),m?(c.moveTo(-p,-v),c.lineTo(0,g),c.lineTo(0,g-v)):(c.moveTo(-p,0),c.lineTo(0,g),c.lineTo(0,g-v)),c.fill()),a.showRight&&(h(c,a,a.fillRight),c.beginPath(),m?(c.moveTo(p,-v),c.lineTo(0,g),c.lineTo(0,g-v)):(c.moveTo(p,0),c.lineTo(0,g),c.lineTo(0,g-v)),c.fill()),c.restore()}};r.exports=f},49803:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(16933);h.register("isotriangle",function(f,l,a,n,d,c,u,v){return this.displayList.add(new x(this.scene,f,l,a,n,d,c,u,v))})},60561:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(51503),f=i(79590),r.exports={renderWebGL:x,renderCanvas:f}},51503:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(70554),f=function(l,a,n,d){n.addToRenderList(a);var c=l.pipelines.set(a.pipeline),u=h(a,n,d),v=c.calcMatrix.copyFrom(u.calc),p=a.width,g=a.height,m=p/2,T=p/a.projection,P=a.isReversed,E=n.alpha*a.alpha;if(a.isFilled){l.pipelines.preBatch(a);var M,w,R,A,O,F,L;if(a.showTop&&P){M=x.getTintAppendFloatAlpha(a.fillTop,E),w=v.getX(-m,-g),R=v.getY(-m,-g),A=v.getX(0,-T-g),O=v.getY(0,-T-g),F=v.getX(m,-g),L=v.getY(m,-g);var b=v.getX(0,T-g),D=v.getY(0,T-g);c.batchQuad(a,w,R,A,O,F,L,b,D,0,0,1,1,M,M,M,M,2)}a.showLeft&&(M=x.getTintAppendFloatAlpha(a.fillLeft,E),P?(w=v.getX(-m,-g),R=v.getY(-m,-g),A=v.getX(0,T),O=v.getY(0,T),F=v.getX(0,T-g),L=v.getY(0,T-g)):(w=v.getX(-m,0),R=v.getY(-m,0),A=v.getX(0,T),O=v.getY(0,T),F=v.getX(0,T-g),L=v.getY(0,T-g)),c.batchTri(a,w,R,A,O,F,L,0,0,1,1,M,M,M,2)),a.showRight&&(M=x.getTintAppendFloatAlpha(a.fillRight,E),P?(w=v.getX(m,-g),R=v.getY(m,-g),A=v.getX(0,T),O=v.getY(0,T),F=v.getX(0,T-g),L=v.getY(0,T-g)):(w=v.getX(m,0),R=v.getY(m,0),A=v.getX(0,T),O=v.getY(0,T),F=v.getX(0,T-g),L=v.getY(0,T-g)),c.batchTri(a,w,R,A,O,F,L,0,0,1,1,M,M,M,2)),l.pipelines.postBatch(a)}};r.exports=f},57847:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(17803),f=i(23031),l=i(36823),a=new h({Extends:x,Mixins:[l],initialize:function(d,c,u,v,p,g,m,T,P){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=128),m===void 0&&(m=0),x.call(this,d,"Line",new f(v,p,g,m));var E=Math.max(1,this.geom.right-this.geom.left),M=Math.max(1,this.geom.bottom-this.geom.top);this.lineWidth=1,this._startWidth=1,this._endWidth=1,this.setPosition(c,u),this.setSize(E,M),T!==void 0&&this.setStrokeStyle(1,T,P),this.updateDisplayOrigin()},setLineWidth:function(n,d){return d===void 0&&(d=n),this._startWidth=n,this._endWidth=d,this.lineWidth=n,this},setTo:function(n,d,c,u){return this.geom.setTo(n,d,c,u),this}});r.exports=a},17440:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(75177),x=i(20926),f=function(l,a,n,d){n.addToRenderList(a);var c=l.currentContext;if(x(l,c,a,n,d)){var u=a._displayOriginX,v=a._displayOriginY;a.isStroked&&(h(c,a),c.beginPath(),c.moveTo(a.geom.x1-u,a.geom.y1-v),c.lineTo(a.geom.x2-u,a.geom.y2-v),c.stroke()),c.restore()}};r.exports=f},2481:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(57847);h.register("line",function(f,l,a,n,d,c,u,v){return this.displayList.add(new x(this.scene,f,l,a,n,d,c,u,v))})},36823:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(77385),f=i(17440),r.exports={renderWebGL:x,renderCanvas:f}},77385:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(70554),f=function(l,a,n,d){n.addToRenderList(a);var c=l.pipelines.set(a.pipeline),u=h(a,n,d);c.calcMatrix.copyFrom(u.calc);var v=a._displayOriginX,p=a._displayOriginY,g=n.alpha*a.alpha;if(l.pipelines.preBatch(a),a.isStroked){var m=c.strokeTint,T=x.getTintAppendFloatAlpha(a.strokeColor,a.strokeAlpha*g);m.TL=T,m.TR=T,m.BL=T,m.BR=T,c.batchLine(a.geom.x1-v,a.geom.y1-p,a.geom.x2-v,a.geom.y2-p,a._startWidth/2,a._endWidth/2,1,0,!1,u.sprite,u.camera)}l.pipelines.postBatch(a)};r.exports=f},24949:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(90273),x=i(83419),f=i(94811),l=i(13829),a=i(25717),n=i(17803),d=i(5469),c=new x({Extends:n,Mixins:[h],initialize:function(v,p,g,m,T,P){p===void 0&&(p=0),g===void 0&&(g=0),n.call(this,v,"Polygon",new a(m));var E=l(this.geom);this.setPosition(p,g),this.setSize(E.width,E.height),T!==void 0&&this.setFillStyle(T,P),this.updateDisplayOrigin(),this.updateData()},smooth:function(u){u===void 0&&(u=1);for(var v=0;v<u;v++)d(this.geom);return this.updateData()},setTo:function(u){this.geom.setTo(u);var v=l(this.geom);return this.setSize(v.width,v.height),this.updateDisplayOrigin(),this.updateData()},updateData:function(){for(var u=[],v=this.geom.points,p=0;p<v.length;p++)u.push(v[p].x,v[p].y);return u.push(v[0].x,v[0].y),this.pathIndexes=f(u),this.pathData=u,this}});r.exports=c},38710:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=n._displayOriginX,p=n._displayOriginY,g=n.pathData,m=g.length-1,T=g[0]-v,P=g[1]-p;u.beginPath(),u.moveTo(T,P),n.closePath||(m-=2);for(var E=2;E<m;E+=2){var M=g[E]-v,w=g[E+1]-p;u.lineTo(M,w)}n.closePath&&u.closePath(),n.isFilled&&(h(u,n),u.fill()),n.isStroked&&(x(u,n),u.stroke()),u.restore()}};r.exports=l},64827:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(24949);h.register("polygon",function(f,l,a,n,d){return this.displayList.add(new x(this.scene,f,l,a,n,d))})},90273:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(73695),f=i(38710),r.exports={renderWebGL:x,renderCanvas:f}},73695:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),x=i(91296),f=i(34682),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=x(n,d,c),p=u.calcMatrix.copyFrom(v.calc),g=n._displayOriginX,m=n._displayOriginY,T=d.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&h(u,p,n,T,g,m),n.isStroked&&f(u,n,T,g,m),a.pipelines.postBatch(n)};r.exports=l},74561:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(87841),f=i(17803),l=i(95597),a=new h({Extends:f,Mixins:[l],initialize:function(d,c,u,v,p,g,m){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=128),p===void 0&&(p=128),f.call(this,d,"Rectangle",new x(0,0,v,p)),this.setPosition(c,u),this.setSize(v,p),g!==void 0&&this.setFillStyle(g,m),this.updateDisplayOrigin(),this.updateData()},setSize:function(n,d){this.width=n,this.height=d,this.geom.setSize(n,d),this.updateData(),this.updateDisplayOrigin();var c=this.input;return c&&!c.customHitArea&&(c.hitArea.width=n,c.hitArea.height=d),this},updateData:function(){var n=[],d=this.geom,c=this._tempLine;return d.getLineA(c),n.push(c.x1,c.y1,c.x2,c.y2),d.getLineB(c),n.push(c.x2,c.y2),d.getLineC(c),n.push(c.x2,c.y2),d.getLineD(c),n.push(c.x2,c.y2),this.pathData=n,this}});r.exports=a},48682:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=n._displayOriginX,p=n._displayOriginY;n.isFilled&&(h(u,n),u.fillRect(-v,-p,n.width,n.height)),n.isStroked&&(x(u,n),u.beginPath(),u.rect(-v,-p,n.width,n.height),u.stroke()),u.restore()}};r.exports=l},87959:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(74561);h.register("rectangle",function(f,l,a,n,d,c){return this.displayList.add(new x(this.scene,f,l,a,n,d,c))})},95597:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(52059),f=i(48682),r.exports={renderWebGL:x,renderCanvas:f}},52059:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(34682),f=i(70554),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=h(n,d,c);u.calcMatrix.copyFrom(v.calc);var p=n._displayOriginX,g=n._displayOriginY,m=d.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isFilled){var T=u.fillTint,P=f.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m);T.TL=P,T.TR=P,T.BL=P,T.BR=P,u.batchFillRect(-p,-g,n.width,n.height)}n.isStroked&&x(u,n,m,p,g),a.pipelines.postBatch(n)};r.exports=l},55911:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81991),x=i(83419),f=i(94811),l=i(17803),a=new x({Extends:l,Mixins:[h],initialize:function(d,c,u,v,p,g,m,T){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=5),p===void 0&&(p=32),g===void 0&&(g=64),l.call(this,d,"Star",null),this._points=v,this._innerRadius=p,this._outerRadius=g,this.setPosition(c,u),this.setSize(g*2,g*2),m!==void 0&&this.setFillStyle(m,T),this.updateDisplayOrigin(),this.updateData()},setPoints:function(n){return this._points=n,this.updateData()},setInnerRadius:function(n){return this._innerRadius=n,this.updateData()},setOuterRadius:function(n){return this._outerRadius=n,this.updateData()},points:{get:function(){return this._points},set:function(n){this._points=n,this.updateData()}},innerRadius:{get:function(){return this._innerRadius},set:function(n){this._innerRadius=n,this.updateData()}},outerRadius:{get:function(){return this._outerRadius},set:function(n){this._outerRadius=n,this.updateData()}},updateData:function(){var n=[],d=this._points,c=this._innerRadius,u=this._outerRadius,v=Math.PI/2*3,p=Math.PI/d,g=u,m=u;n.push(g,m+-u);for(var T=0;T<d;T++)n.push(g+Math.cos(v)*u,m+Math.sin(v)*u),v+=p,n.push(g+Math.cos(v)*c,m+Math.sin(v)*c),v+=p;return n.push(g,m+-u),this.pathIndexes=f(n),this.pathData=n,this}});r.exports=a},64272:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=n._displayOriginX,p=n._displayOriginY,g=n.pathData,m=g.length-1,T=g[0]-v,P=g[1]-p;u.beginPath(),u.moveTo(T,P),n.closePath||(m-=2);for(var E=2;E<m;E+=2){var M=g[E]-v,w=g[E+1]-p;u.lineTo(M,w)}u.closePath(),n.isFilled&&(h(u,n),u.fill()),n.isStroked&&(x(u,n),u.stroke()),u.restore()}};r.exports=l},93697:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(55911),x=i(39429);x.register("star",function(f,l,a,n,d,c,u){return this.displayList.add(new h(this.scene,f,l,a,n,d,c,u))})},81991:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(57017),f=i(64272),r.exports={renderWebGL:x,renderCanvas:f}},57017:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10441),x=i(91296),f=i(34682),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=x(n,d,c),p=u.calcMatrix.copyFrom(v.calc),g=n._displayOriginX,m=n._displayOriginY,T=d.alpha*n.alpha;a.pipelines.preBatch(n),n.isFilled&&h(u,p,n,T,g,m),n.isStroked&&f(u,n,T,g,m),a.pipelines.postBatch(n)};r.exports=l},36931:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(17803),f=i(16483),l=i(96195),a=new h({Extends:x,Mixins:[l],initialize:function(d,c,u,v,p,g,m,T,P,E,M){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=128),g===void 0&&(g=64),m===void 0&&(m=0),T===void 0&&(T=128),P===void 0&&(P=128),x.call(this,d,"Triangle",new f(v,p,g,m,T,P));var w=this.geom.right-this.geom.left,R=this.geom.bottom-this.geom.top;this.setPosition(c,u),this.setSize(w,R),E!==void 0&&this.setFillStyle(E,M),this.updateDisplayOrigin(),this.updateData()},setTo:function(n,d,c,u,v,p){return this.geom.setTo(n,d,c,u,v,p),this.updateData()},updateData:function(){var n=[],d=this.geom,c=this._tempLine;return d.getLineA(c),n.push(c.x1,c.y1,c.x2,c.y2),d.getLineB(c),n.push(c.x2,c.y2),d.getLineC(c),n.push(c.x2,c.y2),this.pathData=n,this}});r.exports=a},85172:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(65960),x=i(75177),f=i(20926),l=function(a,n,d,c){d.addToRenderList(n);var u=a.currentContext;if(f(a,u,n,d,c)){var v=n._displayOriginX,p=n._displayOriginY,g=n.geom.x1-v,m=n.geom.y1-p,T=n.geom.x2-v,P=n.geom.y2-p,E=n.geom.x3-v,M=n.geom.y3-p;u.beginPath(),u.moveTo(g,m),u.lineTo(T,P),u.lineTo(E,M),u.closePath(),n.isFilled&&(h(u,n),u.fill()),n.isStroked&&(x(u,n),u.stroke()),u.restore()}};r.exports=l},45245:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(36931);h.register("triangle",function(f,l,a,n,d,c,u,v,p,g){return this.displayList.add(new x(this.scene,f,l,a,n,d,c,u,v,p,g))})},96195:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(83253),f=i(85172),r.exports={renderWebGL:x,renderCanvas:f}},83253:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=i(34682),f=i(70554),l=function(a,n,d,c){d.addToRenderList(n);var u=a.pipelines.set(n.pipeline),v=h(n,d,c);u.calcMatrix.copyFrom(v.calc);var p=n._displayOriginX,g=n._displayOriginY,m=d.alpha*n.alpha;if(a.pipelines.preBatch(n),n.isFilled){var T=u.fillTint,P=f.getTintAppendFloatAlpha(n.fillColor,n.fillAlpha*m);T.TL=P,T.TR=P,T.BL=P,T.BR=P;var E=n.geom.x1-p,M=n.geom.y1-g,w=n.geom.x2-p,R=n.geom.y2-g,A=n.geom.x3-p,O=n.geom.y3-g;u.batchFillTriangle(E,M,w,R,A,O,v.sprite,v.camera)}n.isStroked&&x(u,n,m,p,g),a.pipelines.postBatch(n)};r.exports=l},68287:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),x=i(83419),f=i(31401),l=i(95643),a=i(92751),n=new x({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Size,f.TextureCrop,f.Tint,f.Transform,f.Visible,a],initialize:function(c,u,v,p,g){l.call(this,c,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(p,g),this.setPosition(u,v),this.setSizeToFrame(),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},preUpdate:function(d,c){this.anims.update(d,c)},play:function(d,c){return this.anims.play(d,c)},playReverse:function(d,c){return this.anims.playReverse(d,c)},playAfterDelay:function(d,c){return this.anims.playAfterDelay(d,c)},playAfterRepeat:function(d,c){return this.anims.playAfterRepeat(d,c)},chain:function(d){return this.anims.chain(d)},stop:function(){return this.anims.stop()},stopAfterDelay:function(d){return this.anims.stopAfterDelay(d)},stopAfterRepeat:function(d){return this.anims.stopAfterRepeat(d)},stopOnFrame:function(d){return this.anims.stopOnFrame(d)},toJSON:function(){return f.ToJSON(this)},preDestroy:function(){this.anims.destroy(),this.anims=void 0}});r.exports=n},76552:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x.addToRenderList(h),i.batchSprite(h,h.frame,x,f)};r.exports=C},15567:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(13059),f=i(44603),l=i(23568),a=i(68287);f.register("sprite",function(n,d){n===void 0&&(n={});var c=l(n,"key",null),u=l(n,"frame",null),v=new a(this.scene,0,0,c,u);return d!==void 0&&(n.add=d),h(this.scene,v,n),x(v,n),v})},46409:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(68287);h.register("sprite",function(f,l,a,n){return this.displayList.add(new x(this.scene,f,l,a,n))})},92751:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(9409),f=i(76552),r.exports={renderWebGL:x,renderCanvas:f}},9409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x.addToRenderList(h),h.pipeline.batchSprite(h,x,f)};r.exports=C},14220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=i.canvas,l=i.context,a=i.style,n=[],d=0,c=x.length;a.maxLines>0&&a.maxLines<x.length&&(c=a.maxLines),a.syncFont(f,l);for(var u=i.letterSpacing,v=0;v<c;v++){var p=a.strokeThickness;if(u===0)p+=l.measureText(x[v]).width;else{for(var g=x[v],m=0;m<g.length;m++)p+=l.measureText(g[m]).width;g.length>1&&(p+=u*(g.length-1))}a.wordWrap&&(p-=l.measureText(" ").width),n[v]=Math.ceil(p),d=Math.max(d,n[v])}var T=h.fontSize+a.strokeThickness,P=T*c,E=i.lineSpacing;return c>1&&(P+=E*(c-1)),{width:d,height:P,lines:c,lineWidths:n,lineSpacing:E,lineHeight:T}};r.exports=C},79557:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x=function(f){var l=h.create(this),a=l.getContext("2d",{willReadFrequently:!0});f.syncFont(l,a);var n=a.measureText(f.testString);if("actualBoundingBoxAscent"in n){var d=n.actualBoundingBoxAscent,c=n.actualBoundingBoxDescent;return h.remove(l),{ascent:d,descent:c,fontSize:d+c}}var u=Math.ceil(n.width*f.baselineX),v=u,p=2*v;v=v*f.baselineY|0,l.width=u,l.height=p,a.fillStyle="#f00",a.fillRect(0,0,u,p),a.font=f._font,a.textBaseline="alphabetic",a.fillStyle="#000",a.fillText(f.testString,0,v);var g={ascent:0,descent:0,fontSize:0},m=a.getImageData(0,0,u,p);if(!m)return g.ascent=v,g.descent=v+6,g.fontSize=g.ascent+g.descent,h.remove(l),g;var T=m.data,P=T.length,E=u*4,M,w,R=0,A=!1;for(M=0;M<v;M++){for(w=0;w<E;w+=4)if(T[R+w]!==255){A=!0;break}if(!A)R+=E;else break}for(g.ascent=v-M,R=P-E,A=!1,M=p;M>v;M--){for(w=0;w<E;w+=4)if(T[R+w]!==255){A=!0;break}if(!A)R-=E;else break}return g.descent=M-v,g.fontSize=g.ascent+g.descent,h.remove(l),g};r.exports=x},50171:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(40366),x=i(27919),f=i(83419),l=i(31401),a=i(95643),n=i(14220),d=i(35154),c=i(35846),u=i(61771),v=i(35762),p=i(45650),g=new f({Extends:a,Mixins:[l.Alpha,l.BlendMode,l.ComputedSize,l.Crop,l.Depth,l.Flip,l.GetBounds,l.Mask,l.Origin,l.Pipeline,l.PostPipeline,l.ScrollFactor,l.Tint,l.Transform,l.Visible,u],initialize:function(T,P,E,M,w){P===void 0&&(P=0),E===void 0&&(E=0),a.call(this,T,"Text"),this.renderer=T.sys.renderer,this.setPosition(P,E),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=x.create(this),this.context,this.style=new v(this,w),this.autoRound=!0,this.splitRegExp=/(?:\r\n|\r|\n)/,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.lineSpacing=0,this.letterSpacing=0,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=p(),this.texture=T.sys.textures.addCanvas(this._textureKey,this.canvas),this.context=this.texture.context,this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.initRTL(),this.setText(M),w&&w.padding&&this.setPadding(w.padding),w&&w.lineSpacing&&this.setLineSpacing(w.lineSpacing),w&&w.letterSpacing&&this.setLetterSpacing(w.letterSpacing)},initRTL:function(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas),this.originX=1)},runWordWrap:function(m){var T=this.style;if(T.wordWrapCallback){var P=T.wordWrapCallback.call(T.wordWrapCallbackScope,m,this);return Array.isArray(P)&&(P=P.join(`
`)),P}else return T.wordWrapWidth?T.wordWrapUseAdvanced?this.advancedWordWrap(m,this.context,this.style.wordWrapWidth):this.basicWordWrap(m,this.context,this.style.wordWrapWidth):m},advancedWordWrap:function(m,T,P){for(var E="",M=m.replace(/ +/gi," ").split(this.splitRegExp),w=M.length,R=0;R<w;R++){var A=M[R],O="";A=A.replace(/^ *|\s*$/gi,"");var F=A.length*this.letterSpacing,L=T.measureText(A).width+F;if(L<P){E+=A+`
`;continue}for(var b=P,D=A.split(" "),I=0;I<D.length;I++){var k=D[I],X=k+" ",W=X.length*this.letterSpacing,Y=T.measureText(X).width+W;if(console.log(D.length,k),Y>b){if(I===0){for(var N=X;N.length;){N=N.slice(0,-1);var V=N.length*this.letterSpacing;if(Y=T.measureText(N).width+V,Y<=b)break}if(!N.length)throw new Error("wordWrapWidth < a single character");var G=k.substr(N.length);D[I]=G,O+=N}var B=D[I].length?I:I+1,z=D.slice(B).join(" ").replace(/[ \n]*$/gi,"");M.splice(R+1,0,z),w=M.length;break}else O+=X,b-=Y}E+=O.replace(/[ \n]*$/gi,"")+`
`}return E=E.replace(/[\s|\n]*$/gi,""),E},basicWordWrap:function(m,T,P){for(var E="",M=m.split(this.splitRegExp),w=M.length-1,R=T.measureText(" ").width,A=0;A<=w;A++){for(var O=P,F=M[A].split(" "),L=F.length-1,b=0;b<=L;b++){var D=F[b],I=D.length*this.letterSpacing,k=T.measureText(D).width+I,X=k;b<L&&(X+=R),X>O&&b>0&&(E+=`
`,O=P),E+=D,b<L?(E+=" ",O-=X):O-=k}A<w&&(E+=`
`)}return E},getWrappedText:function(m){m===void 0&&(m=this._text),this.style.syncFont(this.canvas,this.context);var T=this.runWordWrap(m);return T.split(this.splitRegExp)},setText:function(m){return!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m!==this._text&&(this._text=m.toString(),this.updateText()),this},appendText:function(m,T){T===void 0&&(T=!0),!m&&m!==0&&(m=""),Array.isArray(m)&&(m=m.join(`
`)),m=m.toString();var P=this._text.concat(T?`
`+m:m);return P!==this._text&&(this._text=P,this.updateText()),this},setStyle:function(m){return this.style.setStyle(m)},setFont:function(m){return this.style.setFont(m)},setFontFamily:function(m){return this.style.setFontFamily(m)},setFontSize:function(m){return this.style.setFontSize(m)},setFontStyle:function(m){return this.style.setFontStyle(m)},setFixedSize:function(m,T){return this.style.setFixedSize(m,T)},setBackgroundColor:function(m){return this.style.setBackgroundColor(m)},setFill:function(m){return this.style.setFill(m)},setColor:function(m){return this.style.setColor(m)},setStroke:function(m,T){return this.style.setStroke(m,T)},setShadow:function(m,T,P,E,M,w){return this.style.setShadow(m,T,P,E,M,w)},setShadowOffset:function(m,T){return this.style.setShadowOffset(m,T)},setShadowColor:function(m){return this.style.setShadowColor(m)},setShadowBlur:function(m){return this.style.setShadowBlur(m)},setShadowStroke:function(m){return this.style.setShadowStroke(m)},setShadowFill:function(m){return this.style.setShadowFill(m)},setWordWrapWidth:function(m,T){return this.style.setWordWrapWidth(m,T)},setWordWrapCallback:function(m,T){return this.style.setWordWrapCallback(m,T)},setAlign:function(m){return this.style.setAlign(m)},setResolution:function(m){return this.style.setResolution(m)},setLineSpacing:function(m){return this.lineSpacing=m,this.updateText()},setLetterSpacing:function(m){return this.letterSpacing=m,this.updateText()},setPadding:function(m,T,P,E){if(typeof m=="object"){var M=m,w=d(M,"x",null);w!==null?(m=w,P=w):(m=d(M,"left",0),P=d(M,"right",m));var R=d(M,"y",null);R!==null?(T=R,E=R):(T=d(M,"top",0),E=d(M,"bottom",T))}else m===void 0&&(m=0),T===void 0&&(T=m),P===void 0&&(P=m),E===void 0&&(E=T);return this.padding.left=m,this.padding.top=T,this.padding.right=P,this.padding.bottom=E,this.updateText()},setMaxLines:function(m){return this.style.setMaxLines(m)},setRTL:function(m){m===void 0&&(m=!0);var T=this.style;return T.rtl===m?this:(T.rtl=m,m?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",h(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),T.align==="left"?T.align="right":T.align==="right"&&(T.align="left"),this)},updateText:function(){var m=this.canvas,T=this.context,P=this.style,E=P.resolution,M=P.metrics;P.syncFont(m,T);var w=this._text;(P.wordWrapWidth||P.wordWrapCallback)&&(w=this.runWordWrap(this._text));var R=w.split(this.splitRegExp),A=n(this,M,R),O=this.padding,F;P.fixedWidth===0?(this.width=A.width+O.left+O.right,F=A.width):(this.width=P.fixedWidth,F=this.width-O.left-O.right,F<A.width&&(F=A.width)),P.fixedHeight===0?this.height=A.height+O.top+O.bottom:this.height=P.fixedHeight;var L=this.width,b=this.height;this.updateDisplayOrigin(),L*=E,b*=E,L=Math.max(L,1),b=Math.max(b,1),m.width!==L||m.height!==b?(m.width=L,m.height=b,this.frame.setSize(L,b),P.syncFont(m,T),P.rtl&&(T.direction="rtl")):T.clearRect(0,0,L,b),T.save(),T.scale(E,E),P.backgroundColor&&(T.fillStyle=P.backgroundColor,T.fillRect(0,0,L,b)),P.syncStyle(m,T),T.translate(O.left,O.top);for(var D,I,k=0;k<A.lines;k++){if(D=P.strokeThickness/2,I=P.strokeThickness/2+k*A.lineHeight+M.ascent,k>0&&(I+=A.lineSpacing*k),P.rtl)D=L-D-O.left-O.right;else if(P.align==="right")D+=F-A.lineWidths[k];else if(P.align==="center")D+=(F-A.lineWidths[k])/2;else if(P.align==="justify"){var X=.85;if(A.lineWidths[k]/A.width>=X){var W=A.width-A.lineWidths[k],Y=T.measureText(" ").width,N=R[k].trim(),V=N.split(" ");W+=(R[k].length-N.length)*Y;for(var G=Math.floor(W/Y),B=0;G>0;)V[B]+=" ",B=(B+1)%(V.length-1||1),--G;R[k]=V.join(" ")}}this.autoRound&&(D=Math.round(D),I=Math.round(I));var z=this.letterSpacing;if(P.strokeThickness&&z===0&&(P.syncShadow(T,P.shadowStroke),T.strokeText(R[k],D,I)),P.color)if(P.syncShadow(T,P.shadowFill),z!==0)for(var U=0,H=R[k].split(""),$=0;$<H.length;$++)P.strokeThickness&&(P.syncShadow(T,P.shadowStroke),T.strokeText(H[$],D+U,I),P.syncShadow(T,P.shadowFill)),T.fillText(H[$],D+U,I),U+=T.measureText(H[$]).width+z;else T.fillText(R[k],D,I)}T.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(m,this.frame.source.glTexture,!0));var K=this.input;return K&&!K.customHitArea&&(K.hitArea.width=this.width,K.hitArea.height=this.height),this},getTextMetrics:function(){return this.style.getTextMetrics()},text:{get:function(){return this._text},set:function(m){this.setText(m)}},toJSON:function(){var m=l.ToJSON(this),T={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return m.data=T,m},preDestroy:function(){c(this.canvas),x.remove(this.canvas);var m=this.texture;m&&m.destroy()}});r.exports=g},79724:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h.width===0||h.height===0||(x.addToRenderList(h),i.batchSprite(h,h.frame,x,f))};r.exports=C},71259:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(50171);x.register("text",function(a,n){a===void 0&&(a={});var d=f(a,"text",""),c=f(a,"style",null),u=f(a,"padding",null);u!==null&&(c.padding=u);var v=new l(this.scene,0,0,d,c);return n!==void 0&&(a.add=n),h(this.scene,v,a),v.autoRound=f(a,"autoRound",!0),v.resolution=f(a,"resolution",1),v})},68005:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(50171),x=i(39429);x.register("text",function(f,l,a,n){return this.displayList.add(new h(this.scene,f,l,a,n))})},61771:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(34397),f=i(79724),r.exports={renderWebGL:x,renderCanvas:f}},35762:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23568),f=i(35154),l=i(79557),a={fontFamily:["fontFamily","Courier"],fontSize:["fontSize","16px"],fontStyle:["fontStyle",""],backgroundColor:["backgroundColor",null],color:["color","#fff"],stroke:["stroke","#fff"],strokeThickness:["strokeThickness",0],shadowOffsetX:["shadow.offsetX",0],shadowOffsetY:["shadow.offsetY",0],shadowColor:["shadow.color","#000"],shadowBlur:["shadow.blur",0],shadowStroke:["shadow.stroke",!1],shadowFill:["shadow.fill",!1],align:["align","left"],maxLines:["maxLines",0],fixedWidth:["fixedWidth",0],fixedHeight:["fixedHeight",0],resolution:["resolution",0],rtl:["rtl",!1],testString:["testString","|MÃ‰qgy"],baselineX:["baselineX",1.2],baselineY:["baselineY",1.4],wordWrapWidth:["wordWrap.width",null],wordWrapCallback:["wordWrap.callback",null],wordWrapCallbackScope:["wordWrap.callbackScope",null],wordWrapUseAdvanced:["wordWrap.useAdvancedWrap",!1]},n=new h({initialize:function(c,u){this.parent=c,this.fontFamily,this.fontSize,this.fontStyle,this.backgroundColor,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.align,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.rtl,this.testString,this.baselineX,this.baselineY,this.wordWrapWidth,this.wordWrapCallback,this.wordWrapCallbackScope,this.wordWrapUseAdvanced,this._font,this.setStyle(u,!1,!0)},setStyle:function(d,c,u){c===void 0&&(c=!0),u===void 0&&(u=!1);for(var v in a){var p=u?a[v][1]:this[v];v==="wordWrapCallback"||v==="wordWrapCallbackScope"?this[v]=f(d,a[v][0],p):d&&v==="fontSize"&&typeof d.fontSize=="number"?this[v]=d.fontSize.toString()+"px":this[v]=x(d,a[v][0],p)}var g=f(d,"font",null);g!==null&&this.setFont(g,!1),this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim();var m=f(d,"fill",null);m!==null&&(this.color=m);var T=f(d,"metrics",!1);return T?this.metrics={ascent:f(T,"ascent",0),descent:f(T,"descent",0),fontSize:f(T,"fontSize",0)}:(c||!this.metrics)&&(this.metrics=l(this)),c?this.parent.updateText():this.parent},syncFont:function(d,c){c.font=this._font},syncStyle:function(d,c){c.textBaseline="alphabetic",c.fillStyle=this.color,c.strokeStyle=this.stroke,c.lineWidth=this.strokeThickness,c.lineCap="round",c.lineJoin="round"},syncShadow:function(d,c){c?(d.shadowOffsetX=this.shadowOffsetX,d.shadowOffsetY=this.shadowOffsetY,d.shadowColor=this.shadowColor,d.shadowBlur=this.shadowBlur):(d.shadowOffsetX=0,d.shadowOffsetY=0,d.shadowColor=0,d.shadowBlur=0)},update:function(d){return d&&(this._font=[this.fontStyle,this.fontSize,this.fontFamily].join(" ").trim(),this.metrics=l(this)),this.parent.updateText()},setFont:function(d,c){c===void 0&&(c=!0);var u=d,v="",p="";if(typeof d!="string")u=f(d,"fontFamily","Courier"),v=f(d,"fontSize","16px"),p=f(d,"fontStyle","");else{var g=d.split(" "),m=0;p=g.length>2?g[m++]:"",v=g[m++]||"16px",u=g[m++]||"Courier"}return(u!==this.fontFamily||v!==this.fontSize||p!==this.fontStyle)&&(this.fontFamily=u,this.fontSize=v,this.fontStyle=p,c&&this.update(!0)),this.parent},setFontFamily:function(d){return this.fontFamily!==d&&(this.fontFamily=d,this.update(!0)),this.parent},setFontStyle:function(d){return this.fontStyle!==d&&(this.fontStyle=d,this.update(!0)),this.parent},setFontSize:function(d){return typeof d=="number"&&(d=d.toString()+"px"),this.fontSize!==d&&(this.fontSize=d,this.update(!0)),this.parent},setTestString:function(d){return this.testString=d,this.update(!0)},setFixedSize:function(d,c){return this.fixedWidth=d,this.fixedHeight=c,d&&(this.parent.width=d),c&&(this.parent.height=c),this.update(!1)},setBackgroundColor:function(d){return this.backgroundColor=d,this.update(!1)},setFill:function(d){return this.color=d,this.update(!1)},setColor:function(d){return this.color=d,this.update(!1)},setResolution:function(d){return this.resolution=d,this.update(!1)},setStroke:function(d,c){return c===void 0&&(c=this.strokeThickness),d===void 0&&this.strokeThickness!==0?(this.strokeThickness=0,this.update(!0)):(this.stroke!==d||this.strokeThickness!==c)&&(this.stroke=d,this.strokeThickness=c,this.update(!0)),this.parent},setShadow:function(d,c,u,v,p,g){return d===void 0&&(d=0),c===void 0&&(c=0),u===void 0&&(u="#000"),v===void 0&&(v=0),p===void 0&&(p=!1),g===void 0&&(g=!0),this.shadowOffsetX=d,this.shadowOffsetY=c,this.shadowColor=u,this.shadowBlur=v,this.shadowStroke=p,this.shadowFill=g,this.update(!1)},setShadowOffset:function(d,c){return d===void 0&&(d=0),c===void 0&&(c=d),this.shadowOffsetX=d,this.shadowOffsetY=c,this.update(!1)},setShadowColor:function(d){return d===void 0&&(d="#000"),this.shadowColor=d,this.update(!1)},setShadowBlur:function(d){return d===void 0&&(d=0),this.shadowBlur=d,this.update(!1)},setShadowStroke:function(d){return this.shadowStroke=d,this.update(!1)},setShadowFill:function(d){return this.shadowFill=d,this.update(!1)},setWordWrapWidth:function(d,c){return c===void 0&&(c=!1),this.wordWrapWidth=d,this.wordWrapUseAdvanced=c,this.update(!1)},setWordWrapCallback:function(d,c){return c===void 0&&(c=null),this.wordWrapCallback=d,this.wordWrapCallbackScope=c,this.update(!1)},setAlign:function(d){return d===void 0&&(d="left"),this.align=d,this.update(!1)},setMaxLines:function(d){return d===void 0&&(d=0),this.maxLines=d,this.update(!1)},getTextMetrics:function(){var d=this.metrics;return{ascent:d.ascent,descent:d.descent,fontSize:d.fontSize}},toJSON:function(){var d={};for(var c in a)d[c]=this[c];return d.metrics=this.getTextMetrics(),d},destroy:function(){this.parent=void 0}});r.exports=n},34397:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),x=function(f,l,a,n){if(!(l.width===0||l.height===0)){a.addToRenderList(l);var d=l.frame,c=d.width,u=d.height,v=h.getTintAppendFloatAlpha,p=f.pipelines.set(l.pipeline,l),g=p.setTexture2D(d.glTexture,l);p.batchTexture(l,d.glTexture,c,u,l.x,l.y,c/l.style.resolution,u/l.style.resolution,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.displayOriginX,l.displayOriginY,0,0,c,u,v(l.tintTopLeft,a.alpha*l._alphaTL),v(l.tintTopRight,a.alpha*l._alphaTR),v(l.tintBottomLeft,a.alpha*l._alphaBL),v(l.tintBottomRight,a.alpha*l._alphaBR),l.tintFill,0,0,a,n,!1,g)}};r.exports=x},20839:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x=i(83419),f=i(31401),l=i(95643),a=i(98439),n=i(68703),d=i(56295),c=i(45650),u=i(26099),v=8,p=new x({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Crop,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.Tint,f.Transform,f.Visible,d],initialize:function(m,T,P,E,M,w,R){var A=m.sys.renderer;l.call(this,m,"TileSprite");var O=m.sys.textures.get(w),F=O.get(R);F.source.compressionAlgorithm&&(console.warn("TileSprite cannot use compressed texture"),O=m.sys.textures.get("__MISSING"),F=O.get()),O.type==="DynamicTexture"&&(console.warn("TileSprite cannot use Dynamic Texture"),O=m.sys.textures.get("__MISSING"),F=O.get()),!E||!M?(E=E||F.width,M=M||F.height):(E=Math.floor(E),M=Math.floor(M)),this._tilePosition=new u,this._tileScale=new u(1,1),this.dirty=!1,this.renderer=A,this.canvas=h.create(this,E,M),this.context=this.canvas.getContext("2d",{willReadFrequently:!1}),this.displayTexture=O,this.displayFrame=F,this._crop=this.resetCropObject(),this._textureKey=c(),this.texture=m.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.potWidth=a(F.width),this.potHeight=a(F.height),this.fillCanvas=h.create2D(this,this.potWidth,this.potHeight),this.fillContext=this.fillCanvas.getContext("2d",{willReadFrequently:!1}),this.fillPattern=null,this.setPosition(T,P),this.setSize(E,M),this.setFrame(R),this.setOriginFromFrame(),this.initPipeline(),this.initPostPipeline(!0)},setTexture:function(g,m){return this.displayTexture=this.scene.sys.textures.get(g),this.setFrame(m)},setFrame:function(g){var m=this.displayTexture.get(g);return this.potWidth=a(m.width),this.potHeight=a(m.height),this.canvas.width=0,!m.cutWidth||!m.cutHeight?this.renderFlags&=-9:this.renderFlags|=v,this.displayFrame=m,this.dirty=!0,this.updateTileTexture(),this},setTilePosition:function(g,m){return g!==void 0&&(this.tilePositionX=g),m!==void 0&&(this.tilePositionY=m),this},setTileScale:function(g,m){return g===void 0&&(g=this.tileScaleX),m===void 0&&(m=g),this.tileScaleX=g,this.tileScaleY=m,this},updateTileTexture:function(){if(!(!this.dirty||!this.renderer)){var g=this.displayFrame;if(g.source.isRenderTexture||g.source.isGLTexture){console.warn("TileSprites can only use Image or Canvas based textures"),this.dirty=!1;return}var m=this.fillContext,T=this.fillCanvas,P=this.potWidth,E=this.potHeight;(!this.renderer||!this.renderer.gl)&&(P=g.cutWidth,E=g.cutHeight),m.clearRect(0,0,P,E),T.width=P,T.height=E,m.drawImage(g.source.image,g.cutX,g.cutY,g.cutWidth,g.cutHeight,0,0,P,E),this.renderer&&this.renderer.gl?this.fillPattern=this.renderer.canvasToTexture(T,this.fillPattern):this.fillPattern=m.createPattern(T,"repeat"),this.updateCanvas(),this.dirty=!1}},updateCanvas:function(){var g=this.canvas;if((g.width!==this.width||g.height!==this.height)&&(g.width=this.width,g.height=this.height,this.frame.setSize(this.width,this.height),this.updateDisplayOrigin(),this.dirty=!0),!this.dirty||this.renderer&&this.renderer.gl){this.dirty=!1;return}var m=this.context;this.scene.sys.game.config.antialias||n.disable(m);var T=this._tileScale.x,P=this._tileScale.y,E=this._tilePosition.x,M=this._tilePosition.y;m.clearRect(0,0,this.width,this.height),m.save(),m.scale(T,P),m.translate(-E,-M),m.fillStyle=this.fillPattern,m.fillRect(E,M,this.width/T,this.height/P),m.restore(),this.dirty=!1},preDestroy:function(){this.renderer&&this.renderer.gl&&this.renderer.deleteTexture(this.fillPattern),h.remove(this.canvas),h.remove(this.fillCanvas),this.fillPattern=null,this.fillContext=null,this.fillCanvas=null,this.displayTexture=null,this.displayFrame=null;var g=this.texture;g&&g.destroy(),this.renderer=null},tilePositionX:{get:function(){return this._tilePosition.x},set:function(g){this._tilePosition.x=g,this.dirty=!0}},tilePositionY:{get:function(){return this._tilePosition.y},set:function(g){this._tilePosition.y=g,this.dirty=!0}},tileScaleX:{get:function(){return this._tileScale.x},set:function(g){this._tileScale.x=g,this.dirty=!0}},tileScaleY:{get:function(){return this._tileScale.y},set:function(g){this._tileScale.y=g,this.dirty=!0}}});r.exports=p},46992:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h.updateCanvas(),x.addToRenderList(h),i.batchSprite(h,h.frame,x,f)};r.exports=C},14167:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(20839);x.register("tileSprite",function(a,n){a===void 0&&(a={});var d=f(a,"x",0),c=f(a,"y",0),u=f(a,"width",512),v=f(a,"height",512),p=f(a,"key",""),g=f(a,"frame",""),m=new l(this.scene,d,c,u,v,p,g);return n!==void 0&&(a.add=n),h(this.scene,m,a),m})},91681:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20839),x=i(39429);x.register("tileSprite",function(f,l,a,n,d,c){return this.displayList.add(new h(this.scene,f,l,a,n,d,c))})},56295:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(18553),f=i(46992),r.exports={renderWebGL:x,renderCanvas:f}},18553:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),x=function(f,l,a,n){l.updateCanvas();var d=l.width,c=l.height;if(!(d===0||c===0)){a.addToRenderList(l);var u=h.getTintAppendFloatAlpha,v=f.pipelines.set(l.pipeline,l),p=v.setTexture2D(l.fillPattern,l);v.batchTexture(l,l.fillPattern,l.displayFrame.width*l.tileScaleX,l.displayFrame.height*l.tileScaleY,l.x,l.y,d,c,l.scaleX,l.scaleY,l.rotation,l.flipX,l.flipY,l.scrollFactorX,l.scrollFactorY,l.originX*d,l.originY*c,0,0,d,c,u(l.tintTopLeft,a.alpha*l._alphaTL),u(l.tintTopRight,a.alpha*l._alphaTR),u(l.tintBottomLeft,a.alpha*l._alphaBL),u(l.tintBottomRight,a.alpha*l._alphaBR),l.tintFill,l.tilePositionX%l.displayFrame.width/l.displayFrame.width,l.tilePositionY%l.displayFrame.height/l.displayFrame.height,a,n,!1,p)}};r.exports=x},18471:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(31401),l=i(51708),a=i(8443),n=i(95643),d=i(36383),c=i(14463),u=i(45650),v=i(10247),p=new x({Extends:n,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.ScrollFactor,f.TextureCrop,f.Tint,f.Transform,f.Visible,v],initialize:function(m,T,P,E){n.call(this,m,"Video"),this.video,this.videoTexture,this.videoTextureSource,this.snapshotTexture,this.flipY=!1,this._key=u(),this.touchLocked=!1,this.playWhenUnlocked=!1,this.frameReady=!1,this.isStalled=!1,this.failedPlayAttempts=0,this.metadata,this.retry=0,this.retryInterval=500,this._systemMuted=!1,this._codeMuted=!1,this._systemPaused=!1,this._codePaused=!1,this._callbacks={ended:this.completeHandler.bind(this),legacy:this.legacyPlayHandler.bind(this),playing:this.playingHandler.bind(this),seeked:this.seekedHandler.bind(this),seeking:this.seekingHandler.bind(this),stalled:this.stalledHandler.bind(this),suspend:this.stalledHandler.bind(this),waiting:this.stalledHandler.bind(this)},this._loadCallbackHandler=this.loadErrorHandler.bind(this),this._metadataCallbackHandler=this.metadataHandler.bind(this),this._crop=this.resetCropObject(),this.markers={},this._markerIn=0,this._markerOut=0,this._playingMarker=!1,this._lastUpdate=0,this.cacheKey="",this.isSeeking=!1,this._playCalled=!1,this._getFrame=!1,this._rfvCallbackId=0;var M=m.sys.game;this._device=M.device.video,this.setPosition(T,P),this.setSize(256,256),this.initPipeline(),this.initPostPipeline(!0),M.events.on(a.PAUSE,this.globalPause,this),M.events.on(a.RESUME,this.globalResume,this);var w=m.sys.sound;w&&w.on(c.GLOBAL_MUTE,this.globalMute,this),E&&this.load(E)},addedToScene:function(){this.scene.sys.updateList.add(this)},removedFromScene:function(){this.scene.sys.updateList.remove(this)},load:function(g){var m=this.scene.sys.cache.video.get(g);return m?(this.cacheKey=g,this.loadHandler(m.url,m.noAudio,m.crossOrigin)):console.warn("No video in cache for key: "+g),this},changeSource:function(g,m,T,P,E){m===void 0&&(m=!0),T===void 0&&(T=!1),this.cacheKey!==g&&(this.load(g),m&&this.play(T,P,E))},getVideoKey:function(){return this.cacheKey},loadURL:function(g,m,T){m===void 0&&(m=!1);var P=this._device.getVideoURL(g);return P?(this.cacheKey="",this.loadHandler(P.url,m,T)):console.warn("No supported video format found for "+g),this},loadMediaStream:function(g,m,T){return this.loadHandler(null,m,T,g)},loadHandler:function(g,m,T,P){m||(m=!1);var E=this.video;if(E?(this.removeLoadEventHandlers(),this.stop()):(E=document.createElement("video"),E.controls=!1,E.setAttribute("playsinline","playsinline"),E.setAttribute("preload","auto"),E.setAttribute("disablePictureInPicture","true")),m?(E.muted=!0,E.defaultMuted=!0,E.setAttribute("autoplay","autoplay")):(E.muted=!1,E.defaultMuted=!1,E.removeAttribute("autoplay")),T?E.setAttribute("crossorigin",T):E.removeAttribute("crossorigin"),P)if("srcObject"in E)try{E.srcObject=P}catch(w){if(w.name!=="TypeError")throw w;E.src=URL.createObjectURL(P)}else E.src=URL.createObjectURL(P);else E.src=g;this.retry=0,this.video=E,this._playCalled=!1,E.load(),this.addLoadEventHandlers();var M=this.scene.sys.textures.get(this._key);return this.setTexture(M),this},requestVideoFrame:function(g,m){var T=this.video;if(T){var P=m.width,E=m.height,M=this.videoTexture,w=this.videoTextureSource,R=!M||w.source!==T;R?(this._codePaused=T.paused,this._codeMuted=T.muted,M?(w.source=T,w.width=P,w.height=E,M.get().setSize(P,E)):(M=this.scene.sys.textures.create(this._key,T,P,E),M.add("__BASE",0,0,0,P,E),this.setTexture(M),this.videoTexture=M,this.videoTextureSource=M.source[0],this.videoTextureSource.setFlipY(this.flipY),this.emit(l.VIDEO_TEXTURE,this,M)),this.setSizeToFrame(),this.updateDisplayOrigin()):w.update(),this.isStalled=!1,this.metadata=m;var A=m.mediaTime;R&&(this._lastUpdate=A,this.emit(l.VIDEO_CREATED,this,P,E),this.frameReady||(this.frameReady=!0,this.emit(l.VIDEO_PLAY,this))),this._playingMarker?A>=this._markerOut&&(T.loop?(T.currentTime=this._markerIn,this.emit(l.VIDEO_LOOP,this)):(this.stop(!1),this.emit(l.VIDEO_COMPLETE,this))):A<this._lastUpdate&&this.emit(l.VIDEO_LOOP,this),this._lastUpdate=A,this._getFrame?(this.removeEventHandlers(),T.pause(),this._getFrame=!1):this._rfvCallbackId=this.video.requestVideoFrameCallback(this.requestVideoFrame.bind(this))}},play:function(g,m,T){m===void 0&&(m=-1),T===void 0&&(T=d.MAX_SAFE_INTEGER);var P=this.video;return!P||this.isPlaying()?(P||console.warn("Video not loaded"),this):(g===void 0&&(g=P.loop),P.loop=g,this._markerIn=m,this._markerOut=T,this._playingMarker=m>-1&&T>m&&T<d.MAX_SAFE_INTEGER,this._playCalled||(this._getFrame=!1,this._rfvCallbackId=P.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this._playCalled=!0,this.createPlayPromise()),this)},getFirstFrame:function(){var g=this.video;return!g||this.isPlaying()?(g||console.warn("Video not loaded"),this):(this._playCalled||(this._getFrame=!0,this._rfvCallbackId=g.requestVideoFrameCallback(this.requestVideoFrame.bind(this)),this.createPlayPromise()),this)},addLoadEventHandlers:function(){var g=this.video;g&&(g.addEventListener("error",this._loadCallbackHandler),g.addEventListener("abort",this._loadCallbackHandler),g.addEventListener("loadedmetadata",this._metadataCallbackHandler))},removeLoadEventHandlers:function(){var g=this.video;g&&(g.removeEventListener("error",this._loadCallbackHandler),g.removeEventListener("abort",this._loadCallbackHandler))},addEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var T in m)g.addEventListener(T,m[T])}},removeEventHandlers:function(){var g=this.video;if(g){var m=this._callbacks;for(var T in m)g.removeEventListener(T,m[T])}},createPlayPromise:function(g){g===void 0&&(g=!0);var m=this.video,T=m.play();if(T!==void 0){var P=this.playSuccess.bind(this),E=this.playError.bind(this);if(!g){var M=this;E=function(){M.failedPlayAttempts++}}T.then(P).catch(E)}else m.addEventListener("playing",this._callbacks.legacy),g||this.failedPlayAttempts++},addMarker:function(g,m,T){return!isNaN(m)&&m>=0&&!isNaN(T)&&T>m&&(this.markers[g]=[m,T]),this},playMarker:function(g,m){var T=this.markers[g];return T&&this.play(m,T[0],T[1]),this},removeMarker:function(g){return delete this.markers[g],this},snapshot:function(g,m){return g===void 0&&(g=this.width),m===void 0&&(m=this.height),this.snapshotArea(0,0,this.width,this.height,g,m)},snapshotArea:function(g,m,T,P,E,M){g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=this.width),P===void 0&&(P=this.height),E===void 0&&(E=T),M===void 0&&(M=P);var w=this.video,R=this.snapshotTexture;return R?(R.setSize(E,M),w&&R.context.drawImage(w,g,m,T,P,0,0,E,M)):(R=this.scene.sys.textures.createCanvas(u(),E,M),this.snapshotTexture=R,w&&R.context.drawImage(w,g,m,T,P,0,0,E,M)),R.update()},saveSnapshotTexture:function(g){return this.snapshotTexture?this.scene.sys.textures.renameTexture(this.snapshotTexture.key,g):this.snapshotTexture=this.scene.sys.textures.createCanvas(g,this.width,this.height),this.snapshotTexture},playSuccess:function(){if(this._playCalled){this.addEventHandlers(),this._codePaused=!1,this.touchLocked&&(this.touchLocked=!1,this.emit(l.VIDEO_UNLOCKED,this));var g=this.scene.sys.sound;g&&g.mute&&this.setMute(!0),this._markerIn>-1&&(this.video.currentTime=this._markerIn)}},playError:function(g){var m=g.name;m==="NotAllowedError"?(this.touchLocked=!0,this.playWhenUnlocked=!0,this.failedPlayAttempts=1,this.emit(l.VIDEO_LOCKED,this)):m==="NotSupportedError"?(this.stop(!1),this.emit(l.VIDEO_UNSUPPORTED,this,g)):(this.stop(!1),this.emit(l.VIDEO_ERROR,this,g))},legacyPlayHandler:function(){var g=this.video;g&&(this.playSuccess(),g.removeEventListener("playing",this._callbacks.legacy))},playingHandler:function(){this.isStalled=!1,this.emit(l.VIDEO_PLAYING,this)},loadErrorHandler:function(g){this.stop(!1),this.emit(l.VIDEO_ERROR,this,g)},metadataHandler:function(g){this.emit(l.VIDEO_METADATA,this,g)},setSizeToFrame:function(g){g||(g=this.frame),this.width=g.realWidth,this.height=g.realHeight,this.scaleX!==1&&(this.scaleX=this.displayWidth/this.width),this.scaleY!==1&&(this.scaleY=this.displayHeight/this.height);var m=this.input;return m&&!m.customHitArea&&(m.hitArea.width=this.width,m.hitArea.height=this.height),this},stalledHandler:function(g){this.isStalled=!0,this.emit(l.VIDEO_STALLED,this,g)},completeHandler:function(){this._playCalled=!1,this.emit(l.VIDEO_COMPLETE,this)},preUpdate:function(g,m){var T=this.video;!T||!this._playCalled||this.touchLocked&&this.playWhenUnlocked&&(this.retry+=m,this.retry>=this.retryInterval&&(this.createPlayPromise(!1),this.retry=0))},seekTo:function(g){var m=this.video;if(m){var T=m.duration;if(T!==1/0&&!isNaN(T)){var P=T*g;this.setCurrentTime(P)}}return this},getCurrentTime:function(){return this.video?this.video.currentTime:0},setCurrentTime:function(g){var m=this.video;if(m){if(typeof g=="string"){var T=g[0],P=parseFloat(g.substr(1));T==="+"?g=m.currentTime+P:T==="-"&&(g=m.currentTime-P)}m.currentTime=g}return this},seekingHandler:function(){this.isSeeking=!0,this.emit(l.VIDEO_SEEKING,this)},seekedHandler:function(){this.isSeeking=!1,this.emit(l.VIDEO_SEEKED,this)},getProgress:function(){var g=this.video;if(g){var m=g.duration;if(m!==1/0&&!isNaN(m))return g.currentTime/m}return-1},getDuration:function(){return this.video?this.video.duration:0},setMute:function(g){g===void 0&&(g=!0),this._codeMuted=g;var m=this.video;return m&&(m.muted=this._systemMuted?!0:g),this},isMuted:function(){return this._codeMuted},globalMute:function(g,m){this._systemMuted=m;var T=this.video;T&&(T.muted=this._codeMuted?!0:m)},globalPause:function(){this._systemPaused=!0,this.video&&!this.video.ended&&(this.removeEventHandlers(),this.video.pause())},globalResume:function(){this._systemPaused=!1,this.video&&!this._codePaused&&!this.video.ended&&this.createPlayPromise()},setPaused:function(g){g===void 0&&(g=!0);var m=this.video;return this._codePaused=g,m&&!m.ended&&(g?m.paused||(this.removeEventHandlers(),m.pause()):g||(this._playCalled?m.paused&&!this._systemPaused&&this.createPlayPromise():this.play())),this},pause:function(){return this.setPaused(!0)},resume:function(){return this.setPaused(!1)},getVolume:function(){return this.video?this.video.volume:1},setVolume:function(g){return g===void 0&&(g=1),this.video&&(this.video.volume=h(g,0,1)),this},getPlaybackRate:function(){return this.video?this.video.playbackRate:1},setPlaybackRate:function(g){return this.video&&(this.video.playbackRate=g),this},getLoop:function(){return this.video?this.video.loop:!1},setLoop:function(g){return g===void 0&&(g=!0),this.video&&(this.video.loop=g),this},isPlaying:function(){return this.video?!(this.video.paused||this.video.ended):!1},isPaused:function(){return this.video&&this._playCalled&&this.video.paused||this._codePaused||this._systemPaused},saveTexture:function(g,m){return m===void 0&&(m=!1),this.videoTexture&&(this.scene.sys.textures.renameTexture(this._key,g),this.videoTextureSource.setFlipY(m)),this._key=g,this.flipY=m,!!this.videoTexture},stop:function(g){g===void 0&&(g=!0);var m=this.video;return m&&(this.removeEventHandlers(),m.cancelVideoFrameCallback(this._rfvCallbackId),m.pause()),this.retry=0,this._playCalled=!1,g&&this.emit(l.VIDEO_STOP,this),this},removeVideoElement:function(){var g=this.video;if(g){for(g.parentNode&&g.parentNode.removeChild(g);g.hasChildNodes();)g.removeChild(g.firstChild);g.removeAttribute("autoplay"),g.removeAttribute("src"),this.video=null}},preDestroy:function(){this.stop(!1),this.removeLoadEventHandlers(),this.removeVideoElement();var g=this.scene.sys.game.events;g.off(a.PAUSE,this.globalPause,this),g.off(a.RESUME,this.globalResume,this);var m=this.scene.sys.sound;m&&m.off(c.GLOBAL_MUTE,this.globalMute,this)}});r.exports=p},58352:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h.videoTexture&&(x.addToRenderList(h),i.batchSprite(h,h.frame,x,f))};r.exports=C},11511:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25305),x=i(44603),f=i(23568),l=i(18471);x.register("video",function(a,n){a===void 0&&(a={});var d=f(a,"key",null),c=new l(this.scene,0,0,d);return n!==void 0&&(a.add=n),h(this.scene,c,a),c})},89025:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(18471),x=i(39429);x.register("video",function(f,l,a){return this.displayList.add(new h(this.scene,f,l,a))})},10247:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(29849),f=i(58352),r.exports={renderWebGL:x,renderCanvas:f}},29849:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h.videoTexture&&(x.addToRenderList(h),h.pipeline.batchSprite(h,x,f))};r.exports=C},41481:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x=i(96503),f=i(87902),l=i(83419),a=i(31401),n=i(95643),d=i(87841),c=i(37303),u=new l({Extends:n,Mixins:[a.Depth,a.GetBounds,a.Origin,a.Transform,a.ScrollFactor,a.Visible],initialize:function(p,g,m,T,P){T===void 0&&(T=1),P===void 0&&(P=T),n.call(this,p,"Zone"),this.setPosition(g,m),this.width=T,this.height=P,this.blendMode=h.NORMAL,this.updateDisplayOrigin()},displayWidth:{get:function(){return this.scaleX*this.width},set:function(v){this.scaleX=v/this.width}},displayHeight:{get:function(){return this.scaleY*this.height},set:function(v){this.scaleY=v/this.height}},setSize:function(v,p,g){g===void 0&&(g=!0),this.width=v,this.height=p,this.updateDisplayOrigin();var m=this.input;return g&&m&&!m.customHitArea&&(m.hitArea.width=v,m.hitArea.height=p),this},setDisplaySize:function(v,p){return this.displayWidth=v,this.displayHeight=p,this},setCircleDropZone:function(v){return this.setDropZone(new x(0,0,v),f)},setRectangleDropZone:function(v,p){return this.setDropZone(new d(0,0,v,p),c)},setDropZone:function(v,p){return this.input||this.setInteractive(v,p,!0),this},setAlpha:function(){},setBlendMode:function(){},renderCanvas:function(v,p,g){g.addToRenderList(p)},renderWebGL:function(v,p,g){g.addToRenderList(p)}});r.exports=u},95261:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),x=i(23568),f=i(41481);h.register("zone",function(l){var a=x(l,"x",0),n=x(l,"y",0),d=x(l,"width",1),c=x(l,"height",d);return new f(this.scene,a,n,d,c)})},84175:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41481),x=i(39429);x.register("zone",function(f,l,a,n){return this.displayList.add(new h(this.scene,f,l,a,n))})},95166:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.radius>0?Math.PI*i.radius*i.radius:0};r.exports=C},96503:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(87902),f=i(26241),l=i(79124),a=i(23777),n=i(28176),d=new h({initialize:function(u,v,p){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),this.type=a.CIRCLE,this.x=u,this.y=v,this._radius=p,this._diameter=p*2},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return f(this,c,u)},getPoints:function(c,u,v){return l(this,c,u,v)},getRandomPoint:function(c){return n(this,c)},setTo:function(c,u,v){return this.x=c,this.y=u,this._radius=v,this._diameter=v*2,this},setEmpty:function(){return this._radius=0,this._diameter=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},isEmpty:function(){return this._radius<=0},radius:{get:function(){return this._radius},set:function(c){this._radius=c,this._diameter=c*2}},diameter:{get:function(){return this._diameter},set:function(c){this._diameter=c,this._radius=c*.5}},left:{get:function(){return this.x-this._radius},set:function(c){this.x=c+this._radius}},right:{get:function(){return this.x+this._radius},set:function(c){this.x=c-this._radius}},top:{get:function(){return this.y-this._radius},set:function(c){this.y=c+this._radius}},bottom:{get:function(){return this.y+this._radius},set:function(c){this.y=c-this._radius}}});r.exports=d},71562:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return 2*(Math.PI*i.radius)};r.exports=C},92110:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l,a){return a===void 0&&(a=new h),a.x=f.x+f.radius*Math.cos(l),a.y=f.y+f.radius*Math.sin(l),a};r.exports=x},42250:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),x=function(f){return new h(f.x,f.y,f.radius)};r.exports=x},87902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(i.radius>0&&h>=i.left&&h<=i.right&&x>=i.top&&x<=i.bottom){var f=(i.x-h)*(i.x-h),l=(i.y-x)*(i.y-x);return f+l<=i.radius*i.radius}else return!1};r.exports=C},5698:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),x=function(f,l){return h(f,l.x,l.y)};r.exports=x},70588:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),x=function(f,l){return h(f,l.x,l.y)&&h(f,l.right,l.y)&&h(f,l.x,l.bottom)&&h(f,l.right,l.bottom)};r.exports=x},26394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.setTo(i.x,i.y,i.radius)};r.exports=C},76278:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x===h.x&&i.y===h.y&&i.radius===h.radius};r.exports=C},2074:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f,l){return l===void 0&&(l=new h),l.x=f.left,l.y=f.top,l.width=f.diameter,l.height=f.diameter,l};r.exports=x},26241:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(92110),x=i(62945),f=i(36383),l=i(2141),a=function(n,d,c){c===void 0&&(c=new l);var u=x(d,0,f.PI2);return h(n,u,c)};r.exports=a},79124:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71562),x=i(92110),f=i(62945),l=i(36383),a=function(n,d,c,u){u===void 0&&(u=[]),!d&&c>0&&(d=h(n)/c);for(var v=0;v<d;v++){var p=f(v/d,0,l.PI2);u.push(x(n,p))}return u};r.exports=a},50884:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.x+=h,i.y+=x,i};r.exports=C},39212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x+=h.x,i.y+=h.y,i};r.exports=C},28176:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){l===void 0&&(l=new h);var a=2*Math.PI*Math.random(),n=Math.random()+Math.random(),d=n>1?2-n:n,c=d*Math.cos(a),u=d*Math.sin(a);return l.x=f.x+c*f.radius,l.y=f.y+u*f.radius,l};r.exports=x},88911:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503);h.Area=i(95166),h.Circumference=i(71562),h.CircumferencePoint=i(92110),h.Clone=i(42250),h.Contains=i(87902),h.ContainsPoint=i(5698),h.ContainsRect=i(70588),h.CopyFrom=i(26394),h.Equals=i(76278),h.GetBounds=i(2074),h.GetPoint=i(26241),h.GetPoints=i(79124),h.Offset=i(50884),h.OffsetPoint=i(39212),h.Random=i(28176),r.exports=h},23777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CIRCLE:0,ELLIPSE:1,LINE:2,POINT:3,POLYGON:4,RECTANGLE:5,TRIANGLE:6};r.exports=C},78874:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.isEmpty()?0:i.getMajorRadius()*i.getMinorRadius()*Math.PI};r.exports=C},92990:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=i.width/2,x=i.height/2,f=Math.pow(h-x,2)/Math.pow(h+x,2);return Math.PI*(h+x)*(1+3*f/(10+Math.sqrt(4-3*f)))};r.exports=C},79522:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l,a){a===void 0&&(a=new h);var n=f.width/2,d=f.height/2;return a.x=f.x+n*Math.cos(l),a.y=f.y+d*Math.sin(l),a};r.exports=x},58102:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8497),x=function(f){return new h(f.x,f.y,f.width,f.height)};r.exports=x},81154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(i.width<=0||i.height<=0)return!1;var f=(h-i.x)/i.width,l=(x-i.y)/i.height;return f*=f,l*=l,f+l<.25};r.exports=C},46662:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81154),x=function(f,l){return h(f,l.x,l.y)};r.exports=x},1632:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81154),x=function(f,l){return h(f,l.x,l.y)&&h(f,l.right,l.y)&&h(f,l.x,l.bottom)&&h(f,l.right,l.bottom)};r.exports=x},65534:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.setTo(i.x,i.y,i.width,i.height)};r.exports=C},8497:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(81154),f=i(90549),l=i(48320),a=i(23777),n=i(24820),d=new h({initialize:function(u,v,p,g){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=a.ELLIPSE,this.x=u,this.y=v,this.width=p,this.height=g},contains:function(c,u){return x(this,c,u)},getPoint:function(c,u){return f(this,c,u)},getPoints:function(c,u,v){return l(this,c,u,v)},getRandomPoint:function(c){return n(this,c)},setTo:function(c,u,v,p){return this.x=c,this.y=u,this.width=v,this.height=p,this},setEmpty:function(){return this.width=0,this.height=0,this},setPosition:function(c,u){return u===void 0&&(u=c),this.x=c,this.y=u,this},setSize:function(c,u){return u===void 0&&(u=c),this.width=c,this.height=u,this},isEmpty:function(){return this.width<=0||this.height<=0},getMinorRadius:function(){return Math.min(this.width,this.height)/2},getMajorRadius:function(){return Math.max(this.width,this.height)/2},left:{get:function(){return this.x-this.width/2},set:function(c){this.x=c+this.width/2}},right:{get:function(){return this.x+this.width/2},set:function(c){this.x=c-this.width/2}},top:{get:function(){return this.y-this.height/2},set:function(c){this.y=c+this.height/2}},bottom:{get:function(){return this.y+this.height/2},set:function(c){this.y=c-this.height/2}}});r.exports=d},36146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x===h.x&&i.y===h.y&&i.width===h.width&&i.height===h.height};r.exports=C},23694:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f,l){return l===void 0&&(l=new h),l.x=f.left,l.y=f.top,l.width=f.width,l.height=f.height,l};r.exports=x},90549:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79522),x=i(62945),f=i(36383),l=i(2141),a=function(n,d,c){c===void 0&&(c=new l);var u=x(d,0,f.PI2);return h(n,u,c)};r.exports=a},48320:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(92990),x=i(79522),f=i(62945),l=i(36383),a=function(n,d,c,u){u===void 0&&(u=[]),!d&&c>0&&(d=h(n)/c);for(var v=0;v<d;v++){var p=f(v/d,0,l.PI2);u.push(x(n,p))}return u};r.exports=a},73424:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.x+=h,i.y+=x,i};r.exports=C},44808:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x+=h.x,i.y+=h.y,i};r.exports=C},24820:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){l===void 0&&(l=new h);var a=Math.random()*Math.PI*2,n=Math.sqrt(Math.random());return l.x=f.x+n*Math.cos(a)*f.width/2,l.y=f.y+n*Math.sin(a)*f.height/2,l};r.exports=x},49203:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8497);h.Area=i(78874),h.Circumference=i(92990),h.CircumferencePoint=i(79522),h.Clone=i(58102),h.Contains=i(81154),h.ContainsPoint=i(46662),h.ContainsRect=i(1632),h.CopyFrom=i(65534),h.Equals=i(36146),h.GetBounds=i(23694),h.GetPoint=i(90549),h.GetPoints=i(48320),h.Offset=i(73424),h.OffsetPoint=i(44808),h.Random=i(24820),r.exports=h},55738:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23777),x=i(79291),f={Circle:i(88911),Ellipse:i(49203),Intersects:i(91865),Line:i(2529),Mesh:i(73090),Point:i(43711),Polygon:i(58423),Rectangle:i(93232),Triangle:i(84435)};f=x(!1,f,h),r.exports=f},2044:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20339),x=function(f,l){return h(f.x,f.y,l.x,l.y)<=f.radius+l.radius};r.exports=x},81491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=h.width/2,f=h.height/2,l=Math.abs(i.x-h.x-x),a=Math.abs(i.y-h.y-f),n=x+i.radius,d=f+i.radius;if(l>n||a>d)return!1;if(l<=x||a<=f)return!0;var c=l-x,u=a-f,v=c*c,p=u*u,g=i.radius*i.radius;return v+p<=g};r.exports=C},63376:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(2044),f=function(l,a,n){if(n===void 0&&(n=[]),x(l,a)){var d=l.x,c=l.y,u=l.radius,v=a.x,p=a.y,g=a.radius,m,T,P,E,M;if(c===p)M=(g*g-u*u-v*v+d*d)/(2*(d-v)),m=1,T=-2*p,P=v*v+M*M-2*v*M+p*p-g*g,E=T*T-4*m*P,E===0?n.push(new h(M,-T/(2*m))):E>0&&(n.push(new h(M,(-T+Math.sqrt(E))/(2*m))),n.push(new h(M,(-T-Math.sqrt(E))/(2*m))));else{var w=(d-v)/(c-p),R=(g*g-u*u-v*v+d*d-p*p+c*c)/(2*(c-p));m=w*w+1,T=2*c*w-2*R*w-2*d,P=d*d+c*c+R*R-u*u-2*c*R,E=T*T-4*m*P,E===0?(M=-T/(2*m),n.push(new h(M,R-M*w))):E>0&&(M=(-T+Math.sqrt(E))/(2*m),n.push(new h(M,R-M*w)),M=(-T-Math.sqrt(E))/(2*m),n.push(new h(M,R-M*w)))}}return n};r.exports=f},97439:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4042),x=i(81491),f=function(l,a,n){if(n===void 0&&(n=[]),x(l,a)){var d=a.getLineA(),c=a.getLineB(),u=a.getLineC(),v=a.getLineD();h(d,l,n),h(c,l,n),h(u,l,n),h(v,l,n)}return n};r.exports=f},4042:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(80462),f=function(l,a,n){if(n===void 0&&(n=[]),x(l,a)){var d=l.x1,c=l.y1,u=l.x2,v=l.y2,p=a.x,g=a.y,m=a.radius,T=u-d,P=v-c,E=d-p,M=c-g,w=T*T+P*P,R=2*(T*E+P*M),A=E*E+M*M-m*m,O=R*R-4*w*A,F,L;if(O===0){var b=-R/(2*w);F=d+b*T,L=c+b*P,b>=0&&b<=1&&n.push(new h(F,L))}else if(O>0){var D=(-R-Math.sqrt(O))/(2*w);F=d+D*T,L=c+D*P,D>=0&&D<=1&&n.push(new h(F,L));var I=(-R+Math.sqrt(O))/(2*w);F=d+I*T,L=c+I*P,I>=0&&I<=1&&n.push(new h(F,L))}}return n};r.exports=f},36100:(r,C,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25836),x=function(f,l,a,n){a===void 0&&(a=!1);var d=f.x1,c=f.y1,u=f.x2,v=f.y2,p=l.x1,g=l.y1,m=l.x2,T=l.y2,P=u-d,E=v-c,M=m-p,w=T-g,R=P*w-E*M;if(R===0)return null;var A,O,F;if(a){if(A=(P*(g-c)+E*(d-p))/(M*E-w*P),P!==0)O=(p+M*A-d)/P;else if(E!==0)O=(g+w*A-c)/E;else return null;if(O<0||A<0||A>1)return null;F=O}else{if(A=((p-d)*w-(g-c)*M)/R,O=((c-g)*P-(d-p)*E)/R,A<0||A>1||O<0||O>1)return null;F=A}return n===void 0&&(n=new h),n.set(d+P*F,c+E*F,F)};r.exports=x},3073:(r,C,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36100),x=i(23031),f=i(25836),l=new x,a=new f,n=function(d,c,u,v){u===void 0&&(u=!1),v===void 0&&(v=new f);var p=!1;v.set(),a.set();for(var g=c[c.length-1],m=0;m<c.length;m++){var T=c[m];l.setTo(g.x,g.y,T.x,T.y),g=T,h(d,l,u,a)&&(!p||a.z<v.z)&&(v.copy(a),p=!0)}return p?v:null};r.exports=n},56362:(r,C,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25836),x=i(61369),f=i(3073),l=new h,a=function(n,d,c,u){u===void 0&&(u=new x),Array.isArray(d)||(d=[d]);var v=!1;u.set(),l.set();for(var p=0;p<d.length;p++)f(n,d[p].points,c,l)&&(!v||l.z<u.z)&&(u.set(l.x,l.y,l.z,p),v=!0);return v?u:null};r.exports=a},60646:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(76112),f=i(92773),l=function(a,n,d){if(d===void 0&&(d=[]),f(a,n))for(var c=n.getLineA(),u=n.getLineB(),v=n.getLineC(),p=n.getLineD(),g=[new h,new h,new h,new h],m=[x(c,a,g[0]),x(u,a,g[1]),x(v,a,g[2]),x(p,a,g[3])],T=0;T<4;T++)m[T]&&d.push(g[T]);return d};r.exports=l},71147:(r,C,i)=>{/**
 * @author       Richard Davey
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61369),x=i(56362),f=i(23031),l=new f;function a(c,u,v,p,g){var m=Math.cos(c),T=Math.sin(c);l.setTo(u,v,u+m,v+T);var P=x(l,p,!0);P&&g.push(new h(P.x,P.y,c,P.w))}function n(c,u){return c.z-u.z}var d=function(c,u,v){Array.isArray(v)||(v=[v]);for(var p=[],g=[],m=0;m<v.length;m++)for(var T=v[m].points,P=0;P<T.length;P++){var E=Math.atan2(T[P].y-u,T[P].x-c);g.indexOf(E)===-1&&(a(E,c,u,v,p),a(E-1e-5,c,u,v,p),a(E+1e-5,c,u,v,p),g.push(E))}return p.sort(n)};r.exports=d},68389:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=i(59996),f=function(l,a,n){return n===void 0&&(n=new h),x(l,a)&&(n.x=Math.max(l.x,a.x),n.y=Math.max(l.y,a.y),n.width=Math.min(l.right,a.right)-n.x,n.height=Math.min(l.bottom,a.bottom)-n.y),n};r.exports=f},52784:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60646),x=i(59996),f=function(l,a,n){if(n===void 0&&(n=[]),x(l,a)){var d=l.getLineA(),c=l.getLineB(),u=l.getLineC(),v=l.getLineD();h(d,a,n),h(c,a,n),h(u,a,n),h(v,a,n)}return n};r.exports=f},26341:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89265),x=i(60646),f=function(l,a,n){if(n===void 0&&(n=[]),h(l,a)){var d=a.getLineA(),c=a.getLineB(),u=a.getLineC();x(d,l,n),x(c,l,n),x(u,l,n)}return n};r.exports=f},38720:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(4042),x=i(67636),f=function(l,a,n){if(n===void 0&&(n=[]),x(l,a)){var d=l.getLineA(),c=l.getLineB(),u=l.getLineC();h(d,a,n),h(c,a,n),h(u,a,n)}return n};r.exports=f},13882:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(2822),f=i(76112),l=function(a,n,d){if(d===void 0&&(d=[]),x(a,n))for(var c=a.getLineA(),u=a.getLineB(),v=a.getLineC(),p=[new h,new h,new h],g=[f(c,n,p[0]),f(u,n,p[1]),f(v,n,p[2])],m=0;m<3;m++)g[m]&&d.push(p[m]);return d};r.exports=l},75636:(r,C,i)=>{/**
 * @author       Florian Vazelle
 * @author       Geoffrey Glaive
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82944),x=i(13882),f=function(l,a,n){if(n===void 0&&(n=[]),h(l,a)){var d=a.getLineA(),c=a.getLineB(),u=a.getLineC();x(l,d,n),x(l,c,n),x(l,u,n)}return n};r.exports=f},80462:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),x=i(2141),f=new x,l=function(a,n,d){if(d===void 0&&(d=f),h(n,a.x1,a.y1))return d.x=a.x1,d.y=a.y1,!0;if(h(n,a.x2,a.y2))return d.x=a.x2,d.y=a.y2,!0;var c=a.x2-a.x1,u=a.y2-a.y1,v=n.x-a.x1,p=n.y-a.y1,g=c*c+u*u,m=c,T=u;if(g>0){var P=(v*c+p*u)/g;m*=P,T*=P}d.x=a.x1+m,d.y=a.y1+T;var E=m*m+T*T;return E<=g&&m*c+T*u>=0&&h(n,d.x,d.y)};r.exports=l},76112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=i.x1,l=i.y1,a=i.x2,n=i.y2,d=h.x1,c=h.y1,u=h.x2,v=h.y2;if(f===a&&l===n||d===u&&c===v)return!1;var p=(v-c)*(a-f)-(u-d)*(n-l);if(p===0)return!1;var g=((u-d)*(l-c)-(v-c)*(f-d))/p,m=((a-f)*(l-c)-(n-l)*(f-d))/p;return g<0||g>1||m<0||m>1?!1:(x&&(x.x=f+g*(a-f),x.y=l+g*(n-l)),!0)};r.exports=C},92773:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.x1,f=i.y1,l=i.x2,a=i.y2,n=h.x,d=h.y,c=h.right,u=h.bottom,v=0;if(x>=n&&x<=c&&f>=d&&f<=u||l>=n&&l<=c&&a>=d&&a<=u)return!0;if(x<n&&l>=n){if(v=f+(a-f)*(n-x)/(l-x),v>d&&v<=u)return!0}else if(x>c&&l<=c&&(v=f+(a-f)*(c-x)/(l-x),v>=d&&v<=u))return!0;if(f<d&&a>=d){if(v=x+(l-x)*(d-f)/(a-f),v>=n&&v<=c)return!0}else if(f>u&&a<=u&&(v=x+(l-x)*(u-f)/(a-f),v>=n&&v<=c))return!0;return!1};r.exports=C},16204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){x===void 0&&(x=1);var f=h.x1,l=h.y1,a=h.x2,n=h.y2,d=i.x,c=i.y,u=(a-f)*(a-f)+(n-l)*(n-l);if(u===0)return!1;var v=((d-f)*(a-f)+(c-l)*(n-l))/u;if(v<0)return Math.sqrt((f-d)*(f-d)+(l-c)*(l-c))<=x;if(v>=0&&v<=1){var p=((l-c)*(a-f)-(f-d)*(n-l))/u;return Math.abs(p)*Math.sqrt(u)<=x}else return Math.sqrt((a-d)*(a-d)+(n-c)*(n-c))<=x};r.exports=C},14199:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16204),x=function(f,l){if(!h(f,l))return!1;var a=Math.min(l.x1,l.x2),n=Math.max(l.x1,l.x2),d=Math.min(l.y1,l.y2),c=Math.max(l.y1,l.y2);return f.x>=a&&f.x<=n&&f.y>=d&&f.y<=c};r.exports=x},59996:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.width<=0||i.height<=0||h.width<=0||h.height<=0?!1:!(i.right<h.x||i.bottom<h.y||i.x>h.right||i.y>h.bottom)};r.exports=C},89265:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(76112),x=i(37303),f=i(48653),l=i(77493),a=function(n,d){if(d.left>n.right||d.right<n.left||d.top>n.bottom||d.bottom<n.top)return!1;var c=d.getLineA(),u=d.getLineB(),v=d.getLineC();if(x(n,c.x1,c.y1)||x(n,c.x2,c.y2)||x(n,u.x1,u.y1)||x(n,u.x2,u.y2)||x(n,v.x1,v.y1)||x(n,v.x2,v.y2))return!0;var p=n.getLineA(),g=n.getLineB(),m=n.getLineC(),T=n.getLineD();if(h(c,p)||h(c,g)||h(c,m)||h(c,T)||h(u,p)||h(u,g)||h(u,m)||h(u,T)||h(v,p)||h(v,g)||h(v,m)||h(v,T))return!0;var P=l(n),E=f(d,P,!0);return E.length>0};r.exports=a},84411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l,a){return a===void 0&&(a=0),!(h>i.right+a||x<i.left-a||f>i.bottom+a||l<i.top-a)};r.exports=C},67636:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80462),x=i(10690),f=function(l,a){return l.left>a.right||l.right<a.left||l.top>a.bottom||l.bottom<a.top?!1:!!(x(l,a.x,a.y)||h(l.getLineA(),a)||h(l.getLineB(),a)||h(l.getLineC(),a))};r.exports=f},2822:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(76112),x=function(f,l){return!!(f.contains(l.x1,l.y1)||f.contains(l.x2,l.y2)||h(f.getLineA(),l)||h(f.getLineB(),l)||h(f.getLineC(),l))};r.exports=x},82944:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(48653),x=i(71694),f=i(76112),l=function(a,n){if(a.left>n.right||a.right<n.left||a.top>n.bottom||a.bottom<n.top)return!1;var d=a.getLineA(),c=a.getLineB(),u=a.getLineC(),v=n.getLineA(),p=n.getLineB(),g=n.getLineC();if(f(d,v)||f(d,p)||f(d,g)||f(c,v)||f(c,p)||f(c,g)||f(u,v)||f(u,p)||f(u,g))return!0;var m=x(a),T=h(n,m,!0);return T.length>0||(m=x(n),T=h(a,m,!0),T.length>0)};r.exports=l},91865:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CircleToCircle:i(2044),CircleToRectangle:i(81491),GetCircleToCircle:i(63376),GetCircleToRectangle:i(97439),GetLineToCircle:i(4042),GetLineToLine:i(36100),GetLineToPoints:i(3073),GetLineToPolygon:i(56362),GetLineToRectangle:i(60646),GetRaysFromPointToPolygon:i(71147),GetRectangleIntersection:i(68389),GetRectangleToRectangle:i(52784),GetRectangleToTriangle:i(26341),GetTriangleToCircle:i(38720),GetTriangleToLine:i(13882),GetTriangleToTriangle:i(75636),LineToCircle:i(80462),LineToLine:i(76112),LineToRectangle:i(92773),PointToLine:i(16204),PointToLineSegment:i(14199),RectangleToRectangle:i(59996),RectangleToTriangle:i(89265),RectangleToValues:i(84411),TriangleToCircle:i(67636),TriangleToLine:i(2822),TriangleToTriangle:i(82944)}},91938:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.atan2(i.y2-i.y1,i.x2-i.x1)};r.exports=C},84993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){h===void 0&&(h=1),x===void 0&&(x=[]);var f=Math.round(i.x1),l=Math.round(i.y1),a=Math.round(i.x2),n=Math.round(i.y2),d=Math.abs(a-f),c=Math.abs(n-l),u=f<a?1:-1,v=l<n?1:-1,p=d-c;x.push({x:f,y:l});for(var g=1;!(f===a&&l===n);){var m=p<<1;m>-c&&(p-=c,f+=u),m<d&&(p+=d,l+=v),g%h===0&&x.push({x:f,y:l}),g++}return x};r.exports=C},36469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=h-(i.x1+i.x2)/2,l=x-(i.y1+i.y2)/2;return i.x1+=f,i.y1+=l,i.x2+=f,i.y2+=l,i};r.exports=C},31116:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23031),x=function(f){return new h(f.x1,f.y1,f.x2,f.y2)};r.exports=x},59944:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.setTo(i.x1,i.y1,i.x2,i.y2)};r.exports=C},59220:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x1===h.x1&&i.y1===h.y1&&i.x2===h.x2&&i.y2===h.y2};r.exports=C},78177:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),x=function(f,l,a){a===void 0&&(a=l);var n=h(f),d=f.x2-f.x1,c=f.y2-f.y1;return l&&(f.x1=f.x1-d/n*l,f.y1=f.y1-c/n*l),a&&(f.x2=f.x2+d/n*a,f.y2=f.y2+c/n*a),f};r.exports=x},26708:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(52816),x=i(6113),f=i(2141),l=function(a,n,d,c,u){c===void 0&&(c=0),u===void 0&&(u=[]);var v=[],p=a.x1,g=a.y1,m=a.x2-p,T=a.y2-g,P=x(n,u),E,M,w=d-1;for(E=0;E<w;E++)M=P(E/w),v.push(new f(p+m*M,g+T*M));if(M=P(1),v.push(new f(p+m*M,g+T*M)),c>0){var R=v[0],A=[R];for(E=1;E<v.length-1;E++){var O=v[E];h(R,O)>=c&&(A.push(O),R=O)}var F=v[v.length-1];return h(R,F)<c&&A.pop(),A.push(F),A}else return v};r.exports=l},32125:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){return l===void 0&&(l=new h),l.x=(f.x1+f.x2)/2,l.y=(f.y1+f.y2)/2,l};r.exports=x},99569:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l,a){a===void 0&&(a=new h);var n=f.x1,d=f.y1,c=f.x2,u=f.y2,v=(c-n)*(c-n)+(u-d)*(u-d);if(v===0)return a;var p=((l.x-n)*(c-n)+(l.y-d)*(u-d))/v;return a.x=n+p*(c-n),a.y=d+p*(u-d),a};r.exports=x},34638:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=i(91938),f=i(2141),l=function(a,n){n===void 0&&(n=new f);var d=x(a)-h.TAU;return n.x=Math.cos(d),n.y=Math.sin(d),n};r.exports=l},13151:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l,a){return a===void 0&&(a=new h),a.x=f.x1+(f.x2-f.x1)*l,a.y=f.y1+(f.y2-f.y1)*l,a};r.exports=x},15258:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),x=i(2141),f=function(l,a,n,d){d===void 0&&(d=[]),!a&&n>0&&(a=h(l)/n);for(var c=l.x1,u=l.y1,v=l.x2,p=l.y2,g=0;g<a;g++){var m=g/a,T=c+(v-c)*m,P=u+(p-u)*m;d.push(new x(T,P))}return d};r.exports=f},26408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Florian Mertens
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.x1,f=i.y1,l=i.x2,a=i.y2,n=(l-x)*(l-x)+(a-f)*(a-f);if(n===0)return!1;var d=((f-h.y)*(l-x)-(x-h.x)*(a-f))/n;return Math.abs(d)*Math.sqrt(n)};r.exports=C},98770:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.abs(i.y1-i.y2)};r.exports=C},35001:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.sqrt((i.x2-i.x1)*(i.x2-i.x1)+(i.y2-i.y1)*(i.y2-i.y1))};r.exports=C},23031:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(13151),f=i(15258),l=i(23777),a=i(65822),n=i(26099),d=new h({initialize:function(u,v,p,g){u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),this.type=l.LINE,this.x1=u,this.y1=v,this.x2=p,this.y2=g},getPoint:function(c,u){return x(this,c,u)},getPoints:function(c,u,v){return f(this,c,u,v)},getRandomPoint:function(c){return a(this,c)},setTo:function(c,u,v,p){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),this.x1=c,this.y1=u,this.x2=v,this.y2=p,this},setFromObjects:function(c,u){return this.x1=c.x,this.y1=c.y,this.x2=u.x,this.y2=u.y,this},getPointA:function(c){return c===void 0&&(c=new n),c.set(this.x1,this.y1),c},getPointB:function(c){return c===void 0&&(c=new n),c.set(this.x2,this.y2),c},left:{get:function(){return Math.min(this.x1,this.x2)},set:function(c){this.x1<=this.x2?this.x1=c:this.x2=c}},right:{get:function(){return Math.max(this.x1,this.x2)},set:function(c){this.x1>this.x2?this.x1=c:this.x2=c}},top:{get:function(){return Math.min(this.y1,this.y2)},set:function(c){this.y1<=this.y2?this.y1=c:this.y2=c}},bottom:{get:function(){return Math.max(this.y1,this.y2)},set:function(c){this.y1>this.y2?this.y1=c:this.y2=c}}});r.exports=d},64795:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=i(15994),f=i(91938),l=function(a){var n=f(a)-h.TAU;return x(n,-Math.PI,Math.PI)};r.exports=l},52616:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=i(91938),f=function(l){return Math.cos(x(l)-h.TAU)};r.exports=f},87231:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=i(91938),f=function(l){return Math.sin(x(l)-h.TAU)};r.exports=f},89662:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.x1+=h,i.y1+=x,i.x2+=h,i.y2+=x,i};r.exports=C},71165:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return-((i.x2-i.x1)/(i.y2-i.y1))};r.exports=C},65822:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){l===void 0&&(l=new h);var a=Math.random();return l.x=f.x1+a*(f.x2-f.x1),l.y=f.y1+a*(f.y2-f.y1),l};r.exports=x},69777:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91938),x=i(64795),f=function(l,a){return 2*x(a)-Math.PI-h(l)};r.exports=f},39706:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(64400),x=function(f,l){var a=(f.x1+f.x2)/2,n=(f.y1+f.y2)/2;return h(f,a,n,l)};r.exports=x},82585:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(64400),x=function(f,l,a){return h(f,l.x,l.y,a)};r.exports=x},64400:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=Math.cos(f),a=Math.sin(f),n=i.x1-h,d=i.y1-x;return i.x1=n*l-d*a+h,i.y1=n*a+d*l+x,n=i.x2-h,d=i.y2-x,i.x2=n*l-d*a+h,i.y2=n*a+d*l+x,i};r.exports=C},62377:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){return i.x1=h,i.y1=x,i.x2=h+Math.cos(f)*l,i.y2=x+Math.sin(f)*l,i};r.exports=C},71366:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i.y2-i.y1)/(i.x2-i.x1)};r.exports=C},10809:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.abs(i.x1-i.x2)};r.exports=C},2529:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23031);h.Angle=i(91938),h.BresenhamPoints=i(84993),h.CenterOn=i(36469),h.Clone=i(31116),h.CopyFrom=i(59944),h.Equals=i(59220),h.Extend=i(78177),h.GetEasedPoints=i(26708),h.GetMidPoint=i(32125),h.GetNearestPoint=i(99569),h.GetNormal=i(34638),h.GetPoint=i(13151),h.GetPoints=i(15258),h.GetShortestDistance=i(26408),h.Height=i(98770),h.Length=i(35001),h.NormalAngle=i(64795),h.NormalX=i(52616),h.NormalY=i(87231),h.Offset=i(89662),h.PerpSlope=i(71165),h.Random=i(65822),h.ReflectAngle=i(69777),h.Rotate=i(39706),h.RotateAroundPoint=i(82585),h.RotateAroundXY=i(64400),h.SetToAngle=i(62377),h.Slope=i(71366),h.Width=i(10809),r.exports=h},83997:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(87841),f=i(26099);function l(n,d,c,u){var v=n-c,p=d-u,g=v*v+p*p;return Math.sqrt(g)}var a=new h({initialize:function(d,c,u){this.vertex1=d,this.vertex2=c,this.vertex3=u,this.bounds=new x,this._inCenter=new f},getInCenter:function(n){n===void 0&&(n=!0);var d=this.vertex1,c=this.vertex2,u=this.vertex3,v,p,g,m,T,P;n?(v=d.x,p=d.y,g=c.x,m=c.y,T=u.x,P=u.y):(v=d.vx,p=d.vy,g=c.vx,m=c.vy,T=u.vx,P=u.vy);var E=l(T,P,g,m),M=l(v,p,T,P),w=l(g,m,v,p),R=E+M+w;return this._inCenter.set((v*E+g*M+T*w)/R,(p*E+m*M+P*w)/R)},contains:function(n,d,c){var u=this.vertex1,v=this.vertex2,p=this.vertex3,g=u.vx,m=u.vy,T=v.vx,P=v.vy,E=p.vx,M=p.vy;if(c){var w=c.a,R=c.b,A=c.c,O=c.d,F=c.e,L=c.f;g=u.vx*w+u.vy*A+F,m=u.vx*R+u.vy*O+L,T=v.vx*w+v.vy*A+F,P=v.vx*R+v.vy*O+L,E=p.vx*w+p.vy*A+F,M=p.vx*R+p.vy*O+L}var b=E-g,D=M-m,I=T-g,k=P-m,X=n-g,W=d-m,Y=b*b+D*D,N=b*I+D*k,V=b*X+D*W,G=I*I+k*k,B=I*X+k*W,z=Y*G-N*N,U=z===0?0:1/z,H=(G*V-N*B)*U,$=(Y*B-N*V)*U;return H>=0&&$>=0&&H+$<1},isCounterClockwise:function(n){var d=this.vertex1,c=this.vertex2,u=this.vertex3,v=(c.vx-d.vx)*(u.vy-d.vy)-(c.vy-d.vy)*(u.vx-d.vx);return n<=0?v>=0:v<0},load:function(n,d,c,u,v){return c=this.vertex1.load(n,d,c,u,v),c=this.vertex2.load(n,d,c,u,v),c=this.vertex3.load(n,d,c,u,v),c},transformCoordinatesLocal:function(n,d,c,u){return this.vertex1.transformCoordinatesLocal(n,d,c,u),this.vertex2.transformCoordinatesLocal(n,d,c,u),this.vertex3.transformCoordinatesLocal(n,d,c,u),this},updateBounds:function(){var n=this.vertex1,d=this.vertex2,c=this.vertex3,u=this.bounds;return u.x=Math.min(n.vx,d.vx,c.vx),u.y=Math.min(n.vy,d.vy,c.vy),u.width=Math.max(n.vx,d.vx,c.vx)-u.x,u.height=Math.max(n.vy,d.vy,c.vy)-u.y,this},isInView:function(n,d,c,u,v,p,g,m,T,P,E){this.update(u,v,p,g,m,T,P,E);var M=this.vertex1,w=this.vertex2,R=this.vertex3;if(M.ta<=0&&w.ta<=0&&R.ta<=0||d&&!this.isCounterClockwise(c))return!1;var A=this.bounds;A.x=Math.min(M.tx,w.tx,R.tx),A.y=Math.min(M.ty,w.ty,R.ty),A.width=Math.max(M.tx,w.tx,R.tx)-A.x,A.height=Math.max(M.ty,w.ty,R.ty)-A.y;var O=n.x+n.width,F=n.y+n.height;return A.width<=0||A.height<=0||n.width<=0||n.height<=0?!1:!(A.right<n.x||A.bottom<n.y||A.x>O||A.y>F)},scrollUV:function(n,d){return this.vertex1.scrollUV(n,d),this.vertex2.scrollUV(n,d),this.vertex3.scrollUV(n,d),this},scaleUV:function(n,d){return this.vertex1.scaleUV(n,d),this.vertex2.scaleUV(n,d),this.vertex3.scaleUV(n,d),this},setColor:function(n){return this.vertex1.color=n,this.vertex2.color=n,this.vertex3.color=n,this},update:function(n,d,c,u,v,p,g,m){return this.vertex1.update(d,c,u,v,p,g,m,n),this.vertex2.update(d,c,u,v,p,g,m,n),this.vertex3.update(d,c,u,v,p,g,m,n),this},translate:function(n,d){d===void 0&&(d=0);var c=this.vertex1,u=this.vertex2,v=this.vertex3;return c.x+=n,c.y+=d,u.x+=n,u.y+=d,v.x+=n,v.y+=d,this},x:{get:function(){return this.getInCenter().x},set:function(n){var d=this.getInCenter();this.translate(n-d.x,0)}},y:{get:function(){return this.getInCenter().y},set:function(n){var d=this.getInCenter();this.translate(0,n-d.y)}},alpha:{get:function(){var n=this.vertex1,d=this.vertex2,c=this.vertex3;return(n.alpha+d.alpha+c.alpha)/3},set:function(n){this.vertex1.alpha=n,this.vertex2.alpha=n,this.vertex3.alpha=n}},depth:{get:function(){var n=this.vertex1,d=this.vertex2,c=this.vertex3;return(n.vz+d.vz+c.vz)/3}},destroy:function(){this.vertex1=null,this.vertex2=null,this.vertex3=null}});r.exports=a},48803:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83997),x=i(95540),f=i(37867),l=i(25836),a=i(39318),n=new l,d=new l,c=new f,u=function(v){var p=x(v,"mesh"),g=x(v,"texture",null),m=x(v,"frame"),T=x(v,"width",1),P=x(v,"height",T),E=x(v,"widthSegments",1),M=x(v,"heightSegments",E),w=x(v,"x",0),R=x(v,"y",0),A=x(v,"z",0),O=x(v,"rotateX",0),F=x(v,"rotateY",0),L=x(v,"rotateZ",0),b=x(v,"zIsUp",!0),D=x(v,"isOrtho",p?p.dirtyCache[11]:!1),I=x(v,"colors",[16777215]),k=x(v,"alphas",[1]),X=x(v,"tile",!1),W=x(v,"flipY",!1),Y=x(v,"width",null),N={faces:[],verts:[]};n.set(w,R,A),d.set(O,F,L),c.fromRotationXYTranslation(d,n,b);var V;if(!g&&p)g=p.texture,m||(V=p.frame);else if(p&&typeof g=="string")g=p.scene.sys.textures.get(g);else if(!g)return N;V||(V=g.get(m)),!Y&&D&&g&&p&&(T=V.width/p.height,P=V.height/p.height);var G=T/2,B=P/2,z=Math.floor(E),U=Math.floor(M),H=z+1,$=U+1,K=T/z,Z=P/U,J=[],Q=[],j,tt,it=0,q=1,ht=0,ot=1;V&&(it=V.u0,q=V.u1,W?(ht=V.v1,ot=V.v0):(ht=V.v0,ot=V.v1));var lt=q-it,_=ot-ht;for(tt=0;tt<$;tt++){var nt=tt*Z-B;for(j=0;j<H;j++){var at=j*K-G;Q.push(at,-nt);var ct=it+lt*(j/z),Ct=ht+_*(tt/U);J.push(ct,Ct)}}Array.isArray(I)||(I=[I]),Array.isArray(k)||(k=[k]);var Ft=0,xt=0;for(tt=0;tt<U;tt++)for(j=0;j<z;j++){var St=(j+H*tt)*2,Gt=(j+H*(tt+1))*2,se=(j+1+H*(tt+1))*2,bt=(j+1+H*tt)*2,Nt=I[xt],Ut=k[Ft],ye=new a(Q[St],Q[St+1],0,J[St],J[St+1],Nt,Ut).transformMat4(c),Gs=new a(Q[Gt],Q[Gt+1],0,J[Gt],J[Gt+1],Nt,Ut).transformMat4(c),Ns=new a(Q[bt],Q[bt+1],0,J[bt],J[bt+1],Nt,Ut).transformMat4(c),ks=new a(Q[Gt],Q[Gt+1],0,J[Gt],J[Gt+1],Nt,Ut).transformMat4(c),Vs=new a(Q[se],Q[se+1],0,J[se],J[se+1],Nt,Ut).transformMat4(c),zs=new a(Q[bt],Q[bt+1],0,J[bt],J[bt+1],Nt,Ut).transformMat4(c);X&&(ye.setUVs(it,ot),Gs.setUVs(it,ht),Ns.setUVs(q,ot),ks.setUVs(it,ht),Vs.setUVs(q,ht),zs.setUVs(q,ot)),xt++,xt===I.length&&(xt=0),Ft++,Ft===k.length&&(Ft=0),N.verts.push(ye,Gs,Ns,ks,Vs,zs),N.faces.push(new h(ye,Gs,Ns),new h(ks,Vs,zs))}return p&&(p.faces=p.faces.concat(N.faces),p.vertices=p.vertices.concat(N.verts)),N};r.exports=u},34684:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83997),x=i(37867),f=i(25836),l=i(39318),a=new f,n=new f,d=new x,c=function(u,v,p,g,m,T,P,E,M,w){p===void 0&&(p=1),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),P===void 0&&(P=0),E===void 0&&(E=0),M===void 0&&(M=0),w===void 0&&(w=!0);var R={faces:[],verts:[]},A=u.materials;a.set(g,m,T),n.set(P,E,M),d.fromRotationXYTranslation(n,a,w);for(var O=0;O<u.models.length;O++)for(var F=u.models[O],L=F.vertices,b=F.textureCoords,D=F.faces,I=0;I<D.length;I++){var k=D[I],X=k.vertices[0],W=k.vertices[1],Y=k.vertices[2],N=L[X.vertexIndex],V=L[W.vertexIndex],G=L[Y.vertexIndex],B=X.textureCoordsIndex,z=W.textureCoordsIndex,U=Y.textureCoordsIndex,H=B===-1?{u:0,v:1}:b[B],$=z===-1?{u:0,v:0}:b[z],K=U===-1?{u:1,v:1}:b[U],Z=16777215;k.material!==""&&A[k.material]&&(Z=A[k.material]);var J=new l(N.x*p,N.y*p,N.z*p,H.u,H.v,Z).transformMat4(d),Q=new l(V.x*p,V.y*p,V.z*p,$.u,$.v,Z).transformMat4(d),j=new l(G.x*p,G.y*p,G.z*p,K.u,K.v,Z).transformMat4(d);R.verts.push(J,Q,j),R.faces.push(new h(J,Q,j))}return v&&(v.faces=v.faces.concat(R.faces),v.vertices=v.vertices.concat(R.verts)),R};r.exports=c},92515:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83997),x=i(39318),f=function(l,a,n,d,c,u,v,p){if(d===void 0&&(d=!1),u===void 0&&(u=16777215),v===void 0&&(v=1),p===void 0&&(p=!1),l.length!==a.length&&!d){console.warn("GenerateVerts: vertices and uvs count not equal");return}var g={faces:[],vertices:[]},m,T,P,E,M,w,R,A,O,F,L,b=d?3:2,D=Array.isArray(u),I=Array.isArray(v);if(Array.isArray(n)&&n.length>0)for(m=0;m<n.length;m++){var k=n[m],X=n[m]*2,W=n[m]*b;T=l[W],P=l[W+1],E=d?l[W+2]:0,M=a[X],w=a[X+1],p&&(w=1-w),R=D?u[k]:u,A=I?v[k]:v,O=0,F=0,L=0,c&&(O=c[W],F=c[W+1],L=d?c[W+2]:0),g.vertices.push(new x(T,P,E,M,w,R,A,O,F,L))}else{var Y=0,N=0;for(m=0;m<l.length;m+=b)T=l[m],P=l[m+1],E=d?l[m+2]:0,M=a[Y],w=a[Y+1],R=D?u[N]:u,A=I?v[N]:v,O=0,F=0,L=0,c&&(O=c[m],F=c[m+1],L=d?c[m+2]:0),g.vertices.push(new x(T,P,E,M,w,R,A,O,F,L)),Y+=2,N++}for(m=0;m<g.vertices.length;m+=3){var V=g.vertices[m],G=g.vertices[m+1],B=g.vertices[m+2];g.faces.push(new h(V,G,B))}return g};r.exports=f},85048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=!0,i="untitled",h="",x="";function f(T){var P=T.indexOf("#");return P>-1?T.substring(0,P):T}function l(T){return T.models.length===0&&T.models.push({faces:[],name:i,textureCoords:[],vertexNormals:[],vertices:[]}),h="",T.models[T.models.length-1]}function a(T,P){var E=T.length>=2?T[1]:i;P.models.push({faces:[],name:E,textureCoords:[],vertexNormals:[],vertices:[]}),h=""}function n(T){T.length===2&&(h=T[1])}function d(T,P){var E=T.length,M=E>=2?parseFloat(T[1]):0,w=E>=3?parseFloat(T[2]):0,R=E>=4?parseFloat(T[3]):0;l(P).vertices.push({x:M,y:w,z:R})}function c(T,P){var E=T.length,M=E>=2?parseFloat(T[1]):0,w=E>=3?parseFloat(T[2]):0,R=E>=4?parseFloat(T[3]):0;isNaN(M)&&(M=0),isNaN(w)&&(w=0),isNaN(R)&&(R=0),C&&(w=1-w),l(P).textureCoords.push({u:M,v:w,w:R})}function u(T,P){var E=T.length,M=E>=2?parseFloat(T[1]):0,w=E>=3?parseFloat(T[2]):0,R=E>=4?parseFloat(T[3]):0;l(P).vertexNormals.push({x:M,y:w,z:R})}function v(T,P){var E=T.length-1;if(!(E<3)){for(var M={group:h,material:x,vertices:[]},w=0;w<E;w++){var R=T[w+1],A=R.split("/"),O=A.length;if(!(O<1||O>3)){var F=0,L=0,b=0;F=parseInt(A[0],10),O>1&&A[1]!==""&&(L=parseInt(A[1],10)),O>2&&(b=parseInt(A[2],10)),F!==0&&(F<0&&(F=l(P).vertices.length+1+F),L-=1,F-=1,b-=1,M.vertices.push({textureCoordsIndex:L,vertexIndex:F,vertexNormalIndex:b}))}}l(P).faces.push(M)}}function p(T,P){T.length>=2&&P.materialLibraries.push(T[1])}function g(T){T.length>=2&&(x=T[1])}var m=function(T,P){P===void 0&&(P=!0),C=P;var E={materials:{},materialLibraries:[],models:[]};h="",x="";for(var M=T.split(`
`),w=0;w<M.length;w++){var R=f(M[w]),A=R.replace(/\s\s+/g," ").trim().split(" ");switch(A[0].toLowerCase()){case"o":a(A,E);break;case"g":n(A);break;case"v":d(A,E);break;case"vt":c(A,E);break;case"vn":u(A,E);break;case"f":v(A,E);break;case"mtllib":p(A,E);break;case"usemtl":g(A);break}}return E};r.exports=m},61485:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37589),x=function(f){for(var l={},a=f.split(`
`),n="",d=0;d<a.length;d++){var c=a[d].trim();if(!(c.indexOf("#")===0||c==="")){var u=c.replace(/\s\s+/g," ").trim().split(" ");switch(u[0].toLowerCase()){case"newmtl":{n=u[1];break}case"kd":{var v=Math.floor(u[1]*255),p=u.length>=2?Math.floor(u[2]*255):v,g=u.length>=3?Math.floor(u[3]*255):v;l[n]=h(v,p,g);break}}}}return l};r.exports=x},92570:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l,a;if(x===void 0&&f===void 0){var n=i.getInCenter();l=n.x,a=n.y}var d=Math.cos(h),c=Math.sin(h),u=i.vertex1,v=i.vertex2,p=i.vertex3,g=u.x-l,m=u.y-a;u.set(g*d-m*c+l,g*c+m*d+a),g=v.x-l,m=v.y-a,v.set(g*d-m*c+l,g*c+m*d+a),g=p.x-l,m=p.y-a,p.set(g*d-m*c+l,g*c+m*d+a)};r.exports=C},39318:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(70554),f=i(25836),l=new h({Extends:f,initialize:function(n,d,c,u,v,p,g,m,T,P){p===void 0&&(p=16777215),g===void 0&&(g=1),m===void 0&&(m=0),T===void 0&&(T=0),P===void 0&&(P=0),f.call(this,n,d,c),this.vx=0,this.vy=0,this.vz=0,this.nx=m,this.ny=T,this.nz=P,this.u=u,this.v=v,this.color=p,this.alpha=g,this.tx=0,this.ty=0,this.ta=0,this.tu=u,this.tv=v},setUVs:function(a,n){return this.u=a,this.v=n,this.tu=a,this.tv=n,this},scrollUV:function(a,n){return this.tu+=a,this.tv+=n,this},scaleUV:function(a,n){return this.tu=this.u*a,this.tv=this.v*n,this},transformCoordinatesLocal:function(a,n,d,c){var u=this.x,v=this.y,p=this.z,g=a.val,m=u*g[0]+v*g[4]+p*g[8]+g[12],T=u*g[1]+v*g[5]+p*g[9]+g[13],P=u*g[2]+v*g[6]+p*g[10]+g[14],E=u*g[3]+v*g[7]+p*g[11]+g[15];this.vx=m/E*n,this.vy=-(T/E)*d,c<=0?this.vz=P/E:this.vz=-(P/E)},resize:function(a,n,d,c,u,v){return this.x=a,this.y=n,this.vx=this.x*d,this.vy=-this.y*c,this.vz=0,u<.5?this.vx+=d*(.5-u):u>.5&&(this.vx-=d*(u-.5)),v<.5?this.vy+=c*(.5-v):v>.5&&(this.vy-=c*(v-.5)),this},update:function(a,n,d,c,u,v,p,g){var m=this.vx*a+this.vy*d+u,T=this.vx*n+this.vy*c+v;return p&&(m=Math.round(m),T=Math.round(T)),this.tx=m,this.ty=T,this.ta=this.alpha*g,this},load:function(a,n,d,c,u){return a[++d]=this.tx,a[++d]=this.ty,a[++d]=this.tu,a[++d]=this.tv,a[++d]=c,a[++d]=u,n[++d]=x.getTintAppendFloatAlpha(this.color,this.ta),d}});r.exports=l},73090:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Face:i(83997),GenerateGridVerts:i(48803),GenerateObjVerts:i(34684),GenerateVerts:i(92515),ParseObj:i(85048),ParseObjMaterial:i(61485),RotateFace:i(92570),Vertex:i(39318)};r.exports=h},96550:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.setTo(Math.ceil(i.x),Math.ceil(i.y))};r.exports=C},99706:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f){return new h(f.x,f.y)};r.exports=x},68010:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.setTo(i.x,i.y)};r.exports=C},27814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x===h.x&&i.y===h.y};r.exports=C},73565:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.setTo(Math.floor(i.x),Math.floor(i.y))};r.exports=C},87555:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){if(l===void 0&&(l=new h),!Array.isArray(f))throw new Error("GetCentroid points argument must be an array");var a=f.length;if(a<1)throw new Error("GetCentroid points array must not be empty");if(a===1)l.x=f[0].x,l.y=f[0].y;else{for(var n=0;n<a;n++)l.x+=f[n].x,l.y+=f[n].y;l.x/=a,l.y/=a}return l};r.exports=x},28793:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)};r.exports=C},44405:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x*i.x+i.y*i.y};r.exports=C},20873:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f,l){l===void 0&&(l=new h);for(var a=Number.NEGATIVE_INFINITY,n=Number.POSITIVE_INFINITY,d=Number.NEGATIVE_INFINITY,c=Number.POSITIVE_INFINITY,u=0;u<f.length;u++){var v=f[u];v.x>a&&(a=v.x),v.x<n&&(n=v.x),v.y>d&&(d=v.y),v.y<c&&(c=v.y)}return l.x=n,l.y=c,l.width=a-n,l.height=d-c,l};r.exports=x},26152:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l,a,n){return a===void 0&&(a=0),n===void 0&&(n=new h),n.x=f.x+(l.x-f.x)*a,n.y=f.y+(l.y-f.y)*a,n};r.exports=x},55767:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.setTo(i.y,i.x)};r.exports=C},79432:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){return l===void 0&&(l=new h),l.setTo(-f.x,-f.y)};r.exports=x},2141:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23777),f=new h({initialize:function(a,n){a===void 0&&(a=0),n===void 0&&(n=a),this.type=x.POINT,this.x=a,this.y=n},setTo:function(l,a){return l===void 0&&(l=0),a===void 0&&(a=l),this.x=l,this.y=a,this}});r.exports=f},72930:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(44405),f=function(l,a,n){n===void 0&&(n=new h);var d=l.x*a.x+l.y*a.y,c=d/x(a);return c!==0&&(n.x=c*a.x,n.y=c*a.y),n};r.exports=f},62880:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l,a){a===void 0&&(a=new h);var n=f.x*l.x+f.y*l.y;return n!==0&&(a.x=n*l.x,a.y=n*l.y),a};r.exports=x},15093:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28793),x=function(f,l){if(f.x!==0||f.y!==0){var a=h(f);f.x/=a,f.y/=a}return f.x*=l,f.y*=l,f};r.exports=x},43711:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141);h.Ceil=i(96550),h.Clone=i(99706),h.CopyFrom=i(68010),h.Equals=i(27814),h.Floor=i(73565),h.GetCentroid=i(87555),h.GetMagnitude=i(28793),h.GetMagnitudeSq=i(44405),h.GetRectangleFromPoints=i(20873),h.Interpolate=i(26152),h.Invert=i(55767),h.Negative=i(79432),h.Project=i(72930),h.ProjectUnit=i(62880),h.SetMagnitude=i(15093),r.exports=h},12306:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25717),x=function(f){return new h(f.points)};r.exports=x},63814:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){for(var f=!1,l=-1,a=i.points.length-1;++l<i.points.length;a=l){var n=i.points[l].x,d=i.points[l].y,c=i.points[a].x,u=i.points[a].y;(d<=x&&x<u||u<=x&&x<d)&&h<(c-n)*(x-d)/(u-d)+n&&(f=!f)}return f};r.exports=C},99338:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63814),x=function(f,l){return h(f,l.x,l.y)};r.exports=x},94811:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(N,V,G){G=G||2;var B=V&&V.length,z=B?V[0]*G:N.length,U=i(N,0,z,G,!0),H=[];if(!U||U.next===U.prev)return H;var $,K,Z,J,Q,j,tt;if(B&&(U=d(N,V,U,G)),N.length>80*G){$=Z=N[0],K=J=N[1];for(var it=G;it<z;it+=G)Q=N[it],j=N[it+1],Q<$&&($=Q),j<K&&(K=j),Q>Z&&(Z=Q),j>J&&(J=j);tt=Math.max(Z-$,J-K),tt=tt!==0?32767/tt:0}return x(U,H,G,$,K,tt,0),H}function i(N,V,G,B,z){var U,H;if(z===Y(N,V,G,B)>0)for(U=V;U<G;U+=B)H=k(U,N[U],N[U+1],H);else for(U=G-B;U>=V;U-=B)H=k(U,N[U],N[U+1],H);return H&&R(H,H.next)&&(X(H),H=H.next),H}function h(N,V){if(!N)return N;V||(V=N);var G=N,B;do if(B=!1,!G.steiner&&(R(G,G.next)||w(G.prev,G,G.next)===0)){if(X(G),G=V=G.prev,G===G.next)break;B=!0}else G=G.next;while(B||G!==V);return V}function x(N,V,G,B,z,U,H){if(N){!H&&U&&g(N,B,z,U);for(var $=N,K,Z;N.prev!==N.next;){if(K=N.prev,Z=N.next,U?l(N,B,z,U):f(N)){V.push(K.i/G|0),V.push(N.i/G|0),V.push(Z.i/G|0),X(N),N=Z.next,$=Z.next;continue}if(N=Z,N===$){H?H===1?(N=a(h(N),V,G),x(N,V,G,B,z,U,2)):H===2&&n(N,V,G,B,z,U):x(h(N),V,G,B,z,U,1);break}}}}function f(N){var V=N.prev,G=N,B=N.next;if(w(V,G,B)>=0)return!1;for(var z=V.x,U=G.x,H=B.x,$=V.y,K=G.y,Z=B.y,J=z<U?z<H?z:H:U<H?U:H,Q=$<K?$<Z?$:Z:K<Z?K:Z,j=z>U?z>H?z:H:U>H?U:H,tt=$>K?$>Z?$:Z:K>Z?K:Z,it=B.next;it!==V;){if(it.x>=J&&it.x<=j&&it.y>=Q&&it.y<=tt&&E(z,$,U,K,H,Z,it.x,it.y)&&w(it.prev,it,it.next)>=0)return!1;it=it.next}return!0}function l(N,V,G,B){var z=N.prev,U=N,H=N.next;if(w(z,U,H)>=0)return!1;for(var $=z.x,K=U.x,Z=H.x,J=z.y,Q=U.y,j=H.y,tt=$<K?$<Z?$:Z:K<Z?K:Z,it=J<Q?J<j?J:j:Q<j?Q:j,q=$>K?$>Z?$:Z:K>Z?K:Z,ht=J>Q?J>j?J:j:Q>j?Q:j,ot=T(tt,it,V,G,B),lt=T(q,ht,V,G,B),_=N.prevZ,nt=N.nextZ;_&&_.z>=ot&&nt&&nt.z<=lt;){if(_.x>=tt&&_.x<=q&&_.y>=it&&_.y<=ht&&_!==z&&_!==H&&E($,J,K,Q,Z,j,_.x,_.y)&&w(_.prev,_,_.next)>=0||(_=_.prevZ,nt.x>=tt&&nt.x<=q&&nt.y>=it&&nt.y<=ht&&nt!==z&&nt!==H&&E($,J,K,Q,Z,j,nt.x,nt.y)&&w(nt.prev,nt,nt.next)>=0))return!1;nt=nt.nextZ}for(;_&&_.z>=ot;){if(_.x>=tt&&_.x<=q&&_.y>=it&&_.y<=ht&&_!==z&&_!==H&&E($,J,K,Q,Z,j,_.x,_.y)&&w(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;nt&&nt.z<=lt;){if(nt.x>=tt&&nt.x<=q&&nt.y>=it&&nt.y<=ht&&nt!==z&&nt!==H&&E($,J,K,Q,Z,j,nt.x,nt.y)&&w(nt.prev,nt,nt.next)>=0)return!1;nt=nt.nextZ}return!0}function a(N,V,G){var B=N;do{var z=B.prev,U=B.next.next;!R(z,U)&&A(z,B,B.next,U)&&b(z,U)&&b(U,z)&&(V.push(z.i/G|0),V.push(B.i/G|0),V.push(U.i/G|0),X(B),X(B.next),B=N=U),B=B.next}while(B!==N);return h(B)}function n(N,V,G,B,z,U){var H=N;do{for(var $=H.next.next;$!==H.prev;){if(H.i!==$.i&&M(H,$)){var K=I(H,$);H=h(H,H.next),K=h(K,K.next),x(H,V,G,B,z,U,0),x(K,V,G,B,z,U,0);return}$=$.next}H=H.next}while(H!==N)}function d(N,V,G,B){var z=[],U,H,$,K,Z;for(U=0,H=V.length;U<H;U++)$=V[U]*B,K=U<H-1?V[U+1]*B:N.length,Z=i(N,$,K,B,!1),Z===Z.next&&(Z.steiner=!0),z.push(P(Z));for(z.sort(c),U=0;U<z.length;U++)G=u(z[U],G);return G}function c(N,V){return N.x-V.x}function u(N,V){var G=v(N,V);if(!G)return V;var B=I(G,N);return h(B,B.next),h(G,G.next)}function v(N,V){var G=V,B=N.x,z=N.y,U=-1/0,H;do{if(z<=G.y&&z>=G.next.y&&G.next.y!==G.y){var $=G.x+(z-G.y)*(G.next.x-G.x)/(G.next.y-G.y);if($<=B&&$>U&&(U=$,H=G.x<G.next.x?G:G.next,$===B))return H}G=G.next}while(G!==V);if(!H)return null;var K=H,Z=H.x,J=H.y,Q=1/0,j;G=H;do B>=G.x&&G.x>=Z&&B!==G.x&&E(z<J?B:U,z,Z,J,z<J?U:B,z,G.x,G.y)&&(j=Math.abs(z-G.y)/(B-G.x),b(G,N)&&(j<Q||j===Q&&(G.x>H.x||G.x===H.x&&p(H,G)))&&(H=G,Q=j)),G=G.next;while(G!==K);return H}function p(N,V){return w(N.prev,N,V.prev)<0&&w(V.next,N,N.next)<0}function g(N,V,G,B){var z=N;do z.z===0&&(z.z=T(z.x,z.y,V,G,B)),z.prevZ=z.prev,z.nextZ=z.next,z=z.next;while(z!==N);z.prevZ.nextZ=null,z.prevZ=null,m(z)}function m(N){var V,G,B,z,U,H,$,K,Z=1;do{for(G=N,N=null,U=null,H=0;G;){for(H++,B=G,$=0,V=0;V<Z&&($++,B=B.nextZ,!!B);V++);for(K=Z;$>0||K>0&&B;)$!==0&&(K===0||!B||G.z<=B.z)?(z=G,G=G.nextZ,$--):(z=B,B=B.nextZ,K--),U?U.nextZ=z:N=z,z.prevZ=U,U=z;G=B}U.nextZ=null,Z*=2}while(H>1);return N}function T(N,V,G,B,z){return N=(N-G)*z|0,V=(V-B)*z|0,N=(N|N<<8)&16711935,N=(N|N<<4)&252645135,N=(N|N<<2)&858993459,N=(N|N<<1)&1431655765,V=(V|V<<8)&16711935,V=(V|V<<4)&252645135,V=(V|V<<2)&858993459,V=(V|V<<1)&1431655765,N|V<<1}function P(N){var V=N,G=N;do(V.x<G.x||V.x===G.x&&V.y<G.y)&&(G=V),V=V.next;while(V!==N);return G}function E(N,V,G,B,z,U,H,$){return(z-H)*(V-$)>=(N-H)*(U-$)&&(N-H)*(B-$)>=(G-H)*(V-$)&&(G-H)*(U-$)>=(z-H)*(B-$)}function M(N,V){return N.next.i!==V.i&&N.prev.i!==V.i&&!L(N,V)&&(b(N,V)&&b(V,N)&&D(N,V)&&(w(N.prev,N,V.prev)||w(N,V.prev,V))||R(N,V)&&w(N.prev,N,N.next)>0&&w(V.prev,V,V.next)>0)}function w(N,V,G){return(V.y-N.y)*(G.x-V.x)-(V.x-N.x)*(G.y-V.y)}function R(N,V){return N.x===V.x&&N.y===V.y}function A(N,V,G,B){var z=F(w(N,V,G)),U=F(w(N,V,B)),H=F(w(G,B,N)),$=F(w(G,B,V));return!!(z!==U&&H!==$||z===0&&O(N,G,V)||U===0&&O(N,B,V)||H===0&&O(G,N,B)||$===0&&O(G,V,B))}function O(N,V,G){return V.x<=Math.max(N.x,G.x)&&V.x>=Math.min(N.x,G.x)&&V.y<=Math.max(N.y,G.y)&&V.y>=Math.min(N.y,G.y)}function F(N){return N>0?1:N<0?-1:0}function L(N,V){var G=N;do{if(G.i!==N.i&&G.next.i!==N.i&&G.i!==V.i&&G.next.i!==V.i&&A(G,G.next,N,V))return!0;G=G.next}while(G!==N);return!1}function b(N,V){return w(N.prev,N,N.next)<0?w(N,V,N.next)>=0&&w(N,N.prev,V)>=0:w(N,V,N.prev)<0||w(N,N.next,V)<0}function D(N,V){var G=N,B=!1,z=(N.x+V.x)/2,U=(N.y+V.y)/2;do G.y>U!=G.next.y>U&&G.next.y!==G.y&&z<(G.next.x-G.x)*(U-G.y)/(G.next.y-G.y)+G.x&&(B=!B),G=G.next;while(G!==N);return B}function I(N,V){var G=new W(N.i,N.x,N.y),B=new W(V.i,V.x,V.y),z=N.next,U=V.prev;return N.next=V,V.prev=N,G.next=z,z.prev=G,B.next=G,G.prev=B,U.next=B,B.prev=U,B}function k(N,V,G,B){var z=new W(N,V,G);return B?(z.next=B.next,z.prev=B,B.next.prev=z,B.next=z):(z.prev=z,z.next=z),z}function X(N){N.next.prev=N.prev,N.prev.next=N.next,N.prevZ&&(N.prevZ.nextZ=N.nextZ),N.nextZ&&(N.nextZ.prevZ=N.prevZ)}function W(N,V,G){this.i=N,this.x=V,this.y=G,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}C.deviation=function(N,V,G,B){var z=V&&V.length,U=z?V[0]*G:N.length,H=Math.abs(Y(N,0,U,G));if(z)for(var $=0,K=V.length;$<K;$++){var Z=V[$]*G,J=$<K-1?V[$+1]*G:N.length;H-=Math.abs(Y(N,Z,J,G))}var Q=0;for($=0;$<B.length;$+=3){var j=B[$]*G,tt=B[$+1]*G,it=B[$+2]*G;Q+=Math.abs((N[j]-N[it])*(N[tt+1]-N[j+1])-(N[j]-N[tt])*(N[it+1]-N[j+1]))}return H===0&&Q===0?0:Math.abs((Q-H)/H)};function Y(N,V,G,B){for(var z=0,U=V,H=G-B;U<G;U+=B)z+=(N[H]-N[U])*(N[U+1]+N[H+1]),H=U;return z}C.flatten=function(N){for(var V=N[0][0].length,G={vertices:[],holes:[],dimensions:V},B=0,z=0;z<N.length;z++){for(var U=0;U<N[z].length;U++)for(var H=0;H<V;H++)G.vertices.push(N[z][U][H]);z>0&&(B+=N[z-1].length,G.holes.push(B))}return G},r.exports=C},13829:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f,l){l===void 0&&(l=new h);for(var a=1/0,n=1/0,d=-a,c=-n,u,v=0;v<f.points.length;v++)u=f.points[v],a=Math.min(a,u.x),n=Math.min(n,u.y),d=Math.max(d,u.x),c=Math.max(c,u.y);return l.x=a,l.y=n,l.width=d-a,l.height=c-n,l};r.exports=x},26173:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=[]);for(var x=0;x<i.points.length;x++)h.push(i.points[x].x),h.push(i.points[x].y);return h};r.exports=C},9564:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),x=i(23031),f=i(30052),l=function(a,n,d,c){c===void 0&&(c=[]);var u=a.points,v=f(a);!n&&d>0&&(n=v/d);for(var p=0;p<n;p++)for(var g=v*(p/n),m=0,T=0;T<u.length;T++){var P=u[T],E=u[(T+1)%u.length],M=new x(P.x,P.y,E.x,E.y),w=h(M);if(g<m||g>m+w){m+=w;continue}var R=M.getPoint((g-m)/w);c.push(R);break}return c};r.exports=l},30052:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),x=i(23031),f=function(l){for(var a=l.points,n=0,d=0;d<a.length;d++){var c=a[d],u=a[(d+1)%a.length],v=new x(c.x,c.y,u.x,u.y);n+=h(v)}return n};r.exports=f},25717:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(63814),f=i(9564),l=i(23777),a=new h({initialize:function(d){this.type=l.POLYGON,this.area=0,this.points=[],d&&this.setTo(d)},contains:function(n,d){return x(this,n,d)},setTo:function(n){if(this.area=0,this.points=[],typeof n=="string"&&(n=n.split(" ")),!Array.isArray(n))return this;for(var d,c=0;c<n.length;c++)d={x:0,y:0},typeof n[c]=="number"||typeof n[c]=="string"?(d.x=parseFloat(n[c]),d.y=parseFloat(n[c+1]),c++):Array.isArray(n[c])?(d.x=n[c][0],d.y=n[c][1]):(d.x=n[c].x,d.y=n[c].y),this.points.push(d);return this.calculateArea(),this},calculateArea:function(){if(this.points.length<3)return this.area=0,this.area;for(var n=0,d,c,u=0;u<this.points.length-1;u++)d=this.points[u],c=this.points[u+1],n+=(c.x-d.x)*(d.y+c.y);return d=this.points[0],c=this.points[this.points.length-1],n+=(d.x-c.x)*(c.y+d.y),this.area=-n*.5,this.area},getPoints:function(n,d,c){return f(this,n,d,c)}});r.exports=a},8133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.points.reverse(),i};r.exports=C},29524:r=>{function C(a,n){var d=a.x-n.x,c=a.y-n.y;return d*d+c*c}function i(a,n,d){var c=n.x,u=n.y,v=d.x-c,p=d.y-u;if(v!==0||p!==0){var g=((a.x-c)*v+(a.y-u)*p)/(v*v+p*p);g>1?(c=d.x,u=d.y):g>0&&(c+=v*g,u+=p*g)}return v=a.x-c,p=a.y-u,v*v+p*p}function h(a,n){for(var d=a[0],c=[d],u,v=1,p=a.length;v<p;v++)u=a[v],C(u,d)>n&&(c.push(u),d=u);return d!==u&&c.push(u),c}function x(a,n,d,c,u){for(var v=c,p,g=n+1;g<d;g++){var m=i(a[g],a[n],a[d]);m>v&&(p=g,v=m)}v>c&&(p-n>1&&x(a,n,p,c,u),u.push(a[p]),d-p>1&&x(a,p,d,c,u))}function f(a,n){var d=a.length-1,c=[a[0]];return x(a,0,d,n,c),c.push(a[d]),c}var l=function(a,n,d){n===void 0&&(n=1),d===void 0&&(d=!1);var c=a.points;if(c.length>2){var u=n*n;d||(c=h(c,u)),a.setTo(f(c,u))}return a};r.exports=l},5469:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Igor Ognichenko <ognichenko.igor@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(h,x){return h[0]=x[0],h[1]=x[1],h},i=function(h){var x,f=[],l=h.points;for(x=0;x<l.length;x++)f.push([l[x].x,l[x].y]);var a=[];for(f.length>0&&a.push(C([0,0],f[0])),x=0;x<f.length-1;x++){var n=f[x],d=f[x+1],c=n[0],u=n[1],v=d[0],p=d[1];a.push([.85*c+.15*v,.85*u+.15*p]),a.push([.15*c+.85*v,.15*u+.85*p])}return f.length>1&&a.push(C([0,0],f[f.length-1])),h.setTo(a)};r.exports=i},24709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){for(var f=i.points,l=0;l<f.length;l++)f[l].x+=h,f[l].y+=x;return i};r.exports=C},58423:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25717);h.Clone=i(12306),h.Contains=i(63814),h.ContainsPoint=i(99338),h.Earcut=i(94811),h.GetAABB=i(13829),h.GetNumberArray=i(26173),h.GetPoints=i(9564),h.Perimeter=i(30052),h.Reverse=i(8133),h.Simplify=i(29524),h.Smooth=i(5469),h.Translate=i(24709),r.exports=h},62224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.width*i.height};r.exports=C},98615:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i};r.exports=C},31688:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x=Math.ceil(i.x),i.y=Math.ceil(i.y),i.width=Math.ceil(i.width),i.height=Math.ceil(i.height),i};r.exports=C},67502:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.x=h-i.width/2,i.y=x-i.height/2,i};r.exports=C},65085:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f){return new h(f.x,f.y,f.width,f.height)};r.exports=x},37303:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.width<=0||i.height<=0?!1:i.x<=h&&i.x+i.width>=h&&i.y<=x&&i.y+i.height>=x};r.exports=C},96553:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37303),x=function(f,l){return h(f,l.x,l.y)};r.exports=x},70273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.width*h.height>i.width*i.height?!1:h.x>i.x&&h.x<i.right&&h.right>i.x&&h.right<i.right&&h.y>i.y&&h.y<i.bottom&&h.bottom>i.y&&h.bottom<i.bottom};r.exports=C},43459:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.setTo(i.x,i.y,i.width,i.height)};r.exports=C},77493:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=[]),h.push({x:i.x,y:i.y}),h.push({x:i.right,y:i.y}),h.push({x:i.right,y:i.bottom}),h.push({x:i.x,y:i.bottom}),h};r.exports=C},9219:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x===h.x&&i.y===h.y&&i.width===h.width&&i.height===h.height};r.exports=C},53751:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8249),x=function(f,l){var a=h(f);return a<h(l)?f.setSize(l.height*a,l.height):f.setSize(l.width,l.width/a),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};r.exports=x},16088:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(8249),x=function(f,l){var a=h(f);return a>h(l)?f.setSize(l.height*a,l.height):f.setSize(l.width,l.width/a),f.setPosition(l.centerX-f.width/2,l.centerY-f.height/2)};r.exports=x},80774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i};r.exports=C},83859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.x=Math.floor(i.x),i.y=Math.floor(i.y),i.width=Math.floor(i.width),i.height=Math.floor(i.height),i};r.exports=C},19217:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=i(36383),f=function(l,a){if(a===void 0&&(a=new h),l.length===0)return a;for(var n=Number.MAX_VALUE,d=Number.MAX_VALUE,c=x.MIN_SAFE_INTEGER,u=x.MIN_SAFE_INTEGER,v,p,g,m=0;m<l.length;m++)v=l[m],Array.isArray(v)?(p=v[0],g=v[1]):(p=v.x,g=v.y),n=Math.min(n,p),d=Math.min(d,g),c=Math.max(c,p),u=Math.max(u,g);return a.x=n,a.y=d,a.width=c-n,a.height=u-d,a};r.exports=f},9477:(r,C,i)=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f,l,a,n,d){return d===void 0&&(d=new h),d.setTo(Math.min(f,a),Math.min(l,n),Math.abs(f-a),Math.abs(l-n))};r.exports=x},8249:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.height===0?NaN:i.width/i.height};r.exports=C},27165:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){return l===void 0&&(l=new h),l.x=f.centerX,l.y=f.centerY,l};r.exports=x},20812:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13019),x=i(2141),f=function(l,a,n){if(n===void 0&&(n=new x),a<=0||a>=1)return n.x=l.x,n.y=l.y,n;var d=h(l)*a;return a>.5?(d-=l.width+l.height,d<=l.width?(n.x=l.right-d,n.y=l.bottom):(n.x=l.x,n.y=l.bottom-(d-l.width))):d<=l.width?(n.x=l.x+d,n.y=l.y):(n.x=l.right,n.y=l.y+(d-l.width)),n};r.exports=f},34819:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20812),x=i(13019),f=function(l,a,n,d){d===void 0&&(d=[]),!a&&n>0&&(a=x(l)/n);for(var c=0;c<a;c++){var u=c/a;d.push(h(l,u))}return d};r.exports=f},51313:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){return l===void 0&&(l=new h),l.x=f.width,l.y=f.height,l};r.exports=x},86091:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(67502),x=function(f,l,a){var n=f.centerX,d=f.centerY;return f.setSize(f.width+l*2,f.height+a*2),h(f,n,d)};r.exports=x},53951:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=i(59996),f=function(l,a,n){return n===void 0&&(n=new h),x(l,a)?(n.x=Math.max(l.x,a.x),n.y=Math.max(l.y,a.y),n.width=Math.min(l.right,a.right)-n.x,n.height=Math.min(l.bottom,a.bottom)-n.y):n.setEmpty(),n};r.exports=f},14649:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13019),x=i(2141),f=function(l,a,n,d){if(d===void 0&&(d=[]),!a&&!n)return d;a?n=Math.round(h(l)/a):a=h(l)/n;for(var c=l.x,u=l.y,v=0,p=0;p<n;p++)switch(d.push(new x(c,u)),v){case 0:c+=a,c>=l.right&&(v=1,u+=c-l.right,c=l.right);break;case 1:u+=a,u>=l.bottom&&(v=2,c-=u-l.bottom,u=l.bottom);break;case 2:c-=a,c<=l.left&&(v=3,u-=l.left-c,c=l.left);break;case 3:u-=a,u<=l.top&&(v=0,u=l.top);break}return d};r.exports=f},33595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){for(var x=i.x,f=i.right,l=i.y,a=i.bottom,n=0;n<h.length;n++)x=Math.min(x,h[n].x),f=Math.max(f,h[n].x),l=Math.min(l,h[n].y),a=Math.max(a,h[n].y);return i.x=x,i.y=l,i.width=f-x,i.height=a-l,i};r.exports=C},20074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=Math.min(i.x,h.x),f=Math.max(i.right,h.right);i.x=x,i.width=f-x;var l=Math.min(i.y,h.y),a=Math.max(i.bottom,h.bottom);return i.y=l,i.height=a-l,i};r.exports=C},92171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=Math.min(i.x,h),l=Math.max(i.right,h);i.x=f,i.width=l-f;var a=Math.min(i.y,x),n=Math.max(i.bottom,x);return i.y=a,i.height=n-a,i};r.exports=C},42981:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.x+=h,i.y+=x,i};r.exports=C},46907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x+=h.x,i.y+=h.y,i};r.exports=C},60170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x<h.right&&i.right>h.x&&i.y<h.bottom&&i.bottom>h.y};r.exports=C},13019:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return 2*(i.width+i.height)};r.exports=C},85133:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(39506),f=function(l,a,n){n===void 0&&(n=new h),a=x(a);var d=Math.sin(a),c=Math.cos(a),u=c>0?l.width/2:l.width/-2,v=d>0?l.height/2:l.height/-2;return Math.abs(u*d)<Math.abs(v*c)?v=u*d/c:u=v*c/d,n.x=u+l.centerX,n.y=v+l.centerY,n};r.exports=f},26597:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){return l===void 0&&(l=new h),l.x=f.x+Math.random()*f.width,l.y=f.y+Math.random()*f.height,l};r.exports=x},86470:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),x=i(70273),f=i(2141),l=function(a,n,d){if(d===void 0&&(d=new f),x(a,n))switch(h(0,3)){case 0:d.x=a.x+Math.random()*(n.right-a.x),d.y=a.y+Math.random()*(n.top-a.y);break;case 1:d.x=n.x+Math.random()*(a.right-n.x),d.y=n.bottom+Math.random()*(a.bottom-n.bottom);break;case 2:d.x=a.x+Math.random()*(n.x-a.x),d.y=n.y+Math.random()*(a.bottom-n.y);break;case 3:d.x=n.right+Math.random()*(a.right-n.right),d.y=a.y+Math.random()*(n.bottom-a.y);break}return d};r.exports=l},87841:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(37303),f=i(20812),l=i(34819),a=i(23777),n=i(23031),d=i(26597),c=new h({initialize:function(v,p,g,m){v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),this.type=a.RECTANGLE,this.x=v,this.y=p,this.width=g,this.height=m},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return f(this,u,v)},getPoints:function(u,v,p){return l(this,u,v,p)},getRandomPoint:function(u){return d(this,u)},setTo:function(u,v,p,g){return this.x=u,this.y=v,this.width=p,this.height=g,this},setEmpty:function(){return this.setTo(0,0,0,0)},setPosition:function(u,v){return v===void 0&&(v=u),this.x=u,this.y=v,this},setSize:function(u,v){return v===void 0&&(v=u),this.width=u,this.height=v,this},isEmpty:function(){return this.width<=0||this.height<=0},getLineA:function(u){return u===void 0&&(u=new n),u.setTo(this.x,this.y,this.right,this.y),u},getLineB:function(u){return u===void 0&&(u=new n),u.setTo(this.right,this.y,this.right,this.bottom),u},getLineC:function(u){return u===void 0&&(u=new n),u.setTo(this.right,this.bottom,this.x,this.bottom),u},getLineD:function(u){return u===void 0&&(u=new n),u.setTo(this.x,this.bottom,this.x,this.y),u},left:{get:function(){return this.x},set:function(u){u>=this.right?this.width=0:this.width=this.right-u,this.x=u}},right:{get:function(){return this.x+this.width},set:function(u){u<=this.x?this.width=0:this.width=u-this.x}},top:{get:function(){return this.y},set:function(u){u>=this.bottom?this.height=0:this.height=this.bottom-u,this.y=u}},bottom:{get:function(){return this.y+this.height},set:function(u){u<=this.y?this.height=0:this.height=u-this.y}},centerX:{get:function(){return this.x+this.width/2},set:function(u){this.x=u-this.width/2}},centerY:{get:function(){return this.y+this.height/2},set:function(u){this.y=u-this.height/2}}});r.exports=c},94845:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.width===h.width&&i.height===h.height};r.exports=C},31730:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return x===void 0&&(x=h),i.width*=h,i.height*=x,i};r.exports=C},36899:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=function(f,l,a){a===void 0&&(a=new h);var n=Math.min(f.x,l.x),d=Math.min(f.y,l.y),c=Math.max(f.right,l.right)-n,u=Math.max(f.bottom,l.bottom)-d;return a.setTo(n,d,c,u)};r.exports=x},93232:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841);h.Area=i(62224),h.Ceil=i(98615),h.CeilAll=i(31688),h.CenterOn=i(67502),h.Clone=i(65085),h.Contains=i(37303),h.ContainsPoint=i(96553),h.ContainsRect=i(70273),h.CopyFrom=i(43459),h.Decompose=i(77493),h.Equals=i(9219),h.FitInside=i(53751),h.FitOutside=i(16088),h.Floor=i(80774),h.FloorAll=i(83859),h.FromPoints=i(19217),h.FromXY=i(9477),h.GetAspectRatio=i(8249),h.GetCenter=i(27165),h.GetPoint=i(20812),h.GetPoints=i(34819),h.GetSize=i(51313),h.Inflate=i(86091),h.Intersection=i(53951),h.MarchingAnts=i(14649),h.MergePoints=i(33595),h.MergeRect=i(20074),h.MergeXY=i(92171),h.Offset=i(42981),h.OffsetPoint=i(46907),h.Overlaps=i(60170),h.Perimeter=i(13019),h.PerimeterPoint=i(85133),h.Random=i(26597),h.RandomOutside=i(86470),h.SameDimensions=i(94845),h.Scale=i(31730),h.Union=i(36899),r.exports=h},41658:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=i.x1,x=i.y1,f=i.x2,l=i.y2,a=i.x3,n=i.y3;return Math.abs(((a-h)*(l-x)-(f-h)*(n-x))/2)};r.exports=C},39208:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483),x=function(f,l,a){var n=a*(Math.sqrt(3)/2),d=f,c=l,u=f+a/2,v=l+n,p=f-a/2,g=l+n;return new h(d,c,u,v,p,g)};r.exports=x},39545:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(94811),x=i(16483),f=function(l,a,n,d,c){a===void 0&&(a=null),n===void 0&&(n=1),d===void 0&&(d=1),c===void 0&&(c=[]);for(var u=h(l,a),v,p,g,m,T,P,E,M,w,R=0;R<u.length;R+=3)v=u[R],p=u[R+1],g=u[R+2],m=l[v*2]*n,T=l[v*2+1]*d,P=l[p*2]*n,E=l[p*2+1]*d,M=l[g*2]*n,w=l[g*2+1]*d,c.push(new x(m,T,P,E,M,w));return c};r.exports=f},90301:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483),x=function(f,l,a,n){n===void 0&&(n=a);var d=f,c=l,u=f,v=l-n,p=f+a,g=l;return new h(d,c,u,v,p,g)};r.exports=x},23707:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97523),x=i(13584),f=function(l,a,n,d){d===void 0&&(d=h);var c=d(l),u=a-c.x,v=n-c.y;return x(l,u,v)};r.exports=f},97523:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){return l===void 0&&(l=new h),l.x=(f.x1+f.x2+f.x3)/3,l.y=(f.y1+f.y2+f.y3)/3,l};r.exports=x},24951:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099);function x(l,a,n,d){return l*d-a*n}var f=function(l,a){a===void 0&&(a=new h);var n=l.x3,d=l.y3,c=l.x1-n,u=l.y1-d,v=l.x2-n,p=l.y2-d,g=2*x(c,u,v,p),m=x(u,c*c+u*u,p,v*v+p*p),T=x(c,c*c+u*u,v,v*v+p*p);return a.x=n-m/g,a.y=d+T/g,a};r.exports=f},85614:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),x=function(f,l){l===void 0&&(l=new h);var a=f.x1,n=f.y1,d=f.x2,c=f.y2,u=f.x3,v=f.y3,p=d-a,g=c-n,m=u-a,T=v-n,P=p*(a+d)+g*(n+c),E=m*(a+u)+T*(n+v),M=2*(p*(v-c)-g*(u-d)),w,R;if(Math.abs(M)<1e-6){var A=Math.min(a,d,u),O=Math.min(n,c,v);w=(Math.max(a,d,u)-A)*.5,R=(Math.max(n,c,v)-O)*.5,l.x=A+w,l.y=O+R,l.radius=Math.sqrt(w*w+R*R)}else l.x=(T*P-g*E)/M,l.y=(p*E-m*P)/M,w=l.x-a,R=l.y-n,l.radius=Math.sqrt(w*w+R*R);return l};r.exports=x},74422:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483),x=function(f){return new h(f.x1,f.y1,f.x2,f.y2,f.x3,f.y3)};r.exports=x},10690:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=i.x3-i.x1,l=i.y3-i.y1,a=i.x2-i.x1,n=i.y2-i.y1,d=h-i.x1,c=x-i.y1,u=f*f+l*l,v=f*a+l*n,p=f*d+l*c,g=a*a+n*n,m=a*d+n*c,T=u*g-v*v,P=T===0?0:1/T,E=(g*p-v*m)*P,M=(u*m-v*p)*P;return E>=0&&M>=0&&E+M<1};r.exports=C},48653:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x===void 0&&(x=!1),f===void 0&&(f=[]);for(var l=i.x3-i.x1,a=i.y3-i.y1,n=i.x2-i.x1,d=i.y2-i.y1,c=l*l+a*a,u=l*n+a*d,v=n*n+d*d,p=c*v-u*u,g=p===0?0:1/p,m,T,P,E,M,w,R=i.x1,A=i.y1,O=0;O<h.length&&(P=h[O].x-R,E=h[O].y-A,M=l*P+a*E,w=n*P+d*E,m=(v*M-u*w)*g,T=(c*w-u*M)*g,!(m>=0&&T>=0&&m+T<1&&(f.push({x:h[O].x,y:h[O].y}),x)));O++);return f};r.exports=C},96006:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10690),x=function(f,l){return h(f,l.x,l.y)};r.exports=x},71326:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.setTo(i.x1,i.y1,i.x2,i.y2,i.x3,i.y3)};r.exports=C},71694:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=[]),h.push({x:i.x1,y:i.y1}),h.push({x:i.x2,y:i.y2}),h.push({x:i.x3,y:i.y3}),h};r.exports=C},33522:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.x1===h.x1&&i.y1===h.y1&&i.x2===h.x2&&i.y2===h.y2&&i.x3===h.x3&&i.y3===h.y3};r.exports=C},20437:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=i(35001),f=function(l,a,n){n===void 0&&(n=new h);var d=l.getLineA(),c=l.getLineB(),u=l.getLineC();if(a<=0||a>=1)return n.x=d.x1,n.y=d.y1,n;var v=x(d),p=x(c),g=x(u),m=v+p+g,T=m*a,P=0;return T<v?(P=T/v,n.x=d.x1+(d.x2-d.x1)*P,n.y=d.y1+(d.y2-d.y1)*P):T>v+p?(T-=v+p,P=T/g,n.x=u.x1+(u.x2-u.x1)*P,n.y=u.y1+(u.y2-u.y1)*P):(T-=v,P=T/p,n.x=c.x1+(c.x2-c.x1)*P,n.y=c.y1+(c.y2-c.y1)*P),n};r.exports=f},80672:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),x=i(2141),f=function(l,a,n,d){d===void 0&&(d=[]);var c=l.getLineA(),u=l.getLineB(),v=l.getLineC(),p=h(c),g=h(u),m=h(v),T=p+g+m;!a&&n>0&&(a=T/n);for(var P=0;P<a;P++){var E=T*(P/a),M=0,w=new x;E<p?(M=E/p,w.x=c.x1+(c.x2-c.x1)*M,w.y=c.y1+(c.y2-c.y1)*M):E>p+g?(E-=p+g,M=E/m,w.x=v.x1+(v.x2-v.x1)*M,w.y=v.y1+(v.y2-v.y1)*M):(E-=p,M=E/g,w.x=u.x1+(u.x2-u.x1)*M,w.y=u.y1+(u.y2-u.y1)*M),d.push(w)}return d};r.exports=f},39757:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141);function x(l,a,n,d){var c=l-n,u=a-d,v=c*c+u*u;return Math.sqrt(v)}var f=function(l,a){a===void 0&&(a=new h);var n=l.x1,d=l.y1,c=l.x2,u=l.y2,v=l.x3,p=l.y3,g=x(v,p,c,u),m=x(n,d,v,p),T=x(c,u,n,d),P=g+m+T;return a.x=(n*g+c*m+v*T)/P,a.y=(d*g+u*m+p*T)/P,a};r.exports=f},13584:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i.x1+=h,i.y1+=x,i.x2+=h,i.y2+=x,i.x3+=h,i.y3+=x,i};r.exports=C},1376:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35001),x=function(f){var l=f.getLineA(),a=f.getLineB(),n=f.getLineC();return h(l)+h(a)+h(n)};r.exports=x},90260:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2141),x=function(f,l){l===void 0&&(l=new h);var a=f.x2-f.x1,n=f.y2-f.y1,d=f.x3-f.x1,c=f.y3-f.y1,u=Math.random(),v=Math.random();return u+v>=1&&(u=1-u,v=1-v),l.x=f.x1+(a*u+d*v),l.y=f.y1+(n*u+c*v),l};r.exports=x},52172:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99614),x=i(39757),f=function(l,a){var n=x(l);return h(l,n.x,n.y,a)};r.exports=f},49907:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99614),x=function(f,l,a){return h(f,l.x,l.y,a)};r.exports=x},99614:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=Math.cos(f),a=Math.sin(f),n=i.x1-h,d=i.y1-x;return i.x1=n*l-d*a+h,i.y1=n*a+d*l+x,n=i.x2-h,d=i.y2-x,i.x2=n*l-d*a+h,i.y2=n*a+d*l+x,n=i.x3-h,d=i.y3-x,i.x3=n*l-d*a+h,i.y3=n*a+d*l+x,i};r.exports=C},16483:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(10690),f=i(20437),l=i(80672),a=i(23777),n=i(23031),d=i(90260),c=new h({initialize:function(v,p,g,m,T,P){v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),P===void 0&&(P=0),this.type=a.TRIANGLE,this.x1=v,this.y1=p,this.x2=g,this.y2=m,this.x3=T,this.y3=P},contains:function(u,v){return x(this,u,v)},getPoint:function(u,v){return f(this,u,v)},getPoints:function(u,v,p){return l(this,u,v,p)},getRandomPoint:function(u){return d(this,u)},setTo:function(u,v,p,g,m,T){return u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=0),T===void 0&&(T=0),this.x1=u,this.y1=v,this.x2=p,this.y2=g,this.x3=m,this.y3=T,this},getLineA:function(u){return u===void 0&&(u=new n),u.setTo(this.x1,this.y1,this.x2,this.y2),u},getLineB:function(u){return u===void 0&&(u=new n),u.setTo(this.x2,this.y2,this.x3,this.y3),u},getLineC:function(u){return u===void 0&&(u=new n),u.setTo(this.x3,this.y3,this.x1,this.y1),u},left:{get:function(){return Math.min(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1<=this.x2&&this.x1<=this.x3?v=this.x1-u:this.x2<=this.x1&&this.x2<=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},right:{get:function(){return Math.max(this.x1,this.x2,this.x3)},set:function(u){var v=0;this.x1>=this.x2&&this.x1>=this.x3?v=this.x1-u:this.x2>=this.x1&&this.x2>=this.x3?v=this.x2-u:v=this.x3-u,this.x1-=v,this.x2-=v,this.x3-=v}},top:{get:function(){return Math.min(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1<=this.y2&&this.y1<=this.y3?v=this.y1-u:this.y2<=this.y1&&this.y2<=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}},bottom:{get:function(){return Math.max(this.y1,this.y2,this.y3)},set:function(u){var v=0;this.y1>=this.y2&&this.y1>=this.y3?v=this.y1-u:this.y2>=this.y1&&this.y2>=this.y3?v=this.y2-u:v=this.y3-u,this.y1-=v,this.y2-=v,this.y3-=v}}});r.exports=c},84435:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(16483);h.Area=i(41658),h.BuildEquilateral=i(39208),h.BuildFromPolygon=i(39545),h.BuildRight=i(90301),h.CenterOn=i(23707),h.Centroid=i(97523),h.CircumCenter=i(24951),h.CircumCircle=i(85614),h.Clone=i(74422),h.Contains=i(10690),h.ContainsArray=i(48653),h.ContainsPoint=i(96006),h.CopyFrom=i(71326),h.Decompose=i(71694),h.Equals=i(33522),h.GetPoint=i(20437),h.GetPoints=i(80672),h.InCenter=i(39757),h.Perimeter=i(1376),h.Offset=i(13584),h.Random=i(90260),h.Rotate=i(52172),h.RotateAroundPoint=i(49907),h.RotateAroundXY=i(99614),r.exports=h},74457:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return{gameObject:i,enabled:!0,draggable:!1,dropZone:!1,cursor:!1,target:null,camera:null,hitArea:h,hitAreaCallback:x,hitAreaDebug:null,customHitArea:!1,localX:0,localY:0,dragState:0,dragStartX:0,dragStartY:0,dragStartXGlobal:0,dragStartYGlobal:0,dragStartCamera:null,dragX:0,dragY:0}};r.exports=C},84409:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return function(x,f,l,a){var n=i.getPixelAlpha(f,l,a.texture.key,a.frame.name);return n&&n>=h}};r.exports=C},7003:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(93301),f=i(50792),l=i(8214),a=i(8443),n=i(78970),d=i(85098),c=i(42515),u=i(36210),v=i(61340),p=i(85955),g=new h({initialize:function(T,P){this.game=T,this.scaleManager,this.canvas,this.config=P,this.enabled=!0,this.events=new f,this.isOver=!0,this.defaultCursor="",this.keyboard=P.inputKeyboard?new n(this):null,this.mouse=P.inputMouse?new d(this):null,this.touch=P.inputTouch?new u(this):null,this.pointers=[],this.pointersTotal=P.inputActivePointers;for(var E=0;E<=this.pointersTotal;E++){var M=new c(this,E);M.smoothFactor=P.inputSmoothFactor,this.pointers.push(M)}this.mousePointer=P.inputMouse?this.pointers[0]:null,this.activePointer=this.pointers[0],this.globalTopOnly=!0,this.time=0,this._tempPoint={x:0,y:0},this._tempHitTest=[],this._tempMatrix=new v,this._tempMatrix2=new v,this._tempSkip=!1,this.mousePointerContainer=[this.mousePointer],T.events.once(a.BOOT,this.boot,this)},boot:function(){var m=this.game,T=m.events;this.canvas=m.canvas,this.scaleManager=m.scale,this.events.emit(l.MANAGER_BOOT),T.on(a.PRE_RENDER,this.preRender,this),T.once(a.DESTROY,this.destroy,this)},setCanvasOver:function(m){this.isOver=!0,this.events.emit(l.GAME_OVER,m)},setCanvasOut:function(m){this.isOver=!1,this.events.emit(l.GAME_OUT,m)},preRender:function(){var m=this.game.loop.now,T=this.game.loop.delta,P=this.game.scene.getScenes(!0,!0);this.time=m,this.events.emit(l.MANAGER_UPDATE);for(var E=0;E<P.length;E++){var M=P[E];if(M.sys.input&&M.sys.input.updatePoll(m,T)&&this.globalTopOnly)return}},setDefaultCursor:function(m){this.defaultCursor=m,this.canvas.style.cursor!==m&&(this.canvas.style.cursor=m)},setCursor:function(m){m.cursor&&(this.canvas.style.cursor=m.cursor)},resetCursor:function(m,T){(T||m&&m.cursor)&&this.canvas&&(this.canvas.style.cursor=this.defaultCursor)},addPointer:function(m){m===void 0&&(m=1);var T=[];this.pointersTotal+m>10&&(m=10-this.pointersTotal);for(var P=0;P<m;P++){var E=this.pointers.length,M=new c(this,E);M.smoothFactor=this.config.inputSmoothFactor,this.pointers.push(M),this.pointersTotal++,T.push(M)}return T},updateInputPlugins:function(m,T){var P=this.game.scene.getScenes(!1,!0);this._tempSkip=!1;for(var E=0;E<P.length;E++){var M=P[E];if(M.sys.input){var w=M.sys.input.update(m,T);if(w&&this.globalTopOnly||this._tempSkip)return}}},onTouchStart:function(m){for(var T=this.pointers,P=[],E=0;E<m.changedTouches.length;E++)for(var M=m.changedTouches[E],w=1;w<T.length;w++){var R=T[w];if(!R.active){R.touchstart(M,m),this.activePointer=R,P.push(R);break}}this.updateInputPlugins(x.TOUCH_START,P)},onTouchMove:function(m){for(var T=this.pointers,P=[],E=0;E<m.changedTouches.length;E++)for(var M=m.changedTouches[E],w=1;w<T.length;w++){var R=T[w];if(R.active&&R.identifier===M.identifier){var A=document.elementFromPoint(M.clientX,M.clientY),O=A===this.canvas;!this.isOver&&O?this.setCanvasOver(m):this.isOver&&!O&&this.setCanvasOut(m),this.isOver&&(R.touchmove(M,m),this.activePointer=R,P.push(R));break}}this.updateInputPlugins(x.TOUCH_MOVE,P)},onTouchEnd:function(m){for(var T=this.pointers,P=[],E=0;E<m.changedTouches.length;E++)for(var M=m.changedTouches[E],w=1;w<T.length;w++){var R=T[w];if(R.active&&R.identifier===M.identifier){R.touchend(M,m),P.push(R);break}}this.updateInputPlugins(x.TOUCH_END,P)},onTouchCancel:function(m){for(var T=this.pointers,P=[],E=0;E<m.changedTouches.length;E++)for(var M=m.changedTouches[E],w=1;w<T.length;w++){var R=T[w];if(R.active&&R.identifier===M.identifier){R.touchcancel(M,m),P.push(R);break}}this.updateInputPlugins(x.TOUCH_CANCEL,P)},onMouseDown:function(m){var T=this.mousePointer;T.down(m),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(x.MOUSE_DOWN,this.mousePointerContainer)},onMouseMove:function(m){var T=this.mousePointer;T.move(m),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(x.MOUSE_MOVE,this.mousePointerContainer)},onMouseUp:function(m){var T=this.mousePointer;T.up(m),T.updateMotion(),this.activePointer=T,this.updateInputPlugins(x.MOUSE_UP,this.mousePointerContainer)},onMouseWheel:function(m){var T=this.mousePointer;T.wheel(m),this.activePointer=T,this.updateInputPlugins(x.MOUSE_WHEEL,this.mousePointerContainer)},onPointerLockChange:function(m){var T=this.mouse.locked;this.mousePointer.locked=T,this.events.emit(l.POINTERLOCK_CHANGE,m,T)},inputCandidate:function(m,T){var P=m.input;if(!P||!P.enabled||!m.willRender(T))return!1;var E=!0,M=m.parentContainer;if(M)do{if(!M.willRender(T)){E=!1;break}M=M.parentContainer}while(M);return E},hitTest:function(m,T,P,E){E===void 0&&(E=this._tempHitTest);var M=this._tempPoint,w=P.scrollX,R=P.scrollY;E.length=0;var A=m.x,O=m.y;P.getWorldPoint(A,O,M),m.worldX=M.x,m.worldY=M.y;for(var F={x:0,y:0},L=this._tempMatrix,b=this._tempMatrix2,D=0;D<T.length;D++){var I=T[D];if(this.inputCandidate(I,P)){var k=M.x+w*I.scrollFactorX-w,X=M.y+R*I.scrollFactorY-R;I.parentContainer?(I.getWorldTransformMatrix(L,b),L.applyInverse(k,X,F)):p(k,X,I.x,I.y,I.rotation,I.scaleX,I.scaleY,F),this.pointWithinHitArea(I,F.x,F.y)&&E.push(I)}}return E},pointWithinHitArea:function(m,T,P){T+=m.displayOriginX,P+=m.displayOriginY;var E=m.input;return E&&E.hitAreaCallback(E.hitArea,T,P,m)?(E.localX=T,E.localY=P,!0):!1},pointWithinInteractiveObject:function(m,T,P){return m.hitArea?(T+=m.gameObject.displayOriginX,P+=m.gameObject.displayOriginY,m.localX=T,m.localY=P,m.hitAreaCallback(m.hitArea,T,P,m)):!1},transformPointer:function(m,T,P,E){var M=m.position,w=m.prevPosition;w.x=M.x,w.y=M.y;var R=this.scaleManager.transformX(T),A=this.scaleManager.transformY(P),O=m.smoothFactor;!E||O===0?(M.x=R,M.y=A):(M.x=R*O+w.x*(1-O),M.y=A*O+w.y*(1-O))},destroy:function(){this.events.removeAllListeners(),this.game.events.off(a.PRE_RENDER),this.keyboard&&this.keyboard.destroy(),this.mouse&&this.mouse.destroy(),this.touch&&this.touch.destroy();for(var m=0;m<this.pointers.length;m++)this.pointers[m].destroy();this.pointers=[],this._tempHitTest=[],this._tempMatrix.destroy(),this.canvas=null,this.game=null}});r.exports=g},48205:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(96503),x=i(87902),f=i(83419),l=i(93301),a=i(74457),n=i(84409),d=i(20339),c=i(8497),u=i(81154),v=i(8214),p=i(50792),g=i(95540),m=i(23777),T=i(89639),P=i(41212),E=i(37277),M=i(87841),w=i(37303),R=i(44594),A=i(16483),O=i(10690),F=new f({Extends:p,initialize:function(b){p.call(this),this.scene=b,this.systems=b.sys,this.settings=b.sys.settings,this.manager=b.sys.game.input,this.pluginEvents=new p,this.enabled=!0,this.displayList,this.cameras,T.install(this),this.mouse=this.manager.mouse,this.topOnly=!0,this.pollRate=-1,this._pollTimer=0;var D={cancelled:!1};this._eventContainer={stopPropagation:function(){D.cancelled=!0}},this._eventData=D,this.dragDistanceThreshold=0,this.dragTimeThreshold=0,this._temp=[],this._tempZones=[],this._list=[],this._pendingInsertion=[],this._pendingRemoval=[],this._draggable=[],this._drag={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._dragState=[],this._over={0:[],1:[],2:[],3:[],4:[],5:[],6:[],7:[],8:[],9:[],10:[]},this._validTypes=["onDown","onUp","onOver","onOut","onMove","onDragStart","onDrag","onDragEnd","onDragEnter","onDragLeave","onDragOver","onDrop"],this._updatedThisFrame=!1,b.sys.events.once(R.BOOT,this.boot,this),b.sys.events.on(R.START,this.start,this)},boot:function(){this.cameras=this.systems.cameras,this.displayList=this.systems.displayList,this.systems.events.once(R.DESTROY,this.destroy,this),this.pluginEvents.emit(v.BOOT)},start:function(){var L=this.systems.events;L.on(R.TRANSITION_START,this.transitionIn,this),L.on(R.TRANSITION_OUT,this.transitionOut,this),L.on(R.TRANSITION_COMPLETE,this.transitionComplete,this),L.on(R.PRE_UPDATE,this.preUpdate,this),L.once(R.SHUTDOWN,this.shutdown,this),this.manager.events.on(v.GAME_OUT,this.onGameOut,this),this.manager.events.on(v.GAME_OVER,this.onGameOver,this),this.enabled=!0,this._dragState=[0,0,0,0,0,0,0,0,0,0],this.pluginEvents.emit(v.START)},onGameOver:function(L){this.isActive()&&this.emit(v.GAME_OVER,L.timeStamp,L)},onGameOut:function(L){this.isActive()&&this.emit(v.GAME_OUT,L.timeStamp,L)},preUpdate:function(){this.pluginEvents.emit(v.PRE_UPDATE);var L=this._pendingRemoval,b=this._pendingInsertion,D=L.length,I=b.length;if(!(D===0&&I===0)){for(var k=this._list,X=0;X<D;X++){var W=L[X],Y=k.indexOf(W);Y>-1&&(k.splice(Y,1),this.clear(W,!0))}this._pendingRemoval.length=0,this._list=k.concat(b.splice(0))}},isActive:function(){return this.manager&&this.manager.enabled&&this.enabled&&this.scene.sys.canInput()},setCursor:function(L){this.manager&&this.manager.setCursor(L)},resetCursor:function(){this.manager&&this.manager.resetCursor(null,!0)},updatePoll:function(L,b){if(!this.isActive())return!1;if(this.pluginEvents.emit(v.UPDATE,L,b),this._updatedThisFrame)return this._updatedThisFrame=!1,!1;var D,I=this.manager,k=I.pointers;for(D=0;D<k.length;D++)k[D].updateMotion();if(this._list.length===0)return!1;var X=this.pollRate;if(X===-1)return!1;if(X>0)if(this._pollTimer-=b,this._pollTimer<0)this._pollTimer=this.pollRate;else return!1;var W=!1;for(D=0;D<k.length;D++){var Y=0,N=k[D];this._tempZones=[],this._temp=this.hitTestPointer(N),this.sortGameObjects(this._temp,N),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),Y+=this.processOverOutEvents(N),this.getDragState(N)===2&&this.processDragThresholdEvent(N,L),Y>0&&(W=!0)}return W},update:function(L,b){if(!this.isActive())return!1;for(var D=!1,I=0;I<b.length;I++){var k=0,X=b[I];switch(this._tempZones=[],this._temp=this.hitTestPointer(X),this.sortGameObjects(this._temp,X),this.sortDropZones(this._tempZones),this.topOnly&&(this._temp.length&&this._temp.splice(1),this._tempZones.length&&this._tempZones.splice(1)),L){case l.MOUSE_DOWN:k+=this.processDragDownEvent(X),k+=this.processDownEvents(X),k+=this.processOverOutEvents(X);break;case l.MOUSE_UP:k+=this.processDragUpEvent(X),k+=this.processUpEvents(X),k+=this.processOverOutEvents(X);break;case l.TOUCH_START:k+=this.processDragDownEvent(X),k+=this.processDownEvents(X),k+=this.processOverEvents(X);break;case l.TOUCH_END:case l.TOUCH_CANCEL:k+=this.processDragUpEvent(X),k+=this.processUpEvents(X),k+=this.processOutEvents(X);break;case l.MOUSE_MOVE:case l.TOUCH_MOVE:k+=this.processDragMoveEvent(X),k+=this.processMoveEvents(X),k+=this.processOverOutEvents(X);break;case l.MOUSE_WHEEL:k+=this.processWheelEvent(X);break}k>0&&(D=!0)}return this._updatedThisFrame=!0,D},clear:function(L,b){b===void 0&&(b=!1),this.disable(L);var D=L.input;D&&(this.removeDebug(L),this.manager.resetCursor(D),D.gameObject=void 0,D.target=void 0,D.hitArea=void 0,D.hitAreaCallback=void 0,D.callbackContext=void 0,L.input=null),b||this.queueForRemoval(L);var I=this._draggable.indexOf(L);return I>-1&&this._draggable.splice(I,1),L},disable:function(L,b){b===void 0&&(b=!1);var D=L.input;D&&(D.enabled=!1,D.dragState=0);for(var I=this._drag,k=this._over,X=this.manager,W=0,Y;W<X.pointers.length;W++)Y=I[W].indexOf(L),Y>-1&&I[W].splice(Y,1),Y=k[W].indexOf(L),Y>-1&&k[W].splice(Y,1);return b&&this.resetCursor(),this},enable:function(L,b,D,I){return I===void 0&&(I=!1),L.input?L.input.enabled=!0:this.setHitArea(L,b,D),L.input&&I&&!L.input.dropZone&&(L.input.dropZone=I),this},hitTestPointer:function(L){for(var b=this.cameras.getCamerasBelowPointer(L),D=0;D<b.length;D++){for(var I=b[D],k=this.manager.hitTest(L,this._list,I),X=0;X<k.length;X++){var W=k[X];W.input.dropZone&&this._tempZones.push(W)}if(k.length>0)return L.camera=I,k}return L.camera=b[0],[]},processDownEvents:function(L){var b=0,D=this._temp,I=this._eventData,k=this._eventContainer;I.cancelled=!1;for(var X=0;X<D.length;X++){var W=D[X];if(!(!W.input||!W.input.enabled)&&(b++,W.emit(v.GAMEOBJECT_POINTER_DOWN,L,W.input.localX,W.input.localY,k),I.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(v.GAMEOBJECT_DOWN,L,W,k),I.cancelled||!this.isActive())))break}return!I.cancelled&&this.isActive()&&(L.downElement===this.manager.game.canvas?this.emit(v.POINTER_DOWN,L,D):this.emit(v.POINTER_DOWN_OUTSIDE,L)),b},getDragState:function(L){return this._dragState[L.id]},setDragState:function(L,b){this._dragState[L.id]=b},processDragThresholdEvent:function(L,b){var D=!1,I=this.dragTimeThreshold,k=this.dragDistanceThreshold;if((k>0&&d(L.x,L.y,L.downX,L.downY)>=k||I>0&&b>=L.downTime+I)&&(D=!0),D)return this.setDragState(L,3),this.processDragStartList(L)},processDragStartList:function(L){if(this.getDragState(L)!==3)return 0;var b=this._drag[L.id];b.length>1&&(b=b.slice(0));for(var D=0;D<b.length;D++){var I=b[D],k=I.input;k.dragState=2,k.dragStartX=I.x,k.dragStartY=I.y,k.dragStartXGlobal=L.worldX,k.dragStartYGlobal=L.worldY,k.dragStartCamera=L.camera,k.dragX=k.dragStartXGlobal-k.dragStartX,k.dragY=k.dragStartYGlobal-k.dragStartY,I.emit(v.GAMEOBJECT_DRAG_START,L,k.dragX,k.dragY),this.emit(v.DRAG_START,L,I)}return this.setDragState(L,4),b.length},processDragDownEvent:function(L){var b=this._temp;if(this._draggable.length===0||b.length===0||!L.primaryDown||this.getDragState(L)!==0)return 0;this.setDragState(L,1);for(var D=[],I=0;I<b.length;I++){var k=b[I];k.input.draggable&&k.input.dragState===0&&D.push(k)}return D.length===0?(this.setDragState(L,0),0):(D.length>1&&(this.sortGameObjects(D,L),this.topOnly&&D.splice(1)),this._drag[L.id]=D,this.dragDistanceThreshold===0&&this.dragTimeThreshold===0?(this.setDragState(L,3),this.processDragStartList(L)):(this.setDragState(L,2),0))},processDragMoveEvent:function(L){if(this.getDragState(L)===2&&this.processDragThresholdEvent(L,this.manager.game.loop.now),this.getDragState(L)!==4)return 0;var b=this._tempZones,D=this._drag[L.id];D.length>1&&(D=D.slice(0));for(var I=0;I<D.length;I++){var k=D[I],X=k.input,W=X.target;if(W){var Y=b.indexOf(W);Y===0?(k.emit(v.GAMEOBJECT_DRAG_OVER,L,W),this.emit(v.DRAG_OVER,L,k,W)):Y>0?(k.emit(v.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(v.DRAG_LEAVE,L,k,W),X.target=b[0],W=X.target,k.emit(v.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(v.DRAG_ENTER,L,k,W)):(k.emit(v.GAMEOBJECT_DRAG_LEAVE,L,W),this.emit(v.DRAG_LEAVE,L,k,W),b[0]?(X.target=b[0],W=X.target,k.emit(v.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(v.DRAG_ENTER,L,k,W)):X.target=null)}else!W&&b[0]&&(X.target=b[0],W=X.target,k.emit(v.GAMEOBJECT_DRAG_ENTER,L,W),this.emit(v.DRAG_ENTER,L,k,W));var N,V,G=L.positionToCamera(X.dragStartCamera);if(!k.parentContainer)N=G.x-X.dragX,V=G.y-X.dragY;else{var B=G.x-X.dragStartXGlobal,z=G.y-X.dragStartYGlobal,U=k.getParentRotation(),H=B*Math.cos(U)+z*Math.sin(U),$=z*Math.cos(U)-B*Math.sin(U);H*=1/k.parentContainer.scaleX,$*=1/k.parentContainer.scaleY,N=H+X.dragStartX,V=$+X.dragStartY}k.emit(v.GAMEOBJECT_DRAG,L,N,V),this.emit(v.DRAG,L,k,N,V)}return D.length},processDragUpEvent:function(L){var b=this._drag[L.id];b.length>1&&(b=b.slice(0));for(var D=0;D<b.length;D++){var I=b[D],k=I.input;if(k&&k.dragState===2){k.dragState=0,k.dragX=k.localX-I.displayOriginX,k.dragY=k.localY-I.displayOriginY,k.dragStartCamera=null;var X=!1,W=k.target;W&&(I.emit(v.GAMEOBJECT_DROP,L,W),this.emit(v.DROP,L,I,W),k.target=null,X=!0),I.input&&I.input.enabled&&(I.emit(v.GAMEOBJECT_DRAG_END,L,k.dragX,k.dragY,X),this.emit(v.DRAG_END,L,I,X))}}return this.setDragState(L,0),b.splice(0),0},processMoveEvents:function(L){var b=0,D=this._temp,I=this._eventData,k=this._eventContainer;I.cancelled=!1;for(var X=0;X<D.length;X++){var W=D[X];if(!(!W.input||!W.input.enabled)&&(b++,W.emit(v.GAMEOBJECT_POINTER_MOVE,L,W.input.localX,W.input.localY,k),I.cancelled||!this.isActive()||W.input&&W.input.enabled&&(this.emit(v.GAMEOBJECT_MOVE,L,W,k),I.cancelled||!this.isActive()||this.topOnly)))break}return!I.cancelled&&this.isActive()&&this.emit(v.POINTER_MOVE,L,D),b},processWheelEvent:function(L){var b=0,D=this._temp,I=this._eventData,k=this._eventContainer;I.cancelled=!1;for(var X=L.deltaX,W=L.deltaY,Y=L.deltaZ,N=0;N<D.length;N++){var V=D[N];if(!(!V.input||!V.input.enabled)&&(b++,V.emit(v.GAMEOBJECT_POINTER_WHEEL,L,X,W,Y,k),I.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(v.GAMEOBJECT_WHEEL,L,V,X,W,Y,k),I.cancelled||!this.isActive())))break}return!I.cancelled&&this.isActive()&&this.emit(v.POINTER_WHEEL,L,D,X,W,Y),b},processOverEvents:function(L){var b=this._temp,D=0,I=b.length,k=[];if(I>0){var X=this.manager,W=this._eventData,Y=this._eventContainer;W.cancelled=!1;for(var N=0;N<I;N++){var V=b[N];if(!(!V.input||!V.input.enabled)&&(k.push(V),X.setCursor(V.input),V.emit(v.GAMEOBJECT_POINTER_OVER,L,V.input.localX,V.input.localY,Y),D++,W.cancelled||!this.isActive()||V.input&&V.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,L,V,Y),W.cancelled||!this.isActive())))break}!W.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,L,k)}return this._over[L.id]=k,D},processOutEvents:function(L){var b=this._over[L.id],D=0,I=b.length;if(I>0){var k=this.manager,X=this._eventData,W=this._eventContainer;X.cancelled=!1,this.sortGameObjects(b,L);for(var Y=0;Y<I;Y++){var N=b[Y];if(N=b[Y],!(!N.input||!N.input.enabled)&&(k.resetCursor(N.input),N.emit(v.GAMEOBJECT_POINTER_OUT,L,W),D++,X.cancelled||!this.isActive()||N.input&&N.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,L,N,W),X.cancelled||!this.isActive())))break}!X.cancelled&&this.isActive()&&this.emit(v.POINTER_OUT,L,b),this._over[L.id]=[]}return D},processOverOutEvents:function(L){var b=this._temp,D,I,k=[],X=[],W=[],Y=this._over[L.id],N=this._drag[L.id],V=this.manager;for(D=0;D<Y.length;D++)I=Y[D],b.indexOf(I)===-1&&N.indexOf(I)===-1?k.push(I):W.push(I);for(D=0;D<b.length;D++)I=b[D],Y.indexOf(I)===-1&&X.push(I);var G=k.length,B=0,z=this._eventData,U=this._eventContainer;if(z.cancelled=!1,G>0){for(this.sortGameObjects(k,L),D=0;D<G&&(I=k[D],!(!(!I.input||!I.input.enabled)&&(V.resetCursor(I.input),I.emit(v.GAMEOBJECT_POINTER_OUT,L,U),B++,z.cancelled||!this.isActive()||I.input&&I.input.enabled&&(this.emit(v.GAMEOBJECT_OUT,L,I,U),z.cancelled||!this.isActive()))));D++);(!z.cancelled||this.isActive())&&this.emit(v.POINTER_OUT,L,k)}if(G=X.length,z.cancelled=!1,G>0){for(this.sortGameObjects(X,L),D=0;D<G&&(I=X[D],!(!(!I.input||!I.input.enabled)&&(V.setCursor(I.input),I.emit(v.GAMEOBJECT_POINTER_OVER,L,I.input.localX,I.input.localY,U),B++,z.cancelled||!this.isActive()||I.input&&I.input.enabled&&(this.emit(v.GAMEOBJECT_OVER,L,I,U),z.cancelled||!this.isActive()))));D++);!z.cancelled&&this.isActive()&&this.emit(v.POINTER_OVER,L,X)}return Y=W.concat(X),this._over[L.id]=this.sortGameObjects(Y,L),B},processUpEvents:function(L){var b=this._temp,D=this._eventData,I=this._eventContainer;D.cancelled=!1;for(var k=0;k<b.length;k++){var X=b[k];if(!(!X.input||!X.input.enabled)&&(X.emit(v.GAMEOBJECT_POINTER_UP,L,X.input.localX,X.input.localY,I),D.cancelled||!this.isActive()||X.input&&X.input.enabled&&(this.emit(v.GAMEOBJECT_UP,L,X,I),D.cancelled||!this.isActive())))break}return!D.cancelled&&this.isActive()&&(L.upElement===this.manager.game.canvas?this.emit(v.POINTER_UP,L,b):this.emit(v.POINTER_UP_OUTSIDE,L)),b.length},forceDownState:function(L,b){this.forceState(L,b,v.GAMEOBJECT_POINTER_DOWN,v.GAMEOBJECT_DOWN,!1)},forceUpState:function(L,b){this.forceState(L,b,v.GAMEOBJECT_POINTER_UP,v.GAMEOBJECT_UP,!1)},forceOverState:function(L,b){this.forceState(L,b,v.GAMEOBJECT_POINTER_OVER,v.GAMEOBJECT_OVER,!0)},forceOutState:function(L,b){this.forceState(L,b,v.GAMEOBJECT_POINTER_OUT,v.GAMEOBJECT_OUT,!1)},forceState:function(L,b,D,I,k){var X=this._eventData,W=this._eventContainer;X.cancelled=!1,b.input&&b.input.enabled&&(b.emit(D,L,b.input.localX,b.input.localY,W),k&&this.setCursor(b.input),!X.cancelled&&this.isActive()&&b.input&&b.input.enabled&&this.emit(I,L,b,W))},queueForInsertion:function(L){return this._pendingInsertion.indexOf(L)===-1&&this._list.indexOf(L)===-1&&this._pendingInsertion.push(L),this},queueForRemoval:function(L){return this._pendingRemoval.push(L),this},setDraggable:function(L,b){b===void 0&&(b=!0),Array.isArray(L)||(L=[L]);for(var D=0;D<L.length;D++){var I=L[D];I.input.draggable=b;var k=this._draggable.indexOf(I);b&&k===-1?this._draggable.push(I):!b&&k>-1&&this._draggable.splice(k,1)}return this},makePixelPerfect:function(L){L===void 0&&(L=1);var b=this.systems.textures;return n(b,L)},setHitArea:function(L,b,D){if(b===void 0)return this.setHitAreaFromTexture(L);Array.isArray(L)||(L=[L]);var I=!1,k=!1,X=!1,W=!1,Y=!1,N=!0;if(P(b)&&Object.keys(b).length){var V=b,G=L.some(function($){return $.hasOwnProperty("faces")});if(!G){b=g(V,"hitArea",null),D=g(V,"hitAreaCallback",null),Y=g(V,"pixelPerfect",!1);var B=g(V,"alphaTolerance",1);Y&&(b={},D=this.makePixelPerfect(B))}I=g(V,"draggable",!1),k=g(V,"dropZone",!1),X=g(V,"cursor",!1),W=g(V,"useHandCursor",!1),(!b||!D)&&(this.setHitAreaFromTexture(L),N=!1)}else typeof b=="function"&&!D&&(D=b,b={});for(var z=0;z<L.length;z++){var U=L[z];if(Y&&U.type==="Container"){console.warn("Cannot pixelPerfect test a Container. Use a custom callback.");continue}var H=U.input?U.input:a(U,b,D);H.customHitArea=N,H.dropZone=k,H.cursor=W?"pointer":X,U.input=H,I&&this.setDraggable(U),this.queueForInsertion(U)}return this},setHitAreaCircle:function(L,b,D,I,k){k===void 0&&(k=x);var X=new h(b,D,I);return this.setHitArea(L,X,k)},setHitAreaEllipse:function(L,b,D,I,k,X){X===void 0&&(X=u);var W=new c(b,D,I,k);return this.setHitArea(L,W,X)},setHitAreaFromTexture:function(L,b){b===void 0&&(b=w),Array.isArray(L)||(L=[L]);for(var D=0;D<L.length;D++){var I=L[D],k=I.frame,X=0,W=0;if(I.width?(X=I.width,W=I.height):k&&(X=k.realWidth,W=k.realHeight),I.type==="Container"&&(X===0||W===0)){console.warn("Container.setInteractive must specify a Shape or call setSize() first");continue}X!==0&&W!==0&&(I.input=a(I,new M(0,0,X,W),b),this.queueForInsertion(I))}return this},setHitAreaRectangle:function(L,b,D,I,k,X){X===void 0&&(X=w);var W=new M(b,D,I,k);return this.setHitArea(L,W,X)},setHitAreaTriangle:function(L,b,D,I,k,X,W,Y){Y===void 0&&(Y=O);var N=new A(b,D,I,k,X,W);return this.setHitArea(L,N,Y)},enableDebug:function(L,b){b===void 0&&(b=65280);var D=L.input;if(!D||!D.hitArea)return this;var I=D.hitArea,k=I.type,X=D.hitAreaDebug,W=this.systems.add,Y=this.systems.updateList;X&&(Y.remove(X),X.destroy(),X=null);var N=0,V=0;switch(k){case m.CIRCLE:X=W.arc(0,0,I.radius),N=I.x-I.radius,V=I.y-I.radius;break;case m.ELLIPSE:X=W.ellipse(0,0,I.width,I.height),N=I.x-I.width/2,V=I.y-I.height/2;break;case m.LINE:X=W.line(0,0,I.x1,I.y1,I.x2,I.y2);break;case m.POLYGON:X=W.polygon(0,0,I.points);break;case m.RECTANGLE:X=W.rectangle(0,0,I.width,I.height),N=I.x,V=I.y;break;case m.TRIANGLE:X=W.triangle(0,0,I.x1,I.y1,I.x2,I.y2,I.x3,I.y3);break}return X&&(X.isFilled=!1,X.strokeColor=b,X.preUpdate=function(){X.setVisible(L.visible),X.setStrokeStyle(1/L.scale,X.strokeColor),X.setDisplayOrigin(L.displayOriginX,L.displayOriginY);var G=L.x,B=L.y,z=L.rotation,U=L.scaleX,H=L.scaleY;if(L.parentContainer){var $=L.getWorldTransformMatrix();G=$.tx,B=$.ty,z=$.rotation,U=$.scaleX,H=$.scaleY}X.setRotation(z),X.setScale(U,H),X.setPosition(G+N*U,B+V*H),X.setScrollFactor(L.scrollFactorX,L.scrollFactorY),X.setDepth(L.depth)},Y.add(X),D.hitAreaDebug=X),this},removeDebug:function(L){var b=L.input;if(b&&b.hitAreaDebug){var D=b.hitAreaDebug;D.destroy(),b.hitAreaDebug=null}return this},setPollAlways:function(){return this.setPollRate(0)},setPollOnMove:function(){return this.setPollRate(-1)},setPollRate:function(L){return this.pollRate=L,this._pollTimer=0,this},setGlobalTopOnly:function(L){return this.manager.globalTopOnly=L,this},setTopOnly:function(L){return this.topOnly=L,this},sortGameObjects:function(L,b){if(L.length<2||!b.camera)return L;var D=b.camera.renderList;return L.sort(function(I,k){var X=Math.max(D.indexOf(I),0),W=Math.max(D.indexOf(k),0);return W-X})},sortDropZones:function(L){return L.length<2?L:(this.scene.sys.depthSort(),L.sort(this.sortDropZoneHandler.bind(this)))},sortDropZoneHandler:function(L,b){if(!L.parentContainer&&!b.parentContainer)return this.displayList.getIndex(b)-this.displayList.getIndex(L);if(L.parentContainer===b.parentContainer)return b.parentContainer.getIndex(b)-L.parentContainer.getIndex(L);if(L.parentContainer===b)return-1;if(b.parentContainer===L)return 1;for(var D=L.getIndexList(),I=b.getIndexList(),k=Math.min(D.length,I.length),X=0;X<k;X++){var W=D[X],Y=I[X];if(W!==Y)return Y-W}return I.length-D.length},stopPropagation:function(){return this.manager._tempSkip=!0,this},addPointer:function(L){return this.manager.addPointer(L)},setDefaultCursor:function(L){return this.manager.setDefaultCursor(L),this},transitionIn:function(){this.enabled=this.settings.transitionAllowInput},transitionComplete:function(){this.settings.transitionAllowInput||(this.enabled=!0)},transitionOut:function(){this.enabled=this.settings.transitionAllowInput},shutdown:function(){this.pluginEvents.emit(v.SHUTDOWN),this._temp.length=0,this._list.length=0,this._draggable.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0,this._dragState.length=0;for(var L=0;L<10;L++)this._drag[L]=[],this._over[L]=[];this.removeAllListeners();var b=this.manager;b.canvas.style.cursor=b.defaultCursor;var D=this.systems.events;D.off(R.TRANSITION_START,this.transitionIn,this),D.off(R.TRANSITION_OUT,this.transitionOut,this),D.off(R.TRANSITION_COMPLETE,this.transitionComplete,this),D.off(R.PRE_UPDATE,this.preUpdate,this),b.events.off(v.GAME_OUT,this.onGameOut,this),b.events.off(v.GAME_OVER,this.onGameOver,this),D.off(R.SHUTDOWN,this.shutdown,this)},resetPointers:function(){for(var L=this.manager.pointers,b=0;b<L.length;b++)L[b].reset()},destroy:function(){this.shutdown(),this.pluginEvents.emit(v.DESTROY),this.pluginEvents.removeAllListeners(),this.scene.sys.events.off(R.START,this.start,this),this.scene=null,this.cameras=null,this.manager=null,this.events=null,this.mouse=null},x:{get:function(){return this.manager.activePointer.x}},y:{get:function(){return this.manager.activePointer.y}},isOver:{get:function(){return this.manager.isOver}},mousePointer:{get:function(){return this.manager.mousePointer}},activePointer:{get:function(){return this.manager.activePointer}},pointer1:{get:function(){return this.manager.pointers[1]}},pointer2:{get:function(){return this.manager.pointers[2]}},pointer3:{get:function(){return this.manager.pointers[3]}},pointer4:{get:function(){return this.manager.pointers[4]}},pointer5:{get:function(){return this.manager.pointers[5]}},pointer6:{get:function(){return this.manager.pointers[6]}},pointer7:{get:function(){return this.manager.pointers[7]}},pointer8:{get:function(){return this.manager.pointers[8]}},pointer9:{get:function(){return this.manager.pointers[9]}},pointer10:{get:function(){return this.manager.pointers[10]}}});E.register("InputPlugin",F,"input"),r.exports=F},89639:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),x={},f={};f.register=function(l,a,n,d,c){x[l]={plugin:a,mapping:n,settingsKey:d,configKey:c}},f.getPlugin=function(l){return x[l]},f.install=function(l){var a=l.scene.sys,n=a.settings.input,d=a.game.config;for(var c in x){var u=x[c].plugin,v=x[c].mapping,p=x[c].settingsKey,g=x[c].configKey;h(n,p,d[g])&&(l[v]=new u(l))}},f.remove=function(l){x.hasOwnProperty(l)&&delete x[l]},r.exports=f},42515:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(31040),x=i(83419),f=i(20339),l=i(43855),a=i(47235),n=i(26099),d=i(25892),c=new x({initialize:function(v,p){this.manager=v,this.id=p,this.event,this.downElement,this.upElement,this.camera=null,this.button=0,this.buttons=0,this.position=new n,this.prevPosition=new n,this.midPoint=new n(-1,-1),this.velocity=new n,this.angle=0,this.distance=0,this.smoothFactor=0,this.motionFactor=.2,this.worldX=0,this.worldY=0,this.moveTime=0,this.downX=0,this.downY=0,this.downTime=0,this.upX=0,this.upY=0,this.upTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.active=p===0,this.locked=!1,this.deltaX=0,this.deltaY=0,this.deltaZ=0},updateWorldPoint:function(u){var v=u.getWorldPoint(this.x,this.y);return this.worldX=v.x,this.worldY=v.y,this},positionToCamera:function(u,v){return u.getWorldPoint(this.x,this.y,v)},updateMotion:function(){var u=this.position.x,v=this.position.y,p=this.midPoint.x,g=this.midPoint.y;if(!(u===p&&v===g)){var m=a(this.motionFactor,p,u),T=a(this.motionFactor,g,v);l(m,u,.1)&&(m=u),l(T,v,.1)&&(T=v),this.midPoint.set(m,T);var P=u-m,E=v-T;this.velocity.set(P,E),this.angle=h(m,T,u,v),this.distance=Math.sqrt(P*P+E*E)}},up:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!1,this.upX=this.x,this.upY=this.y),this.buttons===0&&(this.isDown=!1,this.upTime=u.timeStamp,this.wasTouch=!1)},down:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.button=u.button,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),u.button===0&&(this.primaryDown=!0,this.downX=this.x,this.downY=this.y),d.macOS&&u.ctrlKey&&(this.buttons=2,this.primaryDown=!1),this.isDown||(this.isDown=!0,this.downTime=u.timeStamp),this.wasTouch=!1},move:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.locked&&(this.movementX=u.movementX||u.mozMovementX||u.webkitMovementX||0,this.movementY=u.movementY||u.mozMovementY||u.webkitMovementY||0),this.moveTime=u.timeStamp,this.wasTouch=!1},wheel:function(u){"buttons"in u&&(this.buttons=u.buttons),this.event=u,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.deltaX=u.deltaX,this.deltaY=u.deltaY,this.deltaZ=u.deltaZ,this.wasTouch=!1},touchstart:function(u,v){u.pointerId&&(this.pointerId=u.pointerId),this.identifier=u.identifier,this.target=u.target,this.active=!0,this.buttons=1,this.event=v,this.downElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!0,this.downX=this.x,this.downY=this.y,this.downTime=v.timeStamp,this.isDown=!0,this.wasTouch=!0,this.wasCanceled=!1,this.updateMotion()},touchmove:function(u,v){this.event=v,this.manager.transformPointer(this,u.pageX,u.pageY,!0),this.moveTime=v.timeStamp,this.wasTouch=!0,this.updateMotion()},touchend:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!1,this.active=!1,this.updateMotion()},touchcancel:function(u,v){this.buttons=0,this.event=v,this.upElement=u.target,this.manager.transformPointer(this,u.pageX,u.pageY,!1),this.primaryDown=!1,this.upX=this.x,this.upY=this.y,this.upTime=v.timeStamp,this.isDown=!1,this.wasTouch=!0,this.wasCanceled=!0,this.active=!1},noButtonDown:function(){return this.buttons===0},leftButtonDown:function(){return!!(this.buttons&1)},rightButtonDown:function(){return!!(this.buttons&2)},middleButtonDown:function(){return!!(this.buttons&4)},backButtonDown:function(){return!!(this.buttons&8)},forwardButtonDown:function(){return!!(this.buttons&16)},leftButtonReleased:function(){return this.buttons===0?this.button===0&&!this.isDown:this.button===0},rightButtonReleased:function(){return this.buttons===0?this.button===2&&!this.isDown:this.button===2},middleButtonReleased:function(){return this.buttons===0?this.button===1&&!this.isDown:this.button===1},backButtonReleased:function(){return this.buttons===0?this.button===3&&!this.isDown:this.button===3},forwardButtonReleased:function(){return this.buttons===0?this.button===4&&!this.isDown:this.button===4},getDistance:function(){return this.isDown?f(this.downX,this.downY,this.x,this.y):f(this.downX,this.downY,this.upX,this.upY)},getDistanceX:function(){return this.isDown?Math.abs(this.downX-this.x):Math.abs(this.downX-this.upX)},getDistanceY:function(){return this.isDown?Math.abs(this.downY-this.y):Math.abs(this.downY-this.upY)},getDuration:function(){return this.isDown?this.manager.time-this.downTime:this.upTime-this.downTime},getAngle:function(){return this.isDown?h(this.downX,this.downY,this.x,this.y):h(this.downX,this.downY,this.upX,this.upY)},getInterpolatedPosition:function(u,v){u===void 0&&(u=10),v===void 0&&(v=[]);for(var p=this.prevPosition.x,g=this.prevPosition.y,m=this.position.x,T=this.position.y,P=0;P<u;P++){var E=1/u*P;v[P]={x:a(E,p,m),y:a(E,g,T)}}return v},reset:function(){this.event=null,this.downElement=null,this.upElement=null,this.button=0,this.buttons=0,this.position.set(0,0),this.prevPosition.set(0,0),this.midPoint.set(-1,-1),this.velocity.set(0,0),this.angle=0,this.distance=0,this.worldX=0,this.worldY=0,this.downX=0,this.downY=0,this.upX=0,this.upY=0,this.moveTime=0,this.upTime=0,this.downTime=0,this.primaryDown=!1,this.isDown=!1,this.wasTouch=!1,this.wasCanceled=!1,this.movementX=0,this.movementY=0,this.identifier=0,this.pointerId=null,this.deltaX=0,this.deltaY=0,this.deltaZ=0,this.active=this.id===0},destroy:function(){this.camera=null,this.manager=null,this.position=null},x:{get:function(){return this.position.x},set:function(u){this.position.x=u}},y:{get:function(){return this.position.y},set:function(u){this.position.y=u}},time:{get:function(){return this.event?this.event.timeStamp:0}}});r.exports=c},93301:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={MOUSE_DOWN:0,MOUSE_MOVE:1,MOUSE_UP:2,TOUCH_START:3,TOUCH_MOVE:4,TOUCH_END:5,POINTER_LOCK_CHANGE:6,TOUCH_CANCEL:7,MOUSE_WHEEL:8};r.exports=C},7179:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},85375:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},39843:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},23388:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},16133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},27829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},53904:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},56058:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},2642:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},88171:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectdown"},36147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},71692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragenter"},96149:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},81285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragleave"},74048:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragover"},21322:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},49378:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drop"},86754:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectmove"},86433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectout"},60709:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectover"},24081:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},11172:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},18907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},95579:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},35368:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},26972:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},47078:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectup"},73802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameobjectwheel"},56718:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameout"},25936:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="gameover"},27503:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},50852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="process"},96438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},59152:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerlockchange"},47777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdown"},27957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerdownoutside"},19444:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointermove"},54251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerout"},18667:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerover"},27192:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerup"},24652:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pointerupoutside"},45132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wheel"},44512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},15757:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},41637:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},93802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},8214:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BOOT:i(7179),DESTROY:i(85375),DRAG_END:i(39843),DRAG_ENTER:i(23388),DRAG:i(16133),DRAG_LEAVE:i(27829),DRAG_OVER:i(53904),DRAG_START:i(56058),DROP:i(2642),GAME_OUT:i(56718),GAME_OVER:i(25936),GAMEOBJECT_DOWN:i(88171),GAMEOBJECT_DRAG_END:i(36147),GAMEOBJECT_DRAG_ENTER:i(71692),GAMEOBJECT_DRAG:i(96149),GAMEOBJECT_DRAG_LEAVE:i(81285),GAMEOBJECT_DRAG_OVER:i(74048),GAMEOBJECT_DRAG_START:i(21322),GAMEOBJECT_DROP:i(49378),GAMEOBJECT_MOVE:i(86754),GAMEOBJECT_OUT:i(86433),GAMEOBJECT_OVER:i(60709),GAMEOBJECT_POINTER_DOWN:i(24081),GAMEOBJECT_POINTER_MOVE:i(11172),GAMEOBJECT_POINTER_OUT:i(18907),GAMEOBJECT_POINTER_OVER:i(95579),GAMEOBJECT_POINTER_UP:i(35368),GAMEOBJECT_POINTER_WHEEL:i(26972),GAMEOBJECT_UP:i(47078),GAMEOBJECT_WHEEL:i(73802),MANAGER_BOOT:i(27503),MANAGER_PROCESS:i(50852),MANAGER_UPDATE:i(96438),POINTER_DOWN:i(47777),POINTER_DOWN_OUTSIDE:i(27957),POINTER_MOVE:i(19444),POINTER_OUT:i(54251),POINTER_OVER:i(18667),POINTER_UP:i(27192),POINTER_UP_OUTSIDE:i(24652),POINTER_WHEEL:i(45132),POINTERLOCK_CHANGE:i(59152),PRE_UPDATE:i(44512),SHUTDOWN:i(15757),START:i(41637),UPDATE:i(93802)}},97421:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a){this.pad=l,this.events=l.events,this.index=a,this.value=0,this.threshold=.1},update:function(f){this.value=f},getValue:function(){return Math.abs(this.value)<this.threshold?0:this.value},destroy:function(){this.pad=null,this.events=null}});r.exports=x},28884:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(92734),f=new h({initialize:function(a,n){this.pad=a,this.events=a.manager,this.index=n,this.value=0,this.threshold=1,this.pressed=!1},update:function(l){this.value=l;var a=this.pad,n=this.index;l>=this.threshold?this.pressed||(this.pressed=!0,this.events.emit(x.BUTTON_DOWN,a,this,l),this.pad.emit(x.GAMEPAD_BUTTON_DOWN,n,l,this)):this.pressed&&(this.pressed=!1,this.events.emit(x.BUTTON_UP,a,this,l),this.pad.emit(x.GAMEPAD_BUTTON_UP,n,l,this))},destroy:function(){this.pad=null,this.events=null}});r.exports=f},99125:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97421),x=i(28884),f=i(83419),l=i(50792),a=i(26099),n=new f({Extends:l,initialize:function(c,u){l.call(this),this.manager=c,this.pad=u,this.id=u.id,this.index=u.index;for(var v=[],p=0;p<u.buttons.length;p++)v.push(new x(this,p));this.buttons=v;var g=[];for(p=0;p<u.axes.length;p++)g.push(new h(this,p));this.axes=g,this.vibration=u.vibrationActuator;var m={value:0,pressed:!1};this._LCLeft=v[14]?v[14]:m,this._LCRight=v[15]?v[15]:m,this._LCTop=v[12]?v[12]:m,this._LCBottom=v[13]?v[13]:m,this._RCLeft=v[2]?v[2]:m,this._RCRight=v[1]?v[1]:m,this._RCTop=v[3]?v[3]:m,this._RCBottom=v[0]?v[0]:m,this._FBLeftTop=v[4]?v[4]:m,this._FBLeftBottom=v[6]?v[6]:m,this._FBRightTop=v[5]?v[5]:m,this._FBRightBottom=v[7]?v[7]:m;var T={value:0};this._HAxisLeft=g[0]?g[0]:T,this._VAxisLeft=g[1]?g[1]:T,this._HAxisRight=g[2]?g[2]:T,this._VAxisRight=g[3]?g[3]:T,this.leftStick=new a,this.rightStick=new a,this._created=performance.now()},getAxisTotal:function(){return this.axes.length},getAxisValue:function(d){return this.axes[d].getValue()},setAxisThreshold:function(d){for(var c=0;c<this.axes.length;c++)this.axes[c].threshold=d},getButtonTotal:function(){return this.buttons.length},getButtonValue:function(d){return this.buttons[d].value},isButtonDown:function(d){return this.buttons[d].pressed},update:function(d){if(!(d.timestamp<this._created)){var c,u=this.buttons,v=d.buttons,p=u.length;for(c=0;c<p;c++)u[c].update(v[c].value);var g=this.axes,m=d.axes;for(p=g.length,c=0;c<p;c++)g[c].update(m[c]);p>=2&&(this.leftStick.set(g[0].getValue(),g[1].getValue()),p>=4&&this.rightStick.set(g[2].getValue(),g[3].getValue()))}},destroy:function(){this.removeAllListeners(),this.manager=null,this.pad=null;var d;for(d=0;d<this.buttons.length;d++)this.buttons[d].destroy();for(d=0;d<this.axes.length;d++)this.axes[d].destroy();this.buttons=[],this.axes=[]},connected:{get:function(){return this.pad.connected}},timestamp:{get:function(){return this.pad.timestamp}},left:{get:function(){return this._LCLeft.pressed}},right:{get:function(){return this._LCRight.pressed}},up:{get:function(){return this._LCTop.pressed}},down:{get:function(){return this._LCBottom.pressed}},A:{get:function(){return this._RCBottom.pressed}},Y:{get:function(){return this._RCTop.pressed}},X:{get:function(){return this._RCLeft.pressed}},B:{get:function(){return this._RCRight.pressed}},L1:{get:function(){return this._FBLeftTop.value}},L2:{get:function(){return this._FBLeftBottom.value}},R1:{get:function(){return this._FBRightTop.value}},R2:{get:function(){return this._FBRightBottom.value}}});r.exports=n},56654:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(92734),l=i(99125),a=i(35154),n=i(89639),d=i(8214),c=new h({Extends:x,initialize:function(v){x.call(this),this.scene=v.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=v,this.enabled=!0,this.target,this.gamepads=[],this.queue=[],this.onGamepadHandler,this._pad1,this._pad2,this._pad3,this._pad4,v.pluginEvents.once(d.BOOT,this.boot,this),v.pluginEvents.on(d.START,this.start,this)},boot:function(){var u=this.scene.sys.game,v=this.settings.input,p=u.config;this.enabled=a(v,"gamepad",p.inputGamepad)&&u.device.input.gamepads,this.target=a(v,"gamepad.target",p.inputGamepadEventTarget),this.sceneInputPlugin.pluginEvents.once(d.DESTROY,this.destroy,this)},start:function(){this.enabled&&(this.startListeners(),this.refreshPads()),this.sceneInputPlugin.pluginEvents.once(d.SHUTDOWN,this.shutdown,this)},isActive:function(){return this.enabled&&this.scene.sys.isActive()},startListeners:function(){var u=this,v=this.target,p=function(g){g.defaultPrevented||!u.isActive()||(u.refreshPads(),u.queue.push(g))};this.onGamepadHandler=p,v.addEventListener("gamepadconnected",p,!1),v.addEventListener("gamepaddisconnected",p,!1),this.sceneInputPlugin.pluginEvents.on(d.UPDATE,this.update,this)},stopListeners:function(){this.target.removeEventListener("gamepadconnected",this.onGamepadHandler),this.target.removeEventListener("gamepaddisconnected",this.onGamepadHandler),this.sceneInputPlugin.pluginEvents.off(d.UPDATE,this.update);for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].removeAllListeners()},disconnectAll:function(){for(var u=0;u<this.gamepads.length;u++)this.gamepads[u].pad.connected=!1},refreshPads:function(){var u=navigator.getGamepads();if(!u)this.disconnectAll();else for(var v=this.gamepads,p=0;p<u.length;p++){var g=u[p];if(g){var m=g.id,T=g.index,P=v[T];if(P)P.id!==m?(P.destroy(),v[T]=new l(this,g)):P.update(g);else{var E=new l(this,g);v[T]=E,this._pad1?this._pad2?this._pad3?this._pad4||(this._pad4=E):this._pad3=E:this._pad2=E:this._pad1=E}}}},getAll:function(){for(var u=[],v=this.gamepads,p=0;p<v.length;p++)v[p]&&u.push(v[p]);return u},getPad:function(u){for(var v=this.gamepads,p=0;p<v.length;p++)if(v[p]&&v[p].index===u)return v[p]},update:function(){if(this.enabled){this.refreshPads();var u=this.queue.length;if(u!==0)for(var v=this.queue.splice(0,u),p=0;p<u;p++){var g=v[p],m=this.getPad(g.gamepad.index);g.type==="gamepadconnected"?this.emit(f.CONNECTED,m,g):g.type==="gamepaddisconnected"&&this.emit(f.DISCONNECTED,m,g)}}},shutdown:function(){this.stopListeners(),this.removeAllListeners()},destroy:function(){this.shutdown();for(var u=0;u<this.gamepads.length;u++)this.gamepads[u]&&this.gamepads[u].destroy();this.gamepads=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.target=null},total:{get:function(){return this.gamepads.length}},pad1:{get:function(){return this._pad1}},pad2:{get:function(){return this._pad2}},pad3:{get:function(){return this._pad3}},pad4:{get:function(){return this._pad4}}});n.register("GamepadPlugin",c,"gamepad","gamepad","inputGamepad"),r.exports=c},89651:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SELECT:8,START:9,B:0,A:1,Y:2,X:3,LEFT_SHOULDER:4,RIGHT_SHOULDER:5}},65294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,SHARE:8,OPTIONS:9,PS:16,TOUCHBAR:17,X:0,CIRCLE:1,SQUARE:2,TRIANGLE:3,L1:4,R1:5,L2:6,R2:7,L3:10,R3:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},90089:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={UP:12,DOWN:13,LEFT:14,RIGHT:15,MENU:16,A:0,B:1,X:2,Y:3,LB:4,RB:5,LT:6,RT:7,BACK:8,START:9,LS:10,RS:11,LEFT_STICK_H:0,LEFT_STICK_V:1,RIGHT_STICK_H:2,RIGHT_STICK_V:3}},64894:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={DUALSHOCK_4:i(65294),SNES_USB:i(89651),XBOX_360:i(90089)}},46008:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},7629:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},42206:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="connected"},86544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="disconnected"},94784:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},14325:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},92734:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BUTTON_DOWN:i(46008),BUTTON_UP:i(7629),CONNECTED:i(42206),DISCONNECTED:i(86544),GAMEPAD_BUTTON_DOWN:i(94784),GAMEPAD_BUTTON_UP:i(14325)}},48646:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Axis:i(97421),Button:i(28884),Events:i(92734),Gamepad:i(99125),GamepadPlugin:i(56654),Configs:i(64894)}},14350:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(93301),x=i(79291),f={CreatePixelPerfectHandler:i(84409),CreateInteractiveObject:i(74457),Events:i(8214),Gamepad:i(48646),InputManager:i(7003),InputPlugin:i(48205),InputPluginCache:i(89639),Keyboard:i(51442),Mouse:i(87078),Pointer:i(42515),Touch:i(95618)};f=x(!1,f,h),r.exports=f},78970:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(72905),x=i(83419),f=i(8443),l=i(8214),a=i(46032),n=i(29747),d=new x({initialize:function(u){this.manager=u,this.queue=[],this.preventDefault=!0,this.captures=[],this.enabled=!1,this.target,this.onKeyDown=n,this.onKeyUp=n,u.events.once(l.MANAGER_BOOT,this.boot,this)},boot:function(){var c=this.manager.config;this.enabled=c.inputKeyboard,this.target=c.inputKeyboardEventTarget,this.addCapture(c.inputKeyboardCapture),!this.target&&window&&(this.target=window),this.enabled&&this.target&&this.startListeners(),this.manager.game.events.on(f.POST_STEP,this.postUpdate,this)},startListeners:function(){var c=this;this.onKeyDown=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(l.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}},this.onKeyUp=function(v){if(!(v.defaultPrevented||!c.enabled||!c.manager)){c.queue.push(v),c.manager.events.emit(l.MANAGER_PROCESS);var p=v.altKey||v.ctrlKey||v.shiftKey||v.metaKey;c.preventDefault&&!p&&c.captures.indexOf(v.keyCode)>-1&&v.preventDefault()}};var u=this.target;u&&(u.addEventListener("keydown",this.onKeyDown,!1),u.addEventListener("keyup",this.onKeyUp,!1),this.enabled=!0)},stopListeners:function(){var c=this.target;c.removeEventListener("keydown",this.onKeyDown,!1),c.removeEventListener("keyup",this.onKeyUp,!1),this.enabled=!1},postUpdate:function(){this.queue=[]},addCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=a[p.trim().toUpperCase()]),u.indexOf(p)===-1&&u.push(p)}this.preventDefault=u.length>0},removeCapture:function(c){typeof c=="string"&&(c=c.split(",")),Array.isArray(c)||(c=[c]);for(var u=this.captures,v=0;v<c.length;v++){var p=c[v];typeof p=="string"&&(p=a[p.toUpperCase()]),h(u,p)}this.preventDefault=u.length>0},clearCaptures:function(){this.captures=[],this.preventDefault=!1},destroy:function(){this.stopListeners(),this.clearCaptures(),this.queue=[],this.manager.game.events.off(f.POST_RENDER,this.postUpdate,this),this.target=null,this.enabled=!1,this.manager=null}});r.exports=d},28846:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(95922),l=i(8443),a=i(35154),n=i(8214),d=i(89639),c=i(30472),u=i(46032),v=i(87960),p=i(74600),g=i(44594),m=i(56583),T=new h({Extends:x,initialize:function(E){x.call(this),this.game=E.systems.game,this.scene=E.scene,this.settings=this.scene.sys.settings,this.sceneInputPlugin=E,this.manager=E.manager.keyboard,this.enabled=!0,this.keys=[],this.combos=[],this.prevCode=null,this.prevTime=0,this.prevType=null,E.pluginEvents.once(n.BOOT,this.boot,this),E.pluginEvents.on(n.START,this.start,this)},boot:function(){var P=this.settings.input;this.enabled=a(P,"keyboard",!0);var E=a(P,"keyboard.capture",null);E&&this.addCaptures(E),this.sceneInputPlugin.pluginEvents.once(n.DESTROY,this.destroy,this)},start:function(){this.sceneInputPlugin.manager.events.on(n.MANAGER_PROCESS,this.update,this),this.sceneInputPlugin.pluginEvents.once(n.SHUTDOWN,this.shutdown,this),this.game.events.on(l.BLUR,this.resetKeys,this),this.scene.sys.events.on(g.PAUSE,this.resetKeys,this),this.scene.sys.events.on(g.SLEEP,this.resetKeys,this)},isActive:function(){return this.enabled&&this.scene.sys.canInput()},addCapture:function(P){return this.manager.addCapture(P),this},removeCapture:function(P){return this.manager.removeCapture(P),this},getCaptures:function(){return this.manager.captures},enableGlobalCapture:function(){return this.manager.preventDefault=!0,this},disableGlobalCapture:function(){return this.manager.preventDefault=!1,this},clearCaptures:function(){return this.manager.clearCaptures(),this},createCursorKeys:function(){return this.addKeys({up:u.UP,down:u.DOWN,left:u.LEFT,right:u.RIGHT,space:u.SPACE,shift:u.SHIFT})},addKeys:function(P,E,M){E===void 0&&(E=!0),M===void 0&&(M=!1);var w={};if(typeof P=="string"){P=P.split(",");for(var R=0;R<P.length;R++){var A=P[R].trim();A&&(w[A]=this.addKey(A,E,M))}}else for(var O in P)w[O]=this.addKey(P[O],E,M);return w},addKey:function(P,E,M){E===void 0&&(E=!0),M===void 0&&(M=!1);var w=this.keys;if(P instanceof c){var R=w.indexOf(P);return R>-1?w[R]=P:w[P.keyCode]=P,E&&this.addCapture(P.keyCode),P.setEmitOnRepeat(M),P}return typeof P=="string"&&(P=u[P.toUpperCase()]),w[P]||(w[P]=new c(this,P),E&&this.addCapture(P),w[P].setEmitOnRepeat(M)),w[P]},removeKey:function(P,E,M){E===void 0&&(E=!1),M===void 0&&(M=!1);var w=this.keys,R;if(P instanceof c){var A=w.indexOf(P);A>-1&&(R=this.keys[A],this.keys[A]=void 0)}else typeof P=="string"&&(P=u[P.toUpperCase()]);return w[P]&&(R=w[P],w[P]=void 0),R&&(R.plugin=null,M&&this.removeCapture(R.keyCode),E&&R.destroy()),this},removeAllKeys:function(P,E){P===void 0&&(P=!1),E===void 0&&(E=!1);for(var M=this.keys,w=0;w<M.length;w++){var R=M[w];R&&(M[w]=void 0,E&&this.removeCapture(R.keyCode),P&&R.destroy())}return this},createCombo:function(P,E){return new v(this,P,E)},checkDown:function(P,E){if(E===void 0&&(E=0),this.enabled&&P.isDown){var M=m(this.time-P.timeDown,E);if(M>P._tick)return P._tick=M,!0}return!1},update:function(){var P=this.manager.queue,E=P.length;if(!(!this.isActive()||E===0))for(var M=this.keys,w=0;w<E;w++){var R=P[w],A=R.keyCode,O=M[A],F=!1;R.cancelled===void 0&&(R.cancelled=0,R.stopImmediatePropagation=function(){R.cancelled=1},R.stopPropagation=function(){R.cancelled=-1}),R.cancelled!==-1&&(A===this.prevCode&&R.timeStamp===this.prevTime&&R.type===this.prevType||(this.prevCode=A,this.prevTime=R.timeStamp,this.prevType=R.type,R.type==="keydown"?(O&&(F=O.isDown,O.onDown(R)),!R.cancelled&&(!O||!F)&&(p[A]&&this.emit(f.KEY_DOWN+p[A],R),R.cancelled||this.emit(f.ANY_KEY_DOWN,R))):(O&&O.onUp(R),R.cancelled||(p[A]&&this.emit(f.KEY_UP+p[A],R),R.cancelled||this.emit(f.ANY_KEY_UP,R))),R.cancelled===1&&(R.cancelled=0)))}},resetKeys:function(){for(var P=this.keys,E=0;E<P.length;E++)P[E]&&P[E].reset();return this},shutdown:function(){this.removeAllKeys(!0),this.removeAllListeners(),this.sceneInputPlugin.manager.events.off(n.MANAGER_PROCESS,this.update,this),this.game.events.off(l.BLUR,this.resetKeys),this.scene.sys.events.off(g.PAUSE,this.resetKeys,this),this.scene.sys.events.off(g.SLEEP,this.resetKeys,this),this.queue=[]},destroy:function(){this.shutdown();for(var P=this.keys,E=0;E<P.length;E++)P[E]&&P[E].destroy();this.keys=[],this.combos=[],this.queue=[],this.scene=null,this.settings=null,this.sceneInputPlugin=null,this.manager=null},time:{get:function(){return this.sceneInputPlugin.manager.time}}});d.register("KeyboardPlugin",T,"keyboard","keyboard","inputKeyboard"),r.exports=T},66970:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h.timeLastMatched=i.timeStamp,h.index++,h.index===h.size?!0:(h.current=h.keyCodes[h.index],!1)};r.exports=C},87960:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95922),f=i(95540),l=i(68769),a=i(92803),n=new h({initialize:function(c,u,v){if(v===void 0&&(v={}),u.length<2)return!1;this.manager=c,this.enabled=!0,this.keyCodes=[];for(var p=0;p<u.length;p++){var g=u[p];typeof g=="string"?this.keyCodes.push(g.toUpperCase().charCodeAt(0)):typeof g=="number"?this.keyCodes.push(g):g.hasOwnProperty("keyCode")&&this.keyCodes.push(g.keyCode)}this.current=this.keyCodes[0],this.index=0,this.size=this.keyCodes.length,this.timeLastMatched=0,this.matched=!1,this.timeMatched=0,this.resetOnWrongKey=f(v,"resetOnWrongKey",!0),this.maxKeyDelay=f(v,"maxKeyDelay",0),this.resetOnMatch=f(v,"resetOnMatch",!1),this.deleteOnMatch=f(v,"deleteOnMatch",!1);var m=this,T=function(P){if(!(m.matched||!m.enabled)){var E=l(P,m);E&&(m.manager.emit(x.COMBO_MATCH,m,P),m.resetOnMatch?a(m):m.deleteOnMatch&&m.destroy())}};this.onKeyDown=T,this.manager.on(x.ANY_KEY_DOWN,this.onKeyDown)},progress:{get:function(){return this.index/this.size}},destroy:function(){this.enabled=!1,this.keyCodes=[],this.manager.off(x.ANY_KEY_DOWN,this.onKeyDown),this.manager=null}});r.exports=n},68769:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66970),x=function(f,l){if(l.matched)return!0;var a=!1,n=!1;if(f.keyCode===l.current)if(l.index>0&&l.maxKeyDelay>0){var d=l.timeLastMatched+l.maxKeyDelay;f.timeStamp<=d&&(n=!0,a=h(f,l))}else n=!0,a=h(f,l);return!n&&l.resetOnWrongKey&&(l.index=0,l.current=l.keyCodes[0]),a&&(l.timeLastMatched=f.timeStamp,l.matched=!0,l.timeMatched=f.timeStamp),a};r.exports=x},92803:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.current=i.keyCodes[0],i.index=0,i.timeLastMatched=0,i.matched=!1,i.timeMatched=0,i};r.exports=C},92612:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown"},23345:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup"},21957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keycombomatch"},44743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="down"},3771:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keydown-"},46358:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="keyup-"},75674:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="up"},95922:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ANY_KEY_DOWN:i(92612),ANY_KEY_UP:i(23345),COMBO_MATCH:i(21957),DOWN:i(44743),KEY_DOWN:i(3771),KEY_UP:i(46358),UP:i(75674)}},51442:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(95922),KeyboardManager:i(78970),KeyboardPlugin:i(28846),Key:i(30472),KeyCodes:i(46032),KeyCombo:i(87960),AdvanceKeyCombo:i(66970),ProcessKeyCombo:i(68769),ResetKeyCombo:i(92803),JustDown:i(90229),JustUp:i(38796),DownDuration:i(37015),UpDuration:i(41170)}},37015:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=50);var x=i.plugin.game.loop.time-i.timeDown;return i.isDown&&x<h};r.exports=C},90229:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i._justDown?(i._justDown=!1,!0):!1};r.exports=C},38796:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i._justUp?(i._justUp=!1,!0):!1};r.exports=C},30472:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(95922),l=new h({Extends:x,initialize:function(n,d){x.call(this),this.plugin=n,this.keyCode=d,this.originalEvent=void 0,this.enabled=!0,this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.location=0,this.timeDown=0,this.duration=0,this.timeUp=0,this.emitOnRepeat=!1,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1},setEmitOnRepeat:function(a){return this.emitOnRepeat=a,this},onDown:function(a){this.originalEvent=a,this.enabled&&(this.altKey=a.altKey,this.ctrlKey=a.ctrlKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.location=a.location,this.repeats++,this.isDown?this.emitOnRepeat&&this.emit(f.DOWN,this,a):(this.isDown=!0,this.isUp=!1,this.timeDown=a.timeStamp,this.duration=0,this._justDown=!0,this._justUp=!1,this.emit(f.DOWN,this,a)))},onUp:function(a){this.originalEvent=a,this.enabled&&(this.isDown=!1,this.isUp=!0,this.timeUp=a.timeStamp,this.duration=this.timeUp-this.timeDown,this.repeats=0,this._justDown=!1,this._justUp=!0,this._tick=-1,this.emit(f.UP,this,a))},reset:function(){return this.isDown=!1,this.isUp=!0,this.altKey=!1,this.ctrlKey=!1,this.shiftKey=!1,this.metaKey=!1,this.timeDown=0,this.duration=0,this.timeUp=0,this.repeats=0,this._justDown=!1,this._justUp=!1,this._tick=-1,this},getDuration:function(){return this.isDown?this.plugin.game.loop.time-this.timeDown:0},destroy:function(){this.removeAllListeners(),this.originalEvent=null,this.plugin=null}});r.exports=l},46032:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,PAUSE:19,CAPS_LOCK:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,PRINT_SCREEN:42,INSERT:45,DELETE:46,ZERO:48,ONE:49,TWO:50,THREE:51,FOUR:52,FIVE:53,SIX:54,SEVEN:55,EIGHT:56,NINE:57,NUMPAD_ZERO:96,NUMPAD_ONE:97,NUMPAD_TWO:98,NUMPAD_THREE:99,NUMPAD_FOUR:100,NUMPAD_FIVE:101,NUMPAD_SIX:102,NUMPAD_SEVEN:103,NUMPAD_EIGHT:104,NUMPAD_NINE:105,NUMPAD_ADD:107,NUMPAD_SUBTRACT:109,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SEMICOLON:186,PLUS:187,COMMA:188,MINUS:189,PERIOD:190,FORWARD_SLASH:191,BACK_SLASH:220,QUOTES:222,BACKTICK:192,OPEN_BRACKET:219,CLOSED_BRACKET:221,SEMICOLON_FIREFOX:59,COLON:58,COMMA_FIREFOX_WINDOWS:60,COMMA_FIREFOX:62,BRACKET_RIGHT_FIREFOX:174,BRACKET_LEFT_FIREFOX:175};r.exports=C},74600:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(46032),x={};for(var f in h)x[h[f]]=f;r.exports=x},41170:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=50);var x=i.plugin.game.loop.time-i.timeUp;return i.isUp&&x<h};r.exports=C},85098:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(89357),f=i(8214),l=i(29747),a=new h({initialize:function(d){this.manager=d,this.preventDefaultDown=!0,this.preventDefaultUp=!0,this.preventDefaultMove=!0,this.preventDefaultWheel=!1,this.enabled=!1,this.target,this.locked=!1,this.onMouseMove=l,this.onMouseDown=l,this.onMouseUp=l,this.onMouseDownWindow=l,this.onMouseUpWindow=l,this.onMouseOver=l,this.onMouseOut=l,this.onMouseWheel=l,this.pointerLockChange=l,this.isTop=!0,d.events.once(f.MANAGER_BOOT,this.boot,this)},boot:function(){var n=this.manager.config;this.enabled=n.inputMouse,this.target=n.inputMouseEventTarget,this.passive=n.inputMousePassive,this.preventDefaultDown=n.inputMousePreventDefaultDown,this.preventDefaultUp=n.inputMousePreventDefaultUp,this.preventDefaultMove=n.inputMousePreventDefaultMove,this.preventDefaultWheel=n.inputMousePreventDefaultWheel,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,n.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(n){return n.preventDefault(),!1}),this},requestPointerLock:function(){if(x.pointerLock){var n=this.target;n.requestPointerLock=n.requestPointerLock||n.mozRequestPointerLock||n.webkitRequestPointerLock,n.requestPointerLock()}},releasePointerLock:function(){x.pointerLock&&(document.exitPointerLock=document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock,document.exitPointerLock())},startListeners:function(){var n=this.target;if(n){var d=this,c=this.manager,u=c.canvas,v=window&&window.focus&&c.game.config.autoFocus;this.onMouseMove=function(g){!g.defaultPrevented&&d.enabled&&c&&c.enabled&&(c.onMouseMove(g),d.preventDefaultMove&&g.preventDefault())},this.onMouseDown=function(g){v&&window.focus(),!g.defaultPrevented&&d.enabled&&c&&c.enabled&&(c.onMouseDown(g),d.preventDefaultDown&&g.target===u&&g.preventDefault())},this.onMouseDownWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&d.enabled&&c&&c.enabled&&g.target!==u&&c.onMouseDown(g)},this.onMouseUp=function(g){!g.defaultPrevented&&d.enabled&&c&&c.enabled&&(c.onMouseUp(g),d.preventDefaultUp&&g.target===u&&g.preventDefault())},this.onMouseUpWindow=function(g){g.sourceCapabilities&&g.sourceCapabilities.firesTouchEvents||!g.defaultPrevented&&d.enabled&&c&&c.enabled&&g.target!==u&&c.onMouseUp(g)},this.onMouseOver=function(g){!g.defaultPrevented&&d.enabled&&c&&c.enabled&&c.setCanvasOver(g)},this.onMouseOut=function(g){!g.defaultPrevented&&d.enabled&&c&&c.enabled&&c.setCanvasOut(g)},this.onMouseWheel=function(g){!g.defaultPrevented&&d.enabled&&c&&c.enabled&&c.onMouseWheel(g),d.preventDefaultWheel&&g.target===u&&g.preventDefault()};var p={passive:!0};if(n.addEventListener("mousemove",this.onMouseMove),n.addEventListener("mousedown",this.onMouseDown),n.addEventListener("mouseup",this.onMouseUp),n.addEventListener("mouseover",this.onMouseOver,p),n.addEventListener("mouseout",this.onMouseOut,p),this.preventDefaultWheel?n.addEventListener("wheel",this.onMouseWheel,{passive:!1}):n.addEventListener("wheel",this.onMouseWheel,p),window&&c.game.config.inputWindowEvents)try{window.top.addEventListener("mousedown",this.onMouseDownWindow,p),window.top.addEventListener("mouseup",this.onMouseUpWindow,p)}catch{window.addEventListener("mousedown",this.onMouseDownWindow,p),window.addEventListener("mouseup",this.onMouseUpWindow,p),this.isTop=!1}x.pointerLock&&(this.pointerLockChange=function(g){var m=d.target;d.locked=document.pointerLockElement===m||document.mozPointerLockElement===m||document.webkitPointerLockElement===m,c.onPointerLockChange(g)},document.addEventListener("pointerlockchange",this.pointerLockChange,!0),document.addEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.addEventListener("webkitpointerlockchange",this.pointerLockChange,!0)),this.enabled=!0}},stopListeners:function(){var n=this.target;n.removeEventListener("mousemove",this.onMouseMove),n.removeEventListener("mousedown",this.onMouseDown),n.removeEventListener("mouseup",this.onMouseUp),n.removeEventListener("mouseover",this.onMouseOver),n.removeEventListener("mouseout",this.onMouseOut),window&&(n=this.isTop?window.top:window,n.removeEventListener("mousedown",this.onMouseDownWindow),n.removeEventListener("mouseup",this.onMouseUpWindow)),x.pointerLock&&(document.removeEventListener("pointerlockchange",this.pointerLockChange,!0),document.removeEventListener("mozpointerlockchange",this.pointerLockChange,!0),document.removeEventListener("webkitpointerlockchange",this.pointerLockChange,!0))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=a},87078:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={MouseManager:i(85098)}},36210:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(8214),f=i(29747),l=new h({initialize:function(n){this.manager=n,this.capture=!0,this.enabled=!1,this.target,this.onTouchStart=f,this.onTouchStartWindow=f,this.onTouchMove=f,this.onTouchEnd=f,this.onTouchEndWindow=f,this.onTouchCancel=f,this.onTouchCancelWindow=f,this.isTop=!0,n.events.once(x.MANAGER_BOOT,this.boot,this)},boot:function(){var a=this.manager.config;this.enabled=a.inputTouch,this.target=a.inputTouchEventTarget,this.capture=a.inputTouchCapture,this.target?typeof this.target=="string"&&(this.target=document.getElementById(this.target)):this.target=this.manager.game.canvas,a.disableContextMenu&&this.disableContextMenu(),this.enabled&&this.target&&this.startListeners()},disableContextMenu:function(){return this.target.addEventListener("contextmenu",function(a){return a.preventDefault(),!1}),this},startListeners:function(){var a=this.target;if(a){var n=this,d=this.manager,c=d.canvas,u=window&&window.focus&&d.game.config.autoFocus;this.onTouchMove=function(m){!m.defaultPrevented&&n.enabled&&d&&d.enabled&&(d.onTouchMove(m),n.capture&&m.cancelable&&m.preventDefault())},this.onTouchStart=function(m){u&&window.focus(),!m.defaultPrevented&&n.enabled&&d&&d.enabled&&(d.onTouchStart(m),n.capture&&m.cancelable&&m.target===c&&m.preventDefault())},this.onTouchStartWindow=function(m){!m.defaultPrevented&&n.enabled&&d&&d.enabled&&m.target!==c&&d.onTouchStart(m)},this.onTouchEnd=function(m){!m.defaultPrevented&&n.enabled&&d&&d.enabled&&(d.onTouchEnd(m),n.capture&&m.cancelable&&m.target===c&&m.preventDefault())},this.onTouchEndWindow=function(m){!m.defaultPrevented&&n.enabled&&d&&d.enabled&&m.target!==c&&d.onTouchEnd(m)},this.onTouchCancel=function(m){!m.defaultPrevented&&n.enabled&&d&&d.enabled&&(d.onTouchCancel(m),n.capture&&m.preventDefault())},this.onTouchCancelWindow=function(m){!m.defaultPrevented&&n.enabled&&d&&d.enabled&&d.onTouchCancel(m)};var v=this.capture,p={passive:!0},g={passive:!1};if(a.addEventListener("touchstart",this.onTouchStart,v?g:p),a.addEventListener("touchmove",this.onTouchMove,v?g:p),a.addEventListener("touchend",this.onTouchEnd,v?g:p),a.addEventListener("touchcancel",this.onTouchCancel,v?g:p),window&&d.game.config.inputWindowEvents)try{window.top.addEventListener("touchstart",this.onTouchStartWindow,g),window.top.addEventListener("touchend",this.onTouchEndWindow,g),window.top.addEventListener("touchcancel",this.onTouchCancelWindow,g)}catch{window.addEventListener("touchstart",this.onTouchStartWindow,g),window.addEventListener("touchend",this.onTouchEndWindow,g),window.addEventListener("touchcancel",this.onTouchCancelWindow,g),this.isTop=!1}this.enabled=!0}},stopListeners:function(){var a=this.target;a.removeEventListener("touchstart",this.onTouchStart),a.removeEventListener("touchmove",this.onTouchMove),a.removeEventListener("touchend",this.onTouchEnd),a.removeEventListener("touchcancel",this.onTouchCancel),window&&(a=this.isTop?window.top:window,a.removeEventListener("touchstart",this.onTouchStartWindow),a.removeEventListener("touchend",this.onTouchEndWindow),a.removeEventListener("touchcancel",this.onTouchCancelWindow))},destroy:function(){this.stopListeners(),this.target=null,this.enabled=!1,this.manager=null}});r.exports=l},95618:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TouchManager:i(36210)}},41299:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(54899),l=i(95540),a=i(98356),n=i(3374),d=i(84376),c=i(92638),u=new h({initialize:function(p,g){if(this.loader=p,this.cache=l(g,"cache",!1),this.type=l(g,"type",!1),!this.type)throw new Error("Invalid File type: "+this.type);this.key=l(g,"key",!1);var m=this.key;if(p.prefix&&p.prefix!==""&&(this.key=p.prefix+m),!this.key)throw new Error("Invalid File key: "+this.key);var T=l(g,"url");T===void 0?T=p.path+m+"."+l(g,"extension",""):typeof T=="string"&&!T.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)&&(T=p.path+T),this.url=T,this.src="",this.xhrSettings=c(l(g,"responseType",void 0)),l(g,"xhrSettings",!1)&&(this.xhrSettings=n(this.xhrSettings,l(g,"xhrSettings",{}))),this.xhrLoader=null,this.state=typeof this.url=="function"?x.FILE_POPULATED:x.FILE_PENDING,this.bytesTotal=0,this.bytesLoaded=-1,this.percentComplete=-1,this.crossOrigin=void 0,this.data=void 0,this.config=l(g,"config",{}),this.multiFile,this.linkFile,this.base64=typeof T=="string"&&T.indexOf("data:")===0,this.retryAttempts=l(g,"maxRetries",p.maxRetries)},setLink:function(v){this.linkFile=v,v.linkFile=this},resetXHR:function(){this.xhrLoader&&(this.xhrLoader.onload=void 0,this.xhrLoader.onerror=void 0,this.xhrLoader.onprogress=void 0)},load:function(){if(this.state===x.FILE_POPULATED)this.loader.nextFile(this,!0);else{if(this.state=x.FILE_LOADING,this.src=a(this,this.loader.baseURL),!this.src)throw new Error("URL Error in File: "+this.key+" from: "+this.url);this.src.indexOf("data:")===0&&(this.base64=!0),this.xhrLoader=d(this,this.loader.xhr)}},onLoad:function(v,p){var g=v.responseURL&&this.loader.localSchemes.some(function(P){return v.responseURL.indexOf(P)===0}),m=g&&p.target.status===0,T=!(p.target&&p.target.status!==200)||m;v.readyState===4&&v.status>=400&&v.status<=599&&(T=!1),this.state=x.FILE_LOADED,this.resetXHR(),this.loader.nextFile(this,T)},onBase64Load:function(v){this.xhrLoader=v,this.state=x.FILE_LOADED,this.percentComplete=1,this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete),this.loader.nextFile(this,!0)},onError:function(){this.resetXHR(),this.retryAttempts>0?(this.retryAttempts--,this.load()):this.loader.nextFile(this,!1)},onProgress:function(v){v.lengthComputable&&(this.bytesLoaded=v.loaded,this.bytesTotal=v.total,this.percentComplete=Math.min(this.bytesLoaded/this.bytesTotal,1),this.loader.emit(f.FILE_PROGRESS,this,this.percentComplete))},onProcess:function(){this.state=x.FILE_PROCESSING,this.onProcessComplete()},onProcessComplete:function(){this.state=x.FILE_COMPLETE,this.multiFile&&this.multiFile.onFileComplete(this),this.loader.fileProcessComplete(this)},onProcessError:function(){console.error('Failed to process file: %s "%s"',this.type,this.key),this.state=x.FILE_ERRORED,this.multiFile&&this.multiFile.onFileFailed(this),this.loader.fileProcessComplete(this)},hasCacheConflict:function(){return this.cache&&this.cache.exists(this.key)},addToCache:function(){this.cache&&this.data&&this.cache.add(this.key,this.data)},pendingDestroy:function(v){if(this.state!==x.FILE_PENDING_DESTROY){v===void 0&&(v=this.data);var p=this.key,g=this.type;this.loader.emit(f.FILE_COMPLETE,p,g,v),this.loader.emit(f.FILE_KEY_COMPLETE+g+"-"+p,p,g,v),this.loader.flagForRemoval(this),this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.cache=null,this.xhrSettings=null,this.multiFile=null,this.linkFile=null,this.data=null}});u.createObjectURL=function(v,p,g){if(typeof URL=="function")v.src=URL.createObjectURL(p);else{var m=new FileReader;m.onload=function(){v.removeAttribute("crossOrigin"),v.src="data:"+(p.type||g)+";base64,"+m.result.split(",")[1]},m.onerror=v.onerror,m.readAsDataURL(p)}},u.revokeObjectURL=function(v){typeof URL=="function"&&URL.revokeObjectURL(v.src)},r.exports=u},74099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},i={install:function(h){for(var x in C)h[x]=C[x]},register:function(h,x){C[h]=x},destroy:function(){C={}}};r.exports=i},98356:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.url?i.url.match(/^(?:blob:|data:|capacitor:\/\/|http:\/\/|https:\/\/|\/\/)/)?i.url:h+i.url:!1};r.exports=C},74261:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(35072),l=i(50792),a=i(54899),n=i(74099),d=i(95540),c=i(35154),u=i(41212),v=i(37277),p=i(44594),g=i(92638),m=new h({Extends:l,initialize:function(P){l.call(this);var E=P.sys.game.config,M=P.sys.settings.loader;this.scene=P,this.systems=P.sys,this.cacheManager=P.sys.cache,this.textureManager=P.sys.textures,this.sceneManager=P.sys.game.scene,n.install(this),this.prefix="",this.path="",this.baseURL="",this.setBaseURL(d(M,"baseURL",E.loaderBaseURL)),this.setPath(d(M,"path",E.loaderPath)),this.setPrefix(d(M,"prefix",E.loaderPrefix)),this.maxParallelDownloads=d(M,"maxParallelDownloads",E.loaderMaxParallelDownloads),this.xhr=g(d(M,"responseType",E.loaderResponseType),d(M,"async",E.loaderAsync),d(M,"user",E.loaderUser),d(M,"password",E.loaderPassword),d(M,"timeout",E.loaderTimeout),d(M,"withCredentials",E.loaderWithCredentials)),this.crossOrigin=d(M,"crossOrigin",E.loaderCrossOrigin),this.imageLoadType=d(M,"imageLoadType",E.loaderImageLoadType),this.localSchemes=d(M,"localScheme",E.loaderLocalScheme),this.totalToLoad=0,this.progress=0,this.list=new f,this.inflight=new f,this.queue=new f,this._deleteQueue=new f,this.totalFailed=0,this.totalComplete=0,this.state=x.LOADER_IDLE,this.multiKeyIndex=0,this.maxRetries=d(M,"maxRetries",E.loaderMaxRetries),P.sys.events.once(p.BOOT,this.boot,this),P.sys.events.on(p.START,this.pluginStart,this)},boot:function(){this.systems.events.once(p.DESTROY,this.destroy,this)},pluginStart:function(){this.systems.events.once(p.SHUTDOWN,this.shutdown,this)},setBaseURL:function(T){return T===void 0&&(T=""),T!==""&&T.substr(-1)!=="/"&&(T=T.concat("/")),this.baseURL=T,this},setPath:function(T){return T===void 0&&(T=""),T!==""&&T.substr(-1)!=="/"&&(T=T.concat("/")),this.path=T,this},setPrefix:function(T){return T===void 0&&(T=""),this.prefix=T,this},setCORS:function(T){return this.crossOrigin=T,this},addFile:function(T){Array.isArray(T)||(T=[T]);for(var P=0;P<T.length;P++){var E=T[P];this.keyExists(E)||(this.list.set(E),this.emit(a.ADD,E.key,E.type,this,E),this.isLoading()&&(this.totalToLoad++,this.updateProgress()))}},keyExists:function(T){var P=T.hasCacheConflict();return P||this.list.iterate(function(E){if(E.type===T.type&&E.key===T.key)return P=!0,!1}),!P&&this.isLoading()&&(this.inflight.iterate(function(E){if(E.type===T.type&&E.key===T.key)return P=!0,!1}),this.queue.iterate(function(E){if(E.type===T.type&&E.key===T.key)return P=!0,!1})),P},addPack:function(T,P){if(typeof P=="string"){var E=c(T,P);E&&(T={packKey:E})}var M=0,w=this.baseURL,R=this.path,A=this.prefix;for(var O in T)if(Object.prototype.hasOwnProperty.call(T,O)){var F=T[O],L=d(F,"baseURL",w),b=d(F,"path",R),D=d(F,"prefix",A),I=d(F,"files",null),k=d(F,"defaultType","void");if(Array.isArray(I)){this.setBaseURL(L),this.setPath(b),this.setPrefix(D);for(var X=0;X<I.length;X++){var W=I[X],Y=W.hasOwnProperty("type")?W.type:k;this[Y]&&(this[Y](W),M++)}}}return this.setBaseURL(w),this.setPath(R),this.setPrefix(A),M>0},removePack:function(T,P){var E=this.systems.anims,M=this.cacheManager,w=this.textureManager,R={animation:"json",aseprite:"json",audio:"audio",audioSprite:"audio",binary:"binary",bitmapFont:"bitmapFont",css:null,glsl:"shader",html:"html",json:"json",obj:"obj",plugin:null,scenePlugin:null,script:null,spine:"json",text:"text",tilemapCSV:"tilemap",tilemapImpact:"tilemap",tilemapTiledJSON:"tilemap",video:"video",xml:"xml"},A;if(u(T))A=T;else if(A=M.json.get(T),!A){console.warn("Asset Pack not found in JSON cache:",T);return}P&&(A={_:A[P]});for(var O in A){var F=A[O],L=d(F,"prefix",""),b=d(F,"files"),D=d(F,"defaultType");if(Array.isArray(b))for(var I=0;I<b.length;I++){var k=b[I],X=k.hasOwnProperty("type")?k.type:D;if(!X){console.warn("No type:",k);continue}var W=L+k.key;if(X==="animation"&&E.remove(W),!((X==="aseprite"||X==="atlas"||X==="atlasXML"||X==="htmlTexture"||X==="image"||X==="multiatlas"||X==="spritesheet"||X==="svg"||X==="texture"||X==="unityAtlas")&&(w.remove(W),!R[X]))){if(X==="pack"){this.removePack(W,k.dataKey);continue}if(X==="spine"){var Y=M.custom.spine.get(W);if(!Y)continue;var N=Y.prefix===void 0?"":Y.prefix;M.custom.spine.remove(W);var V=M.custom.spineTextures.get(W);if(!V)continue;M.custom.spineTextures.remove(W);for(var G=0;G<V.pages.length;G++){var B=V.pages[G],z=N+B.name,U=W+":"+z;w.exists(U)?w.remove(U):w.remove(z)}}var H=R[X];if(H!==null){if(!H){console.warn("Unknown type:",X);continue}var $=M[H];$.remove(W)}}}}},isLoading:function(){return this.state===x.LOADER_LOADING||this.state===x.LOADER_PROCESSING},isReady:function(){return this.state===x.LOADER_IDLE||this.state===x.LOADER_COMPLETE},start:function(){this.isReady()&&(this.progress=0,this.totalFailed=0,this.totalComplete=0,this.totalToLoad=this.list.size,this.emit(a.START,this),this.list.size===0?this.loadComplete():(this.state=x.LOADER_LOADING,this.inflight.clear(),this.queue.clear(),this.updateProgress(),this.checkLoadQueue(),this.systems.events.on(p.UPDATE,this.update,this)))},updateProgress:function(){this.progress=1-(this.list.size+this.inflight.size)/this.totalToLoad,this.emit(a.PROGRESS,this.progress)},update:function(){this.state===x.LOADER_LOADING&&this.list.size>0&&this.inflight.size<this.maxParallelDownloads&&this.checkLoadQueue()},checkLoadQueue:function(){this.list.each(function(T){if((T.state===x.FILE_POPULATED||T.state===x.FILE_PENDING&&this.inflight.size<this.maxParallelDownloads)&&(this.inflight.set(T),this.list.delete(T),T.crossOrigin||(T.crossOrigin=this.crossOrigin),T.load()),this.inflight.size===this.maxParallelDownloads)return!1},this)},nextFile:function(T,P){this.inflight&&(this.inflight.delete(T),this.updateProgress(),P?(this.totalComplete++,this.queue.set(T),this.emit(a.FILE_LOAD,T),T.onProcess()):(this.totalFailed++,this._deleteQueue.set(T),this.emit(a.FILE_LOAD_ERROR,T),this.fileProcessComplete(T)))},fileProcessComplete:function(T){!this.scene||!this.systems||!this.systems.game||this.systems.game.pendingDestroy||(T.state===x.FILE_ERRORED?T.multiFile&&T.multiFile.onFileFailed(T):T.state===x.FILE_COMPLETE&&(T.multiFile?T.multiFile.isReadyToProcess()&&(T.multiFile.addToCache(),T.multiFile.pendingDestroy()):(T.addToCache(),T.pendingDestroy())),this.queue.delete(T),this.list.size===0&&this.inflight.size===0&&this.queue.size===0&&this.loadComplete())},loadComplete:function(){this.emit(a.POST_PROCESS,this),this.list.clear(),this.inflight.clear(),this.queue.clear(),this.progress=1,this.state=x.LOADER_COMPLETE,this.systems.events.off(p.UPDATE,this.update,this),this._deleteQueue.iterateLocal("destroy"),this._deleteQueue.clear(),this.emit(a.COMPLETE,this,this.totalComplete,this.totalFailed)},flagForRemoval:function(T){this._deleteQueue.set(T)},saveJSON:function(T,P){return this.save(JSON.stringify(T),P)},save:function(T,P,E){P===void 0&&(P="file.json"),E===void 0&&(E="application/json");var M=new Blob([T],{type:E}),w=URL.createObjectURL(M),R=document.createElement("a");return R.download=P,R.textContent="Download "+P,R.href=w,R.click(),this},reset:function(){this.list.clear(),this.inflight.clear(),this.queue.clear();var T=this.systems.game.config,P=this.systems.settings.loader;this.setBaseURL(d(P,"baseURL",T.loaderBaseURL)),this.setPath(d(P,"path",T.loaderPath)),this.setPrefix(d(P,"prefix",T.loaderPrefix)),this.state=x.LOADER_IDLE},shutdown:function(){this.reset(),this.state=x.LOADER_SHUTDOWN,this.removeAllListeners(),this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.state=x.LOADER_DESTROYED,this.systems.events.off(p.UPDATE,this.update,this),this.systems.events.off(p.START,this.pluginStart,this),this.list=null,this.inflight=null,this.queue=null,this.scene=null,this.systems=null,this.textureManager=null,this.cacheManager=null,this.sceneManager=null}});v.register("Loader",m,"load"),r.exports=m},3374:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),x=i(92638),f=function(l,a){var n=l===void 0?x():h({},l);if(a)for(var d in a)a[d]!==void 0&&(n[d]=a[d]);return n};r.exports=f},26430:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(54899),l=new h({initialize:function(n,d,c,u){var v=[];u.forEach(function(m){m&&v.push(m)}),this.loader=n,this.type=d,this.key=c;var p=this.key;n.prefix&&n.prefix!==""&&(this.key=n.prefix+p),this.multiKeyIndex=n.multiKeyIndex++,this.files=v,this.state=x.FILE_PENDING,this.complete=!1,this.pending=v.length,this.failed=0,this.config={},this.baseURL=n.baseURL,this.path=n.path,this.prefix=n.prefix;for(var g=0;g<v.length;g++)v[g].multiFile=this},isReadyToProcess:function(){return this.pending===0&&this.failed===0&&!this.complete},addToMultiFile:function(a){return this.files.push(a),a.multiFile=this,this.pending++,this.complete=!1,this},onFileComplete:function(a){var n=this.files.indexOf(a);n!==-1&&this.pending--},onFileFailed:function(a){var n=this.files.indexOf(a);n!==-1&&(this.failed++,console.error('File failed: %s "%s" (via %s "%s")',this.type,this.key,a.type,a.key))},pendingDestroy:function(){if(this.state!==x.FILE_PENDING_DESTROY){var a=this.key,n=this.type;this.loader.emit(f.FILE_COMPLETE,a,n),this.loader.emit(f.FILE_KEY_COMPLETE+n+"-"+a,a,n),this.loader.flagForRemoval(this);for(var d=0;d<this.files.length;d++)this.files[d].pendingDestroy();this.state=x.FILE_PENDING_DESTROY}},destroy:function(){this.loader=null,this.files=null,this.config=null}});r.exports=l},84376:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(3374),x=function(f,l){var a=h(l,f.xhrSettings);if(f.base64){var n=f.url.split(";base64,").pop()||f.url.split(",").pop(),d={responseText:atob(n)};f.onBase64Load(d);return}var c=new XMLHttpRequest;if(c.open("GET",f.src,a.async,a.user,a.password),c.responseType=f.xhrSettings.responseType,c.timeout=a.timeout,a.headers)for(var u in a.headers)c.setRequestHeader(u,a.headers[u]);return a.header&&a.headerValue&&c.setRequestHeader(a.header,a.headerValue),a.requestedWith&&c.setRequestHeader("X-Requested-With",a.requestedWith),a.overrideMimeType&&c.overrideMimeType(a.overrideMimeType),a.withCredentials&&(c.withCredentials=!0),c.onload=f.onLoad.bind(f,c),c.onerror=f.onError.bind(f,c),c.onprogress=f.onProgress.bind(f),c.ontimeout=f.onError.bind(f,c),c.send(),c};r.exports=x},92638:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l,a){return i===void 0&&(i=""),h===void 0&&(h=!0),x===void 0&&(x=""),f===void 0&&(f=""),l===void 0&&(l=0),a===void 0&&(a=!1),{responseType:i,async:h,user:x,password:f,timeout:l,headers:void 0,header:void 0,headerValue:void 0,requestedWith:!1,overrideMimeType:void 0,withCredentials:a}};r.exports=C},23906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LOADER_IDLE:0,LOADER_LOADING:1,LOADER_PROCESSING:2,LOADER_COMPLETE:3,LOADER_SHUTDOWN:4,LOADER_DESTROYED:5,FILE_PENDING:10,FILE_LOADING:11,FILE_LOADED:12,FILE_FAILED:13,FILE_PROCESSING:14,FILE_ERRORED:16,FILE_COMPLETE:17,FILE_DESTROYED:18,FILE_POPULATED:19,FILE_PENDING_DESTROY:20};r.exports=C},42155:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addfile"},38991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},27540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete"},87464:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="filecomplete-"},94486:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loaderror"},13035:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="load"},38144:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fileprogress"},97520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postprocess"},85595:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="progress"},55680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},54899:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(42155),COMPLETE:i(38991),FILE_COMPLETE:i(27540),FILE_KEY_COMPLETE:i(87464),FILE_LOAD_ERROR:i(94486),FILE_LOAD:i(13035),FILE_PROGRESS:i(38144),POST_PROCESS:i(97520),PROGRESS:i(85595),START:i(55680)}},14135:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(518),l=i(54899),a=new h({Extends:f,initialize:function(d,c,u,v,p){f.call(this,d,c,u,v,p),this.type="animationJSON"},onProcess:function(){this.loader.once(l.POST_PROCESS,this.onLoadComplete,this),f.prototype.onProcess.call(this)},onLoadComplete:function(){this.loader.systems.anims.fromJSON(this.data)}});x.register("animation",function(n,d,c,u){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new a(this,n[v]));else this.addFile(new a(this,n,d,u,c));return this}),r.exports=a},76272:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(19550),a=i(41212),n=i(518),d=i(26430),c=new h({Extends:d,initialize:function(v,p,g,m,T,P){var E,M;if(a(p)){var w=p;p=f(w,"key"),E=new l(v,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),M=new n(v,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(v,p,g,T),M=new n(v,p,m,P);E.linkFile?d.call(this,v,"atlasjson",p,[E,M,E.linkFile]):d.call(this,v,"atlasjson",p,[E,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,p),v.addToCache(),this.complete=!0}}});x.register("aseprite",function(u,v,p,g,m){var T;if(Array.isArray(u))for(var P=0;P<u.length;P++)T=new c(this,u[P]),this.addFile(T.files);else T=new c(this,u,v,p,g,m),this.addFile(T.files);return this}),r.exports=c},38734:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(19550),a=i(41212),n=i(518),d=i(26430),c=new h({Extends:d,initialize:function(v,p,g,m,T,P){var E,M;if(a(p)){var w=p;p=f(w,"key"),E=new l(v,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),M=new n(v,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","json"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(v,p,g,T),M=new n(v,p,m,P);E.linkFile?d.call(this,v,"atlasjson",p,[E,M,E.linkFile]):d.call(this,v,"atlasjson",p,[E,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlas(u.key,u.data,v.data,p),this.complete=!0}}});x.register("atlas",function(u,v,p,g,m){var T;if(Array.isArray(u))for(var P=0;P<u.length;P++)T=new c(this,u[P]),this.addFile(T.files);else T=new c(this,u,v,p,g,m),this.addFile(T.files);return this}),r.exports=c},74599:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(19550),a=i(41212),n=i(26430),d=i(57318),c=new h({Extends:n,initialize:function(v,p,g,m,T,P){var E,M;if(a(p)){var w=p;p=f(w,"key"),E=new l(v,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),M=new d(v,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","xml"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(v,p,g,T),M=new d(v,p,m,P);E.linkFile?n.call(this,v,"atlasxml",p,[E,M,E.linkFile]):n.call(this,v,"atlasxml",p,[E,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addAtlasXML(u.key,u.data,v.data,p),this.complete=!0}}});x.register("atlasXML",function(u,v,p,g,m){var T;if(Array.isArray(u))for(var P=0;P<u.length;P++)T=new c(this,u[P]),this.addFile(T.files);else T=new c(this,u,v,p,g,m),this.addFile(T.files);return this}),r.exports=c},21097:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(89749),d=i(41212),c=new h({Extends:f,initialize:function(v,p,g,m,T){if(d(p)){var P=p;p=a(P,"key"),m=a(P,"xhrSettings"),T=a(P,"context",T)}var E={type:"audio",cache:v.cacheManager.audio,extension:g.type,responseType:"arraybuffer",key:p,url:g.url,xhrSettings:m,config:{context:T}};f.call(this,v,E)},onProcess:function(){this.state=x.FILE_PROCESSING;var u=this;this.config.context.decodeAudioData(this.xhrLoader.response,function(v){u.data=v,u.onProcessComplete()},function(v){console.error("Error decoding audio: "+u.key+" - ",v?v.message:null),u.onProcessError()}),this.config.context=null}});c.create=function(u,v,p,g,m){var T=u.systems.game,P=T.config.audio,E=T.device.audio;d(v)&&(p=a(v,"url",[]),g=a(v,"config",{}));var M=c.getAudioURL(T,p);return M?E.webAudio&&!P.disableWebAudio?new c(u,v,M,m,T.sound.context):new n(u,v,M,g):(console.warn('No audio URLs for "%s" can play on this device',v),null)},c.getAudioURL=function(u,v){Array.isArray(v)||(v=[v]);for(var p=0;p<v.length;p++){var g=a(v[p],"url",v[p]);if(g.indexOf("blob:")===0||g.indexOf("data:")===0)return{url:g,type:""};var m=g.match(/\.([a-zA-Z0-9]+)($|\?)/);if(m=a(v[p],"type",m?m[1]:"").toLowerCase(),u.device.audio[m])return{url:g,type:m}}return null},l.register("audio",function(u,v,p,g){var m=this.systems.game,T=m.config.audio,P=m.device.audio;if(T.noAudio||!P.webAudio&&!P.audioData)return this;var E;if(Array.isArray(u))for(var M=0;M<u.length;M++)E=c.create(this,u[M]),E&&this.addFile(E);else E=c.create(this,u,v,p,g),E&&this.addFile(E);return this}),r.exports=c},89524:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(21097),x=i(83419),f=i(74099),l=i(95540),a=i(41212),n=i(518),d=i(26430),c=new x({Extends:d,initialize:function(v,p,g,m,T,P,E){if(a(p)){var M=p;p=l(M,"key"),g=l(M,"jsonURL"),m=l(M,"audioURL"),T=l(M,"audioConfig"),P=l(M,"audioXhrSettings"),E=l(M,"jsonXhrSettings")}var w;if(!m)w=new n(v,p,g,E),d.call(this,v,"audiosprite",p,[w]),this.config.resourceLoad=!0,this.config.audioConfig=T,this.config.audioXhrSettings=P;else{var R=h.create(v,p,m,T,P);R&&(w=new n(v,p,g,E),d.call(this,v,"audiosprite",p,[R,w]),this.config.resourceLoad=!1)}},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,this.config.resourceLoad&&u.type==="json"&&u.data.hasOwnProperty("resources"))){var p=u.data.resources,g=l(this.config,"audioConfig"),m=l(this.config,"audioXhrSettings"),T=h.create(this.loader,u.key,p,g,m);T&&(this.addToMultiFile(T),this.loader.addFile(T))}},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1];u.addToCache(),v.addToCache(),this.complete=!0}}});f.register("audioSprite",function(u,v,p,g,m,T){var P=this.systems.game,E=P.config.audio,M=P.device.audio;if(E&&E.noAudio||!M.webAudio&&!M.audioData)return this;var w;if(Array.isArray(u))for(var R=0;R<u.length;R++)w=new c(this,u[R]),w.files&&this.addFile(w.files);else w=new c(this,u,v,p,g,m,T),w.files&&this.addFile(w.files);return this})},85722:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g,m){var T="bin";if(n(v)){var P=v;v=a(P,"key"),p=a(P,"url"),g=a(P,"xhrSettings"),T=a(P,"extension",T),m=a(P,"dataType",m)}var E={type:"binary",cache:u.cacheManager.binary,extension:T,responseType:"arraybuffer",key:v,url:p,xhrSettings:g,config:{dataType:m}};f.call(this,u,E)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.dataType;this.data=c?new c(this.xhrLoader.response):this.xhrLoader.response,this.onProcessComplete()}});l.register("binary",function(c,u,v,p){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new d(this,c[g]));else this.addFile(new d(this,c,u,p,v));return this}),r.exports=d},97025:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(19550),a=i(41212),n=i(26430),d=i(21859),c=i(57318),u=new h({Extends:n,initialize:function(p,g,m,T,P,E){var M,w;if(a(g)){var R=g;g=f(R,"key"),M=new l(p,{key:g,url:f(R,"textureURL"),extension:f(R,"textureExtension","png"),normalMap:f(R,"normalMap"),xhrSettings:f(R,"textureXhrSettings")}),w=new c(p,{key:g,url:f(R,"fontDataURL"),extension:f(R,"fontDataExtension","xml"),xhrSettings:f(R,"fontDataXhrSettings")})}else M=new l(p,g,m,P),w=new c(p,g,T,E);M.linkFile?n.call(this,p,"bitmapfont",g,[M,w,M.linkFile]):n.call(this,p,"bitmapfont",g,[M,w])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1];v.addToCache();var g=v.cache.get(v.key),m=d(p.data,v.cache.getFrame(v.key),0,0,g);this.loader.cacheManager.bitmapFont.add(v.key,{data:m,texture:v.key,frame:null}),this.complete=!0}}});x.register("bitmapFont",function(v,p,g,m,T){var P;if(Array.isArray(v))for(var E=0;E<v.length;E++)P=new u(this,v[E]),this.addFile(P.files);else P=new u(this,v,p,g,m,T),this.addFile(P.files);return this}),r.exports=u},16024:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g){var m="css";if(n(v)){var T=v;v=a(T,"key"),p=a(T,"url"),g=a(T,"xhrSettings"),m=a(T,"extension",m)}var P={type:"script",cache:!1,extension:m,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,u,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("style"),this.data.defer=!1,this.data.innerHTML=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("css",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new d(this,c[p]));else this.addFile(new d(this,c,u,v));return this}),r.exports=d},69559:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(38734),x=i(85722),f=i(83419),l=i(74099),a=i(95540),n=i(19550),d=i(41212),c=i(518),u=i(31403),v=i(46975),p=i(59327),g=i(26430),m=i(82038),T=i(55222),P=new f({Extends:g,initialize:function(M,w,R,A){if(R.multiAtlasURL){var O=new c(M,{key:w,url:R.multiAtlasURL,xhrSettings:A,config:R});g.call(this,M,"texture",w,[O])}else{var F=R.textureURL.substr(R.textureURL.length-3);R.type||(R.type=F.toLowerCase()==="ktx"?"KTX":"PVR");var L=new x(M,{key:w,url:R.textureURL,extension:F,xhrSettings:A,config:R});if(R.atlasURL){var b=new c(M,{key:w,url:R.atlasURL,xhrSettings:A,config:R});g.call(this,M,"texture",w,[L,b])}else g.call(this,M,"texture",w,[L])}this.config=R},onFileComplete:function(E){var M=this.files.indexOf(E);if(M!==-1){if(this.pending--,!this.config.multiAtlasURL)return;if(E.type==="json"&&E.data.hasOwnProperty("textures")){var w=E.data.textures,R=this.config,A=this.loader,O=A.baseURL,F=A.path,L=A.prefix,b=a(R,"multiBaseURL",this.baseURL),D=a(R,"multiPath",this.path),I=a(R,"prefix",this.prefix),k=a(R,"textureXhrSettings");b&&A.setBaseURL(b),D&&A.setPath(D),I&&A.setPrefix(I);for(var X=0;X<w.length;X++){var W=w[X].image,Y="CMA"+this.multiKeyIndex+"_"+W,N=new x(A,Y,W,k);if(this.addToMultiFile(N),A.addFile(N),w[X].normalMap){var V=new x(A,Y,w[X].normalMap,k);V.type="normalMap",N.setLink(V),this.addToMultiFile(V),A.addFile(V)}}A.setBaseURL(O),A.setPath(F),A.setPrefix(L)}}},addToCache:function(){function E(b){console.warn('Compressed Texture Invalid: "'+O.key+'". '+b)}if(this.isReadyToProcess()){var M=this.config;if(M.multiAtlasURL)this.addMultiToCache();else{var w=this.loader.systems.renderer,R=this.loader.textureManager,A,O=this.files[0],F=this.files[1];if(M.type==="PVR"?A=m(O.data):M.type==="KTX"&&(A=u(O.data),A||E("KTX file contains unsupported format.")),A&&!T(A)&&(E("Texture dimensions failed verification. Check the texture format specifications for "+M.format+" 0x"+A.internalFormat.toString(16)+"."),A=null),A&&!w.supportsCompressedTexture(M.format,A.internalFormat)&&(E("Texture format "+M.format+" with internal format "+A.internalFormat+" not supported by the GPU. Texture invalid. This is often due to the texture using sRGB instead of linear RGB."),A=null),A){A.format=w.getCompressedTextureName(M.format,A.internalFormat);var L=F&&F.data?F.data:null;R.addCompressedTexture(O.key,A,L)}}this.complete=!0}},addMultiToCache:function(){for(var E=this.config,M=this.files[0],w=[],R=[],A=[],O=this.loader.systems.renderer,F=this.loader.textureManager,L,b=1;b<this.files.length;b++){var D=this.files[b];if(D.type!=="normalMap")for(var I=D.key.indexOf("_"),k=D.key.substr(I+1),X=D.data,W=0;W<M.data.textures.length;W++){var Y=M.data.textures[W];if(Y.image===k){E.type==="PVR"?L=m(X):E.type==="KTX"&&(L=u(X)),L&&O.supportsCompressedTexture(E.format,L.internalFormat)&&(L.format=O.getCompressedTextureName(E.format,L.internalFormat),R.push(L),w.push(Y),D.linkFile&&A.push(D.linkFile.data));break}}}A.length===0&&(A=void 0),F.addAtlasJSONArray(this.key,R,w,A),this.complete=!0}});l.register("texture",function(E,M,w){var R=this.systems.renderer,A=function(F,L,b,D){var I={format:null,type:null,textureURL:void 0,atlasURL:void 0,multiAtlasURL:void 0,multiPath:void 0,multiBaseURL:void 0};if(d(L)){var k=L;L=a(k,"key"),b=a(k,"url"),D=a(k,"xhrSettings")}var X=!1;for(var W in b)if(R.supportsCompressedTexture(W)){var Y=b[W];typeof Y=="string"?I.textureURL=Y:I=v(Y,I),I.format=W.toUpperCase(),X=!0;break}if(!X)console.warn("No supported compressed texture format or IMG fallback",L);else if(I.format==="IMG"){var N,V;I.multiAtlasURL?(V=new p(F,L,I.multiAtlasURL,I.multiPath,I.multiBaseURL,D),N=V.files):I.atlasURL?(V=new h(F,L,I.textureURL,I.atlasURL,D),N=V.files):N=new n(F,L,I.textureURL,D),F.addFile(N)}else{var G=new P(F,L,I,D);F.addFile(G.files)}};if(Array.isArray(E))for(var O=0;O<E.length;O++)A(this,E[O]);else A(this,E,M,w);return this}),r.exports=P},87674:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(98356),d=i(41212),c=new h({Extends:f,initialize:function(v,p,g,m,T,P){var E="ttf";if(d(p)){var M=p;p=a(M,"key"),g=a(M,"url"),m=a(M,"format","truetype"),T=a(M,"descriptors",null),P=a(M,"xhrSettings"),E=a(M,"extension",E)}else m===void 0&&(m="truetype");var w={type:"font",cache:!1,extension:E,responseType:"text",key:p,url:g,xhrSettings:P};f.call(this,v,w),this.data={format:m,descriptors:T},this.state=x.FILE_POPULATED},onProcess:function(){this.state=x.FILE_PROCESSING,this.src=n(this,this.loader.baseURL);var u,v=this.key,p="url("+this.src+') format("'+this.data.format+'")';this.data.descriptors?u=new FontFace(v,p,this.data.descriptors):u=new FontFace(v,p);var g=this;u.load().then(function(){document.fonts.add(u),document.body.classList.add("fonts-loaded"),g.onProcessComplete()}).catch(function(){console.warn("Font failed to load",p),g.onProcessComplete()})}});l.register("font",function(u,v,p,g,m){if(Array.isArray(u))for(var T=0;T<u.length;T++)this.addFile(new c(this,u[T]));else this.addFile(new c(this,u,v,p,g,m));return this}),r.exports=c},47931:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=i(73894),c=new h({Extends:f,initialize:function(v,p,g,m,T){var P="glsl";if(n(p)){var E=p;p=a(E,"key"),g=a(E,"url"),m=a(E,"shaderType","fragment"),T=a(E,"xhrSettings"),P=a(E,"extension",P)}else m===void 0&&(m="fragment");var M={type:"glsl",cache:v.cacheManager.shader,extension:P,responseType:"text",key:p,url:g,config:{shaderType:m},xhrSettings:T};f.call(this,v,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u=this.data.split(`
`),v=this.extractBlock(u,0);if(v)for(;v;){var p=this.getShaderName(v.header),g=this.getShaderType(v.header),m=this.getShaderUniforms(v.header),T=v.shader;if(this.cache.has(p)){var P=this.cache.get(p);g==="fragment"?P.fragmentSrc=T:P.vertexSrc=T,P.uniforms||(P.uniforms=m)}else g==="fragment"?this.cache.add(p,new d(p,T,"",m)):this.cache.add(p,new d(p,"",T,m));v=this.extractBlock(u,v.offset)}else this.config.shaderType==="fragment"?this.cache.add(this.key,new d(this.key,this.data)):this.cache.add(this.key,new d(this.key,"",this.data))},getShaderName:function(u){for(var v=0;v<u.length;v++){var p=u[v].trim();if(p.substring(0,5)==="name:")return p.substring(5).trim()}return this.key},getShaderType:function(u){for(var v=0;v<u.length;v++){var p=u[v].trim();if(p.substring(0,5)==="type:")return p.substring(5).trim()}return this.config.shaderType},getShaderUniforms:function(u){for(var v={},p=0;p<u.length;p++){var g=u[p].trim();if(g.substring(0,8)==="uniform."){var m=g.indexOf(":");if(m){var T=g.substring(8,m);try{v[T]=JSON.parse(g.substring(m+1))}catch{console.warn("Invalid uniform JSON: "+T)}}}}return v},extractBlock:function(u,v){for(var p=-1,g=-1,m=-1,T=!1,P=!1,E=[],M=[],w=v;w<u.length;w++){var R=u[w].trim();if(R==="---")if(p===-1)p=w,T=!0;else if(T)g=w,T=!1,P=!0;else{P=!1;break}else T?E.push(R):P&&(M.push(R),m=w)}return!T&&g!==-1?{header:E,shader:M.join(`
`),offset:m}:null}});l.register("glsl",function(u,v,p,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,p,g));return this}),r.exports=c},89749:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(54899),f=i(41299),l=i(95540),a=i(98356),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g){if(n(v)){var m=v;v=l(m,"key"),g=l(m,"config",g)}var T={type:"audio",cache:u.cacheManager.audio,extension:p.type,key:v,url:p.url,config:g};f.call(this,u,T),this.locked="ontouchstart"in window,this.loaded=!1,this.filesLoaded=0,this.filesTotal=0},onLoad:function(){this.loaded||(this.loaded=!0,this.loader.nextFile(this,!0))},onError:function(){for(var c=0;c<this.data.length;c++){var u=this.data[c];u.oncanplaythrough=null,u.onerror=null}this.loader.nextFile(this,!1)},onProgress:function(c){var u=c.target;u.oncanplaythrough=null,u.onerror=null,this.filesLoaded++,this.percentComplete=Math.min(this.filesLoaded/this.filesTotal,1),this.loader.emit(x.FILE_PROGRESS,this,this.percentComplete),this.filesLoaded===this.filesTotal&&this.onLoad()},load:function(){this.data=[];var c=this.config&&this.config.instances||1;this.filesTotal=c,this.filesLoaded=0,this.percentComplete=0;for(var u=0;u<c;u++){var v=new Audio;v.dataset||(v.dataset={}),v.dataset.name=this.key+("0"+u).slice(-2),v.dataset.used="false",this.locked?v.dataset.locked="true":(v.dataset.locked="false",v.preload="auto",v.oncanplaythrough=this.onProgress.bind(this),v.onerror=this.onError.bind(this)),this.data.push(v)}for(u=0;u<this.data.length;u++)v=this.data[u],v.src=a(this,this.loader.baseURL),this.locked||v.load();this.locked&&setTimeout(this.onLoad.bind(this))}});r.exports=d},88470:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g){var m="html";if(n(v)){var T=v;v=a(T,"key"),p=a(T,"url"),g=a(T,"xhrSettings"),m=a(T,"extension",m)}var P={type:"text",cache:u.cacheManager.html,extension:m,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,u,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("html",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new d(this,c[p]));else this.addFile(new d(this,c,u,v));return this}),r.exports=d},14643:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g,m,T){g===void 0&&(g=512),m===void 0&&(m=512);var P="html";if(n(v)){var E=v;v=a(E,"key"),p=a(E,"url"),T=a(E,"xhrSettings"),P=a(E,"extension",P),g=a(E,"width",g),m=a(E,"height",m)}var M={type:"html",cache:u.textureManager,extension:P,responseType:"text",key:v,url:p,xhrSettings:T,config:{width:g,height:m}};f.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.config.width,u=this.config.height,v=[];v.push('<svg width="'+c+'px" height="'+u+'px" viewBox="0 0 '+c+" "+u+'" xmlns="http://www.w3.org/2000/svg">'),v.push('<foreignObject width="100%" height="100%">'),v.push('<body xmlns="http://www.w3.org/1999/xhtml">'),v.push(this.xhrLoader.responseText),v.push("</body>"),v.push("</foreignObject>"),v.push("</svg>");var p=[v.join(`
`)],g=this;try{var m=new window.Blob(p,{type:"image/svg+xml;charset=utf-8"})}catch{g.state=x.FILE_ERRORED,g.onProcessComplete();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin,this.data.onload=function(){f.revokeObjectURL(g.data),g.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(g.data),g.onProcessError()},f.createObjectURL(this.data,m,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("htmlTexture",function(c,u,v,p,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new d(this,c[m]));else this.addFile(new d(this,c,u,v,p,g));return this}),r.exports=d},19550:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=i(98356),c=new h({Extends:f,initialize:function u(v,p,g,m,T){var P="png",E;if(n(p)){var M=p;p=a(M,"key"),g=a(M,"url"),E=a(M,"normalMap"),m=a(M,"xhrSettings"),P=a(M,"extension",P),T=a(M,"frameConfig")}Array.isArray(g)&&(E=g[1],g=g[0]);var w={type:"image",cache:v.textureManager,extension:P,responseType:"blob",key:p,url:g,xhrSettings:m,config:T};if(f.call(this,v,w),E){var R=new u(v,this.key,E,m,T);R.type="normalMap",this.setLink(R),v.addFile(R)}this.useImageElementLoad=v.imageLoadType==="HTMLImageElement"||this.base64,this.useImageElementLoad&&(this.load=this.loadImage,this.onProcess=this.onProcessImage)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){f.revokeObjectURL(u.data),u.onProcessComplete()},this.data.onerror=function(){f.revokeObjectURL(u.data),u.onProcessError()},f.createObjectURL(this.data,this.xhrLoader.response,"image/png")},onProcessImage:function(){var u=this.state;this.state=x.FILE_PROCESSING,u===x.FILE_LOADED?this.onProcessComplete():this.onProcessError()},loadImage:function(){this.state=x.FILE_LOADING,this.src=d(this,this.loader.baseURL),this.data=new Image,this.data.crossOrigin=this.crossOrigin;var u=this;this.data.onload=function(){u.state=x.FILE_LOADED,u.loader.nextFile(u,!0)},this.data.onerror=function(){u.loader.nextFile(u,!1)},this.data.src=this.src},addToCache:function(){var u=this.linkFile;u?u.state>=x.FILE_COMPLETE&&(u.type==="spritesheet"?u.addToCache():this.type==="normalMap"?this.cache.addImage(this.key,u.data,this.data):this.cache.addImage(this.key,this.data,u.data)):this.cache.addImage(this.key,this.data)}});l.register("image",function(u,v,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new c(this,u[g]));else this.addFile(new c(this,u,v,p));return this}),r.exports=c},518:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(35154),d=i(41212),c=new h({Extends:f,initialize:function(v,p,g,m,T){var P="json";if(d(p)){var E=p;p=a(E,"key"),g=a(E,"url"),m=a(E,"xhrSettings"),P=a(E,"extension",P),T=a(E,"dataKey",T)}var M={type:"json",cache:v.cacheManager.json,extension:P,responseType:"text",key:p,url:g,xhrSettings:m,config:T};f.call(this,v,M),d(g)&&(T?this.data=n(g,T):this.data=g,this.state=x.FILE_POPULATED)},onProcess:function(){if(this.state!==x.FILE_POPULATED){this.state=x.FILE_PROCESSING;try{var u=JSON.parse(this.xhrLoader.responseText)}catch(p){throw this.onProcessError(),p}var v=this.config;typeof v=="string"?this.data=n(u,v,u):this.data=u}this.onProcessComplete()}});l.register("json",function(u,v,p,g){if(Array.isArray(u))for(var m=0;m<u.length;m++)this.addFile(new c(this,u[m]));else this.addFile(new c(this,u,v,g,p));return this}),r.exports=c},59327:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(19550),a=i(41212),n=i(518),d=i(26430),c=new h({Extends:d,initialize:function(v,p,g,m,T,P,E){if(a(p)){var M=p;p=f(M,"key"),f(M,"url",!1)?g=f(M,"url"):g=f(M,"atlasURL"),P=f(M,"xhrSettings"),m=f(M,"path"),T=f(M,"baseURL"),E=f(M,"textureXhrSettings")}var w=new n(v,p,g,P);d.call(this,v,"multiatlas",p,[w]),this.config.path=m,this.config.baseURL=T,this.config.textureXhrSettings=E},onFileComplete:function(u){var v=this.files.indexOf(u);if(v!==-1&&(this.pending--,u.type==="json"&&u.data.hasOwnProperty("textures"))){var p=u.data.textures,g=this.config,m=this.loader,T=m.baseURL,P=m.path,E=m.prefix,M=f(g,"baseURL",this.baseURL),w=f(g,"path",this.path),R=f(g,"prefix",this.prefix),A=f(g,"textureXhrSettings");m.setBaseURL(M),m.setPath(w),m.setPrefix(R);for(var O=0;O<p.length;O++){var F=p[O].image,L="MA"+this.multiKeyIndex+"_"+F,b=new l(m,L,F,A);if(this.addToMultiFile(b),m.addFile(b),p[O].normalMap){var D=new l(m,L,p[O].normalMap,A);D.type="normalMap",b.setLink(D),this.addToMultiFile(D),m.addFile(D)}}m.setBaseURL(T),m.setPath(P),m.setPrefix(E)}},addToCache:function(){if(this.isReadyToProcess()){for(var u=this.files[0],v=[],p=[],g=[],m=1;m<this.files.length;m++){var T=this.files[m];if(T.type!=="normalMap")for(var P=T.key.indexOf("_"),E=T.key.substr(P+1),M=T.data,w=0;w<u.data.textures.length;w++){var R=u.data.textures[w];if(R.image===E){p.push(M),v.push(R),T.linkFile&&g.push(T.linkFile.data);break}}}g.length===0&&(g=void 0),this.loader.textureManager.addAtlasJSONArray(this.key,p,v,g),this.complete=!0}}});x.register("multiatlas",function(u,v,p,g,m){var T;if(Array.isArray(u))for(var P=0;P<u.length;P++)T=new c(this,u[P]),this.addFile(T.files);else T=new c(this,u,v,p,g,m),this.addFile(T.files);return this}),r.exports=c},99297:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(41212),a=i(26430),n=i(34328),d=new h({Extends:a,initialize:function(u,v,p,g){var m="js",T=[];if(l(v)){var P=v;v=f(P,"key"),p=f(P,"url"),g=f(P,"xhrSettings"),m=f(P,"extension",m)}Array.isArray(p)||(p=[p]);for(var E=0;E<p.length;E++){var M=new n(u,{key:v+"_"+E.toString(),url:p[E],extension:m,xhrSettings:g});M.onProcess=function(){this.onProcessComplete()},T.push(M)}a.call(this,u,"scripts",v,T)},addToCache:function(){if(this.isReadyToProcess()){for(var c=0;c<this.files.length;c++){var u=this.files[c];u.data=document.createElement("script"),u.data.language="javascript",u.data.type="text/javascript",u.data.defer=!1,u.data.text=u.xhrLoader.responseText,document.head.appendChild(u.data)}this.complete=!0}}});x.register("scripts",function(c,u,v){var p;if(Array.isArray(c))for(var g=0;g<c.length;g++)p=new d(this,c[g]),this.addFile(p.files);else p=new d(this,c,u,v),this.addFile(p.files);return this}),r.exports=d},41846:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(41212),a=i(26430),n=i(85048),d=i(61485),c=i(78776),u=new h({Extends:a,initialize:function(p,g,m,T,P,E){var M,w,R=p.cacheManager.obj;if(l(g)){var A=g;g=f(A,"key"),M=new c(p,{key:g,type:"obj",cache:R,url:f(A,"url"),extension:f(A,"extension","obj"),xhrSettings:f(A,"xhrSettings"),config:{flipUV:f(A,"flipUV",P)}}),T=f(A,"matURL"),T&&(w=new c(p,{key:g,type:"mat",cache:R,url:T,extension:f(A,"matExtension","mat"),xhrSettings:f(A,"xhrSettings")}))}else M=new c(p,{key:g,url:m,type:"obj",cache:R,extension:"obj",xhrSettings:E,config:{flipUV:P}}),T&&(w=new c(p,{key:g,url:T,type:"mat",cache:R,extension:"mat",xhrSettings:E}));a.call(this,p,"obj",g,[M,w])},addToCache:function(){if(this.isReadyToProcess()){var v=this.files[0],p=this.files[1],g=n(v.data,v.config.flipUV);p&&(g.materials=d(p.data)),v.cache.add(v.key,g),this.complete=!0}}});x.register("obj",function(v,p,g,m,T){var P;if(Array.isArray(v))for(var E=0;E<v.length;E++)P=new u(this,v[E]),this.addFile(P.files);else P=new u(this,v,p,g,m,T),this.addFile(P.files);return this}),r.exports=u},58610:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(74099),l=i(518),a=new h({Extends:l,initialize:function(d,c,u,v,p){l.call(this,d,c,u,v,p),this.type="packfile"},onProcess:function(){if(this.state!==x.FILE_POPULATED&&(this.state=x.FILE_PROCESSING,this.data=JSON.parse(this.xhrLoader.responseText)),this.data.hasOwnProperty("files")&&this.config){var n={};n[this.config]=this.data,this.data=n}this.loader.addPack(this.data,this.config),this.onProcessComplete()}});f.register("pack",function(n,d,c,u){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new a(this,n[v]));else this.addFile(new a(this,n,d,u,c));return this}),r.exports=a},48988:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g,m,T){var P="js";if(n(v)){var E=v;v=a(E,"key"),p=a(E,"url"),T=a(E,"xhrSettings"),P=a(E,"extension",P),g=a(E,"start"),m=a(E,"mapping")}var M={type:"plugin",cache:!1,extension:P,responseType:"text",key:v,url:p,xhrSettings:T,config:{start:g,mapping:m}};f.call(this,u,M),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=a(u,"start",!1),p=a(u,"mapping",null);if(this.state===x.FILE_POPULATED)c.install(this.key,this.data,v,p);else{this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data);var g=c.install(this.key,window[this.key],v,p);(v||p)&&(this.loader.systems[p]=g,this.loader.scene[p]=g)}this.onProcessComplete()}});l.register("plugin",function(c,u,v,p,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new d(this,c[m]));else this.addFile(new d(this,c,u,v,p,g));return this}),r.exports=d},67397:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g,m){var T="svg";if(n(v)){var P=v;v=a(P,"key"),p=a(P,"url"),g=a(P,"svgConfig",{}),m=a(P,"xhrSettings"),T=a(P,"extension",T)}var E={type:"svg",cache:u.textureManager,extension:T,responseType:"text",key:v,url:p,xhrSettings:m,config:{width:a(g,"width"),height:a(g,"height"),scale:a(g,"scale")}};f.call(this,u,E)},onProcess:function(){this.state=x.FILE_PROCESSING;var c=this.xhrLoader.responseText,u=[c],v=this.config.width,p=this.config.height,g=this.config.scale;t:if(v&&p||g){var m=null,T=new DOMParser;m=T.parseFromString(c,"text/xml");var P=m.getElementsByTagName("svg")[0],E=P.hasAttribute("viewBox"),M=parseFloat(P.getAttribute("width")),w=parseFloat(P.getAttribute("height"));if(!E&&M&&w)P.setAttribute("viewBox","0  0 "+M+" "+w);else if(E&&!M&&!w){var R=P.getAttribute("viewBox").split(/\s+|,/);M=R[2],w=R[3]}if(g)if(M&&w)v=M*g,p=w*g;else break t;P.setAttribute("width",v.toString()+"px"),P.setAttribute("height",p.toString()+"px"),u=[new XMLSerializer().serializeToString(P)]}try{var A=new window.Blob(u,{type:"image/svg+xml;charset=utf-8"})}catch{this.onProcessError();return}this.data=new Image,this.data.crossOrigin=this.crossOrigin;var O=this,F=!1;this.data.onload=function(){F||f.revokeObjectURL(O.data),O.onProcessComplete()},this.data.onerror=function(){F?O.onProcessError():(F=!0,f.revokeObjectURL(O.data),O.data.src="data:image/svg+xml,"+encodeURIComponent(u.join("")))},f.createObjectURL(this.data,A,"image/svg+xml")},addToCache:function(){this.cache.addImage(this.key,this.data)}});l.register("svg",function(c,u,v,p){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new d(this,c[g]));else this.addFile(new d(this,c,u,v,p));return this}),r.exports=d},88423:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g){var m="js";if(n(v)){var T=v;v=a(T,"key"),p=a(T,"url"),g=a(T,"xhrSettings"),m=a(T,"extension",m)}var P={type:"text",extension:m,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,u,P)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var c=this.data.concat(`(function(){
return new `+this.key+`();
}).call(this);`),u=eval;this.loader.sceneManager.add(this.key,u(c)),this.complete=!0}});l.register("sceneFile",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new d(this,c[p]));else this.addFile(new d(this,c,u,v));return this}),r.exports=d},56812:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g,m,T){var P="js";if(n(v)){var E=v;v=a(E,"key"),p=a(E,"url"),T=a(E,"xhrSettings"),P=a(E,"extension",P),g=a(E,"systemKey"),m=a(E,"sceneKey")}var M={type:"scenePlugin",cache:!1,extension:P,responseType:"text",key:v,url:p,xhrSettings:T,config:{systemKey:g,sceneKey:m}};f.call(this,u,M),typeof p=="function"&&(this.data=p,this.state=x.FILE_POPULATED)},onProcess:function(){var c=this.loader.systems.plugins,u=this.config,v=this.key,p=a(u,"systemKey",v),g=a(u,"sceneKey",v);this.state===x.FILE_POPULATED?c.installScenePlugin(p,this.data,g,this.loader.scene,!0):(this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),c.installScenePlugin(p,window[this.key],g,this.loader.scene,!0)),this.onProcessComplete()}});l.register("scenePlugin",function(c,u,v,p,g){if(Array.isArray(c))for(var m=0;m<c.length;m++)this.addFile(new d(this,c[m]));else this.addFile(new d(this,c,u,v,p,g));return this}),r.exports=d},34328:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g,m){var T="js";if(n(v)){var P=v;v=a(P,"key"),p=a(P,"url"),g=a(P,"type","script"),m=a(P,"xhrSettings"),T=a(P,"extension",T)}else g===void 0&&(g="script");var E={type:g,cache:!1,extension:T,responseType:"text",key:v,url:p,xhrSettings:m};f.call(this,u,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=document.createElement("script"),this.data.language="javascript",this.data.type="text/javascript",this.data.defer=!1,this.data.text=this.xhrLoader.responseText,document.head.appendChild(this.data),this.onProcessComplete()}});l.register("script",function(c,u,v,p){if(Array.isArray(c))for(var g=0;g<c.length;g++)this.addFile(new d(this,c[g]));else this.addFile(new d(this,c,u,v,p));return this}),r.exports=d},85035:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(74099),l=i(19550),a=new h({Extends:l,initialize:function(d,c,u,v,p){l.call(this,d,c,u,p,v),this.type="spritesheet"},addToCache:function(){var n=this.linkFile;n?n.state>=x.FILE_COMPLETE&&(this.type==="normalMap"?this.cache.addSpriteSheet(this.key,n.data,this.config,this.data):this.cache.addSpriteSheet(this.key,this.data,this.config,n.data)):this.cache.addSpriteSheet(this.key,this.data,this.config)}});f.register("spritesheet",function(n,d,c,u){if(Array.isArray(n))for(var v=0;v<n.length;v++)this.addFile(new a(this,n[v]));else this.addFile(new a(this,n,d,c,u));return this}),r.exports=a},78776:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=new h({Extends:f,initialize:function(u,v,p,g){var m="text",T="txt",P=u.cacheManager.text;if(n(v)){var E=v;v=a(E,"key"),p=a(E,"url"),g=a(E,"xhrSettings"),T=a(E,"extension",T),m=a(E,"type",m),P=a(E,"cache",P)}var M={type:m,cache:P,extension:T,responseType:"text",key:v,url:p,xhrSettings:g};f.call(this,u,M)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()}});l.register("text",function(c,u,v){if(Array.isArray(c))for(var p=0;p<c.length;p++)this.addFile(new d(this,c[p]));else this.addFile(new d(this,c,u,v));return this}),r.exports=d},49477:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=i(80341),c=new h({Extends:f,initialize:function(v,p,g,m){var T="csv";if(n(p)){var P=p;p=a(P,"key"),g=a(P,"url"),m=a(P,"xhrSettings"),T=a(P,"extension",T)}var E={type:"tilemapCSV",cache:v.cacheManager.tilemap,extension:T,responseType:"text",key:p,url:g,xhrSettings:m};f.call(this,v,E),this.tilemapFormat=d.CSV},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=this.xhrLoader.responseText,this.onProcessComplete()},addToCache:function(){var u={format:this.tilemapFormat,data:this.data};this.cache.add(this.key,u)}});l.register("tilemapCSV",function(u,v,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new c(this,u[g]));else this.addFile(new c(this,u,v,p));return this}),r.exports=c},40807:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(518),l=i(80341),a=new h({Extends:f,initialize:function(d,c,u,v){f.call(this,d,c,u,v),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var n={format:l.WELTMEISTER,data:this.data};this.cache.add(this.key,n)}});x.register("tilemapImpact",function(n,d,c){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new a(this,n[u]));else this.addFile(new a(this,n,d,c));return this}),r.exports=a},56775:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(518),l=i(80341),a=new h({Extends:f,initialize:function(d,c,u,v){f.call(this,d,c,u,v),this.type="tilemapJSON",this.cache=d.cacheManager.tilemap},addToCache:function(){var n={format:l.TILED_JSON,data:this.data};this.cache.add(this.key,n)}});x.register("tilemapTiledJSON",function(n,d,c){if(Array.isArray(n))for(var u=0;u<n.length;u++)this.addFile(new a(this,n[u]));else this.addFile(new a(this,n,d,c));return this}),r.exports=a},25771:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(74099),f=i(95540),l=i(19550),a=i(41212),n=i(26430),d=i(78776),c=new h({Extends:n,initialize:function(v,p,g,m,T,P){var E,M;if(a(p)){var w=p;p=f(w,"key"),E=new l(v,{key:p,url:f(w,"textureURL"),extension:f(w,"textureExtension","png"),normalMap:f(w,"normalMap"),xhrSettings:f(w,"textureXhrSettings")}),M=new d(v,{key:p,url:f(w,"atlasURL"),extension:f(w,"atlasExtension","txt"),xhrSettings:f(w,"atlasXhrSettings")})}else E=new l(v,p,g,T),M=new d(v,p,m,P);E.linkFile?n.call(this,v,"unityatlas",p,[E,M,E.linkFile]):n.call(this,v,"unityatlas",p,[E,M])},addToCache:function(){if(this.isReadyToProcess()){var u=this.files[0],v=this.files[1],p=this.files[2]?this.files[2].data:null;this.loader.textureManager.addUnityAtlas(u.key,u.data,v.data,p),this.complete=!0}}});x.register("unityAtlas",function(u,v,p,g,m){var T;if(Array.isArray(u))for(var P=0;P<u.length;P++)T=new c(this,u[P]),this.addFile(T.files);else T=new c(this,u,v,p,g,m),this.addFile(T.files);return this}),r.exports=c},33720:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(98356),n=i(95540),d=i(41212),c=new h({Extends:f,initialize:function(v,p,g,m){if(m===void 0&&(m=!1),d(p)){var T=p;p=n(T,"key"),g=n(T,"url",[]),m=n(T,"noAudio",!1)}var P=v.systems.game.device.video.getVideoURL(g);P||console.warn("VideoFile: No supported format for "+p);var E={type:"video",cache:v.cacheManager.video,extension:P.type,key:p,url:P.url,config:{noAudio:m}};f.call(this,v,E)},onProcess:function(){this.data={url:this.src,noAudio:this.config.noAudio,crossOrigin:this.crossOrigin},this.onProcessComplete()},load:function(){this.src=a(this,this.loader.baseURL),this.state=x.FILE_LOADED,this.loader.nextFile(this,!0)}});l.register("video",function(u,v,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new c(this,u[g]));else this.addFile(new c(this,u,v,p));return this}),r.exports=c},57318:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(23906),f=i(41299),l=i(74099),a=i(95540),n=i(41212),d=i(56836),c=new h({Extends:f,initialize:function(v,p,g,m){var T="xml";if(n(p)){var P=p;p=a(P,"key"),g=a(P,"url"),m=a(P,"xhrSettings"),T=a(P,"extension",T)}var E={type:"xml",cache:v.cacheManager.xml,extension:T,responseType:"text",key:p,url:g,xhrSettings:m};f.call(this,v,E)},onProcess:function(){this.state=x.FILE_PROCESSING,this.data=d(this.xhrLoader.responseText),this.data?this.onProcessComplete():this.onProcessError()}});l.register("xml",function(u,v,p){if(Array.isArray(u))for(var g=0;g<u.length;g++)this.addFile(new c(this,u[g]));else this.addFile(new c(this,u,v,p));return this}),r.exports=c},64589:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AnimationJSONFile:i(14135),AsepriteFile:i(76272),AtlasJSONFile:i(38734),AtlasXMLFile:i(74599),AudioFile:i(21097),AudioSpriteFile:i(89524),BinaryFile:i(85722),BitmapFontFile:i(97025),CompressedTextureFile:i(69559),CSSFile:i(16024),FontFile:i(87674),GLSLFile:i(47931),HTML5AudioFile:i(89749),HTMLFile:i(88470),HTMLTextureFile:i(14643),ImageFile:i(19550),JSONFile:i(518),MultiAtlasFile:i(59327),MultiScriptFile:i(99297),OBJFile:i(41846),PackFile:i(58610),PluginFile:i(48988),SceneFile:i(88423),ScenePluginFile:i(56812),ScriptFile:i(34328),SpriteSheetFile:i(85035),SVGFile:i(67397),TextFile:i(78776),TilemapCSVFile:i(49477),TilemapImpactFile:i(40807),TilemapJSONFile:i(56775),UnityAtlasFile:i(25771),VideoFile:i(33720),XMLFile:i(57318)}},57777:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23906),x=i(79291),f={Events:i(54899),FileTypes:i(64589),File:i(41299),FileTypesManager:i(74099),GetURL:i(98356),LoaderPlugin:i(74261),MergeXHRSettings:i(3374),MultiFile:i(26430),XHRLoader:i(84376),XHRSettings:i(92638)};f=x(!1,f,h),r.exports=f},53307:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){for(var h=0,x=0;x<i.length;x++)h+=+i[x];return h/i.length};r.exports=C},85710:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6411),x=function(f,l){return h(f)/h(l)/h(f-l)};r.exports=x},30976:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return Math.floor(Math.random()*(h-i+1)+i)};r.exports=C},87842:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){var a=(f-h)*.5,n=(l-x)*.5,d=i*i,c=i*d;return(2*x-2*f+a+n)*c+(-3*x+3*f-2*a-n)*d+a*i+x};r.exports=C},26302:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var f=Math.pow(x,-h);return Math.ceil(i*f)/f};r.exports=C},45319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return Math.max(h,Math.min(x,i))};r.exports=C},39506:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=function(f){return f*h.DEG_TO_RAD};r.exports=x},61241:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return Math.abs(i-h)};r.exports=C},38857:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(37867),l=i(29747),a=new f,n=new x({initialize:function d(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p=d.DefaultOrder),this._x=c,this._y=u,this._z=v,this._order=p,this.onChangeCallback=l},x:{get:function(){return this._x},set:function(d){this._x=d,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(d){this._y=d,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(d){this._z=d,this.onChangeCallback(this)}},order:{get:function(){return this._order},set:function(d){this._order=d,this.onChangeCallback(this)}},set:function(d,c,u,v){return v===void 0&&(v=this._order),this._x=d,this._y=c,this._z=u,this._order=v,this.onChangeCallback(this),this},copy:function(d){return this.set(d.x,d.y,d.z,d.order)},setFromQuaternion:function(d,c,u){return c===void 0&&(c=this._order),u===void 0&&(u=!1),a.fromQuat(d),this.setFromRotationMatrix(a,c,u)},setFromRotationMatrix:function(d,c,u){c===void 0&&(c=this._order),u===void 0&&(u=!1);var v=d.val,p=v[0],g=v[4],m=v[8],T=v[1],P=v[5],E=v[9],M=v[2],w=v[6],R=v[10],A=0,O=0,F=0,L=.99999;switch(c){case"XYZ":{O=Math.asin(h(m,-1,1)),Math.abs(m)<L?(A=Math.atan2(-E,R),F=Math.atan2(-g,p)):A=Math.atan2(w,P);break}case"YXZ":{A=Math.asin(-h(E,-1,1)),Math.abs(E)<L?(O=Math.atan2(m,R),F=Math.atan2(T,P)):O=Math.atan2(-M,p);break}case"ZXY":{A=Math.asin(h(w,-1,1)),Math.abs(w)<L?(O=Math.atan2(-M,R),F=Math.atan2(-g,P)):F=Math.atan2(T,p);break}case"ZYX":{O=Math.asin(-h(M,-1,1)),Math.abs(M)<L?(A=Math.atan2(w,R),F=Math.atan2(T,p)):F=Math.atan2(-g,P);break}case"YZX":{F=Math.asin(h(T,-1,1)),Math.abs(T)<L?(A=Math.atan2(-E,P),O=Math.atan2(-M,p)):O=Math.atan2(m,R);break}case"XZY":{F=Math.asin(-h(g,-1,1)),Math.abs(g)<L?(A=Math.atan2(w,P),O=Math.atan2(m,p)):A=Math.atan2(-E,R);break}}return this._x=A,this._y=O,this._z=F,this._order=c,u&&this.onChangeCallback(this),this}});n.RotationOrders=["XYZ","YXZ","ZXY","ZYX","YZX","XZY"],n.DefaultOrder="XYZ",r.exports=n},6411:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){if(i===0)return 1;for(var h=i;--i;)h*=i;return h};r.exports=C},99472:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return Math.random()*(h-i)+i};r.exports=C},77623:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var f=Math.pow(x,-h);return Math.floor(i*f)/f};r.exports=C},62945:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=function(f,l,a){return f=h(f,0,1),(a-l)*f+l};r.exports=x},38265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i/h/1e3};r.exports=C},78702:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i==parseFloat(i)?!(i%2):void 0};r.exports=C},94883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i===parseFloat(i)?!(i%2):void 0};r.exports=C},28915:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return(h-i)*x+i};r.exports=C},94908:r=>{/**
 * @author       Greg McLean <GregDevProjects>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return x===void 0&&(x=0),i.clone().lerp(h,x)};r.exports=C},94434:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l){this.val=new Float32Array(9),l?this.copy(l):this.identity()},clone:function(){return new x(this)},set:function(f){return this.copy(f)},copy:function(f){var l=this.val,a=f.val;return l[0]=a[0],l[1]=a[1],l[2]=a[2],l[3]=a[3],l[4]=a[4],l[5]=a[5],l[6]=a[6],l[7]=a[7],l[8]=a[8],this},fromMat4:function(f){var l=f.val,a=this.val;return a[0]=l[0],a[1]=l[1],a[2]=l[2],a[3]=l[4],a[4]=l[5],a[5]=l[6],a[6]=l[8],a[7]=l[9],a[8]=l[10],this},fromArray:function(f){var l=this.val;return l[0]=f[0],l[1]=f[1],l[2]=f[2],l[3]=f[3],l[4]=f[4],l[5]=f[5],l[6]=f[6],l[7]=f[7],l[8]=f[8],this},identity:function(){var f=this.val;return f[0]=1,f[1]=0,f[2]=0,f[3]=0,f[4]=1,f[5]=0,f[6]=0,f[7]=0,f[8]=1,this},transpose:function(){var f=this.val,l=f[1],a=f[2],n=f[5];return f[1]=f[3],f[2]=f[6],f[3]=l,f[5]=f[7],f[6]=a,f[7]=n,this},invert:function(){var f=this.val,l=f[0],a=f[1],n=f[2],d=f[3],c=f[4],u=f[5],v=f[6],p=f[7],g=f[8],m=g*c-u*p,T=-g*d+u*v,P=p*d-c*v,E=l*m+a*T+n*P;return E?(E=1/E,f[0]=m*E,f[1]=(-g*a+n*p)*E,f[2]=(u*a-n*c)*E,f[3]=T*E,f[4]=(g*l-n*v)*E,f[5]=(-u*l+n*d)*E,f[6]=P*E,f[7]=(-p*l+a*v)*E,f[8]=(c*l-a*d)*E,this):null},adjoint:function(){var f=this.val,l=f[0],a=f[1],n=f[2],d=f[3],c=f[4],u=f[5],v=f[6],p=f[7],g=f[8];return f[0]=c*g-u*p,f[1]=n*p-a*g,f[2]=a*u-n*c,f[3]=u*v-d*g,f[4]=l*g-n*v,f[5]=n*d-l*u,f[6]=d*p-c*v,f[7]=a*v-l*p,f[8]=l*c-a*d,this},determinant:function(){var f=this.val,l=f[0],a=f[1],n=f[2],d=f[3],c=f[4],u=f[5],v=f[6],p=f[7],g=f[8];return l*(g*c-u*p)+a*(-g*d+u*v)+n*(p*d-c*v)},multiply:function(f){var l=this.val,a=l[0],n=l[1],d=l[2],c=l[3],u=l[4],v=l[5],p=l[6],g=l[7],m=l[8],T=f.val,P=T[0],E=T[1],M=T[2],w=T[3],R=T[4],A=T[5],O=T[6],F=T[7],L=T[8];return l[0]=P*a+E*c+M*p,l[1]=P*n+E*u+M*g,l[2]=P*d+E*v+M*m,l[3]=w*a+R*c+A*p,l[4]=w*n+R*u+A*g,l[5]=w*d+R*v+A*m,l[6]=O*a+F*c+L*p,l[7]=O*n+F*u+L*g,l[8]=O*d+F*v+L*m,this},translate:function(f){var l=this.val,a=f.x,n=f.y;return l[6]=a*l[0]+n*l[3]+l[6],l[7]=a*l[1]+n*l[4]+l[7],l[8]=a*l[2]+n*l[5]+l[8],this},rotate:function(f){var l=this.val,a=l[0],n=l[1],d=l[2],c=l[3],u=l[4],v=l[5],p=Math.sin(f),g=Math.cos(f);return l[0]=g*a+p*c,l[1]=g*n+p*u,l[2]=g*d+p*v,l[3]=g*c-p*a,l[4]=g*u-p*n,l[5]=g*v-p*d,this},scale:function(f){var l=this.val,a=f.x,n=f.y;return l[0]=a*l[0],l[1]=a*l[1],l[2]=a*l[2],l[3]=n*l[3],l[4]=n*l[4],l[5]=n*l[5],this},fromQuat:function(f){var l=f.x,a=f.y,n=f.z,d=f.w,c=l+l,u=a+a,v=n+n,p=l*c,g=l*u,m=l*v,T=a*u,P=a*v,E=n*v,M=d*c,w=d*u,R=d*v,A=this.val;return A[0]=1-(T+E),A[3]=g+R,A[6]=m-w,A[1]=g-R,A[4]=1-(p+E),A[7]=P+M,A[2]=m+w,A[5]=P-M,A[8]=1-(p+T),this},normalFromMat4:function(f){var l=f.val,a=this.val,n=l[0],d=l[1],c=l[2],u=l[3],v=l[4],p=l[5],g=l[6],m=l[7],T=l[8],P=l[9],E=l[10],M=l[11],w=l[12],R=l[13],A=l[14],O=l[15],F=n*p-d*v,L=n*g-c*v,b=n*m-u*v,D=d*g-c*p,I=d*m-u*p,k=c*m-u*g,X=T*R-P*w,W=T*A-E*w,Y=T*O-M*w,N=P*A-E*R,V=P*O-M*R,G=E*O-M*A,B=F*G-L*V+b*N+D*Y-I*W+k*X;return B?(B=1/B,a[0]=(p*G-g*V+m*N)*B,a[1]=(g*Y-v*G-m*W)*B,a[2]=(v*V-p*Y+m*X)*B,a[3]=(c*V-d*G-u*N)*B,a[4]=(n*G-c*Y+u*W)*B,a[5]=(d*Y-n*V-u*X)*B,a[6]=(R*k-A*I+O*D)*B,a[7]=(A*b-w*k-O*L)*B,a[8]=(w*I-R*b+O*F)*B,this):null}});r.exports=x},37867:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(25836),f=1e-6,l=new h({initialize:function(p){this.val=new Float32Array(16),p?this.copy(p):this.identity()},clone:function(){return new l(this)},set:function(v){return this.copy(v)},setValues:function(v,p,g,m,T,P,E,M,w,R,A,O,F,L,b,D){var I=this.val;return I[0]=v,I[1]=p,I[2]=g,I[3]=m,I[4]=T,I[5]=P,I[6]=E,I[7]=M,I[8]=w,I[9]=R,I[10]=A,I[11]=O,I[12]=F,I[13]=L,I[14]=b,I[15]=D,this},copy:function(v){var p=v.val;return this.setValues(p[0],p[1],p[2],p[3],p[4],p[5],p[6],p[7],p[8],p[9],p[10],p[11],p[12],p[13],p[14],p[15])},fromArray:function(v){return this.setValues(v[0],v[1],v[2],v[3],v[4],v[5],v[6],v[7],v[8],v[9],v[10],v[11],v[12],v[13],v[14],v[15])},zero:function(){return this.setValues(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)},transform:function(v,p,g){var m=a.fromQuat(g),T=m.val,P=p.x,E=p.y,M=p.z;return this.setValues(T[0]*P,T[1]*P,T[2]*P,0,T[4]*E,T[5]*E,T[6]*E,0,T[8]*M,T[9]*M,T[10]*M,0,v.x,v.y,v.z,1)},xyz:function(v,p,g){this.identity();var m=this.val;return m[12]=v,m[13]=p,m[14]=g,this},scaling:function(v,p,g){this.zero();var m=this.val;return m[0]=v,m[5]=p,m[10]=g,m[15]=1,this},identity:function(){return this.setValues(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},transpose:function(){var v=this.val,p=v[1],g=v[2],m=v[3],T=v[6],P=v[7],E=v[11];return v[1]=v[4],v[2]=v[8],v[3]=v[12],v[4]=p,v[6]=v[9],v[7]=v[13],v[8]=g,v[9]=T,v[11]=v[14],v[12]=m,v[13]=P,v[14]=E,this},getInverse:function(v){return this.copy(v),this.invert()},invert:function(){var v=this.val,p=v[0],g=v[1],m=v[2],T=v[3],P=v[4],E=v[5],M=v[6],w=v[7],R=v[8],A=v[9],O=v[10],F=v[11],L=v[12],b=v[13],D=v[14],I=v[15],k=p*E-g*P,X=p*M-m*P,W=p*w-T*P,Y=g*M-m*E,N=g*w-T*E,V=m*w-T*M,G=R*b-A*L,B=R*D-O*L,z=R*I-F*L,U=A*D-O*b,H=A*I-F*b,$=O*I-F*D,K=k*$-X*H+W*U+Y*z-N*B+V*G;return K?(K=1/K,this.setValues((E*$-M*H+w*U)*K,(m*H-g*$-T*U)*K,(b*V-D*N+I*Y)*K,(O*N-A*V-F*Y)*K,(M*z-P*$-w*B)*K,(p*$-m*z+T*B)*K,(D*W-L*V-I*X)*K,(R*V-O*W+F*X)*K,(P*H-E*z+w*G)*K,(g*z-p*H-T*G)*K,(L*N-b*W+I*k)*K,(A*W-R*N-F*k)*K,(E*B-P*U-M*G)*K,(p*U-g*B+m*G)*K,(b*X-L*Y-D*k)*K,(R*Y-A*X+O*k)*K)):this},adjoint:function(){var v=this.val,p=v[0],g=v[1],m=v[2],T=v[3],P=v[4],E=v[5],M=v[6],w=v[7],R=v[8],A=v[9],O=v[10],F=v[11],L=v[12],b=v[13],D=v[14],I=v[15];return this.setValues(E*(O*I-F*D)-A*(M*I-w*D)+b*(M*F-w*O),-(g*(O*I-F*D)-A*(m*I-T*D)+b*(m*F-T*O)),g*(M*I-w*D)-E*(m*I-T*D)+b*(m*w-T*M),-(g*(M*F-w*O)-E*(m*F-T*O)+A*(m*w-T*M)),-(P*(O*I-F*D)-R*(M*I-w*D)+L*(M*F-w*O)),p*(O*I-F*D)-R*(m*I-T*D)+L*(m*F-T*O),-(p*(M*I-w*D)-P*(m*I-T*D)+L*(m*w-T*M)),p*(M*F-w*O)-P*(m*F-T*O)+R*(m*w-T*M),P*(A*I-F*b)-R*(E*I-w*b)+L*(E*F-w*A),-(p*(A*I-F*b)-R*(g*I-T*b)+L*(g*F-T*A)),p*(E*I-w*b)-P*(g*I-T*b)+L*(g*w-T*E),-(p*(E*F-w*A)-P*(g*F-T*A)+R*(g*w-T*E)),-(P*(A*D-O*b)-R*(E*D-M*b)+L*(E*O-M*A)),p*(A*D-O*b)-R*(g*D-m*b)+L*(g*O-m*A),-(p*(E*D-M*b)-P*(g*D-m*b)+L*(g*M-m*E)),p*(E*O-M*A)-P*(g*O-m*A)+R*(g*M-m*E))},determinant:function(){var v=this.val,p=v[0],g=v[1],m=v[2],T=v[3],P=v[4],E=v[5],M=v[6],w=v[7],R=v[8],A=v[9],O=v[10],F=v[11],L=v[12],b=v[13],D=v[14],I=v[15],k=p*E-g*P,X=p*M-m*P,W=p*w-T*P,Y=g*M-m*E,N=g*w-T*E,V=m*w-T*M,G=R*b-A*L,B=R*D-O*L,z=R*I-F*L,U=A*D-O*b,H=A*I-F*b,$=O*I-F*D;return k*$-X*H+W*U+Y*z-N*B+V*G},multiply:function(v){var p=this.val,g=p[0],m=p[1],T=p[2],P=p[3],E=p[4],M=p[5],w=p[6],R=p[7],A=p[8],O=p[9],F=p[10],L=p[11],b=p[12],D=p[13],I=p[14],k=p[15],X=v.val,W=X[0],Y=X[1],N=X[2],V=X[3];return p[0]=W*g+Y*E+N*A+V*b,p[1]=W*m+Y*M+N*O+V*D,p[2]=W*T+Y*w+N*F+V*I,p[3]=W*P+Y*R+N*L+V*k,W=X[4],Y=X[5],N=X[6],V=X[7],p[4]=W*g+Y*E+N*A+V*b,p[5]=W*m+Y*M+N*O+V*D,p[6]=W*T+Y*w+N*F+V*I,p[7]=W*P+Y*R+N*L+V*k,W=X[8],Y=X[9],N=X[10],V=X[11],p[8]=W*g+Y*E+N*A+V*b,p[9]=W*m+Y*M+N*O+V*D,p[10]=W*T+Y*w+N*F+V*I,p[11]=W*P+Y*R+N*L+V*k,W=X[12],Y=X[13],N=X[14],V=X[15],p[12]=W*g+Y*E+N*A+V*b,p[13]=W*m+Y*M+N*O+V*D,p[14]=W*T+Y*w+N*F+V*I,p[15]=W*P+Y*R+N*L+V*k,this},multiplyLocal:function(v){var p=this.val,g=v.val;return this.setValues(p[0]*g[0]+p[1]*g[4]+p[2]*g[8]+p[3]*g[12],p[0]*g[1]+p[1]*g[5]+p[2]*g[9]+p[3]*g[13],p[0]*g[2]+p[1]*g[6]+p[2]*g[10]+p[3]*g[14],p[0]*g[3]+p[1]*g[7]+p[2]*g[11]+p[3]*g[15],p[4]*g[0]+p[5]*g[4]+p[6]*g[8]+p[7]*g[12],p[4]*g[1]+p[5]*g[5]+p[6]*g[9]+p[7]*g[13],p[4]*g[2]+p[5]*g[6]+p[6]*g[10]+p[7]*g[14],p[4]*g[3]+p[5]*g[7]+p[6]*g[11]+p[7]*g[15],p[8]*g[0]+p[9]*g[4]+p[10]*g[8]+p[11]*g[12],p[8]*g[1]+p[9]*g[5]+p[10]*g[9]+p[11]*g[13],p[8]*g[2]+p[9]*g[6]+p[10]*g[10]+p[11]*g[14],p[8]*g[3]+p[9]*g[7]+p[10]*g[11]+p[11]*g[15],p[12]*g[0]+p[13]*g[4]+p[14]*g[8]+p[15]*g[12],p[12]*g[1]+p[13]*g[5]+p[14]*g[9]+p[15]*g[13],p[12]*g[2]+p[13]*g[6]+p[14]*g[10]+p[15]*g[14],p[12]*g[3]+p[13]*g[7]+p[14]*g[11]+p[15]*g[15])},premultiply:function(v){return this.multiplyMatrices(v,this)},multiplyMatrices:function(v,p){var g=v.val,m=p.val,T=g[0],P=g[4],E=g[8],M=g[12],w=g[1],R=g[5],A=g[9],O=g[13],F=g[2],L=g[6],b=g[10],D=g[14],I=g[3],k=g[7],X=g[11],W=g[15],Y=m[0],N=m[4],V=m[8],G=m[12],B=m[1],z=m[5],U=m[9],H=m[13],$=m[2],K=m[6],Z=m[10],J=m[14],Q=m[3],j=m[7],tt=m[11],it=m[15];return this.setValues(T*Y+P*B+E*$+M*Q,w*Y+R*B+A*$+O*Q,F*Y+L*B+b*$+D*Q,I*Y+k*B+X*$+W*Q,T*N+P*z+E*K+M*j,w*N+R*z+A*K+O*j,F*N+L*z+b*K+D*j,I*N+k*z+X*K+W*j,T*V+P*U+E*Z+M*tt,w*V+R*U+A*Z+O*tt,F*V+L*U+b*Z+D*tt,I*V+k*U+X*Z+W*tt,T*G+P*H+E*J+M*it,w*G+R*H+A*J+O*it,F*G+L*H+b*J+D*it,I*G+k*H+X*J+W*it)},translate:function(v){return this.translateXYZ(v.x,v.y,v.z)},translateXYZ:function(v,p,g){var m=this.val;return m[12]=m[0]*v+m[4]*p+m[8]*g+m[12],m[13]=m[1]*v+m[5]*p+m[9]*g+m[13],m[14]=m[2]*v+m[6]*p+m[10]*g+m[14],m[15]=m[3]*v+m[7]*p+m[11]*g+m[15],this},scale:function(v){return this.scaleXYZ(v.x,v.y,v.z)},scaleXYZ:function(v,p,g){var m=this.val;return m[0]=m[0]*v,m[1]=m[1]*v,m[2]=m[2]*v,m[3]=m[3]*v,m[4]=m[4]*p,m[5]=m[5]*p,m[6]=m[6]*p,m[7]=m[7]*p,m[8]=m[8]*g,m[9]=m[9]*g,m[10]=m[10]*g,m[11]=m[11]*g,this},makeRotationAxis:function(v,p){var g=Math.cos(p),m=Math.sin(p),T=1-g,P=v.x,E=v.y,M=v.z,w=T*P,R=T*E;return this.setValues(w*P+g,w*E-m*M,w*M+m*E,0,w*E+m*M,R*E+g,R*M-m*P,0,w*M-m*E,R*M+m*P,T*M*M+g,0,0,0,0,1)},rotate:function(v,p){var g=this.val,m=p.x,T=p.y,P=p.z,E=Math.sqrt(m*m+T*T+P*P);if(Math.abs(E)<f)return this;E=1/E,m*=E,T*=E,P*=E;var M=Math.sin(v),w=Math.cos(v),R=1-w,A=g[0],O=g[1],F=g[2],L=g[3],b=g[4],D=g[5],I=g[6],k=g[7],X=g[8],W=g[9],Y=g[10],N=g[11],V=g[12],G=g[13],B=g[14],z=g[15],U=m*m*R+w,H=T*m*R+P*M,$=P*m*R-T*M,K=m*T*R-P*M,Z=T*T*R+w,J=P*T*R+m*M,Q=m*P*R+T*M,j=T*P*R-m*M,tt=P*P*R+w;return this.setValues(A*U+b*H+X*$,O*U+D*H+W*$,F*U+I*H+Y*$,L*U+k*H+N*$,A*K+b*Z+X*J,O*K+D*Z+W*J,F*K+I*Z+Y*J,L*K+k*Z+N*J,A*Q+b*j+X*tt,O*Q+D*j+W*tt,F*Q+I*j+Y*tt,L*Q+k*j+N*tt,V,G,B,z)},rotateX:function(v){var p=this.val,g=Math.sin(v),m=Math.cos(v),T=p[4],P=p[5],E=p[6],M=p[7],w=p[8],R=p[9],A=p[10],O=p[11];return p[4]=T*m+w*g,p[5]=P*m+R*g,p[6]=E*m+A*g,p[7]=M*m+O*g,p[8]=w*m-T*g,p[9]=R*m-P*g,p[10]=A*m-E*g,p[11]=O*m-M*g,this},rotateY:function(v){var p=this.val,g=Math.sin(v),m=Math.cos(v),T=p[0],P=p[1],E=p[2],M=p[3],w=p[8],R=p[9],A=p[10],O=p[11];return p[0]=T*m-w*g,p[1]=P*m-R*g,p[2]=E*m-A*g,p[3]=M*m-O*g,p[8]=T*g+w*m,p[9]=P*g+R*m,p[10]=E*g+A*m,p[11]=M*g+O*m,this},rotateZ:function(v){var p=this.val,g=Math.sin(v),m=Math.cos(v),T=p[0],P=p[1],E=p[2],M=p[3],w=p[4],R=p[5],A=p[6],O=p[7];return p[0]=T*m+w*g,p[1]=P*m+R*g,p[2]=E*m+A*g,p[3]=M*m+O*g,p[4]=w*m-T*g,p[5]=R*m-P*g,p[6]=A*m-E*g,p[7]=O*m-M*g,this},fromRotationTranslation:function(v,p){var g=v.x,m=v.y,T=v.z,P=v.w,E=g+g,M=m+m,w=T+T,R=g*E,A=g*M,O=g*w,F=m*M,L=m*w,b=T*w,D=P*E,I=P*M,k=P*w;return this.setValues(1-(F+b),A+k,O-I,0,A-k,1-(R+b),L+D,0,O+I,L-D,1-(R+F),0,p.x,p.y,p.z,1)},fromQuat:function(v){var p=v.x,g=v.y,m=v.z,T=v.w,P=p+p,E=g+g,M=m+m,w=p*P,R=p*E,A=p*M,O=g*E,F=g*M,L=m*M,b=T*P,D=T*E,I=T*M;return this.setValues(1-(O+L),R+I,A-D,0,R-I,1-(w+L),F+b,0,A+D,F-b,1-(w+O),0,0,0,0,1)},frustum:function(v,p,g,m,T,P){var E=1/(p-v),M=1/(m-g),w=1/(T-P);return this.setValues(T*2*E,0,0,0,0,T*2*M,0,0,(p+v)*E,(m+g)*M,(P+T)*w,-1,0,0,P*T*2*w,0)},perspective:function(v,p,g,m){var T=1/Math.tan(v/2),P=1/(g-m);return this.setValues(T/p,0,0,0,0,T,0,0,0,0,(m+g)*P,-1,0,0,2*m*g*P,0)},perspectiveLH:function(v,p,g,m){return this.setValues(2*g/v,0,0,0,0,2*g/p,0,0,0,0,-m/(g-m),1,0,0,g*m/(g-m),0)},ortho:function(v,p,g,m,T,P){var E=v-p,M=g-m,w=T-P;return E=E===0?E:1/E,M=M===0?M:1/M,w=w===0?w:1/w,this.setValues(-2*E,0,0,0,0,-2*M,0,0,0,0,2*w,0,(v+p)*E,(m+g)*M,(P+T)*w,1)},lookAtRH:function(v,p,g){var m=this.val;return u.subVectors(v,p),u.lengthSq()===0&&(u.z=1),u.normalize(),d.crossVectors(g,u),d.lengthSq()===0&&(Math.abs(g.z)===1?u.x+=1e-4:u.z+=1e-4,u.normalize(),d.crossVectors(g,u)),d.normalize(),c.crossVectors(u,d),m[0]=d.x,m[1]=d.y,m[2]=d.z,m[4]=c.x,m[5]=c.y,m[6]=c.z,m[8]=u.x,m[9]=u.y,m[10]=u.z,this},lookAt:function(v,p,g){var m=v.x,T=v.y,P=v.z,E=g.x,M=g.y,w=g.z,R=p.x,A=p.y,O=p.z;if(Math.abs(m-R)<f&&Math.abs(T-A)<f&&Math.abs(P-O)<f)return this.identity();var F=m-R,L=T-A,b=P-O,D=1/Math.sqrt(F*F+L*L+b*b);F*=D,L*=D,b*=D;var I=M*b-w*L,k=w*F-E*b,X=E*L-M*F;D=Math.sqrt(I*I+k*k+X*X),D?(D=1/D,I*=D,k*=D,X*=D):(I=0,k=0,X=0);var W=L*X-b*k,Y=b*I-F*X,N=F*k-L*I;return D=Math.sqrt(W*W+Y*Y+N*N),D?(D=1/D,W*=D,Y*=D,N*=D):(W=0,Y=0,N=0),this.setValues(I,W,F,0,k,Y,L,0,X,N,b,0,-(I*m+k*T+X*P),-(W*m+Y*T+N*P),-(F*m+L*T+b*P),1)},yawPitchRoll:function(v,p,g){this.zero(),a.zero(),n.zero();var m=this.val,T=a.val,P=n.val,E=Math.sin(g),M=Math.cos(g);return m[10]=1,m[15]=1,m[0]=M,m[1]=E,m[4]=-E,m[5]=M,E=Math.sin(p),M=Math.cos(p),T[0]=1,T[15]=1,T[5]=M,T[10]=M,T[9]=-E,T[6]=E,E=Math.sin(v),M=Math.cos(v),P[5]=1,P[15]=1,P[0]=M,P[2]=-E,P[8]=E,P[10]=M,this.multiplyLocal(a),this.multiplyLocal(n),this},setWorldMatrix:function(v,p,g,m,T){return this.yawPitchRoll(v.y,v.x,v.z),a.scaling(g.x,g.y,g.z),n.xyz(p.x,p.y,p.z),this.multiplyLocal(a),this.multiplyLocal(n),m&&this.multiplyLocal(m),T&&this.multiplyLocal(T),this},multiplyToMat4:function(v,p){var g=this.val,m=v.val,T=g[0],P=g[1],E=g[2],M=g[3],w=g[4],R=g[5],A=g[6],O=g[7],F=g[8],L=g[9],b=g[10],D=g[11],I=g[12],k=g[13],X=g[14],W=g[15],Y=m[0],N=m[1],V=m[2],G=m[3],B=m[4],z=m[5],U=m[6],H=m[7],$=m[8],K=m[9],Z=m[10],J=m[11],Q=m[12],j=m[13],tt=m[14],it=m[15];return p.setValues(Y*T+N*w+V*F+G*I,N*P+N*R+V*L+G*k,V*E+N*A+V*b+G*X,G*M+N*O+V*D+G*W,B*T+z*w+U*F+H*I,B*P+z*R+U*L+H*k,B*E+z*A+U*b+H*X,B*M+z*O+U*D+H*W,$*T+K*w+Z*F+J*I,$*P+K*R+Z*L+J*k,$*E+K*A+Z*b+J*X,$*M+K*O+Z*D+J*W,Q*T+j*w+tt*F+it*I,Q*P+j*R+tt*L+it*k,Q*E+j*A+tt*b+it*X,Q*M+j*O+tt*D+it*W)},fromRotationXYTranslation:function(v,p,g){var m=p.x,T=p.y,P=p.z,E=Math.sin(v.x),M=Math.cos(v.x),w=Math.sin(v.y),R=Math.cos(v.y),A=m,O=T,F=P,L=-E,b=0-L*w,D=0-M*w,I=L*R,k=M*R;return g||(A=R*m+w*P,O=b*m+M*T+I*P,F=D*m+E*T+k*P),this.setValues(R,b,D,0,0,M,E,0,w,I,k,0,A,O,F,1)},getMaxScaleOnAxis:function(){var v=this.val,p=v[0]*v[0]+v[1]*v[1]+v[2]*v[2],g=v[4]*v[4]+v[5]*v[5]+v[6]*v[6],m=v[8]*v[8]+v[9]*v[9]+v[10]*v[10];return Math.sqrt(Math.max(p,g,m))}}),a=new l,n=new l,d=new x,c=new x,u=new x;r.exports=l},86883:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return Math.min(i+h,x)};r.exports=C},50040:r=>{/**
 * @author       Vladislav Forsh <vlad@robowhale.com>
 * @copyright    2021 RoboWhale
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=i.length;if(h===0)return 0;i.sort(function(f,l){return f-l});var x=Math.floor(h/2);return h%2===0?(i[x]+i[x-1])/2:i[x]};r.exports=C},37204:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return Math.max(i-h,x)};r.exports=C},65201:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){x===void 0&&(x=h+1);var l=(i-h)/(x-h);return l>1?f!==void 0?(l=(f-i)/(f-x),l<0&&(l=0)):l=1:l<0&&(l=0),l};r.exports=C},15746:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(94434),f=i(29747),l=i(25836),a=1e-6,n=new Int8Array([1,2,0]),d=new Float32Array([0,0,0]),c=new l(1,0,0),u=new l(0,1,0),v=new l,p=new x,g=new h({initialize:function(T,P,E,M){this.onChangeCallback=f,this.set(T,P,E,M)},x:{get:function(){return this._x},set:function(m){this._x=m,this.onChangeCallback(this)}},y:{get:function(){return this._y},set:function(m){this._y=m,this.onChangeCallback(this)}},z:{get:function(){return this._z},set:function(m){this._z=m,this.onChangeCallback(this)}},w:{get:function(){return this._w},set:function(m){this._w=m,this.onChangeCallback(this)}},copy:function(m){return this.set(m)},set:function(m,T,P,E,M){return M===void 0&&(M=!0),typeof m=="object"?(this._x=m.x||0,this._y=m.y||0,this._z=m.z||0,this._w=m.w||0):(this._x=m||0,this._y=T||0,this._z=P||0,this._w=E||0),M&&this.onChangeCallback(this),this},add:function(m){return this._x+=m.x,this._y+=m.y,this._z+=m.z,this._w+=m.w,this.onChangeCallback(this),this},subtract:function(m){return this._x-=m.x,this._y-=m.y,this._z-=m.z,this._w-=m.w,this.onChangeCallback(this),this},scale:function(m){return this._x*=m,this._y*=m,this._z*=m,this._w*=m,this.onChangeCallback(this),this},length:function(){var m=this.x,T=this.y,P=this.z,E=this.w;return Math.sqrt(m*m+T*T+P*P+E*E)},lengthSq:function(){var m=this.x,T=this.y,P=this.z,E=this.w;return m*m+T*T+P*P+E*E},normalize:function(){var m=this.x,T=this.y,P=this.z,E=this.w,M=m*m+T*T+P*P+E*E;return M>0&&(M=1/Math.sqrt(M),this._x=m*M,this._y=T*M,this._z=P*M,this._w=E*M),this.onChangeCallback(this),this},dot:function(m){return this.x*m.x+this.y*m.y+this.z*m.z+this.w*m.w},lerp:function(m,T){T===void 0&&(T=0);var P=this.x,E=this.y,M=this.z,w=this.w;return this.set(P+T*(m.x-P),E+T*(m.y-E),M+T*(m.z-M),w+T*(m.w-w))},rotationTo:function(m,T){var P=m.x*T.x+m.y*T.y+m.z*T.z;return P<-.999999?(v.copy(c).cross(m).length()<a&&v.copy(u).cross(m),v.normalize(),this.setAxisAngle(v,Math.PI)):P>.999999?this.set(0,0,0,1):(v.copy(m).cross(T),this._x=v.x,this._y=v.y,this._z=v.z,this._w=1+P,this.normalize())},setAxes:function(m,T,P){var E=p.val;return E[0]=T.x,E[3]=T.y,E[6]=T.z,E[1]=P.x,E[4]=P.y,E[7]=P.z,E[2]=-m.x,E[5]=-m.y,E[8]=-m.z,this.fromMat3(p).normalize()},identity:function(){return this.set(0,0,0,1)},setAxisAngle:function(m,T){T=T*.5;var P=Math.sin(T);return this.set(P*m.x,P*m.y,P*m.z,Math.cos(T))},multiply:function(m){var T=this.x,P=this.y,E=this.z,M=this.w,w=m.x,R=m.y,A=m.z,O=m.w;return this.set(T*O+M*w+P*A-E*R,P*O+M*R+E*w-T*A,E*O+M*A+T*R-P*w,M*O-T*w-P*R-E*A)},slerp:function(m,T){var P=this.x,E=this.y,M=this.z,w=this.w,R=m.x,A=m.y,O=m.z,F=m.w,L=P*R+E*A+M*O+w*F;L<0&&(L=-L,R=-R,A=-A,O=-O,F=-F);var b=1-T,D=T;if(1-L>a){var I=Math.acos(L),k=Math.sin(I);b=Math.sin((1-T)*I)/k,D=Math.sin(T*I)/k}return this.set(b*P+D*R,b*E+D*A,b*M+D*O,b*w+D*F)},invert:function(){var m=this.x,T=this.y,P=this.z,E=this.w,M=m*m+T*T+P*P+E*E,w=M?1/M:0;return this.set(-m*w,-T*w,-P*w,E*w)},conjugate:function(){return this._x=-this.x,this._y=-this.y,this._z=-this.z,this.onChangeCallback(this),this},rotateX:function(m){m*=.5;var T=this.x,P=this.y,E=this.z,M=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(T*R+M*w,P*R+E*w,E*R-P*w,M*R-T*w)},rotateY:function(m){m*=.5;var T=this.x,P=this.y,E=this.z,M=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(T*R-E*w,P*R+M*w,E*R+T*w,M*R-P*w)},rotateZ:function(m){m*=.5;var T=this.x,P=this.y,E=this.z,M=this.w,w=Math.sin(m),R=Math.cos(m);return this.set(T*R+P*w,P*R-T*w,E*R+M*w,M*R-E*w)},calculateW:function(){var m=this.x,T=this.y,P=this.z;return this.w=-Math.sqrt(1-m*m-T*T-P*P),this},setFromEuler:function(m,T){var P=m.x/2,E=m.y/2,M=m.z/2,w=Math.cos(P),R=Math.cos(E),A=Math.cos(M),O=Math.sin(P),F=Math.sin(E),L=Math.sin(M);switch(m.order){case"XYZ":{this.set(O*R*A+w*F*L,w*F*A-O*R*L,w*R*L+O*F*A,w*R*A-O*F*L,T);break}case"YXZ":{this.set(O*R*A+w*F*L,w*F*A-O*R*L,w*R*L-O*F*A,w*R*A+O*F*L,T);break}case"ZXY":{this.set(O*R*A-w*F*L,w*F*A+O*R*L,w*R*L+O*F*A,w*R*A-O*F*L,T);break}case"ZYX":{this.set(O*R*A-w*F*L,w*F*A+O*R*L,w*R*L-O*F*A,w*R*A+O*F*L,T);break}case"YZX":{this.set(O*R*A+w*F*L,w*F*A+O*R*L,w*R*L-O*F*A,w*R*A-O*F*L,T);break}case"XZY":{this.set(O*R*A-w*F*L,w*F*A-O*R*L,w*R*L+O*F*A,w*R*A+O*F*L,T);break}}return this},setFromRotationMatrix:function(m){var T=m.val,P=T[0],E=T[4],M=T[8],w=T[1],R=T[5],A=T[9],O=T[2],F=T[6],L=T[10],b=P+R+L,D;return b>0?(D=.5/Math.sqrt(b+1),this.set((F-A)*D,(M-O)*D,(w-E)*D,.25/D)):P>R&&P>L?(D=2*Math.sqrt(1+P-R-L),this.set(.25*D,(E+w)/D,(M+O)/D,(F-A)/D)):R>L?(D=2*Math.sqrt(1+R-P-L),this.set((E+w)/D,.25*D,(A+F)/D,(M-O)/D)):(D=2*Math.sqrt(1+L-P-R),this.set((M+O)/D,(A+F)/D,.25*D,(w-E)/D)),this},fromMat3:function(m){var T=m.val,P=T[0]+T[4]+T[8],E;if(P>0)E=Math.sqrt(P+1),this.w=.5*E,E=.5/E,this._x=(T[7]-T[5])*E,this._y=(T[2]-T[6])*E,this._z=(T[3]-T[1])*E;else{var M=0;T[4]>T[0]&&(M=1),T[8]>T[M*3+M]&&(M=2);var w=n[M],R=n[w];E=Math.sqrt(T[M*3+M]-T[w*3+w]-T[R*3+R]+1),d[M]=.5*E,E=.5/E,d[w]=(T[w*3+M]+T[M*3+w])*E,d[R]=(T[R*3+M]+T[M*3+R])*E,this._x=d[0],this._y=d[1],this._z=d[2],this._w=(T[R*3+w]-T[w*3+R])*E}return this.onChangeCallback(this),this}});r.exports=g},43396:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=function(f){return f*h.RAD_TO_DEG};r.exports=x},74362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=1);var x=Math.random()*2*Math.PI;return i.x=Math.cos(x)*h,i.y=Math.sin(x)*h,i};r.exports=C},60706:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=1);var x=Math.random()*2*Math.PI,f=Math.random()*2-1,l=Math.sqrt(1-f*f)*h;return i.x=Math.cos(x)*l,i.y=Math.sin(x)*l,i.z=f*h,i};r.exports=C},67421:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=1),i.x=(Math.random()*2-1)*h,i.y=(Math.random()*2-1)*h,i.z=(Math.random()*2-1)*h,i.w=(Math.random()*2-1)*h,i};r.exports=C},36305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.x,f=i.y;return i.x=x*Math.cos(h)-f*Math.sin(h),i.y=x*Math.sin(h)+f*Math.cos(h),i};r.exports=C},11520:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=Math.cos(f),a=Math.sin(f),n=i.x-h,d=i.y-x;return i.x=n*l-d*a+h,i.y=n*a+d*l+x,i};r.exports=C},1163:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){var a=f+Math.atan2(i.y-x,i.x-h);return i.x=h+l*Math.cos(a),i.y=x+l*Math.sin(a),i};r.exports=C},70336:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){return i.x=h+l*Math.cos(f),i.y=x+l*Math.sin(f),i};r.exports=C},72678:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(25836),x=i(37867),f=i(15746),l=new x,a=new f,n=new h,d=function(c,u,v){return a.setAxisAngle(u,v),l.fromRotationTranslation(a,n.set(0,0,0)),c.transformMat4(l)};r.exports=d},2284:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i>0?Math.ceil(i):Math.floor(i)};r.exports=C},41013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){h===void 0&&(h=0),x===void 0&&(x=10);var f=Math.pow(x,-h);return Math.round(i*f)/f};r.exports=C},16922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h===void 0&&(h=1),x===void 0&&(x=1),f===void 0&&(f=1),f*=Math.PI/i;for(var l=[],a=[],n=0;n<i;n++)x-=h*f,h+=x*f,l[n]=x,a[n]=h;return{sin:a,cos:l,length:i}};r.exports=C},7602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i<=h?0:i>=x?1:(i=(i-h)/(x-h),i*i*(3-2*i))};r.exports=C},54261:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i=Math.max(0,Math.min(1,(i-h)/(x-h))),i*i*i*(i*(i*6-15)+10)};r.exports=C},44408:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n){n===void 0&&(n=new h);var d=0,c=0,u=l*a;return f>0&&f<=u&&(f>l-1?(c=Math.floor(f/l),d=f-c*l):d=f),n.set(d,c)};r.exports=x},85955:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d,c,u,v){v===void 0&&(v=new h);var p=Math.sin(d),g=Math.cos(d),m=g*c,T=p*c,P=-p*u,E=g*u,M=1/(m*E+P*-T);return v.x=E*M*f+-P*M*l+(n*P-a*E)*M,v.y=m*M*l+-T*M*f+(-n*m+a*T)*M,v};r.exports=x},26099:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(43855),f=new h({initialize:function(a,n){this.x=0,this.y=0,typeof a=="object"?(this.x=a.x||0,this.y=a.y||0):(n===void 0&&(n=a),this.x=a||0,this.y=n||0)},clone:function(){return new f(this.x,this.y)},copy:function(l){return this.x=l.x||0,this.y=l.y||0,this},setFromObject:function(l){return this.x=l.x||0,this.y=l.y||0,this},set:function(l,a){return a===void 0&&(a=l),this.x=l,this.y=a,this},setTo:function(l,a){return this.set(l,a)},setToPolar:function(l,a){return a==null&&(a=1),this.x=Math.cos(l)*a,this.y=Math.sin(l)*a,this},equals:function(l){return this.x===l.x&&this.y===l.y},fuzzyEquals:function(l,a){return x(this.x,l.x,a)&&x(this.y,l.y,a)},angle:function(){var l=Math.atan2(this.y,this.x);return l<0&&(l+=2*Math.PI),l},setAngle:function(l){return this.setToPolar(l,this.length())},add:function(l){return this.x+=l.x,this.y+=l.y,this},subtract:function(l){return this.x-=l.x,this.y-=l.y,this},multiply:function(l){return this.x*=l.x,this.y*=l.y,this},scale:function(l){return isFinite(l)?(this.x*=l,this.y*=l):(this.x=0,this.y=0),this},divide:function(l){return this.x/=l.x,this.y/=l.y,this},negate:function(){return this.x=-this.x,this.y=-this.y,this},distance:function(l){var a=l.x-this.x,n=l.y-this.y;return Math.sqrt(a*a+n*n)},distanceSq:function(l){var a=l.x-this.x,n=l.y-this.y;return a*a+n*n},length:function(){var l=this.x,a=this.y;return Math.sqrt(l*l+a*a)},setLength:function(l){return this.normalize().scale(l)},lengthSq:function(){var l=this.x,a=this.y;return l*l+a*a},normalize:function(){var l=this.x,a=this.y,n=l*l+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=l*n,this.y=a*n),this},normalizeRightHand:function(){var l=this.x;return this.x=this.y*-1,this.y=l,this},normalizeLeftHand:function(){var l=this.x;return this.x=this.y,this.y=l*-1,this},dot:function(l){return this.x*l.x+this.y*l.y},cross:function(l){return this.x*l.y-this.y*l.x},lerp:function(l,a){a===void 0&&(a=0);var n=this.x,d=this.y;return this.x=n+a*(l.x-n),this.y=d+a*(l.y-d),this},transformMat3:function(l){var a=this.x,n=this.y,d=l.val;return this.x=d[0]*a+d[3]*n+d[6],this.y=d[1]*a+d[4]*n+d[7],this},transformMat4:function(l){var a=this.x,n=this.y,d=l.val;return this.x=d[0]*a+d[4]*n+d[12],this.y=d[1]*a+d[5]*n+d[13],this},reset:function(){return this.x=0,this.y=0,this},limit:function(l){var a=this.length();return a&&a>l&&this.scale(l/a),this},reflect:function(l){return l=l.clone().normalize(),this.subtract(l.scale(2*this.dot(l)))},mirror:function(l){return this.reflect(l).negate()},rotate:function(l){var a=Math.cos(l),n=Math.sin(l);return this.set(a*this.x-n*this.y,n*this.x+a*this.y)},project:function(l){var a=this.dot(l)/l.dot(l);return this.copy(l).scale(a)}});f.ZERO=new f,f.RIGHT=new f(1,0),f.LEFT=new f(-1,0),f.UP=new f(0,-1),f.DOWN=new f(0,1),f.ONE=new f(1,1),r.exports=f},25836:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n){this.x=0,this.y=0,this.z=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0):(this.x=l||0,this.y=a||0,this.z=n||0)},up:function(){return this.x=0,this.y=1,this.z=0,this},min:function(f){return this.x=Math.min(this.x,f.x),this.y=Math.min(this.y,f.y),this.z=Math.min(this.z,f.z),this},max:function(f){return this.x=Math.max(this.x,f.x),this.y=Math.max(this.y,f.y),this.z=Math.max(this.z,f.z),this},clone:function(){return new x(this.x,this.y,this.z)},addVectors:function(f,l){return this.x=f.x+l.x,this.y=f.y+l.y,this.z=f.z+l.z,this},subVectors:function(f,l){return this.x=f.x-l.x,this.y=f.y-l.y,this.z=f.z-l.z,this},crossVectors:function(f,l){var a=f.x,n=f.y,d=f.z,c=l.x,u=l.y,v=l.z;return this.x=n*v-d*u,this.y=d*c-a*v,this.z=a*u-n*c,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this},set:function(f,l,a){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0):(this.x=f||0,this.y=l||0,this.z=a||0),this},setFromMatrixPosition:function(f){return this.fromArray(f.val,12)},setFromMatrixColumn:function(f,l){return this.fromArray(f.val,l*4)},fromArray:function(f,l){return l===void 0&&(l=0),this.x=f[l],this.y=f[l+1],this.z=f[l+2],this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this},addScalar:function(f){return this.x+=f,this.y+=f,this.z+=f,this},addScale:function(f,l){return this.x+=f.x*l,this.y+=f.y*l,this.z+=f.z*l||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this},scale:function(f){return isFinite(f)?(this.x*=f,this.y*=f,this.z*=f):(this.x=0,this.y=0,this.z=0),this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},distance:function(f){var l=f.x-this.x,a=f.y-this.y,n=f.z-this.z||0;return Math.sqrt(l*l+a*a+n*n)},distanceSq:function(f){var l=f.x-this.x,a=f.y-this.y,n=f.z-this.z||0;return l*l+a*a+n*n},length:function(){var f=this.x,l=this.y,a=this.z;return Math.sqrt(f*f+l*l+a*a)},lengthSq:function(){var f=this.x,l=this.y,a=this.z;return f*f+l*l+a*a},normalize:function(){var f=this.x,l=this.y,a=this.z,n=f*f+l*l+a*a;return n>0&&(n=1/Math.sqrt(n),this.x=f*n,this.y=l*n,this.z=a*n),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z},cross:function(f){var l=this.x,a=this.y,n=this.z,d=f.x,c=f.y,u=f.z;return this.x=a*u-n*c,this.y=n*d-l*u,this.z=l*c-a*d,this},lerp:function(f,l){l===void 0&&(l=0);var a=this.x,n=this.y,d=this.z;return this.x=a+l*(f.x-a),this.y=n+l*(f.y-n),this.z=d+l*(f.z-d),this},applyMatrix3:function(f){var l=this.x,a=this.y,n=this.z,d=f.val;return this.x=d[0]*l+d[3]*a+d[6]*n,this.y=d[1]*l+d[4]*a+d[7]*n,this.z=d[2]*l+d[5]*a+d[8]*n,this},applyMatrix4:function(f){var l=this.x,a=this.y,n=this.z,d=f.val,c=1/(d[3]*l+d[7]*a+d[11]*n+d[15]);return this.x=(d[0]*l+d[4]*a+d[8]*n+d[12])*c,this.y=(d[1]*l+d[5]*a+d[9]*n+d[13])*c,this.z=(d[2]*l+d[6]*a+d[10]*n+d[14])*c,this},transformMat3:function(f){var l=this.x,a=this.y,n=this.z,d=f.val;return this.x=l*d[0]+a*d[3]+n*d[6],this.y=l*d[1]+a*d[4]+n*d[7],this.z=l*d[2]+a*d[5]+n*d[8],this},transformMat4:function(f){var l=this.x,a=this.y,n=this.z,d=f.val;return this.x=d[0]*l+d[4]*a+d[8]*n+d[12],this.y=d[1]*l+d[5]*a+d[9]*n+d[13],this.z=d[2]*l+d[6]*a+d[10]*n+d[14],this},transformCoordinates:function(f){var l=this.x,a=this.y,n=this.z,d=f.val,c=l*d[0]+a*d[4]+n*d[8]+d[12],u=l*d[1]+a*d[5]+n*d[9]+d[13],v=l*d[2]+a*d[6]+n*d[10]+d[14],p=l*d[3]+a*d[7]+n*d[11]+d[15];return this.x=c/p,this.y=u/p,this.z=v/p,this},transformQuat:function(f){var l=this.x,a=this.y,n=this.z,d=f.x,c=f.y,u=f.z,v=f.w,p=v*l+c*n-u*a,g=v*a+u*l-d*n,m=v*n+d*a-c*l,T=-d*l-c*a-u*n;return this.x=p*v+T*-d+g*-u-m*-c,this.y=g*v+T*-c+m*-d-p*-u,this.z=m*v+T*-u+p*-c-g*-d,this},project:function(f){var l=this.x,a=this.y,n=this.z,d=f.val,c=d[0],u=d[1],v=d[2],p=d[3],g=d[4],m=d[5],T=d[6],P=d[7],E=d[8],M=d[9],w=d[10],R=d[11],A=d[12],O=d[13],F=d[14],L=d[15],b=1/(l*p+a*P+n*R+L);return this.x=(l*c+a*g+n*E+A)*b,this.y=(l*u+a*m+n*M+O)*b,this.z=(l*v+a*T+n*w+F)*b,this},projectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unprojectViewMatrix:function(f,l){return this.applyMatrix4(f).applyMatrix4(l)},unproject:function(f,l){var a=f.x,n=f.y,d=f.z,c=f.w,u=this.x-a,v=c-this.y-1-n,p=this.z;return this.x=2*u/d-1,this.y=2*v/c-1,this.z=2*p-1,this.project(l)},reset:function(){return this.x=0,this.y=0,this.z=0,this}});x.ZERO=new x,x.RIGHT=new x(1,0,0),x.LEFT=new x(-1,0,0),x.UP=new x(0,-1,0),x.DOWN=new x(0,1,0),x.FORWARD=new x(0,0,1),x.BACK=new x(0,0,-1),x.ONE=new x(1,1,1),r.exports=x},61369:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d){this.x=0,this.y=0,this.z=0,this.w=0,typeof l=="object"?(this.x=l.x||0,this.y=l.y||0,this.z=l.z||0,this.w=l.w||0):(this.x=l||0,this.y=a||0,this.z=n||0,this.w=d||0)},clone:function(){return new x(this.x,this.y,this.z,this.w)},copy:function(f){return this.x=f.x,this.y=f.y,this.z=f.z||0,this.w=f.w||0,this},equals:function(f){return this.x===f.x&&this.y===f.y&&this.z===f.z&&this.w===f.w},set:function(f,l,a,n){return typeof f=="object"?(this.x=f.x||0,this.y=f.y||0,this.z=f.z||0,this.w=f.w||0):(this.x=f||0,this.y=l||0,this.z=a||0,this.w=n||0),this},add:function(f){return this.x+=f.x,this.y+=f.y,this.z+=f.z||0,this.w+=f.w||0,this},subtract:function(f){return this.x-=f.x,this.y-=f.y,this.z-=f.z||0,this.w-=f.w||0,this},scale:function(f){return this.x*=f,this.y*=f,this.z*=f,this.w*=f,this},length:function(){var f=this.x,l=this.y,a=this.z,n=this.w;return Math.sqrt(f*f+l*l+a*a+n*n)},lengthSq:function(){var f=this.x,l=this.y,a=this.z,n=this.w;return f*f+l*l+a*a+n*n},normalize:function(){var f=this.x,l=this.y,a=this.z,n=this.w,d=f*f+l*l+a*a+n*n;return d>0&&(d=1/Math.sqrt(d),this.x=f*d,this.y=l*d,this.z=a*d,this.w=n*d),this},dot:function(f){return this.x*f.x+this.y*f.y+this.z*f.z+this.w*f.w},lerp:function(f,l){l===void 0&&(l=0);var a=this.x,n=this.y,d=this.z,c=this.w;return this.x=a+l*(f.x-a),this.y=n+l*(f.y-n),this.z=d+l*(f.z-d),this.w=c+l*(f.w-c),this},multiply:function(f){return this.x*=f.x,this.y*=f.y,this.z*=f.z||1,this.w*=f.w||1,this},divide:function(f){return this.x/=f.x,this.y/=f.y,this.z/=f.z||1,this.w/=f.w||1,this},distance:function(f){var l=f.x-this.x,a=f.y-this.y,n=f.z-this.z||0,d=f.w-this.w||0;return Math.sqrt(l*l+a*a+n*n+d*d)},distanceSq:function(f){var l=f.x-this.x,a=f.y-this.y,n=f.z-this.z||0,d=f.w-this.w||0;return l*l+a*a+n*n+d*d},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},transformMat4:function(f){var l=this.x,a=this.y,n=this.z,d=this.w,c=f.val;return this.x=c[0]*l+c[4]*a+c[8]*n+c[12]*d,this.y=c[1]*l+c[5]*a+c[9]*n+c[13]*d,this.z=c[2]*l+c[6]*a+c[10]*n+c[14]*d,this.w=c[3]*l+c[7]*a+c[11]*n+c[15]*d,this},transformQuat:function(f){var l=this.x,a=this.y,n=this.z,d=f.x,c=f.y,u=f.z,v=f.w,p=v*l+c*n-u*a,g=v*a+u*l-d*n,m=v*n+d*a-c*l,T=-d*l-c*a-u*n;return this.x=p*v+T*-d+g*-u-m*-c,this.y=g*v+T*-c+m*-d-p*-u,this.z=m*v+T*-u+p*-c-g*-d,this},reset:function(){return this.x=0,this.y=0,this.z=0,this.w=0,this}});x.prototype.sub=x.prototype.subtract,x.prototype.mul=x.prototype.multiply,x.prototype.div=x.prototype.divide,x.prototype.dist=x.prototype.distance,x.prototype.distSq=x.prototype.distanceSq,x.prototype.len=x.prototype.length,x.prototype.lenSq=x.prototype.lengthSq,r.exports=x},60417:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return Math.abs(i-h)<=x};r.exports=C},15994:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=x-h;return h+((i-h)%f+f)%f};r.exports=C},31040:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return Math.atan2(f-h,x-i)};r.exports=C},55495:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return Math.atan2(h.y-i.y,h.x-i.x)};r.exports=C},128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return Math.atan2(h.x-i.x,h.y-i.y)};r.exports=C},41273:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return Math.atan2(x-i,f-h)};r.exports=C},1432:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=function(f){return f>Math.PI&&(f-=h.PI2),Math.abs(((f+h.TAU)%h.PI2-h.PI2)%h.PI2)};r.exports=x},12407:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i=i%(2*Math.PI),i>=0?i:i+2*Math.PI};r.exports=C},53993:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99472),x=function(){return h(-Math.PI,Math.PI)};r.exports=x},86564:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       @samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(99472),x=function(){return h(-180,180)};r.exports=x},90154:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(12407),x=function(f){return h(f+Math.PI)};r.exports=x},48736:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=function(f,l,a){return a===void 0&&(a=.05),f===l||(Math.abs(l-f)<=a||Math.abs(l-f)>=h.PI2-a?f=l:(Math.abs(l-f)>Math.PI&&(l<f?l+=h.PI2:l-=h.PI2),l>f?f+=a:l<f&&(f-=a))),f};r.exports=x},61430:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=h-i;if(x===0)return 0;var f=Math.floor((x- -180)/360);return x-f*360};r.exports=C},86554:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15994),x=function(f){return h(f,-Math.PI,Math.PI)};r.exports=x},30954:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15994),x=function(f){return h(f,-180,180)};r.exports=x},25588:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:i(31040),BetweenPoints:i(55495),BetweenPointsY:i(128),BetweenY:i(41273),CounterClockwise:i(1432),Normalize:i(12407),Random:i(53993),RandomDegrees:i(86564),Reverse:i(90154),RotateTo:i(48736),ShortestBetween:i(61430),Wrap:i(86554),WrapDegrees:i(30954)}},36383:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PI2:Math.PI*2,TAU:Math.PI*.5,EPSILON:1e-6,DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,RND:null,MIN_SAFE_INTEGER:Number.MIN_SAFE_INTEGER||-9007199254740991,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991};r.exports=C},20339:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=i-x,a=h-f;return Math.sqrt(l*l+a*a)};r.exports=C},52816:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.x-h.x,f=i.y-h.y;return Math.sqrt(x*x+f*f)};r.exports=C},64559:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.x-h.x,f=i.y-h.y;return x*x+f*f};r.exports=C},82340:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return Math.max(Math.abs(i-x),Math.abs(h-f))};r.exports=C},14390:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){return l===void 0&&(l=2),Math.sqrt(Math.pow(x-i,l)+Math.pow(f-h,l))};r.exports=C},2243:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return Math.abs(i-x)+Math.abs(h-f)};r.exports=C},89774:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=i-x,a=h-f;return l*l+a*a};r.exports=C},50994:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Between:i(20339),BetweenPoints:i(52816),BetweenPointsSquared:i(64559),Chebyshev:i(82340),Power:i(14390),Snake:i(2243),Squared:i(89774)}},62640:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54178),x=i(41521),f=i(79980),l=i(85433),a=i(99140),n=i(48857),d=i(81596),c=i(59133),u=i(98516),v=i(35248),p=i(82500),g=i(49752);r.exports={Power0:d,Power1:c.Out,Power2:l.Out,Power3:u.Out,Power4:v.Out,Linear:d,Quad:c.Out,Cubic:l.Out,Quart:u.Out,Quint:v.Out,Sine:p.Out,Expo:n.Out,Circ:f.Out,Elastic:a.Out,Back:h.Out,Bounce:x.Out,Stepped:g,"Quad.easeIn":c.In,"Cubic.easeIn":l.In,"Quart.easeIn":u.In,"Quint.easeIn":v.In,"Sine.easeIn":p.In,"Expo.easeIn":n.In,"Circ.easeIn":f.In,"Elastic.easeIn":a.In,"Back.easeIn":h.In,"Bounce.easeIn":x.In,"Quad.easeOut":c.Out,"Cubic.easeOut":l.Out,"Quart.easeOut":u.Out,"Quint.easeOut":v.Out,"Sine.easeOut":p.Out,"Expo.easeOut":n.Out,"Circ.easeOut":f.Out,"Elastic.easeOut":a.Out,"Back.easeOut":h.Out,"Bounce.easeOut":x.Out,"Quad.easeInOut":c.InOut,"Cubic.easeInOut":l.InOut,"Quart.easeInOut":u.InOut,"Quint.easeInOut":v.InOut,"Sine.easeInOut":p.InOut,"Expo.easeInOut":n.InOut,"Circ.easeInOut":f.InOut,"Elastic.easeInOut":a.InOut,"Back.easeInOut":h.InOut,"Bounce.easeInOut":x.InOut}},1639:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=1.70158),i*i*((h+1)*i-h)};r.exports=C},50099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=1.70158);var x=h*1.525;return(i*=2)<1?.5*(i*i*((x+1)*i-x)):.5*((i-=2)*i*((x+1)*i+x)+2)};r.exports=C},41286:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=1.70158),--i*i*((h+1)*i+h)+1};r.exports=C},54178:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(1639),Out:i(41286),InOut:i(50099)}},59590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i=1-i,i<.36363636363636365?1-7.5625*i*i:i<.7272727272727273?1-(7.5625*(i-=.5454545454545454)*i+.75):i<.9090909090909091?1-(7.5625*(i-=.8181818181818182)*i+.9375):1-(7.5625*(i-=.9545454545454546)*i+.984375)};r.exports=C},41788:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=!1;return i<.5?(i=1-i*2,h=!0):i=i*2-1,i<.36363636363636365?i=7.5625*i*i:i<.7272727272727273?i=7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?i=7.5625*(i-=.8181818181818182)*i+.9375:i=7.5625*(i-=.9545454545454546)*i+.984375,h?(1-i)*.5:i*.5+.5};r.exports=C},69905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i<.36363636363636365?7.5625*i*i:i<.7272727272727273?7.5625*(i-=.5454545454545454)*i+.75:i<.9090909090909091?7.5625*(i-=.8181818181818182)*i+.9375:7.5625*(i-=.9545454545454546)*i+.984375};r.exports=C},41521:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(59590),Out:i(69905),InOut:i(41788)}},91861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return 1-Math.sqrt(1-i*i)};r.exports=C},4177:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i*=2)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1)};r.exports=C},57512:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.sqrt(1- --i*i)};r.exports=C},79980:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(91861),Out:i(57512),InOut:i(4177)}},51150:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i*i*i};r.exports=C},82820:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i*=2)<1?.5*i*i*i:.5*((i-=2)*i*i+2)};r.exports=C},35033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return--i*i*i+1};r.exports=C},85433:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(51150),Out:i(35033),InOut:i(82820)}},69965:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var f=x/4;return h<1?h=1:f=x*Math.asin(1/h)/(2*Math.PI),-(h*Math.pow(2,10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/x))};r.exports=C},50665:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var f=x/4;return h<1?h=1:f=x*Math.asin(1/h)/(2*Math.PI),(i*=2)<1?-.5*(h*Math.pow(2,10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/x)):h*Math.pow(2,-10*(i-=1))*Math.sin((i-f)*(2*Math.PI)/x)*.5+1};r.exports=C},7744:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h===void 0&&(h=.1),x===void 0&&(x=.1),i===0)return 0;if(i===1)return 1;var f=x/4;return h<1?h=1:f=x*Math.asin(1/h)/(2*Math.PI),h*Math.pow(2,-10*i)*Math.sin((i-f)*(2*Math.PI)/x)+1};r.exports=C},99140:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(69965),Out:i(7744),InOut:i(50665)}},24590:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return Math.pow(2,10*(i-1))-.001};r.exports=C},87844:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i*=2)<1?.5*Math.pow(2,10*(i-1)):.5*(2-Math.pow(2,-10*(i-1)))};r.exports=C},89433:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return 1-Math.pow(2,-10*i)};r.exports=C},48857:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(24590),Out:i(89433),InOut:i(87844)}},48820:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Back:i(54178),Bounce:i(41521),Circular:i(79980),Cubic:i(85433),Elastic:i(99140),Expo:i(48857),Linear:i(81596),Quadratic:i(59133),Quartic:i(98516),Quintic:i(35248),Sine:i(82500),Stepped:i(49752)}},7147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i};r.exports=C},81596:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=i(7147)},34826:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i*i};r.exports=C},20544:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i*=2)<1?.5*i*i:-.5*(--i*(i-2)-1)};r.exports=C},92029:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i*(2-i)};r.exports=C},59133:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(34826),Out:i(92029),InOut:i(20544)}},64413:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i*i*i*i};r.exports=C},78137:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i*=2)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2)};r.exports=C},45840:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return 1- --i*i*i*i};r.exports=C},98516:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(64413),Out:i(45840),InOut:i(78137)}},87745:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i*i*i*i*i};r.exports=C},16509:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return(i*=2)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2)};r.exports=C},17868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return--i*i*i*i*i+1};r.exports=C},35248:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(87745),Out:i(17868),InOut:i(16509)}},80461:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i===0?0:i===1?1:1-Math.cos(i*Math.PI/2)};r.exports=C},34025:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i===0?0:i===1?1:.5*(1-Math.cos(Math.PI*i))};r.exports=C},52768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i===0?0:i===1?1:Math.sin(i*Math.PI/2)};r.exports=C},82500:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={In:i(80461),Out:i(52768),InOut:i(34025)}},72251:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=1),i<=0?0:i>=1?1:((h*i|0)+1)*(1/h)};r.exports=C},49752:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=i(72251)},75698:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=1e-4),Math.ceil(i-h)};r.exports=C},43855:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return x===void 0&&(x=1e-4),Math.abs(i-h)<x};r.exports=C},25777:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h=1e-4),Math.floor(i+h)};r.exports=C},5470:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return x===void 0&&(x=1e-4),i>h-x};r.exports=C},94977:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return x===void 0&&(x=1e-4),i<h+x};r.exports=C},48379:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:i(75698),Equal:i(43855),Floor:i(25777),GreaterThan:i(5470),LessThan:i(94977)}},75508:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36383),x=i(79291),f={Angle:i(25588),Distance:i(50994),Easing:i(48820),Fuzzy:i(48379),Interpolation:i(38289),Pow2:i(49001),Snap:i(73697),RandomDataGenerator:i(28453),Average:i(53307),Bernstein:i(85710),Between:i(30976),CatmullRom:i(87842),CeilTo:i(26302),Clamp:i(45319),DegToRad:i(39506),Difference:i(61241),Euler:i(38857),Factorial:i(6411),FloatBetween:i(99472),FloorTo:i(77623),FromPercent:i(62945),GetSpeed:i(38265),IsEven:i(78702),IsEvenStrict:i(94883),Linear:i(28915),LinearXY:i(94908),MaxAdd:i(86883),Median:i(50040),MinSub:i(37204),Percent:i(65201),RadToDeg:i(43396),RandomXY:i(74362),RandomXYZ:i(60706),RandomXYZW:i(67421),Rotate:i(36305),RotateAround:i(11520),RotateAroundDistance:i(1163),RotateTo:i(70336),RoundAwayFromZero:i(2284),RoundTo:i(41013),SinCosTableGenerator:i(16922),SmootherStep:i(54261),SmoothStep:i(7602),ToXY:i(44408),TransformXY:i(85955),Within:i(60417),Wrap:i(15994),Vector2:i(26099),Vector3:i(25836),Vector4:i(61369),Matrix3:i(94434),Matrix4:i(37867),Quaternion:i(15746),RotateVec3:i(72678)};f=x(!1,f,h),r.exports=f},89318:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85710),x=function(f,l){for(var a=0,n=f.length-1,d=0;d<=n;d++)a+=Math.pow(1-l,n-d)*Math.pow(l,d)*f[d]*h(n,d);return a};r.exports=x},77259:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87842),x=function(f,l){var a=f.length-1,n=a*l,d=Math.floor(n);return f[0]===f[a]?(l<0&&(d=Math.floor(n=a*(1+l))),h(n-d,f[(d-1+a)%a],f[d],f[(d+1)%a],f[(d+2)%a])):l<0?f[0]-(h(-n,f[0],f[0],f[1],f[1])-f[0]):l>1?f[a]-(h(n-a,f[a],f[a],f[a-1],f[a-1])-f[a]):h(n-d,f[d?d-1:0],f[d],f[a<d+1?a:d+1],f[a<d+2?a:d+2])};r.exports=x},36316:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(l,a){var n=1-l;return n*n*n*a}function i(l,a){var n=1-l;return 3*n*n*l*a}function h(l,a){return 3*(1-l)*l*l*a}function x(l,a){return l*l*l*a}var f=function(l,a,n,d,c){return C(l,a)+i(l,n)+h(l,d)+x(l,c)};r.exports=f},28392:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(28915),x=function(f,l){var a=f.length-1,n=a*l,d=Math.floor(n);return l<0?h(f[0],f[1],n):l>1?h(f[a],f[a-1],a-n):h(f[d],f[d+1>a?a:d+1],n-d)};r.exports=x},32112:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(f,l){var a=1-f;return a*a*l}function i(f,l){return 2*(1-f)*f*l}function h(f,l){return f*f*l}var x=function(f,l,a,n){return C(f,l)+i(f,a)+h(f,n)};r.exports=x},47235:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7602),x=function(f,l,a){return l+(a-l)*h(f,0,1)};r.exports=x},50178:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(54261),x=function(f,l,a){return l+(a-l)*h(f,0,1)};r.exports=x},38289:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bezier:i(89318),CatmullRom:i(77259),CubicBezier:i(36316),Linear:i(28392),QuadraticBezier:i(32112),SmoothStep:i(47235),SmootherStep:i(50178)}},98439:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=Math.log(i)/.6931471805599453;return 1<<Math.ceil(h)};r.exports=C},50030:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i>0&&(i&i-1)===0&&h>0&&(h&h-1)===0};r.exports=C},81230:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i>0&&(i&i-1)===0};r.exports=C},49001:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetNext:i(98439),IsSize:i(50030),IsValue:i(81230)}},28453:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l){l===void 0&&(l=[(Date.now()*Math.random()).toString()]),this.c=1,this.s0=0,this.s1=0,this.s2=0,this.n=0,this.signs=[-1,1],l&&this.init(l)},rnd:function(){var f=2091639*this.s0+this.c*23283064365386963e-26;return this.c=f|0,this.s0=this.s1,this.s1=this.s2,this.s2=f-this.c,this.s2},hash:function(f){var l,a=this.n;f=f.toString();for(var n=0;n<f.length;n++)a+=f.charCodeAt(n),l=.02519603282416938*a,a=l>>>0,l-=a,l*=a,a=l>>>0,l-=a,a+=l*4294967296;return this.n=a,(a>>>0)*23283064365386963e-26},init:function(f){typeof f=="string"?this.state(f):this.sow(f)},sow:function(f){if(this.n=4022871197,this.s0=this.hash(" "),this.s1=this.hash(" "),this.s2=this.hash(" "),this.c=1,!!f)for(var l=0;l<f.length&&f[l]!=null;l++){var a=f[l];this.s0-=this.hash(a),this.s0+=~~(this.s0<0),this.s1-=this.hash(a),this.s1+=~~(this.s1<0),this.s2-=this.hash(a),this.s2+=~~(this.s2<0)}},integer:function(){return this.rnd()*4294967296},frac:function(){return this.rnd()+(this.rnd()*2097152|0)*11102230246251565e-32},real:function(){return this.integer()+this.frac()},integerInRange:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},between:function(f,l){return Math.floor(this.realInRange(0,l-f+1)+f)},realInRange:function(f,l){return this.frac()*(l-f)+f},normal:function(){return 1-2*this.frac()},uuid:function(){var f="",l="";for(l=f="";f++<36;l+=~f%5|f*3&4?(f^15?8^this.frac()*(f^20?16:4):4).toString(16):"-");return l},pick:function(f){return f[this.integerInRange(0,f.length-1)]},sign:function(){return this.pick(this.signs)},weightedPick:function(f){return f[~~(Math.pow(this.frac(),2)*(f.length-.5)+.5)]},timestamp:function(f,l){return this.realInRange(f||9466848e5,l||1577862e6)},angle:function(){return this.integerInRange(-180,180)},rotation:function(){return this.realInRange(-3.1415926,3.1415926)},state:function(f){return typeof f=="string"&&f.match(/^!rnd/)&&(f=f.split(","),this.c=parseFloat(f[1]),this.s0=parseFloat(f[2]),this.s1=parseFloat(f[3]),this.s2=parseFloat(f[4])),["!rnd",this.c,this.s0,this.s1,this.s2].join(",")},shuffle:function(f){for(var l=f.length-1,a=l;a>0;a--){var n=Math.floor(this.frac()*(a+1)),d=f[n];f[n]=f[a],f[a]=d}return f}});r.exports=x},63448:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return x===void 0&&(x=0),h===0?i:(i-=x,i=h*Math.ceil(i/h),f?(x+i)/h:x+i)};r.exports=C},56583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return x===void 0&&(x=0),h===0?i:(i-=x,i=h*Math.floor(i/h),f?(x+i)/h:x+i)};r.exports=C},77720:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){return x===void 0&&(x=0),h===0?i:(i-=x,i=h*Math.round(i/h),f?(x+i)/h:x+i)};r.exports=C},73697:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Ceil:i(63448),Floor:i(56583),To:i(77720)}},85454:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */i(63595);var h=i(8054),x=i(79291),f={Actions:i(61061),Animations:i(60421),BlendModes:i(10312),Cache:i(83388),Cameras:i(26638),Core:i(42857),Class:i(83419),Create:i(15822),Curves:i(25410),Data:i(44965),Display:i(27460),DOM:i(84902),Events:i(93055),FX:i(66064),Game:i(50127),GameObjects:i(77856),Geom:i(55738),Input:i(14350),Loader:i(57777),Math:i(75508),Physics:i(44563),Plugins:i(18922),Renderer:i(36909),Scale:i(93364),ScaleModes:i(29795),Scene:i(97482),Scenes:i(62194),Structs:i(41392),Textures:i(27458),Tilemaps:i(62501),Time:i(90291),Tweens:i(43066),Utils:i(91799)};f.Sound=i(23717),f=x(!1,f,h),r.exports=f,i.g.Phaser=f},71289:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(92209),f=i(88571),l=new h({Extends:f,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(n,d,c,u,v){f.call(this,n,d,c,u,v),this.body=null}});r.exports=l},86689:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(39506),f=i(20339),l=i(89774),a=i(66022),n=i(95540),d=i(46975),c=i(72441),u=i(47956),v=i(37277),p=i(44594),g=i(26099),m=i(82248),T=new h({initialize:function(E){this.scene=E,this.systems=E.sys,this.config=this.getConfig(),this.world,this.add,this._category=1,E.sys.events.once(p.BOOT,this.boot,this),E.sys.events.on(p.START,this.start,this)},boot:function(){this.world=new m(this.scene,this.config),this.add=new a(this.world),this.systems.events.once(p.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new m(this.scene,this.config),this.add=new a(this.world));var P=this.systems.events;n(this.config,"customUpdate",!1)||P.on(p.UPDATE,this.world.update,this.world),P.on(p.POST_UPDATE,this.world.postUpdate,this.world),P.once(p.SHUTDOWN,this.shutdown,this)},enableUpdate:function(){this.systems.events.on(p.UPDATE,this.world.update,this.world)},disableUpdate:function(){this.systems.events.off(p.UPDATE,this.world.update,this.world)},getConfig:function(){var P=this.systems.game.config.physics,E=this.systems.settings.physics,M=d(n(E,"arcade",{}),n(P,"arcade",{}));return M},nextCategory:function(){return this._category=this._category<<1,this._category},overlap:function(P,E,M,w,R){return M===void 0&&(M=null),w===void 0&&(w=null),R===void 0&&(R=M),this.world.collideObjects(P,E,M,w,R,!0)},collide:function(P,E,M,w,R){return M===void 0&&(M=null),w===void 0&&(w=null),R===void 0&&(R=M),this.world.collideObjects(P,E,M,w,R,!1)},collideTiles:function(P,E,M,w,R){return this.world.collideTiles(P,E,M,w,R)},overlapTiles:function(P,E,M,w,R){return this.world.overlapTiles(P,E,M,w,R)},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},accelerateTo:function(P,E,M,w,R,A){w===void 0&&(w=60);var O=Math.atan2(M-P.y,E-P.x);return P.body.acceleration.setToPolar(O,w),R!==void 0&&A!==void 0&&P.body.maxVelocity.set(R,A),O},accelerateToObject:function(P,E,M,w,R){return this.accelerateTo(P,E.x,E.y,M,w,R)},closest:function(P,E){E||(E=this.world.bodies.entries);for(var M=Number.MAX_VALUE,w=null,R=P.x,A=P.y,O=E.length,F=0;F<O;F++){var L=E[F],b=L.body||L;if(!(P===L||P===b||P===b.gameObject||P===b.center)){var D=l(R,A,b.center.x,b.center.y);D<M&&(w=L,M=D)}}return w},furthest:function(P,E){E||(E=this.world.bodies.entries);for(var M=-1,w=null,R=P.x,A=P.y,O=E.length,F=0;F<O;F++){var L=E[F],b=L.body||L;if(!(P===L||P===b||P===b.gameObject||P===b.center)){var D=l(R,A,b.center.x,b.center.y);D>M&&(w=L,M=D)}}return w},moveTo:function(P,E,M,w,R){w===void 0&&(w=60),R===void 0&&(R=0);var A=Math.atan2(M-P.y,E-P.x);return R>0&&(w=f(P.x,P.y,E,M)/(R/1e3)),P.body.velocity.setToPolar(A,w),A},moveToObject:function(P,E,M,w){return this.moveTo(P,E.x,E.y,M,w)},velocityFromAngle:function(P,E,M){return E===void 0&&(E=60),M===void 0&&(M=new g),M.setToPolar(x(P),E)},velocityFromRotation:function(P,E,M){return E===void 0&&(E=60),M===void 0&&(M=new g),M.setToPolar(P,E)},overlapRect:function(P,E,M,w,R,A){return u(this.world,P,E,M,w,R,A)},overlapCirc:function(P,E,M,w,R){return c(this.world,P,E,M,w,R)},shutdown:function(){if(this.world){var P=this.systems.events;P.off(p.UPDATE,this.world.update,this.world),P.off(p.POST_UPDATE,this.world.postUpdate,this.world),P.off(p.SHUTDOWN,this.shutdown,this),this.add.destroy(),this.world.destroy(),this.add=null,this.world=null,this._category=1}},destroy:function(){this.shutdown(),this.scene.sys.events.off(p.START,this.start,this),this.scene=null,this.systems=null}});v.register("ArcadePhysics",T,"arcadePhysics"),r.exports=T},13759:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(92209),f=i(68287),l=new h({Extends:f,Mixins:[x.Acceleration,x.Angular,x.Bounce,x.Collision,x.Debug,x.Drag,x.Enable,x.Friction,x.Gravity,x.Immovable,x.Mass,x.Pushable,x.Size,x.Velocity],initialize:function(n,d,c,u,v){f.call(this,n,d,c,u,v),this.body=null}});r.exports=l},37742:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(78389),f=i(37747),l=i(63012),a=i(43396),n=i(87841),d=i(37303),c=i(95829),u=i(26099),v=new h({Mixins:[x],initialize:function(g,m){var T=64,P=64,E={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},M=m!==void 0;M&&m.displayWidth&&(T=m.displayWidth,P=m.displayHeight),M||(m=E),this.world=g,this.gameObject=M?m:void 0,this.isBody=!0,this.transform={x:m.x,y:m.y,rotation:m.angle,scaleX:m.scaleX,scaleY:m.scaleY,displayOriginX:m.displayOriginX,displayOriginY:m.displayOriginY},this.debugShowBody=g.defaults.debugShowBody,this.debugShowVelocity=g.defaults.debugShowVelocity,this.debugBodyColor=g.defaults.bodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new u,this.position=new u(m.x-m.scaleX*m.displayOriginX,m.y-m.scaleY*m.displayOriginY),this.prev=this.position.clone(),this.prevFrame=this.position.clone(),this.allowRotation=!0,this.rotation=m.angle,this.preRotation=m.angle,this.width=T,this.height=P,this.sourceWidth=T,this.sourceHeight=P,m.frame&&(this.sourceWidth=m.frame.realWidth,this.sourceHeight=m.frame.realHeight),this.halfWidth=Math.abs(T/2),this.halfHeight=Math.abs(P/2),this.center=new u(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=new u,this.newVelocity=new u,this.deltaMax=new u,this.acceleration=new u,this.allowDrag=!0,this.drag=new u,this.allowGravity=!0,this.gravity=new u,this.bounce=new u,this.worldBounce=null,this.customBoundsRectangle=g.bounds,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.maxVelocity=new u(1e4,1e4),this.maxSpeed=-1,this.friction=new u(1,0),this.useDamping=!1,this.angularVelocity=0,this.angularAcceleration=0,this.angularDrag=0,this.maxAngular=1e3,this.mass=1,this.angle=0,this.speed=0,this.facing=f.FACING_NONE,this.immovable=!1,this.pushable=!0,this.slideFactor=new u(1,1),this.moves=!0,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=c(!1),this.touching=c(!0),this.wasTouching=c(!0),this.blocked=c(!0),this.syncBounds=!1,this.physicsType=f.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._sx=m.scaleX,this._sy=m.scaleY,this._dx=0,this._dy=0,this._tx=0,this._ty=0,this._bounds=new n,this.directControl=!1,this.autoFrame=this.position.clone()},updateBounds:function(){var p=this.gameObject,g=this.transform;if(p.parentContainer){var m=p.getWorldTransformMatrix(this.world._tempMatrix,this.world._tempMatrix2);g.x=m.tx,g.y=m.ty,g.rotation=a(m.rotation),g.scaleX=m.scaleX,g.scaleY=m.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY}else g.x=p.x,g.y=p.y,g.rotation=p.angle,g.scaleX=p.scaleX,g.scaleY=p.scaleY,g.displayOriginX=p.displayOriginX,g.displayOriginY=p.displayOriginY;var T=!1;if(this.syncBounds){var P=p.getBounds(this._bounds);this.width=P.width,this.height=P.height,T=!0}else{var E=Math.abs(g.scaleX),M=Math.abs(g.scaleY);(this._sx!==E||this._sy!==M)&&(this.width=this.sourceWidth*E,this.height=this.sourceHeight*M,this._sx=E,this._sy=M,T=!0)}T&&(this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter())},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},updateFromGameObject:function(){this.updateBounds();var p=this.transform;this.position.x=p.x+p.scaleX*(this.offset.x-p.displayOriginX),this.position.y=p.y+p.scaleY*(this.offset.y-p.displayOriginY),this.updateCenter()},resetFlags:function(p){p===void 0&&(p=!1);var g=this.wasTouching,m=this.touching,T=this.blocked;p?c(!0,g):(g.none=m.none,g.up=m.up,g.down=m.down,g.left=m.left,g.right=m.right),c(!0,m),c(!0,T),this.overlapR=0,this.overlapX=0,this.overlapY=0,this.embedded=!1},preUpdate:function(p,g){if(p&&this.resetFlags(),this.gameObject&&this.updateFromGameObject(),this.rotation=this.transform.rotation,this.preRotation=this.rotation,this.moves){var m=this.position;this.prev.x=m.x,this.prev.y=m.y,this.prevFrame.x=m.x,this.prevFrame.y=m.y}p&&this.update(g)},update:function(p){var g=this.prev,m=this.position,T=this.velocity;if(g.set(m.x,m.y),!this.moves){this._dx=m.x-g.x,this._dy=m.y-g.y;return}if(this.directControl){var P=this.autoFrame;T.set((m.x-P.x)/p,(m.y-P.y)/p),this.world.updateMotion(this,p),this._dx=m.x-P.x,this._dy=m.y-P.y}else this.world.updateMotion(this,p),this.newVelocity.set(T.x*p,T.y*p),m.add(this.newVelocity),this._dx=m.x-g.x,this._dy=m.y-g.y;var E=T.x,M=T.y;if(this.updateCenter(),this.angle=Math.atan2(M,E),this.speed=Math.sqrt(E*E+M*M),this.collideWorldBounds&&this.checkWorldBounds()&&this.onWorldBounds){var w=this.blocked;this.world.emit(l.WORLD_BOUNDS,this,w.up,w.down,w.left,w.right)}},postUpdate:function(){var p=this.position,g=p.x-this.prevFrame.x,m=p.y-this.prevFrame.y,T=this.gameObject;if(this.moves){var P=this.deltaMax.x,E=this.deltaMax.y;P!==0&&g!==0&&(g<0&&g<-P?g=-P:g>0&&g>P&&(g=P)),E!==0&&m!==0&&(m<0&&m<-E?m=-E:m>0&&m>E&&(m=E)),T&&(T.x+=g,T.y+=m)}g<0?this.facing=f.FACING_LEFT:g>0&&(this.facing=f.FACING_RIGHT),m<0?this.facing=f.FACING_UP:m>0&&(this.facing=f.FACING_DOWN),this.allowRotation&&T&&(T.angle+=this.deltaZ()),this._tx=g,this._ty=m,this.autoFrame.set(p.x,p.y)},setBoundsRectangle:function(p){return this.customBoundsRectangle=p||this.world.bounds,this},checkWorldBounds:function(){var p=this.position,g=this.velocity,m=this.blocked,T=this.customBoundsRectangle,P=this.world.checkCollision,E=this.worldBounce?-this.worldBounce.x:-this.bounce.x,M=this.worldBounce?-this.worldBounce.y:-this.bounce.y,w=!1;return p.x<T.x&&P.left?(p.x=T.x,g.x*=E,m.left=!0,w=!0):this.right>T.right&&P.right&&(p.x=T.right-this.width,g.x*=E,m.right=!0,w=!0),p.y<T.y&&P.up?(p.y=T.y,g.y*=M,m.up=!0,w=!0):this.bottom>T.bottom&&P.down&&(p.y=T.bottom-this.height,g.y*=M,m.down=!0,w=!0),w&&(this.blocked.none=!1,this.updateCenter()),w},setOffset:function(p,g){return g===void 0&&(g=p),this.offset.set(p,g),this},setGameObject:function(p,g){if(g===void 0&&(g=!0),!p||!p.hasTransformComponent)return this;var m=this.world;return this.gameObject&&this.gameObject.body&&(m.disable(this.gameObject),this.gameObject.body=null),p.body&&m.disable(p),this.gameObject=p,p.body=this,this.setSize(),this.enable=g,this},setSize:function(p,g,m){m===void 0&&(m=!0);var T=this.gameObject;if(T&&(!p&&T.frame&&(p=T.frame.realWidth),!g&&T.frame&&(g=T.frame.realHeight)),this.sourceWidth=p,this.sourceHeight=g,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.updateCenter(),m&&T&&T.getCenter){var P=(T.width-p)/2,E=(T.height-g)/2;this.offset.set(P,E)}return this.isCircle=!1,this.radius=0,this},setCircle:function(p,g,m){return g===void 0&&(g=this.offset.x),m===void 0&&(m=this.offset.y),p>0?(this.isCircle=!0,this.radius=p,this.sourceWidth=p*2,this.sourceHeight=p*2,this.width=this.sourceWidth*this._sx,this.height=this.sourceHeight*this._sy,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(g,m),this.updateCenter()):this.isCircle=!1,this},reset:function(p,g){this.stop();var m=this.gameObject;m&&(m.setPosition(p,g),this.rotation=m.angle,this.preRotation=m.angle);var T=this.position;m&&m.getTopLeft?m.getTopLeft(T):T.set(p,g),this.prev.copy(T),this.prevFrame.copy(T),this.autoFrame.copy(T),m&&this.updateBounds(),this.updateCenter(),this.collideWorldBounds&&this.checkWorldBounds(),this.resetFlags(!0)},stop:function(){return this.velocity.set(0),this.acceleration.set(0),this.speed=0,this.angularVelocity=0,this.angularAcceleration=0,this},getBounds:function(p){return p.x=this.x,p.y=this.y,p.right=this.right,p.bottom=this.bottom,p},hitTest:function(p,g){if(!this.isCircle)return d(this,p,g);if(this.radius>0&&p>=this.left&&p<=this.right&&g>=this.top&&g<=this.bottom){var m=(this.center.x-p)*(this.center.x-p),T=(this.center.y-g)*(this.center.y-g);return m+T<=this.radius*this.radius}return!1},onFloor:function(){return this.blocked.down},onCeiling:function(){return this.blocked.up},onWall:function(){return this.blocked.left||this.blocked.right},deltaAbsX:function(){return this._dx>0?this._dx:-this._dx},deltaAbsY:function(){return this._dy>0?this._dy:-this._dy},deltaX:function(){return this._dx},deltaY:function(){return this._dy},deltaXFinal:function(){return this._tx},deltaYFinal:function(){return this._ty},deltaZ:function(){return this.rotation-this.preRotation},destroy:function(){this.enable=!1,this.world&&this.world.pendingDestroy.set(this)},drawDebug:function(p){var g=this.position,m=g.x+this.halfWidth,T=g.y+this.halfHeight;this.debugShowBody&&(p.lineStyle(p.defaultStrokeWidth,this.debugBodyColor),this.isCircle?p.strokeCircle(m,T,this.width/2):(this.checkCollision.up&&p.lineBetween(g.x,g.y,g.x+this.width,g.y),this.checkCollision.right&&p.lineBetween(g.x+this.width,g.y,g.x+this.width,g.y+this.height),this.checkCollision.down&&p.lineBetween(g.x,g.y+this.height,g.x+this.width,g.y+this.height),this.checkCollision.left&&p.lineBetween(g.x,g.y,g.x,g.y+this.height))),this.debugShowVelocity&&(p.lineStyle(p.defaultStrokeWidth,this.world.defaults.velocityDebugColor,1),p.lineBetween(m,T,m+this.velocity.x/2,T+this.velocity.y/2))},willDrawDebug:function(){return this.debugShowBody||this.debugShowVelocity},setDirectControl:function(p){return p===void 0&&(p=!0),this.directControl=p,this},setCollideWorldBounds:function(p,g,m,T){p===void 0&&(p=!0),this.collideWorldBounds=p;var P=g!==void 0,E=m!==void 0;return(P||E)&&(this.worldBounce||(this.worldBounce=new u),P&&(this.worldBounce.x=g),E&&(this.worldBounce.y=m)),T!==void 0&&(this.onWorldBounds=T),this},setVelocity:function(p,g){return this.velocity.set(p,g),p=this.velocity.x,g=this.velocity.y,this.speed=Math.sqrt(p*p+g*g),this},setVelocityX:function(p){return this.setVelocity(p,this.velocity.y)},setVelocityY:function(p){return this.setVelocity(this.velocity.x,p)},setMaxVelocity:function(p,g){return this.maxVelocity.set(p,g),this},setMaxVelocityX:function(p){return this.maxVelocity.x=p,this},setMaxVelocityY:function(p){return this.maxVelocity.y=p,this},setMaxSpeed:function(p){return this.maxSpeed=p,this},setSlideFactor:function(p,g){return this.slideFactor.set(p,g),this},setBounce:function(p,g){return this.bounce.set(p,g),this},setBounceX:function(p){return this.bounce.x=p,this},setBounceY:function(p){return this.bounce.y=p,this},setAcceleration:function(p,g){return this.acceleration.set(p,g),this},setAccelerationX:function(p){return this.acceleration.x=p,this},setAccelerationY:function(p){return this.acceleration.y=p,this},setAllowDrag:function(p){return p===void 0&&(p=!0),this.allowDrag=p,this},setAllowGravity:function(p){return p===void 0&&(p=!0),this.allowGravity=p,this},setAllowRotation:function(p){return p===void 0&&(p=!0),this.allowRotation=p,this},setDrag:function(p,g){return this.drag.set(p,g),this},setDamping:function(p){return this.useDamping=p,this},setDragX:function(p){return this.drag.x=p,this},setDragY:function(p){return this.drag.y=p,this},setGravity:function(p,g){return this.gravity.set(p,g),this},setGravityX:function(p){return this.gravity.x=p,this},setGravityY:function(p){return this.gravity.y=p,this},setFriction:function(p,g){return this.friction.set(p,g),this},setFrictionX:function(p){return this.friction.x=p,this},setFrictionY:function(p){return this.friction.y=p,this},setAngularVelocity:function(p){return this.angularVelocity=p,this},setAngularAcceleration:function(p){return this.angularAcceleration=p,this},setAngularDrag:function(p){return this.angularDrag=p,this},setMass:function(p){return this.mass=p,this},setImmovable:function(p){return p===void 0&&(p=!0),this.immovable=p,this},setEnable:function(p){return p===void 0&&(p=!0),this.enable=p,this},processX:function(p,g,m,T){this.x+=p,this.updateCenter(),g!==null&&(this.velocity.x=g*this.slideFactor.x);var P=this.blocked;m&&(P.left=!0,P.none=!1),T&&(P.right=!0,P.none=!1)},processY:function(p,g,m,T){this.y+=p,this.updateCenter(),g!==null&&(this.velocity.y=g*this.slideFactor.y);var P=this.blocked;m&&(P.up=!0,P.none=!1),T&&(P.down=!0,P.none=!1)},x:{get:function(){return this.position.x},set:function(p){this.position.x=p}},y:{get:function(){return this.position.y},set:function(p){this.position.y=p}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=v},79342:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d,c,u,v){this.world=l,this.name="",this.active=!0,this.overlapOnly=a,this.object1=n,this.object2=d,this.collideCallback=c,this.processCallback=u,this.callbackContext=v},setName:function(f){return this.name=f,this},update:function(){this.world.collideObjects(this.object1,this.object2,this.collideCallback,this.processCallback,this.callbackContext,this.overlapOnly)},destroy:function(){this.world.removeCollider(this),this.active=!1,this.world=null,this.object1=null,this.object2=null,this.collideCallback=null,this.processCallback=null,this.callbackContext=null}});r.exports=x},66022:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71289),x=i(13759),f=i(37742),l=i(83419),a=i(37747),n=i(60758),d=i(72624),c=i(71464),u=new l({initialize:function(p){this.world=p,this.scene=p.scene,this.sys=p.scene.sys},collider:function(v,p,g,m,T){return this.world.addCollider(v,p,g,m,T)},overlap:function(v,p,g,m,T){return this.world.addOverlap(v,p,g,m,T)},existing:function(v,p){var g=p?a.STATIC_BODY:a.DYNAMIC_BODY;return this.world.enableBody(v,g),v},staticImage:function(v,p,g,m){var T=new h(this.scene,v,p,g,m);return this.sys.displayList.add(T),this.world.enableBody(T,a.STATIC_BODY),T},image:function(v,p,g,m){var T=new h(this.scene,v,p,g,m);return this.sys.displayList.add(T),this.world.enableBody(T,a.DYNAMIC_BODY),T},staticSprite:function(v,p,g,m){var T=new x(this.scene,v,p,g,m);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,a.STATIC_BODY),T},sprite:function(v,p,g,m){var T=new x(this.scene,v,p,g,m);return this.sys.displayList.add(T),this.sys.updateList.add(T),this.world.enableBody(T,a.DYNAMIC_BODY),T},staticGroup:function(v,p){return this.sys.updateList.add(new c(this.world,this.world.scene,v,p))},group:function(v,p){return this.sys.updateList.add(new n(this.world,this.world.scene,v,p))},body:function(v,p,g,m){var T=new f(this.world);return T.position.set(v,p),g&&m&&T.setSize(g,m),this.world.add(T,a.DYNAMIC_BODY),T},staticBody:function(v,p,g,m){var T=new d(this.world);return T.position.set(v,p),g&&m&&T.setSize(g,m),this.world.add(T,a.STATIC_BODY),T},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=u},79599:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=0;if(!Array.isArray(i))h=i;else for(var x=0;x<i.length;x++)h|=i[x];return h};r.exports=C},64897:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37747),x=function(f,l,a,n){var d=0,c=f.deltaAbsX()+l.deltaAbsX()+n;return f._dx===0&&l._dx===0?(f.embedded=!0,l.embedded=!0):f._dx>l._dx?(d=f.right-l.x,d>c&&!a||f.checkCollision.right===!1||l.checkCollision.left===!1?d=0:(f.touching.none=!1,f.touching.right=!0,l.touching.none=!1,l.touching.left=!0,l.physicsType===h.STATIC_BODY&&!a&&(f.blocked.none=!1,f.blocked.right=!0),f.physicsType===h.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.left=!0))):f._dx<l._dx&&(d=f.x-l.width-l.x,-d>c&&!a||f.checkCollision.left===!1||l.checkCollision.right===!1?d=0:(f.touching.none=!1,f.touching.left=!0,l.touching.none=!1,l.touching.right=!0,l.physicsType===h.STATIC_BODY&&!a&&(f.blocked.none=!1,f.blocked.left=!0),f.physicsType===h.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.right=!0))),f.overlapX=d,l.overlapX=d,d};r.exports=x},45170:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37747),x=function(f,l,a,n){var d=0,c=f.deltaAbsY()+l.deltaAbsY()+n;return f._dy===0&&l._dy===0?(f.embedded=!0,l.embedded=!0):f._dy>l._dy?(d=f.bottom-l.y,d>c&&!a||f.checkCollision.down===!1||l.checkCollision.up===!1?d=0:(f.touching.none=!1,f.touching.down=!0,l.touching.none=!1,l.touching.up=!0,l.physicsType===h.STATIC_BODY&&!a&&(f.blocked.none=!1,f.blocked.down=!0),f.physicsType===h.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.up=!0))):f._dy<l._dy&&(d=f.y-l.bottom,-d>c&&!a||f.checkCollision.up===!1||l.checkCollision.down===!1?d=0:(f.touching.none=!1,f.touching.up=!0,l.touching.none=!1,l.touching.down=!0,l.physicsType===h.STATIC_BODY&&!a&&(f.blocked.none=!1,f.blocked.up=!0),f.physicsType===h.STATIC_BODY&&!a&&(l.blocked.none=!1,l.blocked.down=!0))),f.overlapY=d,l.overlapY=d,d};r.exports=x},60758:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13759),x=i(83419),f=i(78389),l=i(37747),a=i(95540),n=i(26479),d=i(41212),c=new x({Extends:n,Mixins:[f],initialize:function(v,p,g,m){if(!g&&!m)m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};else if(d(g))m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler;else if(Array.isArray(g)&&d(g[0])){var T=this;g.forEach(function(P){P.internalCreateCallback=T.createCallbackHandler,P.internalRemoveCallback=T.removeCallbackHandler,P.classType=a(P,"classType",h)}),m=null}else m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler};this.world=v,m&&(m.classType=a(m,"classType",h)),this.physicsType=l.DYNAMIC_BODY,this.collisionCategory=1,this.collisionMask=2147483647,this.defaults={setCollideWorldBounds:a(m,"collideWorldBounds",!1),setBoundsRectangle:a(m,"customBoundsRectangle",null),setAccelerationX:a(m,"accelerationX",0),setAccelerationY:a(m,"accelerationY",0),setAllowDrag:a(m,"allowDrag",!0),setAllowGravity:a(m,"allowGravity",!0),setAllowRotation:a(m,"allowRotation",!0),setDamping:a(m,"useDamping",!1),setBounceX:a(m,"bounceX",0),setBounceY:a(m,"bounceY",0),setDragX:a(m,"dragX",0),setDragY:a(m,"dragY",0),setEnable:a(m,"enable",!0),setGravityX:a(m,"gravityX",0),setGravityY:a(m,"gravityY",0),setFrictionX:a(m,"frictionX",0),setFrictionY:a(m,"frictionY",0),setMaxSpeed:a(m,"maxSpeed",-1),setMaxVelocityX:a(m,"maxVelocityX",1e4),setMaxVelocityY:a(m,"maxVelocityY",1e4),setVelocityX:a(m,"velocityX",0),setVelocityY:a(m,"velocityY",0),setAngularVelocity:a(m,"angularVelocity",0),setAngularAcceleration:a(m,"angularAcceleration",0),setAngularDrag:a(m,"angularDrag",0),setMass:a(m,"mass",1),setImmovable:a(m,"immovable",!1)},n.call(this,p,g,m),this.type="PhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,l.DYNAMIC_BODY);var v=u.body;for(var p in this.defaults)v[p](this.defaults[p])},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},setVelocity:function(u,v,p){p===void 0&&(p=0);for(var g=this.getChildren(),m=0;m<g.length;m++)g[m].body.velocity.set(u+m*p,v+m*p);return this},setVelocityX:function(u,v){v===void 0&&(v=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.x=u+g*v;return this},setVelocityY:function(u,v){v===void 0&&(v=0);for(var p=this.getChildren(),g=0;g<p.length;g++)p[g].body.velocity.y=u+g*v;return this}});r.exports=c},3017:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,i,h,x,f,l,a,n,d,c,u,v,p,g,m,T,P,E=function(F,L,b){C=F,i=L;var D=C.velocity.x,I=i.velocity.x;return h=C.pushable,d=C._dx<0,c=C._dx>0,u=C._dx===0,m=Math.abs(C.right-i.x)<=Math.abs(i.right-C.x),a=I-D*C.bounce.x,x=i.pushable,v=i._dx<0,p=i._dx>0,g=i._dx===0,T=!m,n=D-I*i.bounce.x,P=Math.abs(b),M()},M=function(){return c&&m&&i.blocked.right?(C.processX(-P,a,!1,!0),1):d&&T&&i.blocked.left?(C.processX(P,a,!0),1):p&&T&&C.blocked.right?(i.processX(-P,n,!1,!0),2):v&&m&&C.blocked.left?(i.processX(P,n,!0),2):0},w=function(){var F=C.velocity.x,L=i.velocity.x,b=Math.sqrt(L*L*i.mass/C.mass)*(L>0?1:-1),D=Math.sqrt(F*F*C.mass/i.mass)*(F>0?1:-1),I=(b+D)*.5;return b-=I,D-=I,f=I+b*C.bounce.x,l=I+D*i.bounce.x,d&&T?R(0):v&&m?R(1):c&&m?R(2):p&&T?R(3):!1},R=function(F){if(h&&x)P*=.5,F===0||F===3?(C.processX(P,f),i.processX(-P,l)):(C.processX(-P,f),i.processX(P,l));else if(h&&!x)F===0||F===3?C.processX(P,a,!0):C.processX(-P,a,!1,!0);else if(!h&&x)F===0||F===3?i.processX(-P,n,!1,!0):i.processX(P,n,!0);else{var L=P*.5;F===0?g?(C.processX(P,0,!0),i.processX(0,null,!1,!0)):p?(C.processX(L,0,!0),i.processX(-L,0,!1,!0)):(C.processX(L,i.velocity.x,!0),i.processX(-L,null,!1,!0)):F===1?u?(C.processX(0,null,!1,!0),i.processX(P,0,!0)):c?(C.processX(-L,0,!1,!0),i.processX(L,0,!0)):(C.processX(-L,null,!1,!0),i.processX(L,C.velocity.x,!0)):F===2?g?(C.processX(-P,0,!1,!0),i.processX(0,null,!0)):v?(C.processX(-L,0,!1,!0),i.processX(L,0,!0)):(C.processX(-L,i.velocity.x,!1,!0),i.processX(L,null,!0)):F===3&&(u?(C.processX(0,null,!0),i.processX(-P,0,!1,!0)):d?(C.processX(L,0,!0),i.processX(-L,0,!1,!0)):(C.processX(L,i.velocity.y,!0),i.processX(-L,null,!1,!0)))}return!0},A=function(F){if(F===1?i.velocity.x=0:m?i.processX(P,n,!0):i.processX(-P,n,!1,!0),C.moves){var L=C.directControl?C.y-C.autoFrame.y:C.y-C.prev.y;i.y+=L*C.friction.y,i._dy=i.y-i.prev.y}},O=function(F){if(F===2?C.velocity.x=0:T?C.processX(P,a,!0):C.processX(-P,a,!1,!0),i.moves){var L=i.directControl?i.y-i.autoFrame.y:i.y-i.prev.y;C.y+=L*i.friction.y,C._dy=C.y-C.prev.y}};r.exports={BlockCheck:M,Check:w,Set:E,Run:R,RunImmovableBody1:A,RunImmovableBody2:O}},47962:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C,i,h,x,f,l,a,n,d,c,u,v,p,g,m,T,P,E=function(F,L,b){C=F,i=L;var D=C.velocity.y,I=i.velocity.y;return h=C.pushable,d=C._dy<0,c=C._dy>0,u=C._dy===0,m=Math.abs(C.bottom-i.y)<=Math.abs(i.bottom-C.y),a=I-D*C.bounce.y,x=i.pushable,v=i._dy<0,p=i._dy>0,g=i._dy===0,T=!m,n=D-I*i.bounce.y,P=Math.abs(b),M()},M=function(){return c&&m&&i.blocked.down?(C.processY(-P,a,!1,!0),1):d&&T&&i.blocked.up?(C.processY(P,a,!0),1):p&&T&&C.blocked.down?(i.processY(-P,n,!1,!0),2):v&&m&&C.blocked.up?(i.processY(P,n,!0),2):0},w=function(){var F=C.velocity.y,L=i.velocity.y,b=Math.sqrt(L*L*i.mass/C.mass)*(L>0?1:-1),D=Math.sqrt(F*F*C.mass/i.mass)*(F>0?1:-1),I=(b+D)*.5;return b-=I,D-=I,f=I+b*C.bounce.y,l=I+D*i.bounce.y,d&&T?R(0):v&&m?R(1):c&&m?R(2):p&&T?R(3):!1},R=function(F){if(h&&x)P*=.5,F===0||F===3?(C.processY(P,f),i.processY(-P,l)):(C.processY(-P,f),i.processY(P,l));else if(h&&!x)F===0||F===3?C.processY(P,a,!0):C.processY(-P,a,!1,!0);else if(!h&&x)F===0||F===3?i.processY(-P,n,!1,!0):i.processY(P,n,!0);else{var L=P*.5;F===0?g?(C.processY(P,0,!0),i.processY(0,null,!1,!0)):p?(C.processY(L,0,!0),i.processY(-L,0,!1,!0)):(C.processY(L,i.velocity.y,!0),i.processY(-L,null,!1,!0)):F===1?u?(C.processY(0,null,!1,!0),i.processY(P,0,!0)):c?(C.processY(-L,0,!1,!0),i.processY(L,0,!0)):(C.processY(-L,null,!1,!0),i.processY(L,C.velocity.y,!0)):F===2?g?(C.processY(-P,0,!1,!0),i.processY(0,null,!0)):v?(C.processY(-L,0,!1,!0),i.processY(L,0,!0)):(C.processY(-L,i.velocity.y,!1,!0),i.processY(L,null,!0)):F===3&&(u?(C.processY(0,null,!0),i.processY(-P,0,!1,!0)):d?(C.processY(L,0,!0),i.processY(-L,0,!1,!0)):(C.processY(L,i.velocity.y,!0),i.processY(-L,null,!1,!0)))}return!0},A=function(F){if(F===1?i.velocity.y=0:m?i.processY(P,n,!0):i.processY(-P,n,!1,!0),C.moves){var L=C.directControl?C.x-C.autoFrame.x:C.x-C.prev.x;i.x+=L*C.friction.x,i._dx=i.x-i.prev.x}},O=function(F){if(F===2?C.velocity.y=0:T?C.processY(P,a,!0):C.processY(-P,a,!1,!0),i.moves){var L=i.directControl?i.x-i.autoFrame.x:i.x-i.prev.x;C.x+=L*i.friction.x,C._dx=C.x-C.prev.x}};r.exports={BlockCheck:M,Check:w,Set:E,Run:R,RunImmovableBody1:A,RunImmovableBody2:O}},14087:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(64897),x=i(3017),f=function(l,a,n,d,c){c===void 0&&(c=h(l,a,n,d));var u=l.immovable,v=a.immovable;if(n||c===0||u&&v||l.customSeparateX||a.customSeparateX)return c!==0||l.embedded&&a.embedded;var p=x.Set(l,a,c);return!u&&!v?p>0?!0:x.Check():(u?x.RunImmovableBody1(p):v&&x.RunImmovableBody2(p),!0)};r.exports=f},89936:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45170),x=i(47962),f=function(l,a,n,d,c){c===void 0&&(c=h(l,a,n,d));var u=l.immovable,v=a.immovable;if(n||c===0||u&&v||l.customSeparateY||a.customSeparateY)return c!==0||l.embedded&&a.embedded;var p=x.Set(l,a,c);return!u&&!v?p>0?!0:x.Check():(u?x.RunImmovableBody1(p):v&&x.RunImmovableBody2(p),!0)};r.exports=f},95829:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===void 0&&(h={}),h.none=i,h.up=!1,h.down=!1,h.left=!1,h.right=!1,i||(h.up=!0,h.down=!0,h.left=!0,h.right=!0),h};r.exports=C},72624:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87902),x=i(83419),f=i(78389),l=i(37747),a=i(37303),n=i(95829),d=i(26099),c=new x({Mixins:[f],initialize:function(v,p){var g=64,m=64,T={x:0,y:0,angle:0,rotation:0,scaleX:1,scaleY:1,displayOriginX:0,displayOriginY:0},P=p!==void 0;P&&p.displayWidth&&(g=p.displayWidth,m=p.displayHeight),P||(p=T),this.world=v,this.gameObject=P?p:void 0,this.isBody=!0,this.debugShowBody=v.defaults.debugShowStaticBody,this.debugBodyColor=v.defaults.staticBodyDebugColor,this.enable=!0,this.isCircle=!1,this.radius=0,this.offset=new d,this.position=new d(p.x-g*p.originX,p.y-m*p.originY),this.width=g,this.height=m,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center=new d(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.velocity=d.ZERO,this.allowGravity=!1,this.gravity=d.ZERO,this.bounce=d.ZERO,this.onWorldBounds=!1,this.onCollide=!1,this.onOverlap=!1,this.mass=1,this.immovable=!0,this.pushable=!1,this.customSeparateX=!1,this.customSeparateY=!1,this.overlapX=0,this.overlapY=0,this.overlapR=0,this.embedded=!1,this.collideWorldBounds=!1,this.checkCollision=n(!1),this.touching=n(!0),this.wasTouching=n(!0),this.blocked=n(!0),this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,this._dx=0,this._dy=0},setGameObject:function(u,v,p){if(v===void 0&&(v=!0),p===void 0&&(p=!0),!u||!u.hasTransformComponent)return this;var g=this.world;return this.gameObject&&this.gameObject.body&&(g.disable(this.gameObject),this.gameObject.body=null),u.body&&g.disable(u),this.gameObject=u,u.body=this,this.setSize(),v&&this.updateFromGameObject(),this.enable=p,this},updateFromGameObject:function(){this.world.staticTree.remove(this);var u=this.gameObject;return u.getTopLeft(this.position),this.width=u.displayWidth,this.height=u.displayHeight,this.halfWidth=Math.abs(this.width/2),this.halfHeight=Math.abs(this.height/2),this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight),this.world.staticTree.insert(this),this},setOffset:function(u,v){return v===void 0&&(v=u),this.world.staticTree.remove(this),this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(u,v),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this),this},setSize:function(u,v,p){p===void 0&&(p=!0);var g=this.gameObject;if(g&&g.frame&&(u||(u=g.frame.realWidth),v||(v=g.frame.realHeight)),this.world.staticTree.remove(this),this.width=u,this.height=v,this.halfWidth=Math.floor(u/2),this.halfHeight=Math.floor(v/2),p&&g&&g.getCenter){var m=g.displayWidth/2,T=g.displayHeight/2;this.position.x-=this.offset.x,this.position.y-=this.offset.y,this.offset.set(m-this.halfWidth,T-this.halfHeight),this.position.x+=this.offset.x,this.position.y+=this.offset.y}return this.updateCenter(),this.isCircle=!1,this.radius=0,this.world.staticTree.insert(this),this},setCircle:function(u,v,p){return v===void 0&&(v=this.offset.x),p===void 0&&(p=this.offset.y),u>0?(this.world.staticTree.remove(this),this.isCircle=!0,this.radius=u,this.width=u*2,this.height=u*2,this.halfWidth=Math.floor(this.width/2),this.halfHeight=Math.floor(this.height/2),this.offset.set(v,p),this.updateCenter(),this.world.staticTree.insert(this)):this.isCircle=!1,this},updateCenter:function(){this.center.set(this.position.x+this.halfWidth,this.position.y+this.halfHeight)},reset:function(u,v){var p=this.gameObject;u===void 0&&(u=p.x),v===void 0&&(v=p.y),this.world.staticTree.remove(this),p.setPosition(u,v),p.getTopLeft(this.position),this.position.x+=this.offset.x,this.position.y+=this.offset.y,this.updateCenter(),this.world.staticTree.insert(this)},stop:function(){return this},getBounds:function(u){return u.x=this.x,u.y=this.y,u.right=this.right,u.bottom=this.bottom,u},hitTest:function(u,v){return this.isCircle?h(this,u,v):a(this,u,v)},postUpdate:function(){},deltaAbsX:function(){return 0},deltaAbsY:function(){return 0},deltaX:function(){return 0},deltaY:function(){return 0},deltaZ:function(){return 0},destroy:function(){this.enable=!1,this.world.pendingDestroy.set(this)},drawDebug:function(u){var v=this.position,p=v.x+this.halfWidth,g=v.y+this.halfHeight;this.debugShowBody&&(u.lineStyle(u.defaultStrokeWidth,this.debugBodyColor,1),this.isCircle?u.strokeCircle(p,g,this.width/2):u.strokeRect(v.x,v.y,this.width,this.height))},willDrawDebug:function(){return this.debugShowBody},setMass:function(u){return u<=0&&(u=.1),this.mass=u,this},x:{get:function(){return this.position.x},set:function(u){this.world.staticTree.remove(this),this.position.x=u,this.world.staticTree.insert(this)}},y:{get:function(){return this.position.y},set:function(u){this.world.staticTree.remove(this),this.position.y=u,this.world.staticTree.insert(this)}},left:{get:function(){return this.position.x}},right:{get:function(){return this.position.x+this.width}},top:{get:function(){return this.position.y}},bottom:{get:function(){return this.position.y+this.height}}});r.exports=c},71464:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13759),x=i(83419),f=i(78389),l=i(37747),a=i(95540),n=i(26479),d=i(41212),c=new x({Extends:n,Mixins:[f],initialize:function(v,p,g,m){!g&&!m?m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler,createMultipleCallback:this.createMultipleCallbackHandler,classType:h}:d(g)?(m=g,g=null,m.internalCreateCallback=this.createCallbackHandler,m.internalRemoveCallback=this.removeCallbackHandler,m.createMultipleCallback=this.createMultipleCallbackHandler,m.classType=a(m,"classType",h)):Array.isArray(g)&&d(g[0])?(m=g,g=null,m.forEach(function(T){T.internalCreateCallback=this.createCallbackHandler,T.internalRemoveCallback=this.removeCallbackHandler,T.createMultipleCallback=this.createMultipleCallbackHandler,T.classType=a(T,"classType",h)})):m={internalCreateCallback:this.createCallbackHandler,internalRemoveCallback:this.removeCallbackHandler},this.world=v,this.physicsType=l.STATIC_BODY,this.collisionCategory=1,this.collisionMask=1,n.call(this,p,g,m),this.type="StaticPhysicsGroup"},createCallbackHandler:function(u){u.body||this.world.enableBody(u,l.STATIC_BODY)},removeCallbackHandler:function(u){u.body&&this.world.disableBody(u)},createMultipleCallbackHandler:function(){this.refresh()},refresh:function(){for(var u=this.children.entries,v=0;v<u.length;v++)u[v].body.reset();return this}});r.exports=c},82248:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(55495),x=i(37742),f=i(45319),l=i(83419),a=i(79342),n=i(37747),d=i(20339),c=i(52816),u=i(50792),v=i(63012),p=i(43855),g=i(5470),m=i(94977),T=i(64897),P=i(45170),E=i(96523),M=i(35154),w=i(36383),R=i(25774),A=i(96602),O=i(87841),F=i(59542),L=i(40012),b=i(14087),D=i(89936),I=i(35072),k=i(72624),X=i(2483),W=i(61340),Y=i(26099),N=i(15994),V=new l({Extends:u,initialize:function(B,z){u.call(this),this.scene=B,this.bodies=new I,this.staticBodies=new I,this.pendingDestroy=new I,this.colliders=new R,this.gravity=new Y(M(z,"gravity.x",0),M(z,"gravity.y",0)),this.bounds=new O(M(z,"x",0),M(z,"y",0),M(z,"width",B.sys.scale.width),M(z,"height",B.sys.scale.height)),this.checkCollision={up:M(z,"checkCollision.up",!0),down:M(z,"checkCollision.down",!0),left:M(z,"checkCollision.left",!0),right:M(z,"checkCollision.right",!0)},this.fps=M(z,"fps",60),this.fixedStep=M(z,"fixedStep",!0),this._elapsed=0,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this.stepsLastFrame=0,this.timeScale=M(z,"timeScale",1),this.OVERLAP_BIAS=M(z,"overlapBias",4),this.TILE_BIAS=M(z,"tileBias",16),this.forceX=M(z,"forceX",!1),this.isPaused=M(z,"isPaused",!1),this._total=0,this.drawDebug=M(z,"debug",!1),this.debugGraphic,this.defaults={debugShowBody:M(z,"debugShowBody",!0),debugShowStaticBody:M(z,"debugShowStaticBody",!0),debugShowVelocity:M(z,"debugShowVelocity",!0),bodyDebugColor:M(z,"debugBodyColor",16711935),staticBodyDebugColor:M(z,"debugStaticBodyColor",255),velocityDebugColor:M(z,"debugVelocityColor",65280)},this.maxEntries=M(z,"maxEntries",16),this.useTree=M(z,"useTree",!0),this.tree=new F(this.maxEntries),this.staticTree=new F(this.maxEntries),this.treeMinMax={minX:0,minY:0,maxX:0,maxY:0},this._tempMatrix=new W,this._tempMatrix2=new W,this.tileFilterOptions={isColliding:!0,isNotEmpty:!0,hasInterestingFace:!0},this.drawDebug&&this.createDebugGraphic()},enable:function(G,B){B===void 0&&(B=n.DYNAMIC_BODY),Array.isArray(G)||(G=[G]);for(var z=0;z<G.length;z++){var U=G[z];if(U.isParent)for(var H=U.getChildren(),$=0;$<H.length;$++){var K=H[$];K.isParent?this.enable(K,B):this.enableBody(K,B)}else this.enableBody(U,B)}},enableBody:function(G,B){return B===void 0&&(B=n.DYNAMIC_BODY),G.hasTransformComponent&&(G.body||(B===n.DYNAMIC_BODY?G.body=new x(this,G):B===n.STATIC_BODY&&(G.body=new k(this,G))),this.add(G.body)),G},add:function(G){return G.physicsType===n.DYNAMIC_BODY?this.bodies.set(G):G.physicsType===n.STATIC_BODY&&(this.staticBodies.set(G),this.staticTree.insert(G)),G.enable=!0,G},disable:function(G){Array.isArray(G)||(G=[G]);for(var B=0;B<G.length;B++){var z=G[B];if(z.isParent)for(var U=z.getChildren(),H=0;H<U.length;H++){var $=U[H];$.isParent?this.disable($):this.disableBody($.body)}else this.disableBody(z.body)}},disableBody:function(G){this.remove(G),G.enable=!1},remove:function(G){G.physicsType===n.DYNAMIC_BODY?(this.tree.remove(G),this.bodies.delete(G)):G.physicsType===n.STATIC_BODY&&(this.staticBodies.delete(G),this.staticTree.remove(G))},createDebugGraphic:function(){var G=this.scene.sys.add.graphics({x:0,y:0});return G.setDepth(Number.MAX_VALUE),this.debugGraphic=G,this.drawDebug=!0,G},setBounds:function(G,B,z,U,H,$,K,Z){return this.bounds.setTo(G,B,z,U),H!==void 0&&this.setBoundsCollision(H,$,K,Z),this},setBoundsCollision:function(G,B,z,U){return G===void 0&&(G=!0),B===void 0&&(B=!0),z===void 0&&(z=!0),U===void 0&&(U=!0),this.checkCollision.left=G,this.checkCollision.right=B,this.checkCollision.up=z,this.checkCollision.down=U,this},pause:function(){return this.isPaused=!0,this.emit(v.PAUSE),this},resume:function(){return this.isPaused=!1,this.emit(v.RESUME),this},addCollider:function(G,B,z,U,H){z===void 0&&(z=null),U===void 0&&(U=null),H===void 0&&(H=z);var $=new a(this,!1,G,B,z,U,H);return this.colliders.add($),$},addOverlap:function(G,B,z,U,H){z===void 0&&(z=null),U===void 0&&(U=null),H===void 0&&(H=z);var $=new a(this,!0,G,B,z,U,H);return this.colliders.add($),$},removeCollider:function(G){return this.colliders.remove(G),this},setFPS:function(G){return this.fps=G,this._frameTime=1/this.fps,this._frameTimeMS=1e3*this._frameTime,this},update:function(G,B){if(!(this.isPaused||this.bodies.size===0)){var z,U=this._frameTime,H=this._frameTimeMS*this.timeScale;this._elapsed+=B;var $,K=this.bodies.entries,Z=this._elapsed>=H;for(this.fixedStep||(U=B*.001,Z=!0,this._elapsed=0),z=0;z<K.length;z++)$=K[z],$.enable&&$.preUpdate(Z,U);if(Z){this._elapsed-=H,this.stepsLastFrame=1,this.useTree&&(this.tree.clear(),this.tree.load(K));var J=this.colliders.update();for(z=0;z<J.length;z++){var Q=J[z];Q.active&&Q.update()}this.emit(v.WORLD_STEP,U)}for(;this._elapsed>=H;)this._elapsed-=H,this.step(U)}},step:function(G){var B,z,U=this.bodies.entries,H=U.length;for(B=0;B<H;B++)z=U[B],z.enable&&z.update(G);this.useTree&&(this.tree.clear(),this.tree.load(U));var $=this.colliders.update();for(B=0;B<$.length;B++){var K=$[B];K.active&&K.update()}this.emit(v.WORLD_STEP,G),this.stepsLastFrame++},singleStep:function(){this.update(0,this._frameTimeMS),this.postUpdate()},postUpdate:function(){var G,B,z=this.bodies.entries,U=z.length,H=this.bodies,$=this.staticBodies;if(this.stepsLastFrame)for(this.stepsLastFrame=0,G=0;G<U;G++)B=z[G],B.enable&&B.postUpdate();if(this.drawDebug){var K=this.debugGraphic;for(K.clear(),G=0;G<U;G++)B=z[G],B.willDrawDebug()&&B.drawDebug(K);for(z=$.entries,U=z.length,G=0;G<U;G++)B=z[G],B.willDrawDebug()&&B.drawDebug(K)}var Z=this.pendingDestroy;if(Z.size>0){var J=this.tree,Q=this.staticTree;for(z=Z.entries,U=z.length,G=0;G<U;G++)B=z[G],B.physicsType===n.DYNAMIC_BODY?(J.remove(B),H.delete(B)):B.physicsType===n.STATIC_BODY&&(Q.remove(B),$.delete(B)),B.world=void 0,B.gameObject=void 0;Z.clear()}},updateMotion:function(G,B){G.allowRotation&&this.computeAngularVelocity(G,B),this.computeVelocity(G,B)},computeAngularVelocity:function(G,B){var z=G.angularVelocity,U=G.angularAcceleration,H=G.angularDrag,$=G.maxAngular;U?z+=U*B:G.allowDrag&&H&&(H*=B,g(z-H,0,.1)?z-=H:m(z+H,0,.1)?z+=H:z=0),z=f(z,-$,$);var K=z-G.angularVelocity;G.angularVelocity+=K,G.rotation+=G.angularVelocity*B},computeVelocity:function(G,B){var z=G.velocity.x,U=G.acceleration.x,H=G.drag.x,$=G.maxVelocity.x,K=G.velocity.y,Z=G.acceleration.y,J=G.drag.y,Q=G.maxVelocity.y,j=G.speed,tt=G.maxSpeed,it=G.allowDrag,q=G.useDamping;G.allowGravity&&(z+=(this.gravity.x+G.gravity.x)*B,K+=(this.gravity.y+G.gravity.y)*B),U?z+=U*B:it&&H&&(q?(H=Math.pow(H,B),z*=H,j=Math.sqrt(z*z+K*K),p(j,0,.001)&&(z=0)):(H*=B,g(z-H,0,.01)?z-=H:m(z+H,0,.01)?z+=H:z=0)),Z?K+=Z*B:it&&J&&(q?(J=Math.pow(J,B),K*=J,j=Math.sqrt(z*z+K*K),p(j,0,.001)&&(K=0)):(J*=B,g(K-J,0,.01)?K-=J:m(K+J,0,.01)?K+=J:K=0)),z=f(z,-$,$),K=f(K,-Q,Q),G.velocity.set(z,K),tt>-1&&G.velocity.length()>tt&&(G.velocity.normalize().scale(tt),j=tt),G.speed=j},separate:function(G,B,z,U,H){var $,K,Z=!1,J=!0;if(!G.enable||!B.enable||G.checkCollision.none||B.checkCollision.none||!this.intersects(G,B)||z&&z.call(U,G.gameObject||G,B.gameObject||B)===!1)return Z;if(G.isCircle||B.isCircle){var Q=this.separateCircle(G,B,H);Q.result?(Z=!0,J=!1):($=Q.x,K=Q.y,J=!0)}if(J){var j=!1,tt=!1,it=this.OVERLAP_BIAS;H?(j=b(G,B,H,it,$),tt=D(G,B,H,it,K)):this.forceX||Math.abs(this.gravity.y+G.gravity.y)<Math.abs(this.gravity.x+G.gravity.x)?(j=b(G,B,H,it,$),this.intersects(G,B)&&(tt=D(G,B,H,it,K))):(tt=D(G,B,H,it,K),this.intersects(G,B)&&(j=b(G,B,H,it,$))),Z=j||tt}return Z&&(H?(G.onOverlap||B.onOverlap)&&this.emit(v.OVERLAP,G.gameObject,B.gameObject,G,B):(G.onCollide||B.onCollide)&&this.emit(v.COLLIDE,G.gameObject,B.gameObject,G,B)),Z},separateCircle:function(G,B,z){T(G,B,!1,0),P(G,B,!1,0);var U=G.isCircle,H=B.isCircle,$=G.center,K=B.center,Z=G.immovable,J=B.immovable,Q=G.velocity,j=B.velocity,tt=0,it=!0;if(U!==H){it=!1;var q=$.x,ht=$.y,ot=G.halfWidth,lt=B.position.x,_=B.position.y,nt=B.right,at=B.bottom;H&&(q=K.x,ht=K.y,ot=B.halfWidth,lt=G.position.x,_=G.position.y,nt=G.right,at=G.bottom),ht<_?q<lt?tt=d(q,ht,lt,_)-ot:q>nt&&(tt=d(q,ht,nt,_)-ot):ht>at&&(q<lt?tt=d(q,ht,lt,at)-ot:q>nt&&(tt=d(q,ht,nt,at)-ot)),tt*=-1}else tt=G.halfWidth+B.halfWidth-c($,K);G.overlapR=tt,B.overlapR=tt;var ct=h($,K),Ct=(tt+w.EPSILON)*Math.cos(ct),Ft=(tt+w.EPSILON)*Math.sin(ct),xt={overlap:tt,result:!1,x:Ct,y:Ft};if(z&&(!it||it&&tt!==0))return xt.result=!0,xt;if(!it&&tt===0||Z&&J||G.customSeparateX||B.customSeparateX)return xt.x=void 0,xt.y=void 0,xt;var St=!G.pushable&&!B.pushable;if(it){var Gt=$.x-K.x,se=$.y-K.y,bt=Math.sqrt(Math.pow(Gt,2)+Math.pow(se,2)),Nt=(K.x-$.x)/bt||0,Ut=(K.y-$.y)/bt||0,ye=2*(Q.x*Nt+Q.y*Ut-j.x*Nt-j.y*Ut)/(G.mass+B.mass);(Z||J||!G.pushable||!B.pushable)&&(ye*=2),!Z&&G.pushable&&(Q.x=Q.x-ye/G.mass*Nt,Q.y=Q.y-ye/G.mass*Ut,Q.multiply(G.bounce)),!J&&B.pushable&&(j.x=j.x+ye/B.mass*Nt,j.y=j.y+ye/B.mass*Ut,j.multiply(B.bounce)),!Z&&!J&&(Ct*=.5,Ft*=.5),(!Z||G.pushable||St)&&(G.x-=Ct,G.y-=Ft,G.updateCenter()),(!J||B.pushable||St)&&(B.x+=Ct,B.y+=Ft,B.updateCenter()),xt.result=!0}else(!Z||G.pushable||St)&&(G.x-=Ct,G.y-=Ft,G.updateCenter()),(!J||B.pushable||St)&&(B.x+=Ct,B.y+=Ft,B.updateCenter()),xt.x=void 0,xt.y=void 0;return xt},intersects:function(G,B){return G===B?!1:!G.isCircle&&!B.isCircle?!(G.right<=B.left||G.bottom<=B.top||G.left>=B.right||G.top>=B.bottom):G.isCircle?B.isCircle?c(G.center,B.center)<=G.halfWidth+B.halfWidth:this.circleBodyIntersects(G,B):this.circleBodyIntersects(B,G)},circleBodyIntersects:function(G,B){var z=f(G.center.x,B.left,B.right),U=f(G.center.y,B.top,B.bottom),H=(G.center.x-z)*(G.center.x-z),$=(G.center.y-U)*(G.center.y-U);return H+$<=G.halfWidth*G.halfWidth},overlap:function(G,B,z,U,H){return z===void 0&&(z=null),U===void 0&&(U=null),H===void 0&&(H=z),this.collideObjects(G,B,z,U,H,!0)},collide:function(G,B,z,U,H){return z===void 0&&(z=null),U===void 0&&(U=null),H===void 0&&(H=z),this.collideObjects(G,B,z,U,H,!1)},collideObjects:function(G,B,z,U,H,$){var K,Z;G.isParent&&(G.physicsType===void 0||B===void 0||G===B)&&(G=G.children.entries),B&&B.isParent&&B.physicsType===void 0&&(B=B.children.entries);var J=Array.isArray(G),Q=Array.isArray(B);if(this._total=0,!J&&!Q)this.collideHandler(G,B,z,U,H,$);else if(!J&&Q)for(K=0;K<B.length;K++)this.collideHandler(G,B[K],z,U,H,$);else if(J&&!Q)if(B)for(K=0;K<G.length;K++)this.collideHandler(G[K],B,z,U,H,$);else for(K=0;K<G.length;K++){var j=G[K];for(Z=K+1;Z<G.length;Z++)K!==Z&&this.collideHandler(j,G[Z],z,U,H,$)}else for(K=0;K<G.length;K++)for(Z=0;Z<B.length;Z++)this.collideHandler(G[K],B[Z],z,U,H,$);return this._total>0},collideHandler:function(G,B,z,U,H,$){if(B===void 0&&G.isParent)return this.collideGroupVsGroup(G,G,z,U,H,$);if(!G||!B)return!1;if(G.body||G.isBody){if(B.body||B.isBody)return this.collideSpriteVsSprite(G,B,z,U,H,$);if(B.isParent)return this.collideSpriteVsGroup(G,B,z,U,H,$);if(B.isTilemap)return this.collideSpriteVsTilemapLayer(G,B,z,U,H,$)}else if(G.isParent){if(B.body||B.isBody)return this.collideSpriteVsGroup(B,G,z,U,H,$);if(B.isParent)return this.collideGroupVsGroup(G,B,z,U,H,$);if(B.isTilemap)return this.collideGroupVsTilemapLayer(G,B,z,U,H,$)}else if(G.isTilemap){if(B.body||B.isBody)return this.collideSpriteVsTilemapLayer(B,G,z,U,H,$);if(B.isParent)return this.collideGroupVsTilemapLayer(B,G,z,U,H,$)}},canCollide:function(G,B){return G&&B&&(G.collisionMask&B.collisionCategory)!==0&&(B.collisionMask&G.collisionCategory)!==0},collideSpriteVsSprite:function(G,B,z,U,H,$){var K=G.isBody?G:G.body,Z=B.isBody?B:B.body;return this.canCollide(K,Z)?(this.separate(K,Z,U,H,$)&&(z&&z.call(H,G,B),this._total++),!0):!1},collideSpriteVsGroup:function(G,B,z,U,H,$){var K=G.isBody?G:G.body;if(!(B.getLength()===0||!K||!K.enable||K.checkCollision.none||!this.canCollide(K,B))){var Z,J,Q;if(this.useTree||B.physicsType===n.STATIC_BODY){var j=this.treeMinMax;j.minX=K.left,j.minY=K.top,j.maxX=K.right,j.maxY=K.bottom;var tt=B.physicsType===n.DYNAMIC_BODY?this.tree.search(j):this.staticTree.search(j);for(J=tt.length,Z=0;Z<J;Z++)Q=tt[Z],!(K===Q||!Q.enable||Q.checkCollision.none||!B.contains(Q.gameObject))&&this.separate(K,Q,U,H,$)&&(z&&z.call(H,K.gameObject,Q.gameObject),this._total++)}else{var it=B.getChildren(),q=B.children.entries.indexOf(G);for(J=it.length,Z=0;Z<J;Z++)Q=it[Z].body,!(!Q||Z===q||!Q.enable)&&this.separate(K,Q,U,H,$)&&(z&&z.call(H,K.gameObject,Q.gameObject),this._total++)}}},collideGroupVsTilemapLayer:function(G,B,z,U,H,$){if(!this.canCollide(G,B))return!1;var K=G.getChildren();if(K.length===0)return!1;for(var Z=!1,J=0;J<K.length;J++)(K[J].body||K[J].isBody)&&this.collideSpriteVsTilemapLayer(K[J],B,z,U,H,$)&&(Z=!0);return Z},collideTiles:function(G,B,z,U,H){return B.length===0||G.body&&!G.body.enable||G.isBody&&!G.enable?!1:this.collideSpriteVsTilesHandler(G,B,z,U,H,!1,!1)},overlapTiles:function(G,B,z,U,H){return B.length===0||G.body&&!G.body.enable||G.isBody&&!G.enable?!1:this.collideSpriteVsTilesHandler(G,B,z,U,H,!0,!1)},collideSpriteVsTilemapLayer:function(G,B,z,U,H,$){var K=G.isBody?G:G.body;if(!K.enable||K.checkCollision.none||!this.canCollide(K,B))return!1;var Z=B.layer,J=K.x-Z.tileWidth*B.scaleX,Q=K.y-Z.tileHeight*B.scaleY,j=K.width+Z.tileWidth*B.scaleX,tt=K.height+Z.tileHeight*B.scaleY,it=$?null:this.tileFilterOptions,q=E(J,Q,j,tt,it,B.scene.cameras.main,B.layer);return q.length===0?!1:this.collideSpriteVsTilesHandler(G,q,z,U,H,$,!0)},collideSpriteVsTilesHandler:function(G,B,z,U,H,$,K){for(var Z=G.isBody?G:G.body,J,Q={left:0,right:0,top:0,bottom:0},j,tt=!1,it=0;it<B.length;it++){J=B[it],j=J.tilemapLayer;var q=j.tileToWorldXY(J.x,J.y);Q.left=q.x,Q.top=q.y,Q.right=Q.left+J.width*j.scaleX,Q.bottom=Q.top+J.height*j.scaleY,X(Q,Z)&&(!U||U.call(H,G,J))&&A(J,G)&&($||L(it,Z,J,Q,j,this.TILE_BIAS,K))&&(this._total++,tt=!0,z&&z.call(H,G,J),$&&Z.onOverlap?this.emit(v.TILE_OVERLAP,G,J,Z):Z.onCollide&&this.emit(v.TILE_COLLIDE,G,J,Z))}return tt},collideGroupVsGroup:function(G,B,z,U,H,$){if(!(G.getLength()===0||B.getLength()===0||!this.canCollide(G,B)))for(var K=G.getChildren(),Z=0;Z<K.length;Z++)this.collideSpriteVsGroup(K[Z],B,z,U,H,$)},wrap:function(G,B){G.body?this.wrapObject(G,B):G.getChildren?this.wrapArray(G.getChildren(),B):Array.isArray(G)?this.wrapArray(G,B):this.wrapObject(G,B)},wrapArray:function(G,B){for(var z=0;z<G.length;z++)this.wrapObject(G[z],B)},wrapObject:function(G,B){B===void 0&&(B=0),G.x=N(G.x,this.bounds.left-B,this.bounds.right+B),G.y=N(G.y,this.bounds.top-B,this.bounds.bottom+B)},shutdown:function(){this.tree.clear(),this.staticTree.clear(),this.bodies.clear(),this.staticBodies.clear(),this.colliders.destroy(),this.removeAllListeners()},destroy:function(){this.shutdown(),this.scene=null,this.debugGraphic&&(this.debugGraphic.destroy(),this.debugGraphic=null)}});r.exports=V},1093:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAcceleration:function(i,h){return this.body.acceleration.set(i,h),this},setAccelerationX:function(i){return this.body.acceleration.x=i,this},setAccelerationY:function(i){return this.body.acceleration.y=i,this}};r.exports=C},59023:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setAngularVelocity:function(i){return this.body.angularVelocity=i,this},setAngularAcceleration:function(i){return this.body.angularAcceleration=i,this},setAngularDrag:function(i){return this.body.angularDrag=i,this}};r.exports=C},62069:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(i,h){return this.body.bounce.set(i,h),this},setBounceX:function(i){return this.body.bounce.x=i,this},setBounceY:function(i){return this.body.bounce.y=i,this},setCollideWorldBounds:function(i,h,x,f){return this.body.setCollideWorldBounds(i,h,x,f),this}};r.exports=C},78389:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79599),x={setCollisionCategory:function(f){var l=this.body?this.body:this;return l.collisionCategory=f,this},willCollideWith:function(f){var l=this.body?this.body:this;return(l.collisionMask&f)!==0},addCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask|f,this},removeCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=l.collisionMask&~f,this},setCollidesWith:function(f){var l=this.body?this.body:this;return l.collisionMask=h(f),this},resetCollisionCategory:function(){var f=this.body?this.body:this;return f.collisionCategory=1,f.collisionMask=2147483647,this}};r.exports=x},87118:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDebug:function(i,h,x){return this.debugShowBody=i,this.debugShowVelocity=h,this.debugBodyColor=x,this},setDebugBodyColor:function(i){return this.body.debugBodyColor=i,this},debugShowBody:{get:function(){return this.body.debugShowBody},set:function(i){this.body.debugShowBody=i}},debugShowVelocity:{get:function(){return this.body.debugShowVelocity},set:function(i){this.body.debugShowVelocity=i}},debugBodyColor:{get:function(){return this.body.debugBodyColor},set:function(i){this.body.debugBodyColor=i}}};r.exports=C},52819:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDrag:function(i,h){return this.body.drag.set(i,h),this},setDragX:function(i){return this.body.drag.x=i,this},setDragY:function(i){return this.body.drag.y=i,this},setDamping:function(i){return this.body.useDamping=i,this}};r.exports=C},4074:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setDirectControl:function(i){return this.body.setDirectControl(i),this},enableBody:function(i,h,x,f,l){return i&&this.body.reset(h,x),f&&(this.body.gameObject.active=!0),l&&(this.body.gameObject.visible=!0),this.body.enable=!0,this},disableBody:function(i,h){return i===void 0&&(i=!1),h===void 0&&(h=!1),this.body.stop(),this.body.enable=!1,i&&(this.body.gameObject.active=!1),h&&(this.body.gameObject.visible=!1),this},refreshBody:function(){return this.body.updateFromGameObject(),this}};r.exports=C},40831:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(i,h){return this.body.friction.set(i,h),this},setFrictionX:function(i){return this.body.friction.x=i,this},setFrictionY:function(i){return this.body.friction.y=i,this}};r.exports=C},26775:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setGravity:function(i,h){return this.body.gravity.set(i,h),this},setGravityX:function(i){return this.body.gravity.x=i,this},setGravityY:function(i){return this.body.gravity.y=i,this}};r.exports=C},9437:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setImmovable:function(i){return i===void 0&&(i=!0),this.body.immovable=i,this}};r.exports=C},30621:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setMass:function(i){return this.body.mass=i,this}};r.exports=C},72441:(r,C,i)=>{var h=i(47956),x=i(96503),f=i(2044),l=i(81491),a=function(n,d,c,u,v,p){var g=h(n,d-u,c-u,2*u,2*u,v,p);if(g.length===0)return g;for(var m=new x(d,c,u),T=new x,P=[],E=0;E<g.length;E++){var M=g[E];M.isCircle?(T.setTo(M.center.x,M.center.y,M.halfWidth),f(m,T)&&P.push(M)):l(m,M)&&P.push(M)}return P};r.exports=a},47956:r=>{var C=function(i,h,x,f,l,a,n){a===void 0&&(a=!0),n===void 0&&(n=!1);var d=[],c=[],u=i.treeMinMax;if(u.minX=h,u.minY=x,u.maxX=h+f,u.maxY=x+l,n&&(c=i.staticTree.search(u)),a&&i.useTree)d=i.tree.search(u);else if(a){var v=i.bodies,p={position:{x:h,y:x},left:h,top:x,right:h+f,bottom:x+l,isCircle:!1},g=i.intersects;v.iterate(function(m){g(m,p)&&d.push(m)})}return c.concat(d)};r.exports=C},62121:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setPushable:function(i){return i===void 0&&(i=!0),this.body.pushable=i,this}};r.exports=C},29384:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setOffset:function(i,h){return this.body.setOffset(i,h),this},setSize:function(i,h,x){return this.body.setSize(i,h,x),this},setBodySize:function(i,h,x){return this.body.setSize(i,h,x),this},setCircle:function(i,h,x){return this.body.setCircle(i,h,x),this}};r.exports=C},15098:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setVelocity:function(i,h){return this.body.setVelocity(i,h),this},setVelocityX:function(i){return this.body.setVelocityX(i),this},setVelocityY:function(i){return this.body.setVelocityY(i),this},setMaxVelocity:function(i,h){return this.body.maxVelocity.set(i,h),this}};r.exports=C},92209:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Acceleration:i(1093),Angular:i(59023),Bounce:i(62069),Collision:i(78389),Debug:i(87118),Drag:i(52819),Enable:i(4074),Friction:i(40831),Gravity:i(26775),Immovable:i(9437),Mass:i(30621),OverlapCirc:i(72441),OverlapRect:i(47956),Pushable:i(62121),Size:i(29384),Velocity:i(15098)}},37747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DYNAMIC_BODY:0,STATIC_BODY:1,GROUP:2,TILEMAPLAYER:3,FACING_NONE:10,FACING_UP:11,FACING_DOWN:12,FACING_LEFT:13,FACING_RIGHT:14};r.exports=C},20009:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collide"},36768:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="overlap"},60473:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},89954:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},61804:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tilecollide"},7161:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="tileoverlap"},34689:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldbounds"},16006:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="worldstep"},63012:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COLLIDE:i(20009),OVERLAP:i(36768),PAUSE:i(60473),RESUME:i(89954),TILE_COLLIDE:i(61804),TILE_OVERLAP:i(7161),WORLD_BOUNDS:i(34689),WORLD_STEP:i(16006)}},27064:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37747),x=i(79291),f={ArcadePhysics:i(86689),Body:i(37742),Collider:i(79342),Components:i(92209),Events:i(63012),Factory:i(66022),GetCollidesWith:i(79599),GetOverlapX:i(64897),GetOverlapY:i(45170),SeparateX:i(14087),SeparateY:i(89936),Group:i(60758),Image:i(71289),Sprite:i(13759),StaticBody:i(72624),StaticGroup:i(71464),Tilemap:i(55173),World:i(82248)};f=x(!1,f,h),r.exports=f},96602:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.collisionCallback?!i.collisionCallback.call(i.collisionCallbackContext,h,i):i.layer.callbacks[i.index]?!i.layer.callbacks[i.index].callback.call(i.layer.callbacks[i.index].callbackContext,h,i):!0};r.exports=C},36294:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h<0?(i.blocked.none=!1,i.blocked.left=!0):h>0&&(i.blocked.none=!1,i.blocked.right=!0),i.position.x-=h,i.updateCenter(),i.bounce.x===0?i.velocity.x=0:i.velocity.x=-i.velocity.x*i.bounce.x};r.exports=C},67013:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h<0?(i.blocked.none=!1,i.blocked.up=!0):h>0&&(i.blocked.none=!1,i.blocked.down=!0),i.position.y-=h,i.updateCenter(),i.bounce.y===0?i.velocity.y=0:i.velocity.y=-i.velocity.y*i.bounce.y};r.exports=C},40012:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(21329),x=i(53442),f=i(2483),l=function(a,n,d,c,u,v,p){var g=c.left,m=c.top,T=c.right,P=c.bottom,E=d.faceLeft||d.faceRight,M=d.faceTop||d.faceBottom;if(p||(E=!0,M=!0),!E&&!M)return!1;var w=0,R=0,A=0,O=1;if(n.deltaAbsX()>n.deltaAbsY()?A=-1:n.deltaAbsX()<n.deltaAbsY()&&(O=-1),n.deltaX()!==0&&n.deltaY()!==0&&E&&M&&(A=Math.min(Math.abs(n.position.x-T),Math.abs(n.right-g)),O=Math.min(Math.abs(n.position.y-P),Math.abs(n.bottom-m))),A<O){if(E&&(w=h(n,d,g,T,v,p),w!==0&&!f(c,n)))return!0;M&&(R=x(n,d,m,P,v,p))}else{if(M&&(R=x(n,d,m,P,v,p),R!==0&&!f(c,n)))return!0;E&&(w=h(n,d,g,T,v,p))}return w!==0||R!==0};r.exports=l},21329:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36294),x=function(f,l,a,n,d,c){var u=0,v=l.faceLeft,p=l.faceRight,g=l.collideLeft,m=l.collideRight;return c||(v=!0,p=!0,g=!0,m=!0),f.deltaX()<0&&m&&f.checkCollision.left?p&&f.x<n&&(u=f.x-n,u<-d&&(u=0)):f.deltaX()>0&&g&&f.checkCollision.right&&v&&f.right>a&&(u=f.right-a,u>d&&(u=0)),u!==0&&(f.customSeparateX?f.overlapX=u:h(f,u)),u};r.exports=x},53442:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(67013),x=function(f,l,a,n,d,c){var u=0,v=l.faceTop,p=l.faceBottom,g=l.collideUp,m=l.collideDown;return c||(v=!0,p=!0,g=!0,m=!0),f.deltaY()<0&&m&&f.checkCollision.up?p&&f.y<n&&(u=f.y-n,u<-d&&(u=0)):f.deltaY()>0&&g&&f.checkCollision.down&&v&&f.bottom>a&&(u=f.bottom-a,u>d&&(u=0)),u!==0&&(f.customSeparateY?f.overlapY=u:h(f,u)),u};r.exports=x},2483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return!(h.right<=i.left||h.bottom<=i.top||h.position.x>=i.right||h.position.y>=i.bottom)};r.exports=C},55173:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ProcessTileCallbacks:i(96602),ProcessTileSeparationX:i(36294),ProcessTileSeparationY:i(67013),SeparateTile:i(40012),TileCheckX:i(21329),TileCheckY:i(53442),TileIntersectsBody:i(2483)};r.exports=h},44563:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Arcade:i(27064),Matter:i(3875)}},68174:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(26099),f=new h({initialize:function(){this.boundsCenter=new x,this.centerDiff=new x},parseBody:function(l){if(l=l.hasOwnProperty("body")?l.body:l,!l.hasOwnProperty("bounds")||!l.hasOwnProperty("centerOfMass"))return!1;var a=this.boundsCenter,n=this.centerDiff,d=l.bounds.max.x-l.bounds.min.x,c=l.bounds.max.y-l.bounds.min.y,u=d*l.centerOfMass.x,v=c*l.centerOfMass.y;return a.set(d/2,c/2),n.set(u-a.x,v-a.y),!0},getTopLeft:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a+d.x+c.x,n+d.y+c.y)}return!1},getTopCenter:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a+c.x,n+d.y+c.y)}return!1},getTopRight:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a-(d.x-c.x),n+d.y+c.y)}return!1},getLeftCenter:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a+d.x+c.x,n+c.y)}return!1},getCenter:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.centerDiff;return new x(a+d.x,n+d.y)}return!1},getRightCenter:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a-(d.x-c.x),n+c.y)}return!1},getBottomLeft:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a+d.x+c.x,n-(d.y-c.y))}return!1},getBottomCenter:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a+c.x,n-(d.y-c.y))}return!1},getBottomRight:function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),this.parseBody(l)){var d=this.boundsCenter,c=this.centerDiff;return new x(a-(d.x-c.x),n-(d.y-c.y))}return!1}});r.exports=f},19933:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6790);h.Body=i(22562),h.Composite=i(69351),h.World=i(4372),h.Collision=i(52284),h.Detector=i(81388),h.Pairs=i(99561),h.Pair=i(4506),h.Query=i(73296),h.Resolver=i(66272),h.Constraint=i(48140),h.Common=i(53402),h.Engine=i(48413),h.Events=i(35810),h.Sleeping=i(53614),h.Plugin=i(73832),h.Bodies=i(66280),h.Composites=i(74116),h.Axes=i(66615),h.Bounds=i(15647),h.Svg=i(74058),h.Vector=i(31725),h.Vertices=i(41598),h.World.add=h.Composite.add,h.World.remove=h.Composite.remove,h.World.addComposite=h.Composite.addComposite,h.World.addBody=h.Composite.addBody,h.World.addConstraint=h.Composite.addConstraint,h.World.clear=h.Composite.clear,r.exports=h},28137:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),x=i(83419),f=i(74116),l=i(48140),a=i(74058),n=i(75803),d=i(23181),c=i(34803),u=i(73834),v=i(19496),p=i(85791),g=i(98713),m=i(41598),T=new x({initialize:function(E){this.world=E,this.scene=E.scene,this.sys=E.scene.sys},rectangle:function(P,E,M,w,R){var A=h.rectangle(P,E,M,w,R);return this.world.add(A),A},trapezoid:function(P,E,M,w,R,A){var O=h.trapezoid(P,E,M,w,R,A);return this.world.add(O),O},circle:function(P,E,M,w,R){var A=h.circle(P,E,M,w,R);return this.world.add(A),A},polygon:function(P,E,M,w,R){var A=h.polygon(P,E,M,w,R);return this.world.add(A),A},fromVertices:function(P,E,M,w,R,A,O){typeof M=="string"&&(M=m.fromPath(M));var F=h.fromVertices(P,E,M,w,R,A,O);return this.world.add(F),F},fromPhysicsEditor:function(P,E,M,w,R){R===void 0&&(R=!0);var A=v.parseBody(P,E,M,w);return R&&!this.world.has(A)&&this.world.add(A),A},fromSVG:function(P,E,M,w,R,A){w===void 0&&(w=1),R===void 0&&(R={}),A===void 0&&(A=!0);for(var O=M.getElementsByTagName("path"),F=[],L=0;L<O.length;L++){var b=a.pathToVertices(O[L],30);w!==1&&m.scale(b,w,w),F.push(b)}var D=h.fromVertices(P,E,F,R);return A&&this.world.add(D),D},fromJSON:function(P,E,M,w,R){w===void 0&&(w={}),R===void 0&&(R=!0);var A=p.parseBody(P,E,M,w);return A&&R&&this.world.add(A),A},imageStack:function(P,E,M,w,R,A,O,F,L){O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L={});var b=this.world,D=this.sys.displayList;L.addToWorld=!1;var I=f.stack(M,w,R,A,O,F,function(k,X){var W=new d(b,k,X,P,E,L);return D.add(W),W.body});return b.add(I),I},stack:function(P,E,M,w,R,A,O){var F=f.stack(P,E,M,w,R,A,O);return this.world.add(F),F},pyramid:function(P,E,M,w,R,A,O){var F=f.pyramid(P,E,M,w,R,A,O);return this.world.add(F),F},chain:function(P,E,M,w,R,A){return f.chain(P,E,M,w,R,A)},mesh:function(P,E,M,w,R){return f.mesh(P,E,M,w,R)},newtonsCradle:function(P,E,M,w,R){var A=f.newtonsCradle(P,E,M,w,R);return this.world.add(A),A},car:function(P,E,M,w,R){var A=f.car(P,E,M,w,R);return this.world.add(A),A},softBody:function(P,E,M,w,R,A,O,F,L,b){var D=f.softBody(P,E,M,w,R,A,O,F,L,b);return this.world.add(D),D},joint:function(P,E,M,w,R){return this.constraint(P,E,M,w,R)},spring:function(P,E,M,w,R){return this.constraint(P,E,M,w,R)},constraint:function(P,E,M,w,R){w===void 0&&(w=1),R===void 0&&(R={}),R.bodyA=P.type==="body"?P:P.body,R.bodyB=E.type==="body"?E:E.body,isNaN(M)||(R.length=M),R.stiffness=w;var A=l.create(R);return this.world.add(A),A},worldConstraint:function(P,E,M,w){M===void 0&&(M=1),w===void 0&&(w={}),w.bodyB=P.type==="body"?P:P.body,isNaN(E)||(w.length=E),w.stiffness=M;var R=l.create(w);return this.world.add(R),R},mouseSpring:function(P){return this.pointerConstraint(P)},pointerConstraint:function(P){P===void 0&&(P={}),P.hasOwnProperty("render")||(P.render={visible:!1});var E=new g(this.scene,this.world,P);return this.world.add(E.constraint),E},image:function(P,E,M,w,R){var A=new d(this.world,P,E,M,w,R);return this.sys.displayList.add(A),A},tileBody:function(P,E){return new u(this.world,P,E)},sprite:function(P,E,M,w,R){var A=new c(this.world,P,E,M,w,R);return this.sys.displayList.add(A),this.sys.updateList.add(A),A},gameObject:function(P,E,M){return n(this.world,P,E,M)},destroy:function(){this.world=null,this.scene=null,this.sys=null}});r.exports=T},75803:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(31884),x=i(95540),f=i(26099);function l(n){return!!n.get&&typeof n.get=="function"||!!n.set&&typeof n.set=="function"}var a=function(n,d,c,u){c===void 0&&(c={}),u===void 0&&(u=!0);var v=d.x,p=d.y;d.body={temp:!0,position:{x:v,y:p}};var g=[h.Bounce,h.Collision,h.Force,h.Friction,h.Gravity,h.Mass,h.Sensor,h.SetBody,h.Sleep,h.Static,h.Transform,h.Velocity];if(g.forEach(function(T){for(var P in T)l(T[P])?Object.defineProperty(d,P,{get:T[P].get,set:T[P].set}):Object.defineProperty(d,P,{value:T[P]})}),d.world=n,d._tempVec2=new f(v,p),c.hasOwnProperty("type")&&c.type==="body")d.setExistingBody(c,u);else{var m=x(c,"shape",null);m||(m="rectangle"),c.addToWorld=u,d.setBody(m,c)}return d};r.exports=a},23181:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31884),f=i(95643),l=i(95540),a=i(88571),n=i(72699),d=i(26099),c=new h({Extends:a,Mixins:[x.Bounce,x.Collision,x.Force,x.Friction,x.Gravity,x.Mass,x.Sensor,x.SetBody,x.Sleep,x.Static,x.Transform,x.Velocity,n],initialize:function(v,p,g,m,T,P){f.call(this,v.scene,"Image"),this._crop=this.resetCropObject(),this.setTexture(m,T),this.setSizeToFrame(),this.setOrigin(),this.world=v,this._tempVec2=new d(p,g);var E=l(P,"shape",null);E?this.setBody(E,P):this.setRectangle(this.width,this.height,P),this.setPosition(p,g),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=c},42045:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(60461),x=i(66615),f=i(66280),l=i(22562),a=i(68174),n=i(15647),d=i(83419),c=i(52284),u=i(53402),v=i(69351),p=i(74116),g=i(48140),m=i(81388),T=i(20339),P=i(28137),E=i(95540),M=i(35154),w=i(46975),R=i(4506),A=i(99561),O=i(37277),F=i(73296),L=i(66272),b=i(44594),D=i(74058),I=i(31725),k=i(41598),X=i(68243);u.setDecomp(i(55973));var W=new d({initialize:function(N){this.scene=N,this.systems=N.sys,this.config=this.getConfig(),this.world,this.add,this.bodyBounds,this.body=l,this.composite=v,this.collision=c,this.detector=m,this.pair=R,this.pairs=A,this.query=F,this.resolver=L,this.constraint=g,this.bodies=f,this.composites=p,this.axes=x,this.bounds=n,this.svg=D,this.vector=I,this.vertices=k,this.verts=k,this._tempVec2=I.create(),L._restingThresh=M(this.config,"restingThresh",4),L._restingThreshTangent=M(this.config,"restingThreshTangent",6),L._positionDampen=M(this.config,"positionDampen",.9),L._positionWarming=M(this.config,"positionWarming",.8),L._frictionNormalMultiplier=M(this.config,"frictionNormalMultiplier",5),N.sys.events.once(b.BOOT,this.boot,this),N.sys.events.on(b.START,this.start,this)},boot:function(){this.world=new X(this.scene,this.config),this.add=new P(this.world),this.bodyBounds=new a,this.systems.events.once(b.DESTROY,this.destroy,this)},start:function(){this.world||(this.world=new X(this.scene,this.config),this.add=new P(this.world));var Y=this.systems.events;Y.on(b.UPDATE,this.world.update,this.world),Y.on(b.POST_UPDATE,this.world.postUpdate,this.world),Y.once(b.SHUTDOWN,this.shutdown,this)},getConfig:function(){var Y=this.systems.game.config.physics,N=this.systems.settings.physics,V=w(E(N,"matter",{}),E(Y,"matter",{}));return V},pause:function(){return this.world.pause()},resume:function(){return this.world.resume()},set60Hz:function(){return this.world.getDelta=this.world.update60Hz,this.world.autoUpdate=!0,this},set30Hz:function(){return this.world.getDelta=this.world.update30Hz,this.world.autoUpdate=!0,this},step:function(Y,N){this.world.step(Y,N)},containsPoint:function(Y,N,V){Y=this.getMatterBodies(Y);var G=I.create(N,V),B=F.point(Y,G);return B.length>0},intersectPoint:function(Y,N,V){V=this.getMatterBodies(V);var G=I.create(Y,N),B=[],z=F.point(V,G);return z.forEach(function(U){B.indexOf(U)===-1&&B.push(U)}),B},intersectRect:function(Y,N,V,G,B,z){B===void 0&&(B=!1),z=this.getMatterBodies(z);var U={min:{x:Y,y:N},max:{x:Y+V,y:N+G}},H=[],$=F.region(z,U,B);return $.forEach(function(K){H.indexOf(K)===-1&&H.push(K)}),H},intersectRay:function(Y,N,V,G,B,z){B===void 0&&(B=1),z=this.getMatterBodies(z);for(var U=[],H=F.ray(z,I.create(Y,N),I.create(V,G),B),$=0;$<H.length;$++)U.push(H[$].body);return U},intersectBody:function(Y,N){N=this.getMatterBodies(N);for(var V=[],G=F.collides(Y,N),B=0;B<G.length;B++){var z=G[B];z.bodyA===Y?V.push(z.bodyB):V.push(z.bodyA)}return V},overlap:function(Y,N,V,G,B){V===void 0&&(V=null),G===void 0&&(G=null),B===void 0&&(B=V),Array.isArray(Y)||(Y=[Y]),Y=this.getMatterBodies(Y),N=this.getMatterBodies(N);for(var z=!1,U=0;U<Y.length;U++)for(var H=Y[U],$=F.collides(H,N),K=0;K<$.length;K++){var Z=$[K],J=Z.bodyA.id===H.id?Z.bodyB:Z.bodyA;if(!G||G.call(B,H,J,Z)){if(z=!0,V)V.call(B,H,J,Z);else if(!G)return!0}}return z},setCollisionCategory:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(V){V.collisionFilter.category=N}),this},setCollisionGroup:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(V){V.collisionFilter.group=N}),this},setCollidesWith:function(Y,N){Y=this.getMatterBodies(Y);var V=0;if(!Array.isArray(N))V=N;else for(var G=0;G<N.length;G++)V|=N[G];return Y.forEach(function(B){B.collisionFilter.mask=V}),this},getMatterBodies:function(Y){if(!Y)return this.world.getAllBodies();Array.isArray(Y)||(Y=[Y]);for(var N=[],V=0;V<Y.length;V++){var G=Y[V].hasOwnProperty("body")?Y[V].body:Y[V];N.push(G)}return N},setVelocity:function(Y,N,V){Y=this.getMatterBodies(Y);var G=this._tempVec2;return G.x=N,G.y=V,Y.forEach(function(B){l.setVelocity(B,G)}),this},setVelocityX:function(Y,N){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.x=N,Y.forEach(function(G){V.y=G.velocity.y,l.setVelocity(G,V)}),this},setVelocityY:function(Y,N){Y=this.getMatterBodies(Y);var V=this._tempVec2;return V.y=N,Y.forEach(function(G){V.x=G.velocity.x,l.setVelocity(G,V)}),this},setAngularVelocity:function(Y,N){return Y=this.getMatterBodies(Y),Y.forEach(function(V){l.setAngularVelocity(V,N)}),this},applyForce:function(Y,N){Y=this.getMatterBodies(Y);var V=this._tempVec2;return Y.forEach(function(G){V.x=G.position.x,V.y=G.position.y,l.applyForce(G,V,N)}),this},applyForceFromPosition:function(Y,N,V,G){Y=this.getMatterBodies(Y);var B=this._tempVec2;return Y.forEach(function(z){G===void 0&&(G=z.angle),B.x=V*Math.cos(G),B.y=V*Math.sin(G),l.applyForce(z,N,B)}),this},applyForceFromAngle:function(Y,N,V){Y=this.getMatterBodies(Y);var G=this._tempVec2;return Y.forEach(function(B){V===void 0&&(V=B.angle),G.x=N*Math.cos(V),G.y=N*Math.sin(V),l.applyForce(B,{x:B.position.x,y:B.position.y},G)}),this},getConstraintLength:function(Y){var N=Y.pointA.x,V=Y.pointA.y,G=Y.pointB.x,B=Y.pointB.y;return Y.bodyA&&(N+=Y.bodyA.position.x,V+=Y.bodyA.position.y),Y.bodyB&&(G+=Y.bodyB.position.x,B+=Y.bodyB.position.y),T(N,V,G,B)},alignBody:function(Y,N,V,G){Y=Y.hasOwnProperty("body")?Y.body:Y;var B;switch(G){case h.TOP_LEFT:case h.LEFT_TOP:B=this.bodyBounds.getTopLeft(Y,N,V);break;case h.TOP_CENTER:B=this.bodyBounds.getTopCenter(Y,N,V);break;case h.TOP_RIGHT:case h.RIGHT_TOP:B=this.bodyBounds.getTopRight(Y,N,V);break;case h.LEFT_CENTER:B=this.bodyBounds.getLeftCenter(Y,N,V);break;case h.CENTER:B=this.bodyBounds.getCenter(Y,N,V);break;case h.RIGHT_CENTER:B=this.bodyBounds.getRightCenter(Y,N,V);break;case h.LEFT_BOTTOM:case h.BOTTOM_LEFT:B=this.bodyBounds.getBottomLeft(Y,N,V);break;case h.BOTTOM_CENTER:B=this.bodyBounds.getBottomCenter(Y,N,V);break;case h.BOTTOM_RIGHT:case h.RIGHT_BOTTOM:B=this.bodyBounds.getBottomRight(Y,N,V);break}return B&&l.setPosition(Y,B),this},shutdown:function(){var Y=this.systems.events;this.world&&(Y.off(b.UPDATE,this.world.update,this.world),Y.off(b.POST_UPDATE,this.world.postUpdate,this.world)),Y.off(b.SHUTDOWN,this.shutdown,this),this.add&&this.add.destroy(),this.world&&this.world.destroy(),this.add=null,this.world=null},destroy:function(){this.shutdown(),this.scene.sys.events.off(b.START,this.start,this),this.scene=null,this.systems=null}});O.register("MatterPhysics",W,"matterPhysics"),r.exports=W},34803:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(9674),x=i(83419),f=i(31884),l=i(95643),a=i(95540),n=i(72699),d=i(68287),c=i(26099),u=new x({Extends:d,Mixins:[f.Bounce,f.Collision,f.Force,f.Friction,f.Gravity,f.Mass,f.Sensor,f.SetBody,f.Sleep,f.Static,f.Transform,f.Velocity,n],initialize:function(p,g,m,T,P,E){l.call(this,p.scene,"Sprite"),this._crop=this.resetCropObject(),this.anims=new h(this),this.setTexture(T,P),this.setSizeToFrame(),this.setOrigin(),this.world=p,this._tempVec2=new c(g,m);var M=a(E,"shape",null);M?this.setBody(M,E):this.setRectangle(this.width,this.height,E),this.setPosition(g,m),this.initPipeline(),this.initPostPipeline(!0)}});r.exports=u},73834:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),x=i(22562),f=i(83419),l=i(31884),a=i(62644),n=i(50792),d=i(95540),c=i(97022),u=i(41598),v=new f({Extends:n,Mixins:[l.Bounce,l.Collision,l.Friction,l.Gravity,l.Mass,l.Sensor,l.Sleep,l.Static],initialize:function(g,m,T){n.call(this),this.tile=m,this.world=g,m.physics.matterBody&&m.physics.matterBody.destroy(),m.physics.matterBody=this;var P=d(T,"body",null),E=d(T,"addToWorld",!0);if(P)this.setBody(P,E);else{var M=m.getCollisionGroup(),w=d(M,"objects",[]);w.length>0?this.setFromTileCollision(T):this.setFromTileRectangle(T)}if(m.flipX||m.flipY){var R={x:m.getCenterX(),y:m.getCenterY()},A=m.flipX?-1:1,O=m.flipY?-1:1;x.scale(P,A,O,R)}},setFromTileRectangle:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);var g=this.tile.getBounds(),m=g.x+g.width/2,T=g.y+g.height/2,P=h.rectangle(m,T,g.width,g.height,p);return this.setBody(P,p.addToWorld),this},setFromTileCollision:function(p){p===void 0&&(p={}),c(p,"isStatic")||(p.isStatic=!0),c(p,"addToWorld")||(p.addToWorld=!0);for(var g=this.tile.tilemapLayer.scaleX,m=this.tile.tilemapLayer.scaleY,T=this.tile.getLeft(),P=this.tile.getTop(),E=this.tile.getCollisionGroup(),M=d(E,"objects",[]),w=[],R=0;R<M.length;R++){var A=M[R],O=T+A.x*g,F=P+A.y*m,L=A.width*g,b=A.height*m,D=null;if(A.rectangle)D=h.rectangle(O+L/2,F+b/2,L,b,p);else if(A.ellipse)D=h.circle(O+L/2,F+b/2,L/2,p);else if(A.polygon||A.polyline){var I=A.polygon?A.polygon:A.polyline,k=I.map(function(N){return{x:N.x*g,y:N.y*m}}),X=u.create(k),W=u.centre(X);O+=W.x,F+=W.y,D=h.fromVertices(O,F,X,p)}D&&w.push(D)}if(w.length===1)this.setBody(w[0],p.addToWorld);else if(w.length>1){var Y=a(p);Y.parts=w,this.setBody(x.create(Y),Y.addToWorld)}return this},setBody:function(p,g){return g===void 0&&(g=!0),this.body&&this.removeBody(),this.body=p,this.body.gameObject=this,g&&this.world.add(this.body),this},removeBody:function(){return this.body&&(this.world.remove(this.body),this.body.gameObject=void 0,this.body=void 0),this},destroy:function(){this.removeBody(),this.tile.physics.matterBody=void 0,this.removeAllListeners()}});r.exports=v},19496:(r,C,i)=>{/**
 * @author       Joachim Grill <joachim@codeandweb.com>
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2018 CodeAndWeb GmbH
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),x=i(22562),f=i(53402),l=i(95540),a=i(41598),n={parseBody:function(d,c,u,v){v===void 0&&(v={});for(var p=l(u,"fixtures",[]),g=[],m=0;m<p.length;m++)for(var T=this.parseFixture(p[m]),P=0;P<T.length;P++)g.push(T[P]);var E=f.clone(u,!0);f.extend(E,v,!0),delete E.fixtures,delete E.type;var M=x.create(E);return x.setParts(M,g),x.setPosition(M,{x:d,y:c}),M},parseFixture:function(d){var c=f.extend({},!1,d);delete c.circle,delete c.vertices;var u;if(d.circle){var v=l(d.circle,"x"),p=l(d.circle,"y"),g=l(d.circle,"radius");u=[h.circle(v,p,g,c)]}else d.vertices&&(u=this.parseVertices(d.vertices,c));return u},parseVertices:function(d,c){c===void 0&&(c={});for(var u=[],v=0;v<d.length;v++)a.clockwiseSort(d[v]),u.push(x.create(f.extend({position:a.centre(d[v]),vertices:d[v]},c)));return h.flagCoincidentParts(u)}};r.exports=n},85791:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),x=i(22562),f={parseBody:function(l,a,n,d){d===void 0&&(d={});var c,u=n.vertices;if(u.length===1)d.vertices=u[0],c=x.create(d),h.flagCoincidentParts(c.parts);else{for(var v=[],p=0;p<u.length;p++){var g=x.create({vertices:u[p]});v.push(g)}h.flagCoincidentParts(v),d.parts=v,c=x.create(d)}return c.label=n.label,x.setPosition(c,{x:l,y:a}),c}};r.exports=f},98713:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(15647),x=i(83419),f=i(69351),l=i(48140),a=i(81388),n=i(1121),d=i(8214),c=i(46975),u=i(53614),v=i(26099),p=i(41598),g=new x({initialize:function(T,P,E){E===void 0&&(E={});var M={label:"Pointer Constraint",pointA:{x:0,y:0},pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,collisionFilter:{category:1,mask:4294967295,group:0}};this.scene=T,this.world=P,this.camera=null,this.pointer=null,this.active=!0,this.position=new v,this.body=null,this.part=null,this.constraint=l.create(c(E,M)),this.world.on(n.BEFORE_UPDATE,this.update,this),T.sys.input.on(d.POINTER_DOWN,this.onDown,this),T.sys.input.on(d.POINTER_UP,this.onUp,this)},onDown:function(m){this.pointer||(this.pointer=m,this.camera=m.camera)},onUp:function(m){m===this.pointer&&(this.pointer=null)},getBody:function(m){var T=this.position,P=this.constraint;this.camera.getWorldPoint(m.x,m.y,T);for(var E=f.allBodies(this.world.localWorld),M=0;M<E.length;M++){var w=E[M];if(!w.ignorePointer&&h.contains(w.bounds,T)&&a.canCollide(w.collisionFilter,P.collisionFilter)&&this.hitTestBody(w,T))return this.world.emit(n.DRAG_START,w,this.part,this),!0}return!1},hitTestBody:function(m,T){for(var P=this.constraint,E=m.parts.length,M=E>1?1:0,w=M;w<E;w++){var R=m.parts[w];if(p.contains(R.vertices,T))return P.pointA=T,P.pointB={x:T.x-m.position.x,y:T.y-m.position.y},P.bodyB=m,P.angleB=m.angle,u.set(m,!1),this.part=R,this.body=m,!0}return!1},update:function(){var m=this.pointer,T=this.body;if(!this.active||!m){T&&this.stopDrag();return}if(!m.isDown&&T){this.stopDrag();return}else if(m.isDown){if(!this.camera||!T&&!this.getBody(m))return;T=this.body;var P=this.position,E=this.constraint;this.camera.getWorldPoint(m.x,m.y,P),E.pointA.x=P.x,E.pointA.y=P.y,u.set(T,!1),this.world.emit(n.DRAG,T,this)}},stopDrag:function(){var m=this.body,T=this.constraint;T.bodyB=null,T.pointB=null,this.pointer=null,this.body=null,this.part=null,m&&this.world.emit(n.DRAG_END,m,this)},destroy:function(){this.world.removeConstraint(this.constraint),this.pointer=null,this.constraint=null,this.body=null,this.part=null,this.world.off(n.BEFORE_UPDATE,this.update),this.scene.sys.input.off(d.POINTER_DOWN,this.onDown,this),this.scene.sys.input.off(d.POINTER_UP,this.onUp,this)}});r.exports=g},68243:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),x=i(22562),f=i(83419),l=i(53402),a=i(69351),n=i(48413),d=i(50792),c=i(1121),u=i(95540),v=i(35154),p=i(22562),g=i(35810),m=i(73834),T=i(4372),P=i(13037),E=i(31725),M=new f({Extends:d,initialize:function(R,A){d.call(this),this.scene=R,this.engine=n.create(A),this.localWorld=this.engine.world;var O=v(A,"gravity",null);O?this.setGravity(O.x,O.y,O.scale):O===!1&&this.setGravity(0,0,0),this.walls={left:null,right:null,top:null,bottom:null},this.enabled=v(A,"enabled",!0),this.getDelta=v(A,"getDelta",this.update60Hz);var F=u(A,"runner",{}),L=u(F,"fps",!1);L&&(F.delta=1e3/u(F,"fps",60)),this.runner=P.create(F),this.autoUpdate=v(A,"autoUpdate",!0);var b=v(A,"debug",!1);if(this.drawDebug=typeof b=="object"?!0:b,this.debugGraphic,this.debugConfig={showAxes:u(b,"showAxes",!1),showAngleIndicator:u(b,"showAngleIndicator",!1),angleColor:u(b,"angleColor",15208787),showBroadphase:u(b,"showBroadphase",!1),broadphaseColor:u(b,"broadphaseColor",16757760),showBounds:u(b,"showBounds",!1),boundsColor:u(b,"boundsColor",16777215),showVelocity:u(b,"showVelocity",!1),velocityColor:u(b,"velocityColor",44783),showCollisions:u(b,"showCollisions",!1),collisionColor:u(b,"collisionColor",16094476),showSeparations:u(b,"showSeparations",!1),separationColor:u(b,"separationColor",16753920),showBody:u(b,"showBody",!0),showStaticBody:u(b,"showStaticBody",!0),showInternalEdges:u(b,"showInternalEdges",!1),renderFill:u(b,"renderFill",!1),renderLine:u(b,"renderLine",!0),fillColor:u(b,"fillColor",1075465),fillOpacity:u(b,"fillOpacity",1),lineColor:u(b,"lineColor",2678297),lineOpacity:u(b,"lineOpacity",1),lineThickness:u(b,"lineThickness",1),staticFillColor:u(b,"staticFillColor",857979),staticLineColor:u(b,"staticLineColor",1255396),showSleeping:u(b,"showSleeping",!1),staticBodySleepOpacity:u(b,"staticBodySleepOpacity",.7),sleepFillColor:u(b,"sleepFillColor",4605510),sleepLineColor:u(b,"sleepLineColor",10066585),showSensors:u(b,"showSensors",!0),sensorFillColor:u(b,"sensorFillColor",857979),sensorLineColor:u(b,"sensorLineColor",1255396),showPositions:u(b,"showPositions",!0),positionSize:u(b,"positionSize",4),positionColor:u(b,"positionColor",14697178),showJoint:u(b,"showJoint",!0),jointColor:u(b,"jointColor",14737474),jointLineOpacity:u(b,"jointLineOpacity",1),jointLineThickness:u(b,"jointLineThickness",2),pinSize:u(b,"pinSize",4),pinColor:u(b,"pinColor",4382944),springColor:u(b,"springColor",14697184),anchorColor:u(b,"anchorColor",15724527),anchorSize:u(b,"anchorSize",4),showConvexHulls:u(b,"showConvexHulls",!1),hullColor:u(b,"hullColor",14091216)},this.drawDebug&&this.createDebugGraphic(),this.setEventsProxy(),u(A,"setBounds",!1)){var D=A.setBounds;if(typeof D=="boolean")this.setBounds();else{var I=u(D,"x",0),k=u(D,"y",0),X=u(D,"width",R.sys.scale.width),W=u(D,"height",R.sys.scale.height),Y=u(D,"thickness",64),N=u(D,"left",!0),V=u(D,"right",!0),G=u(D,"top",!0),B=u(D,"bottom",!0);this.setBounds(I,k,X,W,Y,N,V,G,B)}}},setCompositeRenderStyle:function(w){var R=w.bodies,A=w.constraints,O=w.composites,F,L,b;for(F=0;F<R.length;F++)L=R[F],b=L.render,this.setBodyRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.fillColor,b.fillOpacity);for(F=0;F<A.length;F++)L=A[F],b=L.render,this.setConstraintRenderStyle(L,b.lineColor,b.lineOpacity,b.lineThickness,b.pinSize,b.anchorColor,b.anchorSize);for(F=0;F<O.length;F++)L=O[F],this.setCompositeRenderStyle(L);return this},setBodyRenderStyle:function(w,R,A,O,F,L){var b=w.render,D=this.debugConfig;return b?(R==null&&(R=w.isStatic?D.staticLineColor:D.lineColor),A==null&&(A=D.lineOpacity),O==null&&(O=D.lineThickness),F==null&&(F=w.isStatic?D.staticFillColor:D.fillColor),L==null&&(L=D.fillOpacity),R!==!1&&(b.lineColor=R),A!==!1&&(b.lineOpacity=A),O!==!1&&(b.lineThickness=O),F!==!1&&(b.fillColor=F),L!==!1&&(b.fillOpacity=L),this):this},setConstraintRenderStyle:function(w,R,A,O,F,L,b){var D=w.render,I=this.debugConfig;if(!D)return this;if(R==null){var k=D.type;k==="line"?R=I.jointColor:k==="pin"?R=I.pinColor:k==="spring"&&(R=I.springColor)}return A==null&&(A=I.jointLineOpacity),O==null&&(O=I.jointLineThickness),F==null&&(F=I.pinSize),L==null&&(L=I.anchorColor),b==null&&(b=I.anchorSize),R!==!1&&(D.lineColor=R),A!==!1&&(D.lineOpacity=A),O!==!1&&(D.lineThickness=O),F!==!1&&(D.pinSize=F),L!==!1&&(D.anchorColor=L),b!==!1&&(D.anchorSize=b),this},setEventsProxy:function(){var w=this,R=this.engine,A=this.localWorld;this.drawDebug&&(g.on(A,"compositeModified",function(O){w.setCompositeRenderStyle(O)}),g.on(A,"beforeAdd",function(O){for(var F=[].concat(O.object),L=0;L<F.length;L++){var b=F[L],D=b.render;b.type==="body"?w.setBodyRenderStyle(b,D.lineColor,D.lineOpacity,D.lineThickness,D.fillColor,D.fillOpacity):b.type==="composite"?w.setCompositeRenderStyle(b):b.type==="constraint"&&w.setConstraintRenderStyle(b,D.lineColor,D.lineOpacity,D.lineThickness,D.pinSize,D.anchorColor,D.anchorSize)}})),g.on(A,"beforeAdd",function(O){w.emit(c.BEFORE_ADD,O)}),g.on(A,"afterAdd",function(O){w.emit(c.AFTER_ADD,O)}),g.on(A,"beforeRemove",function(O){w.emit(c.BEFORE_REMOVE,O)}),g.on(A,"afterRemove",function(O){w.emit(c.AFTER_REMOVE,O)}),g.on(R,"beforeUpdate",function(O){w.emit(c.BEFORE_UPDATE,O)}),g.on(R,"afterUpdate",function(O){w.emit(c.AFTER_UPDATE,O)}),g.on(R,"collisionStart",function(O){var F=O.pairs,L,b;F.length>0&&F.map(function(D){L=D.bodyA,b=D.bodyB,L.gameObject&&L.gameObject.emit("collide",L,b,D),b.gameObject&&b.gameObject.emit("collide",b,L,D),g.trigger(L,"onCollide",{pair:D}),g.trigger(b,"onCollide",{pair:D}),L.onCollideCallback&&L.onCollideCallback(D),b.onCollideCallback&&b.onCollideCallback(D),L.onCollideWith[b.id]&&L.onCollideWith[b.id](b,D),b.onCollideWith[L.id]&&b.onCollideWith[L.id](L,D)}),w.emit(c.COLLISION_START,O,L,b)}),g.on(R,"collisionActive",function(O){var F=O.pairs,L,b;F.length>0&&F.map(function(D){L=D.bodyA,b=D.bodyB,L.gameObject&&L.gameObject.emit("collideActive",L,b,D),b.gameObject&&b.gameObject.emit("collideActive",b,L,D),g.trigger(L,"onCollideActive",{pair:D}),g.trigger(b,"onCollideActive",{pair:D}),L.onCollideActiveCallback&&L.onCollideActiveCallback(D),b.onCollideActiveCallback&&b.onCollideActiveCallback(D)}),w.emit(c.COLLISION_ACTIVE,O,L,b)}),g.on(R,"collisionEnd",function(O){var F=O.pairs,L,b;F.length>0&&F.map(function(D){L=D.bodyA,b=D.bodyB,L.gameObject&&L.gameObject.emit("collideEnd",L,b,D),b.gameObject&&b.gameObject.emit("collideEnd",b,L,D),g.trigger(L,"onCollideEnd",{pair:D}),g.trigger(b,"onCollideEnd",{pair:D}),L.onCollideEndCallback&&L.onCollideEndCallback(D),b.onCollideEndCallback&&b.onCollideEndCallback(D)}),w.emit(c.COLLISION_END,O,L,b)})},setBounds:function(w,R,A,O,F,L,b,D,I){return w===void 0&&(w=0),R===void 0&&(R=0),A===void 0&&(A=this.scene.sys.scale.width),O===void 0&&(O=this.scene.sys.scale.height),F===void 0&&(F=64),L===void 0&&(L=!0),b===void 0&&(b=!0),D===void 0&&(D=!0),I===void 0&&(I=!0),this.updateWall(L,"left",w-F,R-F,F,O+F*2),this.updateWall(b,"right",w+A,R-F,F,O+F*2),this.updateWall(D,"top",w,R-F,A,F),this.updateWall(I,"bottom",w,R+O,A,F),this},updateWall:function(w,R,A,O,F,L){var b=this.walls[R];w?(b&&T.remove(this.localWorld,b),A+=F/2,O+=L/2,this.walls[R]=this.create(A,O,F,L,{isStatic:!0,friction:0,frictionStatic:0})):(b&&T.remove(this.localWorld,b),this.walls[R]=null)},createDebugGraphic:function(){var w=this.scene.sys.add.graphics({x:0,y:0});return w.setDepth(Number.MAX_VALUE),this.debugGraphic=w,this.drawDebug=!0,w},disableGravity:function(){return this.localWorld.gravity.x=0,this.localWorld.gravity.y=0,this.localWorld.gravity.scale=0,this},setGravity:function(w,R,A){return w===void 0&&(w=0),R===void 0&&(R=1),A===void 0&&(A=.001),this.localWorld.gravity.x=w,this.localWorld.gravity.y=R,this.localWorld.gravity.scale=A,this},create:function(w,R,A,O,F){var L=h.rectangle(w,R,A,O,F);return T.add(this.localWorld,L),L},add:function(w){return T.add(this.localWorld,w),this},remove:function(w,R){Array.isArray(w)||(w=[w]);for(var A=0;A<w.length;A++){var O=w[A],F=O.body?O.body:O;a.remove(this.localWorld,F,R)}return this},removeConstraint:function(w,R){return a.remove(this.localWorld,w,R),this},convertTilemapLayer:function(w,R){var A=w.layer,O=w.getTilesWithin(0,0,A.width,A.height,{isColliding:!0});return this.convertTiles(O,R),this},convertTiles:function(w,R){if(w.length===0)return this;for(var A=0;A<w.length;A++)new m(this,w[A],R);return this},nextGroup:function(w){return p.nextGroup(w)},nextCategory:function(){return p.nextCategory()},pause:function(){return this.enabled=!1,this.emit(c.PAUSE),this},resume:function(){return this.enabled=!0,this.runner.timeLastTick=l.now(),this.emit(c.RESUME),this},update:function(w){if(!(!this.enabled||!this.autoUpdate)){var R=this.engine,A=this.runner,O=l.now(),F=A.delta,L=0,b=w-A.timeLastTick;if((!b||!A.timeLastTick||b>Math.max(P._maxFrameDelta,A.maxFrameTime))&&(b=A.frameDelta||P._frameDeltaFallback),A.frameDeltaSmoothing){A.frameDeltaHistory.push(b),A.frameDeltaHistory=A.frameDeltaHistory.slice(-A.frameDeltaHistorySize);var D=A.frameDeltaHistory.slice(0).sort(),I=A.frameDeltaHistory.slice(D.length*P._smoothingLowerBound,D.length*P._smoothingUpperBound),k=P._mean(I);b=k||b}A.frameDeltaSnapping&&(b=1e3/Math.round(1e3/b)),A.frameDelta=b,A.timeLastTick=w,A.timeBuffer+=A.frameDelta,A.timeBuffer=l.clamp(A.timeBuffer,0,A.frameDelta+F*P._timeBufferMargin),A.lastUpdatesDeferred=0;for(var X=A.maxUpdates||Math.ceil(A.maxFrameTime/F),W=l.now();F>0&&A.timeBuffer>=F*P._timeBufferMargin;){n.update(R,F),A.timeBuffer-=F,L+=1;var Y=l.now()-O,N=l.now()-W,V=Y+P._elapsedNextEstimate*N/L;if(L>=X||V>A.maxFrameTime){A.lastUpdatesDeferred=Math.round(Math.max(0,A.timeBuffer/F-P._timeBufferMargin));break}}}},step:function(w){n.update(this.engine,w)},update60Hz:function(){return 1e3/60},update30Hz:function(){return 1e3/30},has:function(w){var R=w.hasOwnProperty("body")?w.body:w;return a.get(this.localWorld,R.id,R.type)!==null},getAllBodies:function(){return a.allBodies(this.localWorld)},getAllConstraints:function(){return a.allConstraints(this.localWorld)},getAllComposites:function(){return a.allComposites(this.localWorld)},postUpdate:function(){if(this.drawDebug){var w=this.debugConfig,R=this.engine,A=this.debugGraphic,O=a.allBodies(this.localWorld);this.debugGraphic.clear(),w.showBroadphase&&R.broadphase.controller&&this.renderGrid(R.broadphase,A,w.broadphaseColor,.5),w.showBounds&&this.renderBodyBounds(O,A,w.boundsColor,.5),(w.showBody||w.showStaticBody)&&this.renderBodies(O),w.showJoint&&this.renderJoints(),(w.showAxes||w.showAngleIndicator)&&this.renderBodyAxes(O,A,w.showAxes,w.angleColor,.5),w.showVelocity&&this.renderBodyVelocity(O,A,w.velocityColor,1,2),w.showSeparations&&this.renderSeparations(R.pairs.list,A,w.separationColor),w.showCollisions&&this.renderCollisions(R.pairs.list,A,w.collisionColor)}},renderGrid:function(w,R,A,O){R.lineStyle(1,A,O);for(var F=l.keys(w.buckets),L=0;L<F.length;L++){var b=F[L];if(!(w.buckets[b].length<2)){var D=b.split(/C|R/);R.strokeRect(parseInt(D[1],10)*w.bucketWidth,parseInt(D[2],10)*w.bucketHeight,w.bucketWidth,w.bucketHeight)}}return this},renderSeparations:function(w,R,A){R.lineStyle(1,A,1);for(var O=0;O<w.length;O++){var F=w[O];if(F.isActive){var L=F.collision,b=L.bodyA,D=L.bodyB,I=b.position,k=D.position,X=L.penetration,W=!b.isStatic&&!D.isStatic?4:1;D.isStatic&&(W=0),R.lineBetween(k.x,k.y,k.x-X.x*W,k.y-X.y*W),W=!b.isStatic&&!D.isStatic?4:1,b.isStatic&&(W=0),R.lineBetween(I.x,I.y,I.x-X.x*W,I.y-X.y*W)}}return this},renderCollisions:function(w,R,A){R.lineStyle(1,A,.5),R.fillStyle(A,1);var O,F;for(O=0;O<w.length;O++)if(F=w[O],!!F.isActive)for(var L=0;L<F.contactCount;L++){var b=F.contacts[L],D=b.vertex;D&&R.fillRect(D.x-2,D.y-2,5,5)}for(O=0;O<w.length;O++)if(F=w[O],!!F.isActive){var I=F.collision,k=F.contacts;if(F.contactCount>0){var X=k[0].vertex.x,W=k[0].vertex.y;F.contactCount===2&&(X=(k[0].vertex.x+k[1].vertex.x)/2,W=(k[0].vertex.y+k[1].vertex.y)/2),I.bodyB===I.supports[0].body||I.bodyA.isStatic?R.lineBetween(X-I.normal.x*8,W-I.normal.y*8,X,W):R.lineBetween(X+I.normal.x*8,W+I.normal.y*8,X,W)}}return this},renderBodyBounds:function(w,R,A,O){R.lineStyle(1,A,O);for(var F=0;F<w.length;F++){var L=w[F];if(L.render.visible){var b=L.bounds;if(b)R.strokeRect(b.min.x,b.min.y,b.max.x-b.min.x,b.max.y-b.min.y);else for(var D=L.parts,I=D.length>1?1:0;I<D.length;I++){var k=D[I];R.strokeRect(k.bounds.min.x,k.bounds.min.y,k.bounds.max.x-k.bounds.min.x,k.bounds.max.y-k.bounds.min.y)}}}return this},renderBodyAxes:function(w,R,A,O,F){R.lineStyle(1,O,F);for(var L=0;L<w.length;L++){var b=w[L],D=b.parts;if(b.render.visible){var I,k,X;if(A)for(k=D.length>1?1:0;k<D.length;k++)for(I=D[k],X=0;X<I.axes.length;X++){var W=I.axes[X];R.lineBetween(I.position.x,I.position.y,I.position.x+W.x*20,I.position.y+W.y*20)}else for(k=D.length>1?1:0;k<D.length;k++)for(I=D[k],X=0;X<I.axes.length;X++)R.lineBetween(I.position.x,I.position.y,(I.vertices[0].x+I.vertices[I.vertices.length-1].x)/2,(I.vertices[0].y+I.vertices[I.vertices.length-1].y)/2)}}return this},renderBodyVelocity:function(w,R,A,O,F){R.lineStyle(F,A,O);for(var L=0;L<w.length;L++){var b=w[L];b.render.visible&&R.lineBetween(b.position.x,b.position.y,b.position.x+(b.position.x-b.positionPrev.x)*2,b.position.y+(b.position.y-b.positionPrev.y)*2)}return this},renderBodies:function(w){for(var R=this.debugGraphic,A=this.debugConfig,O=A.showBody,F=A.showStaticBody,L=A.showSleeping,b=A.showInternalEdges,D=A.showConvexHulls,I=A.renderFill,k=A.renderLine,X=A.staticBodySleepOpacity,W=A.sleepFillColor,Y=A.sleepLineColor,N=A.hullColor,V=0;V<w.length;V++){var G=w[V];if(G.render.visible&&!(!F&&G.isStatic||!O&&!G.isStatic)){var B=G.render.lineColor,z=G.render.lineOpacity,U=G.render.lineThickness,H=G.render.fillColor,$=G.render.fillOpacity;L&&G.isSleeping&&(G.isStatic?(z*=X,$*=X):(B=Y,H=W)),I||(H=null),k||(B=null),this.renderBody(G,R,b,B,z,U,H,$);var K=G.parts.length;D&&K>1&&this.renderConvexHull(G,R,N,U)}}},renderBody:function(w,R,A,O,F,L,b,D){O===void 0&&(O=null),F===void 0&&(F=null),L===void 0&&(L=1),b===void 0&&(b=null),D===void 0&&(D=null);for(var I=this.debugConfig,k=I.sensorFillColor,X=I.sensorLineColor,W=w.parts,Y=W.length,N=Y>1?1:0;N<Y;N++){var V=W[N],G=V.render,B=G.opacity;if(!(!G.visible||B===0||V.isSensor&&!I.showSensors)){var z=V.circleRadius;if(R.beginPath(),V.isSensor?(b!==null&&R.fillStyle(k,D*B),O!==null&&R.lineStyle(L,X,F*B)):(b!==null&&R.fillStyle(b,D*B),O!==null&&R.lineStyle(L,O,F*B)),z)R.arc(V.position.x,V.position.y,z,0,2*Math.PI);else{var U=V.vertices,H=U.length;R.moveTo(U[0].x,U[0].y);for(var $=1;$<H;$++){var K=U[$];if(!U[$-1].isInternal||A?R.lineTo(K.x,K.y):R.moveTo(K.x,K.y),$<H&&K.isInternal&&!A){var Z=($+1)%H;R.moveTo(U[Z].x,U[Z].y)}}R.closePath()}b!==null&&R.fillPath(),O!==null&&R.strokePath()}}if(I.showPositions&&!w.isStatic){var J=w.position.x,Q=w.position.y,j=Math.ceil(I.positionSize/2);R.fillStyle(I.positionColor,1),R.fillRect(J-j,Q-j,I.positionSize,I.positionSize)}return this},renderConvexHull:function(w,R,A,O){O===void 0&&(O=1);var F=w.parts,L=F.length;if(L>1){var b=w.vertices;R.lineStyle(O,A),R.beginPath(),R.moveTo(b[0].x,b[0].y);for(var D=1;D<b.length;D++)R.lineTo(b[D].x,b[D].y);R.lineTo(b[0].x,b[0].y),R.strokePath()}return this},renderJoints:function(){for(var w=this.debugGraphic,R=a.allConstraints(this.localWorld),A=0;A<R.length;A++){var O=R[A].render,F=O.lineColor,L=O.lineOpacity,b=O.lineThickness,D=O.pinSize,I=O.anchorColor,k=O.anchorSize;this.renderConstraint(R[A],w,F,L,b,D,I,k)}},renderConstraint:function(w,R,A,O,F,L,b,D){var I=w.render;if(!I.visible||!w.pointA||!w.pointB)return this;R.lineStyle(F,A,O);var k=w.bodyA,X=w.bodyB,W,Y;if(k?W=E.add(k.position,w.pointA):W=w.pointA,I.type==="pin")R.strokeCircle(W.x,W.y,L);else{if(X?Y=E.add(X.position,w.pointB):Y=w.pointB,R.beginPath(),R.moveTo(W.x,W.y),I.type==="spring")for(var N=E.sub(Y,W),V=E.perp(E.normalise(N)),G=Math.ceil(l.clamp(w.length/5,12,20)),B,z=1;z<G;z+=1)B=z%2===0?1:-1,R.lineTo(W.x+N.x*(z/G)+V.x*B*4,W.y+N.y*(z/G)+V.y*B*4);R.lineTo(Y.x,Y.y)}return R.strokePath(),I.anchors&&D>0&&(R.fillStyle(b),R.fillCircle(W.x,W.y,D),R.fillCircle(Y.x,Y.y,D)),this},resetCollisionIDs:function(){return x._nextCollidingGroupId=1,x._nextNonCollidingGroupId=-1,x._nextCategory=1,this},shutdown:function(){g.off(this.engine),this.removeAllListeners(),T.clear(this.localWorld,!1),n.clear(this.engine),this.drawDebug&&this.debugGraphic.destroy()},destroy:function(){this.shutdown()}});r.exports=M},70410:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setBounce:function(i){return this.body.restitution=i,this}};r.exports=C},66968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setCollisionCategory:function(i){return this.body.collisionFilter.category=i,this},setCollisionGroup:function(i){return this.body.collisionFilter.group=i,this},setCollidesWith:function(i){var h=0;if(!Array.isArray(i))h=i;else for(var x=0;x<i.length;x++)h|=i[x];return this.body.collisionFilter.mask=h,this},setOnCollide:function(i){return this.body.onCollideCallback=i,this},setOnCollideEnd:function(i){return this.body.onCollideEndCallback=i,this},setOnCollideActive:function(i){return this.body.onCollideActiveCallback=i,this},setOnCollideWith:function(i,h){Array.isArray(i)||(i=[i]);for(var x=0;x<i.length;x++){var f=i[x].hasOwnProperty("body")?i[x].body:i[x];this.body.setOnCollideWith(f,h)}return this}};r.exports=C},51607:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),x={applyForce:function(f){return this._tempVec2.set(this.body.position.x,this.body.position.y),h.applyForce(this.body,this._tempVec2,f),this},applyForceFrom:function(f,l){return h.applyForce(this.body,f,l),this},thrust:function(f){var l=this.body.angle;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustLeft:function(f){var l=this.body.angle-Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustRight:function(f){var l=this.body.angle+Math.PI/2;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this},thrustBack:function(f){var l=this.body.angle-Math.PI;return this._tempVec2.set(f*Math.cos(l),f*Math.sin(l)),h.applyForce(this.body,{x:this.body.position.x,y:this.body.position.y},this._tempVec2),this}};r.exports=x},5436:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setFriction:function(i,h,x){return this.body.friction=i,h!==void 0&&(this.body.frictionAir=h),x!==void 0&&(this.body.frictionStatic=x),this},setFrictionAir:function(i){return this.body.frictionAir=i,this},setFrictionStatic:function(i){return this.body.frictionStatic=i,this}};r.exports=C},39858:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setIgnoreGravity:function(i){return this.body.ignoreGravity=i,this}};r.exports=C},37302:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),x=i(26099),f={setMass:function(l){return h.setMass(this.body,l),this},setDensity:function(l){return h.setDensity(this.body,l),this},centerOfMass:{get:function(){return new x(this.body.centerOfMass.x,this.body.centerOfMass.y)}}};r.exports=f},39132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={setSensor:function(i){return this.body.isSensor=i,this},isSensor:function(){return this.body.isSensor}};r.exports=C},57772:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(66280),x=i(22562),f=i(43855),l=i(95540),a=i(19496),n=i(85791),d=i(41598),c={setRectangle:function(u,v,p){return this.setBody({type:"rectangle",width:u,height:v},p)},setCircle:function(u,v){return this.setBody({type:"circle",radius:u},v)},setPolygon:function(u,v,p){return this.setBody({type:"polygon",sides:v,radius:u},p)},setTrapezoid:function(u,v,p,g){return this.setBody({type:"trapezoid",width:u,height:v,slope:p},g)},setExistingBody:function(u,v){v===void 0&&(v=!0),this.body&&this.world.remove(this.body,!0),this.body=u;for(var p=0;p<u.parts.length;p++)u.parts[p].gameObject=this;var g=this;if(u.destroy=function(){g.world.remove(g.body,!0),g.body.gameObject=null},v&&(this.world.has(u)&&this.world.remove(u,!0),this.world.add(u)),this._originComponent){var m=u.render.sprite.xOffset,T=u.render.sprite.yOffset,P=u.centerOfMass.x,E=u.centerOfMass.y;if(f(P,.5)&&f(E,.5))this.setOrigin(m+.5,T+.5);else{var M=u.centerOffset.x,w=u.centerOffset.y;this.setOrigin(m+M/this.displayWidth,T+w/this.displayHeight)}}return this},setBody:function(u,v){if(!u)return this;var p;typeof u=="string"&&(u={type:u});var g=l(u,"type","rectangle"),m=l(u,"x",this._tempVec2.x),T=l(u,"y",this._tempVec2.y),P=l(u,"width",this.width),E=l(u,"height",this.height);switch(g){case"rectangle":p=h.rectangle(m,T,P,E,v);break;case"circle":var M=l(u,"radius",Math.max(P,E)/2),w=l(u,"maxSides",25);p=h.circle(m,T,M,v,w);break;case"trapezoid":var R=l(u,"slope",.5);p=h.trapezoid(m,T,P,E,R,v);break;case"polygon":var A=l(u,"sides",5),O=l(u,"radius",Math.max(P,E)/2);p=h.polygon(m,T,A,O,v);break;case"fromVertices":case"fromVerts":var F=l(u,"verts",null);if(F)if(typeof F=="string"&&(F=d.fromPath(F)),this.body&&!this.body.hasOwnProperty("temp"))x.setVertices(this.body,F),p=this.body;else{var L=l(u,"flagInternal",!1),b=l(u,"removeCollinear",.01),D=l(u,"minimumArea",10);p=h.fromVertices(m,T,F,v,L,b,D)}break;case"fromPhysicsEditor":p=a.parseBody(m,T,u,v);break;case"fromPhysicsTracer":p=n.parseBody(m,T,u,v);break}return p&&this.setExistingBody(p,u.addToWorld),this}};r.exports=c},38083:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(1121),x=i(53614),f=i(35810),l={setToSleep:function(){return x.set(this.body,!0),this},setAwake:function(){return x.set(this.body,!1),this},setSleepThreshold:function(a){return a===void 0&&(a=60),this.body.sleepThreshold=a,this},setSleepEvents:function(a,n){return this.setSleepStartEvent(a),this.setSleepEndEvent(n),this},setSleepStartEvent:function(a){if(a){var n=this.world;f.on(this.body,"sleepStart",function(d){n.emit(h.SLEEP_START,d,this)})}else f.off(this.body,"sleepStart");return this},setSleepEndEvent:function(a){if(a){var n=this.world;f.on(this.body,"sleepEnd",function(d){n.emit(h.SLEEP_END,d,this)})}else f.off(this.body,"sleepEnd");return this}};r.exports=l},90556:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),x={setStatic:function(f){return h.setStatic(this.body,f),this},isStatic:function(){return this.body.isStatic}};r.exports=x},85436:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),x=i(36383),f=i(86554),l=i(30954),a=4,n={x:{get:function(){return this.body.position.x},set:function(d){this._tempVec2.set(d,this.y),h.setPosition(this.body,this._tempVec2)}},y:{get:function(){return this.body.position.y},set:function(d){this._tempVec2.set(this.x,d),h.setPosition(this.body,this._tempVec2)}},scale:{get:function(){return(this._scaleX+this._scaleY)/2},set:function(d){this.setScale(d,d)}},scaleX:{get:function(){return this._scaleX},set:function(d){var c=1/this._scaleX,u=1/this._scaleY;this._scaleX=d,this._scaleX===0?this.renderFlags&=-5:this.renderFlags|=a,h.scale(this.body,c,u),h.scale(this.body,d,this._scaleY)}},scaleY:{get:function(){return this._scaleY},set:function(d){var c=1/this._scaleX,u=1/this._scaleY;this._scaleY=d,this._scaleY===0?this.renderFlags&=-5:this.renderFlags|=a,h.scale(this.body,c,u),h.scale(this.body,this._scaleX,d)}},angle:{get:function(){return l(this.body.angle*x.RAD_TO_DEG)},set:function(d){this.rotation=l(d)*x.DEG_TO_RAD}},rotation:{get:function(){return this.body.angle},set:function(d){this._rotation=f(d),h.setAngle(this.body,this._rotation)}},setPosition:function(d,c){return d===void 0&&(d=0),c===void 0&&(c=d),this._tempVec2.set(d,c),h.setPosition(this.body,this._tempVec2),this},setRotation:function(d){return d===void 0&&(d=0),this._rotation=f(d),h.setAngle(this.body,d),this},setFixedRotation:function(){return h.setInertia(this.body,1/0),this},setAngle:function(d){return d===void 0&&(d=0),this.angle=d,h.setAngle(this.body,this.rotation),this},setScale:function(d,c,u){d===void 0&&(d=1),c===void 0&&(c=d);var v=1/this._scaleX,p=1/this._scaleY;return this._scaleX=d,this._scaleY=c,h.scale(this.body,v,p,u),h.scale(this.body,d,c,u),this}};r.exports=n},42081:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(22562),x={setVelocityX:function(f){return this._tempVec2.set(f,this.body.velocity.y),h.setVelocity(this.body,this._tempVec2),this},setVelocityY:function(f){return this._tempVec2.set(this.body.velocity.x,f),h.setVelocity(this.body,this._tempVec2),this},setVelocity:function(f,l){return this._tempVec2.set(f,l),h.setVelocity(this.body,this._tempVec2),this},getVelocity:function(){return h.getVelocity(this.body)},setAngularVelocity:function(f){return h.setAngularVelocity(this.body,f),this},getAngularVelocity:function(){return h.getAngularVelocity(this.body)},setAngularSpeed:function(f){return h.setAngularSpeed(this.body,f),this},getAngularSpeed:function(){return h.getAngularSpeed(this.body)}};r.exports=x},31884:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Bounce:i(70410),Collision:i(66968),Force:i(51607),Friction:i(5436),Gravity:i(39858),Mass:i(37302),Sensor:i(39132),SetBody:i(57772),Sleep:i(38083),Static:i(90556),Transform:i(85436),Velocity:i(42081)}},85608:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afteradd"},1213:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterremove"},25968:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="afterupdate"},67205:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeadd"},39438:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeremove"},44823:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="beforeupdate"},92593:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionactive"},60128:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionend"},76861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="collisionstart"},92362:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragend"},76408:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="drag"},93971:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="dragstart"},5656:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},47861:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},79099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepend"},35906:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleepstart"},1121:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_ADD:i(85608),AFTER_REMOVE:i(1213),AFTER_UPDATE:i(25968),BEFORE_ADD:i(67205),BEFORE_REMOVE:i(39438),BEFORE_UPDATE:i(44823),COLLISION_ACTIVE:i(92593),COLLISION_END:i(60128),COLLISION_START:i(76861),DRAG_END:i(92362),DRAG:i(76408),DRAG_START:i(93971),PAUSE:i(5656),RESUME:i(47861),SLEEP_END:i(79099),SLEEP_START:i(35906)}},3875:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BodyBounds:i(68174),Components:i(31884),Events:i(1121),Factory:i(28137),MatterGameObject:i(75803),Image:i(23181),Matter:i(19933),MatterPhysics:i(42045),PolyDecomp:i(55973),Sprite:i(34803),TileBody:i(73834),PhysicsEditorParser:i(19496),PhysicsJSONParser:i(85791),PointerConstraint:i(98713),World:i(68243)}},22562:(r,C,i)=>{var h={};r.exports=h;var x=i(41598),f=i(31725),l=i(53614),a=i(53402),n=i(15647),d=i(66615);(function(){h._timeCorrection=!0,h._inertiaScale=4,h._nextCollidingGroupId=1,h._nextNonCollidingGroupId=-1,h._nextCategory=1,h._baseDelta=16.666666666666668,h.create=function(u){var v={id:a.nextId(),type:"body",label:"Body",parts:[],plugin:{},attractors:u.attractors||[],wrapBounds:null,angle:0,vertices:null,position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inverseMass:0,inertia:0,deltaTime:16.666666666666668,inverseInertia:0,_original:null,render:{visible:!0,opacity:1,sprite:{xOffset:0,yOffset:0},fillColor:null,fillOpacity:null,lineColor:null,lineOpacity:null,lineThickness:null},gameObject:null,scale:{x:1,y:1},centerOfMass:{x:0,y:0},centerOffset:{x:0,y:0},gravityScale:{x:1,y:1},ignoreGravity:!1,ignorePointer:!1,onCollideCallback:null,onCollideEndCallback:null,onCollideActiveCallback:null,onCollideWith:{}};!u.hasOwnProperty("position")&&u.hasOwnProperty("vertices")?u.position=x.centre(u.vertices):u.hasOwnProperty("vertices")||(v.vertices=x.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"));var p=a.extend(v,u);return c(p,u),p.setOnCollideWith=function(g,m){return m?this.onCollideWith[g.id]=m:delete this.onCollideWith[g.id],this},p},h.nextGroup=function(u){return u?h._nextNonCollidingGroupId--:h._nextCollidingGroupId++},h.nextCategory=function(){return h._nextCategory=h._nextCategory<<1,h._nextCategory};var c=function(u,v){if(v=v||{},h.set(u,{bounds:u.bounds||n.create(u.vertices),positionPrev:u.positionPrev||f.clone(u.position),anglePrev:u.anglePrev||u.angle,vertices:u.vertices,parts:u.parts||[u],isStatic:u.isStatic,isSleeping:u.isSleeping,parent:u.parent||u}),x.rotate(u.vertices,u.angle,u.position),d.rotate(u.axes,u.angle),n.update(u.bounds,u.vertices,u.velocity),h.set(u,{axes:v.axes||u.axes,area:v.area||u.area,mass:v.mass||u.mass,inertia:v.inertia||u.inertia}),u.parts.length===1){var p=u.bounds,g=u.centerOfMass,m=u.centerOffset,T=p.max.x-p.min.x,P=p.max.y-p.min.y;g.x=-(p.min.x-u.position.x)/T,g.y=-(p.min.y-u.position.y)/P,m.x=T*g.x,m.y=P*g.y}};h.set=function(u,v,p){var g;typeof v=="string"&&(g=v,v={},v[g]=p);for(g in v)if(Object.prototype.hasOwnProperty.call(v,g))switch(p=v[g],g){case"isStatic":h.setStatic(u,p);break;case"isSleeping":l.set(u,p);break;case"mass":h.setMass(u,p);break;case"density":h.setDensity(u,p);break;case"inertia":h.setInertia(u,p);break;case"vertices":h.setVertices(u,p);break;case"position":h.setPosition(u,p);break;case"angle":h.setAngle(u,p);break;case"velocity":h.setVelocity(u,p);break;case"angularVelocity":h.setAngularVelocity(u,p);break;case"speed":h.setSpeed(u,p);break;case"angularSpeed":h.setAngularSpeed(u,p);break;case"parts":h.setParts(u,p);break;case"centre":h.setCentre(u,p);break;default:u[g]=p}},h.setStatic=function(u,v){for(var p=0;p<u.parts.length;p++){var g=u.parts[p];v?(g.isStatic||(g._original={restitution:g.restitution,friction:g.friction,mass:g.mass,inertia:g.inertia,density:g.density,inverseMass:g.inverseMass,inverseInertia:g.inverseInertia}),g.restitution=0,g.friction=1,g.mass=g.inertia=g.density=1/0,g.inverseMass=g.inverseInertia=0,g.positionPrev.x=g.position.x,g.positionPrev.y=g.position.y,g.anglePrev=g.angle,g.angularVelocity=0,g.speed=0,g.angularSpeed=0,g.motion=0):g._original&&(g.restitution=g._original.restitution,g.friction=g._original.friction,g.mass=g._original.mass,g.inertia=g._original.inertia,g.density=g._original.density,g.inverseMass=g._original.inverseMass,g.inverseInertia=g._original.inverseInertia,g._original=null),g.isStatic=v}},h.setMass=function(u,v){var p=u.inertia/(u.mass/6);u.inertia=p*(v/6),u.inverseInertia=1/u.inertia,u.mass=v,u.inverseMass=1/u.mass,u.density=u.mass/u.area},h.setDensity=function(u,v){h.setMass(u,v*u.area),u.density=v},h.setInertia=function(u,v){u.inertia=v,u.inverseInertia=1/u.inertia},h.setVertices=function(u,v){v[0].body===u?u.vertices=v:u.vertices=x.create(v,u),u.axes=d.fromVertices(u.vertices),u.area=x.area(u.vertices),h.setMass(u,u.density*u.area);var p=x.centre(u.vertices);x.translate(u.vertices,p,-1),h.setInertia(u,h._inertiaScale*x.inertia(u.vertices,u.mass)),x.translate(u.vertices,u.position),n.update(u.bounds,u.vertices,u.velocity)},h.setParts=function(u,v,p){var g;for(v=v.slice(0),u.parts.length=0,u.parts.push(u),u.parent=u,g=0;g<v.length;g++){var m=v[g];m!==u&&(m.parent=u,u.parts.push(m))}if(u.parts.length!==1){if(p=typeof p<"u"?p:!0,p){var T=[];for(g=0;g<v.length;g++)T=T.concat(v[g].vertices);x.clockwiseSort(T);var P=x.hull(T),E=x.centre(P);h.setVertices(u,P),x.translate(u.vertices,E)}var M=h._totalProperties(u),w=M.centre.x,R=M.centre.y,A=u.bounds,O=u.centerOfMass,F=u.centerOffset;n.update(A,u.vertices,u.velocity),O.x=-(A.min.x-w)/(A.max.x-A.min.x),O.y=-(A.min.y-R)/(A.max.y-A.min.y),F.x=w,F.y=R,u.area=M.area,u.parent=u,u.position.x=w,u.position.y=R,u.positionPrev.x=w,u.positionPrev.y=R,h.setMass(u,M.mass),h.setInertia(u,M.inertia),h.setPosition(u,M.centre)}},h.setCentre=function(u,v,p){p?(u.positionPrev.x+=v.x,u.positionPrev.y+=v.y,u.position.x+=v.x,u.position.y+=v.y):(u.positionPrev.x=v.x-(u.position.x-u.positionPrev.x),u.positionPrev.y=v.y-(u.position.y-u.positionPrev.y),u.position.x=v.x,u.position.y=v.y)},h.setPosition=function(u,v,p){var g=f.sub(v,u.position);p?(u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.velocity.x=g.x,u.velocity.y=g.y,u.speed=f.magnitude(g)):(u.positionPrev.x+=g.x,u.positionPrev.y+=g.y);for(var m=0;m<u.parts.length;m++){var T=u.parts[m];T.position.x+=g.x,T.position.y+=g.y,x.translate(T.vertices,g),n.update(T.bounds,T.vertices,u.velocity)}},h.setAngle=function(u,v,p){var g=v-u.angle;p?(u.anglePrev=u.angle,u.angularVelocity=g,u.angularSpeed=Math.abs(g)):u.anglePrev+=g;for(var m=0;m<u.parts.length;m++){var T=u.parts[m];T.angle+=g,x.rotate(T.vertices,g,u.position),d.rotate(T.axes,g),n.update(T.bounds,T.vertices,u.velocity),m>0&&f.rotateAbout(T.position,g,u.position,T.position)}},h.setVelocity=function(u,v){var p=u.deltaTime/h._baseDelta;u.positionPrev.x=u.position.x-v.x*p,u.positionPrev.y=u.position.y-v.y*p,u.velocity.x=(u.position.x-u.positionPrev.x)/p,u.velocity.y=(u.position.y-u.positionPrev.y)/p,u.speed=f.magnitude(u.velocity)},h.getVelocity=function(u){var v=h._baseDelta/u.deltaTime;return{x:(u.position.x-u.positionPrev.x)*v,y:(u.position.y-u.positionPrev.y)*v}},h.getSpeed=function(u){return f.magnitude(h.getVelocity(u))},h.setSpeed=function(u,v){h.setVelocity(u,f.mult(f.normalise(h.getVelocity(u)),v))},h.setAngularVelocity=function(u,v){var p=u.deltaTime/h._baseDelta;u.anglePrev=u.angle-v*p,u.angularVelocity=(u.angle-u.anglePrev)/p,u.angularSpeed=Math.abs(u.angularVelocity)},h.getAngularVelocity=function(u){return(u.angle-u.anglePrev)*h._baseDelta/u.deltaTime},h.getAngularSpeed=function(u){return Math.abs(h.getAngularVelocity(u))},h.setAngularSpeed=function(u,v){h.setAngularVelocity(u,a.sign(h.getAngularVelocity(u))*v)},h.translate=function(u,v,p){h.setPosition(u,f.add(u.position,v),p)},h.rotate=function(u,v,p,g){if(!p)h.setAngle(u,u.angle+v,g);else{var m=Math.cos(v),T=Math.sin(v),P=u.position.x-p.x,E=u.position.y-p.y;h.setPosition(u,{x:p.x+(P*m-E*T),y:p.y+(P*T+E*m)},g),h.setAngle(u,u.angle+v,g)}},h.scale=function(u,v,p,g){var m=0,T=0;g=g||u.position;for(var P=u.inertia===1/0,E=0;E<u.parts.length;E++){var M=u.parts[E];M.scale.x=v,M.scale.y=p,x.scale(M.vertices,v,p,g),M.axes=d.fromVertices(M.vertices),M.area=x.area(M.vertices),h.setMass(M,u.density*M.area),x.translate(M.vertices,{x:-M.position.x,y:-M.position.y}),h.setInertia(M,h._inertiaScale*x.inertia(M.vertices,M.mass)),x.translate(M.vertices,{x:M.position.x,y:M.position.y}),E>0&&(m+=M.area,T+=M.inertia),M.position.x=g.x+(M.position.x-g.x)*v,M.position.y=g.y+(M.position.y-g.y)*p,n.update(M.bounds,M.vertices,u.velocity)}u.parts.length>1&&(u.area=m,u.isStatic||(h.setMass(u,u.density*m),h.setInertia(u,T))),u.circleRadius&&(v===p?u.circleRadius*=v:u.circleRadius=null),P&&h.setInertia(u,1/0)},h.update=function(u,v){v=(typeof v<"u"?v:16.666666666666668)*u.timeScale;var p=v*v,g=h._timeCorrection?v/(u.deltaTime||v):1,m=1-u.frictionAir*(v/a._baseDelta),T=(u.position.x-u.positionPrev.x)*g,P=(u.position.y-u.positionPrev.y)*g;u.velocity.x=T*m+u.force.x/u.mass*p,u.velocity.y=P*m+u.force.y/u.mass*p,u.positionPrev.x=u.position.x,u.positionPrev.y=u.position.y,u.position.x+=u.velocity.x,u.position.y+=u.velocity.y,u.deltaTime=v,u.angularVelocity=(u.angle-u.anglePrev)*m*g+u.torque/u.inertia*p,u.anglePrev=u.angle,u.angle+=u.angularVelocity,u.speed=f.magnitude(u.velocity),u.angularSpeed=Math.abs(u.angularVelocity);for(var E=0;E<u.parts.length;E++){var M=u.parts[E];x.translate(M.vertices,u.velocity),E>0&&(M.position.x+=u.velocity.x,M.position.y+=u.velocity.y),u.angularVelocity!==0&&(x.rotate(M.vertices,u.angularVelocity,u.position),d.rotate(M.axes,u.angularVelocity),E>0&&f.rotateAbout(M.position,u.angularVelocity,u.position,M.position)),n.update(M.bounds,M.vertices,u.velocity)}},h.updateVelocities=function(u){var v=h._baseDelta/u.deltaTime,p=u.velocity;p.x=(u.position.x-u.positionPrev.x)*v,p.y=(u.position.y-u.positionPrev.y)*v,u.speed=Math.sqrt(p.x*p.x+p.y*p.y),u.angularVelocity=(u.angle-u.anglePrev)*v,u.angularSpeed=Math.abs(u.angularVelocity)},h.applyForce=function(u,v,p){var g={x:v.x-u.position.x,y:v.y-u.position.y};u.force.x+=p.x,u.force.y+=p.y,u.torque+=g.x*p.y-g.y*p.x},h._totalProperties=function(u){for(var v={mass:0,area:0,inertia:0,centre:{x:0,y:0}},p=u.parts.length===1?0:1;p<u.parts.length;p++){var g=u.parts[p],m=g.mass!==1/0?g.mass:1;v.mass+=m,v.area+=g.area,v.inertia+=g.inertia,v.centre=f.add(v.centre,f.mult(g.position,m))}return v.centre=f.div(v.centre,v.mass),v},h.wrap=function(u,v){var p=n.wrap(u.bounds,v);return p&&h.translate(u,p),p}})()},69351:(r,C,i)=>{var h={};r.exports=h;var x=i(35810),f=i(53402),l=i(15647),a=i(22562);(function(){h.create=function(n){return f.extend({id:f.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{},wrapBounds:null,cache:{allBodies:null,allConstraints:null,allComposites:null}},n)},h.setModified=function(n,d,c,u){if(x.trigger(n,"compositeModified",n),n.isModified=d,d&&n.cache&&(n.cache.allBodies=null,n.cache.allConstraints=null,n.cache.allComposites=null),c&&n.parent&&h.setModified(n.parent,d,c,u),u)for(var v=0;v<n.composites.length;v++){var p=n.composites[v];h.setModified(p,d,c,u)}},h.add=function(n,d){var c=[].concat(d);x.trigger(n,"beforeAdd",{object:d});for(var u=0;u<c.length;u++){var v=c[u];switch(v.type){case"body":if(v.parent!==v){f.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}h.addBody(n,v);break;case"constraint":h.addConstraint(n,v);break;case"composite":h.addComposite(n,v);break;case"mouseConstraint":h.addConstraint(n,v.constraint);break}}return x.trigger(n,"afterAdd",{object:d}),n},h.remove=function(n,d,c){var u=[].concat(d);x.trigger(n,"beforeRemove",{object:d});for(var v=0;v<u.length;v++){var p=u[v];switch(p.type){case"body":h.removeBody(n,p,c);break;case"constraint":h.removeConstraint(n,p,c);break;case"composite":h.removeComposite(n,p,c);break;case"mouseConstraint":h.removeConstraint(n,p.constraint);break}}return x.trigger(n,"afterRemove",{object:d}),n},h.addComposite=function(n,d){return n.composites.push(d),d.parent=n,h.setModified(n,!0,!0,!1),n},h.removeComposite=function(n,d,c){var u=f.indexOf(n.composites,d);if(u!==-1){var v=h.allBodies(d);h.removeCompositeAt(n,u);for(var p=0;p<v.length;p++)v[p].sleepCounter=0}if(c)for(var p=0;p<n.composites.length;p++)h.removeComposite(n.composites[p],d,!0);return n},h.removeCompositeAt=function(n,d){return n.composites.splice(d,1),h.setModified(n,!0,!0,!1),n},h.addBody=function(n,d){return n.bodies.push(d),h.setModified(n,!0,!0,!1),n},h.removeBody=function(n,d,c){var u=f.indexOf(n.bodies,d);if(u!==-1&&(h.removeBodyAt(n,u),d.sleepCounter=0),c)for(var v=0;v<n.composites.length;v++)h.removeBody(n.composites[v],d,!0);return n},h.removeBodyAt=function(n,d){return n.bodies.splice(d,1),h.setModified(n,!0,!0,!1),n},h.addConstraint=function(n,d){return n.constraints.push(d),h.setModified(n,!0,!0,!1),n},h.removeConstraint=function(n,d,c){var u=f.indexOf(n.constraints,d);if(u!==-1&&h.removeConstraintAt(n,u),c)for(var v=0;v<n.composites.length;v++)h.removeConstraint(n.composites[v],d,!0);return n},h.removeConstraintAt=function(n,d){return n.constraints.splice(d,1),h.setModified(n,!0,!0,!1),n},h.clear=function(n,d,c){if(c)for(var u=0;u<n.composites.length;u++)h.clear(n.composites[u],d,!0);return d?n.bodies=n.bodies.filter(function(v){return v.isStatic}):n.bodies.length=0,n.constraints.length=0,n.composites.length=0,h.setModified(n,!0,!0,!1),n},h.allBodies=function(n){if(n.cache&&n.cache.allBodies)return n.cache.allBodies;for(var d=[].concat(n.bodies),c=0;c<n.composites.length;c++)d=d.concat(h.allBodies(n.composites[c]));return n.cache&&(n.cache.allBodies=d),d},h.allConstraints=function(n){if(n.cache&&n.cache.allConstraints)return n.cache.allConstraints;for(var d=[].concat(n.constraints),c=0;c<n.composites.length;c++)d=d.concat(h.allConstraints(n.composites[c]));return n.cache&&(n.cache.allConstraints=d),d},h.allComposites=function(n){if(n.cache&&n.cache.allComposites)return n.cache.allComposites;for(var d=[].concat(n.composites),c=0;c<n.composites.length;c++)d=d.concat(h.allComposites(n.composites[c]));return n.cache&&(n.cache.allComposites=d),d},h.get=function(n,d,c){var u,v;switch(c){case"body":u=h.allBodies(n);break;case"constraint":u=h.allConstraints(n);break;case"composite":u=h.allComposites(n).concat(n);break}return u?(v=u.filter(function(p){return p.id.toString()===d.toString()}),v.length===0?null:v[0]):null},h.move=function(n,d,c){return h.remove(n,d),h.add(c,d),n},h.rebase=function(n){for(var d=h.allBodies(n).concat(h.allConstraints(n)).concat(h.allComposites(n)),c=0;c<d.length;c++)d[c].id=f.nextId();return n},h.translate=function(n,d,c){for(var u=c?h.allBodies(n):n.bodies,v=0;v<u.length;v++)a.translate(u[v],d);return n},h.rotate=function(n,d,c,u){for(var v=Math.cos(d),p=Math.sin(d),g=u?h.allBodies(n):n.bodies,m=0;m<g.length;m++){var T=g[m],P=T.position.x-c.x,E=T.position.y-c.y;a.setPosition(T,{x:c.x+(P*v-E*p),y:c.y+(P*p+E*v)}),a.rotate(T,d)}return n},h.scale=function(n,d,c,u,v){for(var p=v?h.allBodies(n):n.bodies,g=0;g<p.length;g++){var m=p[g],T=m.position.x-u.x,P=m.position.y-u.y;a.setPosition(m,{x:u.x+T*d,y:u.y+P*c}),a.scale(m,d,c)}return n},h.bounds=function(n){for(var d=h.allBodies(n),c=[],u=0;u<d.length;u+=1){var v=d[u];c.push(v.bounds.min,v.bounds.max)}return l.create(c)},h.wrap=function(n,d){var c=l.wrap(h.bounds(n),d);return c&&h.translate(n,c),c}})()},4372:(r,C,i)=>{var h={};r.exports=h;var x=i(69351);(function(){h.create=x.create,h.add=x.add,h.remove=x.remove,h.clear=x.clear,h.addComposite=x.addComposite,h.addBody=x.addBody,h.addConstraint=x.addConstraint})()},52284:(r,C,i)=>{var h={};r.exports=h;var x=i(41598),f=i(4506);(function(){var l=[],a={overlap:0,axis:null},n={overlap:0,axis:null};h.create=function(d,c){return{pair:null,collided:!1,bodyA:d,bodyB:c,parentA:d.parent,parentB:c.parent,depth:0,normal:{x:0,y:0},tangent:{x:0,y:0},penetration:{x:0,y:0},supports:[null,null],supportCount:0}},h.collides=function(d,c,u){if(h._overlapAxes(a,d.vertices,c.vertices,d.axes),a.overlap<=0||(h._overlapAxes(n,c.vertices,d.vertices,c.axes),n.overlap<=0))return null;var v=u&&u.table[f.id(d,c)],p;v?p=v.collision:(p=h.create(d,c),p.collided=!0,p.bodyA=d.id<c.id?d:c,p.bodyB=d.id<c.id?c:d,p.parentA=p.bodyA.parent,p.parentB=p.bodyB.parent),d=p.bodyA,c=p.bodyB;var g;a.overlap<n.overlap?g=a:g=n;var m=p.normal,T=p.tangent,P=p.penetration,E=p.supports,M=g.overlap,w=g.axis,R=w.x,A=w.y,O=c.position.x-d.position.x,F=c.position.y-d.position.y;R*O+A*F>=0&&(R=-R,A=-A),m.x=R,m.y=A,T.x=-A,T.y=R,P.x=R*M,P.y=A*M,p.depth=M;var L=h._findSupports(d,c,m,1),b=0;if(x.contains(d.vertices,L[0])&&(E[b++]=L[0]),x.contains(d.vertices,L[1])&&(E[b++]=L[1]),b<2){var D=h._findSupports(c,d,m,-1);x.contains(c.vertices,D[0])&&(E[b++]=D[0]),b<2&&x.contains(c.vertices,D[1])&&(E[b++]=D[1])}return b===0&&(E[b++]=L[0]),p.supportCount=b,p},h._overlapAxes=function(d,c,u,v){var p=c.length,g=u.length,m=c[0].x,T=c[0].y,P=u[0].x,E=u[0].y,M=v.length,w=Number.MAX_VALUE,R=0,A,O,F,L,b,D;for(b=0;b<M;b++){var I=v[b],k=I.x,X=I.y,W=m*k+T*X,Y=P*k+E*X,N=W,V=Y;for(D=1;D<p;D+=1)L=c[D].x*k+c[D].y*X,L>N?N=L:L<W&&(W=L);for(D=1;D<g;D+=1)L=u[D].x*k+u[D].y*X,L>V?V=L:L<Y&&(Y=L);if(O=N-Y,F=V-W,A=O<F?O:F,A<w&&(w=A,R=b,A<=0))break}d.axis=v[R],d.overlap=w},h._findSupports=function(d,c,u,v){var p=c.vertices,g=p.length,m=d.position.x,T=d.position.y,P=u.x*v,E=u.y*v,M=p[0],w=M,R=P*(m-w.x)+E*(T-w.y),A,O,F;for(F=1;F<g;F+=1)w=p[F],O=P*(m-w.x)+E*(T-w.y),O<R&&(R=O,M=w);return A=p[(g+M.index-1)%g],R=P*(m-A.x)+E*(T-A.y),w=p[(M.index+1)%g],P*(m-w.x)+E*(T-w.y)<R?(l[0]=M,l[1]=w,l):(l[0]=M,l[1]=A,l)}})()},43424:r=>{var C={};r.exports=C,function(){C.create=function(i){return{vertex:i,normalImpulse:0,tangentImpulse:0}}}()},81388:(r,C,i)=>{var h={};r.exports=h;var x=i(53402),f=i(52284);(function(){h.create=function(l){var a={bodies:[],collisions:[],pairs:null};return x.extend(a,l)},h.setBodies=function(l,a){l.bodies=a.slice(0)},h.clear=function(l){l.bodies=[],l.collisions=[]},h.collisions=function(l){var a=l.pairs,n=l.bodies,d=n.length,c=h.canCollide,u=f.collides,v=l.collisions,p=0,g,m;for(n.sort(h._compareBoundsX),g=0;g<d;g++){var T=n[g],P=T.bounds,E=T.bounds.max.x,M=T.bounds.max.y,w=T.bounds.min.y,R=T.isStatic||T.isSleeping,A=T.parts.length,O=A===1;for(m=g+1;m<d;m++){var F=n[m],L=F.bounds;if(L.min.x>E)break;if(!(M<L.min.y||w>L.max.y)&&!(R&&(F.isStatic||F.isSleeping))&&c(T.collisionFilter,F.collisionFilter)){var b=F.parts.length;if(O&&b===1){var D=u(T,F,a);D&&(v[p++]=D)}else for(var I=A>1?1:0,k=b>1?1:0,X=I;X<A;X++)for(var W=T.parts[X],P=W.bounds,Y=k;Y<b;Y++){var N=F.parts[Y],L=N.bounds;if(!(P.min.x>L.max.x||P.max.x<L.min.x||P.max.y<L.min.y||P.min.y>L.max.y)){var D=u(W,N,a);D&&(v[p++]=D)}}}}}return v.length!==p&&(v.length=p),v},h.canCollide=function(l,a){return l.group===a.group&&l.group!==0?l.group>0:(l.mask&a.category)!==0&&(a.mask&l.category)!==0},h._compareBoundsX=function(l,a){return l.bounds.min.x-a.bounds.min.x}})()},4506:(r,C,i)=>{var h={};r.exports=h;var x=i(43424);(function(){h.create=function(f,l){var a=f.bodyA,n=f.bodyB,d={id:h.id(a,n),bodyA:a,bodyB:n,collision:f,contacts:[x.create(),x.create()],contactCount:0,separation:0,isActive:!0,isSensor:a.isSensor||n.isSensor,timeCreated:l,timeUpdated:l,inverseMass:0,friction:0,frictionStatic:0,restitution:0,slop:0};return h.update(d,f,l),d},h.update=function(f,l,a){var n=l.supports,d=l.supportCount,c=f.contacts,u=l.parentA,v=l.parentB;f.isActive=!0,f.timeUpdated=a,f.collision=l,f.separation=l.depth,f.inverseMass=u.inverseMass+v.inverseMass,f.friction=u.friction<v.friction?u.friction:v.friction,f.frictionStatic=u.frictionStatic>v.frictionStatic?u.frictionStatic:v.frictionStatic,f.restitution=u.restitution>v.restitution?u.restitution:v.restitution,f.slop=u.slop>v.slop?u.slop:v.slop,f.contactCount=d,l.pair=f;var p=n[0],g=c[0],m=n[1],T=c[1];(T.vertex===p||g.vertex===m)&&(c[1]=g,c[0]=g=T,T=c[1]),g.vertex=p,T.vertex=m},h.setActive=function(f,l,a){l?(f.isActive=!0,f.timeUpdated=a):(f.isActive=!1,f.contactCount=0)},h.id=function(f,l){return f.id<l.id?f.id.toString(36)+":"+l.id.toString(36):l.id.toString(36)+":"+f.id.toString(36)}})()},99561:(r,C,i)=>{var h={};r.exports=h;var x=i(4506),f=i(53402);(function(){h.create=function(l){return f.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},l)},h.update=function(l,a,n){var d=x.update,c=x.create,u=x.setActive,v=l.table,p=l.list,g=p.length,m=g,T=l.collisionStart,P=l.collisionEnd,E=l.collisionActive,M=a.length,w=0,R=0,A=0,O,F,L;for(L=0;L<M;L++)O=a[L],F=O.pair,F?(F.isActive&&(E[A++]=F),d(F,O,n)):(F=c(O,n),v[F.id]=F,T[w++]=F,p[m++]=F);for(m=0,g=p.length,L=0;L<g;L++)F=p[L],F.timeUpdated>=n?p[m++]=F:(u(F,!1,n),F.collision.bodyA.sleepCounter>0&&F.collision.bodyB.sleepCounter>0?p[m++]=F:(P[R++]=F,delete v[F.id]));p.length!==m&&(p.length=m),T.length!==w&&(T.length=w),P.length!==R&&(P.length=R),E.length!==A&&(E.length=A)},h.clear=function(l){return l.table={},l.list.length=0,l.collisionStart.length=0,l.collisionActive.length=0,l.collisionEnd.length=0,l}})()},73296:(r,C,i)=>{var h={};r.exports=h;var x=i(31725),f=i(52284),l=i(15647),a=i(66280),n=i(41598);(function(){h.collides=function(d,c){for(var u=[],v=c.length,p=d.bounds,g=f.collides,m=l.overlaps,T=0;T<v;T++){var P=c[T],E=P.parts.length,M=E===1?0:1;if(d!==P&&m(P.bounds,p))for(var w=M;w<E;w++){var R=P.parts[w];if(m(R.bounds,p)){var A=g(R,d);if(A){u.push(A);break}}}}return u},h.ray=function(d,c,u,v){v=v||1e-100;for(var p=x.angle(c,u),g=x.magnitude(x.sub(c,u)),m=(u.x+c.x)*.5,T=(u.y+c.y)*.5,P=a.rectangle(m,T,g,v,{angle:p}),E=h.collides(P,d),M=0;M<E.length;M+=1){var w=E[M];w.body=w.bodyB=w.bodyA}return E},h.region=function(d,c,u){for(var v=[],p=0;p<d.length;p++){var g=d[p],m=l.overlaps(g.bounds,c);(m&&!u||!m&&u)&&v.push(g)}return v},h.point=function(d,c){for(var u=[],v=0;v<d.length;v++){var p=d[v];if(l.contains(p.bounds,c))for(var g=p.parts.length===1?0:1;g<p.parts.length;g++){var m=p.parts[g];if(l.contains(m.bounds,c)&&n.contains(m.vertices,c)){u.push(p);break}}}return u}})()},66272:(r,C,i)=>{var h={};r.exports=h;var x=i(41598),f=i(53402),l=i(15647);(function(){h._restingThresh=2,h._restingThreshTangent=Math.sqrt(6),h._positionDampen=.9,h._positionWarming=.8,h._frictionNormalMultiplier=5,h._frictionMaxStatic=Number.MAX_VALUE,h.preSolvePosition=function(a){var n,d,c,u=a.length;for(n=0;n<u;n++)d=a[n],d.isActive&&(c=d.contactCount,d.collision.parentA.totalContacts+=c,d.collision.parentB.totalContacts+=c)},h.solvePosition=function(a,n,d){var c,u,v,p,g,m,T,P,E=h._positionDampen*(d||1),M=f.clamp(n/f._baseDelta,0,1),w=a.length;for(c=0;c<w;c++)u=a[c],!(!u.isActive||u.isSensor)&&(v=u.collision,p=v.parentA,g=v.parentB,m=v.normal,u.separation=v.depth+m.x*(g.positionImpulse.x-p.positionImpulse.x)+m.y*(g.positionImpulse.y-p.positionImpulse.y));for(c=0;c<w;c++)u=a[c],!(!u.isActive||u.isSensor)&&(v=u.collision,p=v.parentA,g=v.parentB,m=v.normal,P=u.separation-u.slop*M,(p.isStatic||g.isStatic)&&(P*=2),p.isStatic||p.isSleeping||(T=E/p.totalContacts,p.positionImpulse.x+=m.x*P*T,p.positionImpulse.y+=m.y*P*T),g.isStatic||g.isSleeping||(T=E/g.totalContacts,g.positionImpulse.x-=m.x*P*T,g.positionImpulse.y-=m.y*P*T))},h.postSolvePosition=function(a){for(var n=h._positionWarming,d=a.length,c=x.translate,u=l.update,v=0;v<d;v++){var p=a[v],g=p.positionImpulse,m=g.x,T=g.y,P=p.velocity;if(p.totalContacts=0,m!==0||T!==0){for(var E=0;E<p.parts.length;E++){var M=p.parts[E];c(M.vertices,g),u(M.bounds,M.vertices,P),M.position.x+=m,M.position.y+=T}p.positionPrev.x+=m,p.positionPrev.y+=T,m*P.x+T*P.y<0?(g.x=0,g.y=0):(g.x*=n,g.y*=n)}}},h.preSolveVelocity=function(a){var n=a.length,d,c;for(d=0;d<n;d++){var u=a[d];if(!(!u.isActive||u.isSensor)){var v=u.contacts,p=u.contactCount,g=u.collision,m=g.parentA,T=g.parentB,P=g.normal,E=g.tangent;for(c=0;c<p;c++){var M=v[c],w=M.vertex,R=M.normalImpulse,A=M.tangentImpulse;if(R!==0||A!==0){var O=P.x*R+E.x*A,F=P.y*R+E.y*A;m.isStatic||m.isSleeping||(m.positionPrev.x+=O*m.inverseMass,m.positionPrev.y+=F*m.inverseMass,m.anglePrev+=m.inverseInertia*((w.x-m.position.x)*F-(w.y-m.position.y)*O)),T.isStatic||T.isSleeping||(T.positionPrev.x-=O*T.inverseMass,T.positionPrev.y-=F*T.inverseMass,T.anglePrev-=T.inverseInertia*((w.x-T.position.x)*F-(w.y-T.position.y)*O))}}}}},h.solveVelocity=function(a,n){var d=n/f._baseDelta,c=d*d,u=c*d,v=-h._restingThresh*d,p=h._restingThreshTangent,g=h._frictionNormalMultiplier*d,m=h._frictionMaxStatic,T=a.length,P,E,M,w;for(M=0;M<T;M++){var R=a[M];if(!(!R.isActive||R.isSensor)){var A=R.collision,O=A.parentA,F=A.parentB,L=A.normal.x,b=A.normal.y,D=A.tangent.x,I=A.tangent.y,k=R.inverseMass,X=R.friction*R.frictionStatic*g,W=R.contacts,Y=R.contactCount,N=1/Y,V=O.position.x-O.positionPrev.x,G=O.position.y-O.positionPrev.y,B=O.angle-O.anglePrev,z=F.position.x-F.positionPrev.x,U=F.position.y-F.positionPrev.y,H=F.angle-F.anglePrev;for(w=0;w<Y;w++){var $=W[w],K=$.vertex,Z=K.x-O.position.x,J=K.y-O.position.y,Q=K.x-F.position.x,j=K.y-F.position.y,tt=V-J*B,it=G+Z*B,q=z-j*H,ht=U+Q*H,ot=tt-q,lt=it-ht,_=L*ot+b*lt,nt=D*ot+I*lt,at=R.separation+_,ct=Math.min(at,1);ct=at<0?0:ct;var Ct=ct*X;nt<-Ct||nt>Ct?(E=nt>0?nt:-nt,P=R.friction*(nt>0?1:-1)*u,P<-E?P=-E:P>E&&(P=E)):(P=nt,E=m);var Ft=Z*b-J*L,xt=Q*b-j*L,St=N/(k+O.inverseInertia*Ft*Ft+F.inverseInertia*xt*xt),Gt=(1+R.restitution)*_*St;if(P*=St,_<v)$.normalImpulse=0;else{var se=$.normalImpulse;$.normalImpulse+=Gt,$.normalImpulse>0&&($.normalImpulse=0),Gt=$.normalImpulse-se}if(nt<-p||nt>p)$.tangentImpulse=0;else{var bt=$.tangentImpulse;$.tangentImpulse+=P,$.tangentImpulse<-E&&($.tangentImpulse=-E),$.tangentImpulse>E&&($.tangentImpulse=E),P=$.tangentImpulse-bt}var Nt=L*Gt+D*P,Ut=b*Gt+I*P;O.isStatic||O.isSleeping||(O.positionPrev.x+=Nt*O.inverseMass,O.positionPrev.y+=Ut*O.inverseMass,O.anglePrev+=(Z*Ut-J*Nt)*O.inverseInertia),F.isStatic||F.isSleeping||(F.positionPrev.x-=Nt*F.inverseMass,F.positionPrev.y-=Ut*F.inverseMass,F.anglePrev-=(Q*Ut-j*Nt)*F.inverseInertia)}}}}})()},48140:(r,C,i)=>{var h={};r.exports=h;var x=i(41598),f=i(31725),l=i(53614),a=i(15647),n=i(66615),d=i(53402);(function(){h._warming=.4,h._torqueDampen=1,h._minLength=1e-6,h.create=function(c){var u=c;u.bodyA&&!u.pointA&&(u.pointA={x:0,y:0}),u.bodyB&&!u.pointB&&(u.pointB={x:0,y:0});var v=u.bodyA?f.add(u.bodyA.position,u.pointA):u.pointA,p=u.bodyB?f.add(u.bodyB.position,u.pointB):u.pointB,g=f.magnitude(f.sub(v,p));u.length=typeof u.length<"u"?u.length:g,u.id=u.id||d.nextId(),u.label=u.label||"Constraint",u.type="constraint",u.stiffness=u.stiffness||(u.length>0?1:.7),u.damping=u.damping||0,u.angularStiffness=u.angularStiffness||0,u.angleA=u.bodyA?u.bodyA.angle:u.angleA,u.angleB=u.bodyB?u.bodyB.angle:u.angleB,u.plugin={};var m={visible:!0,type:"line",anchors:!0,lineColor:null,lineOpacity:null,lineThickness:null,pinSize:null,anchorColor:null,anchorSize:null};return u.length===0&&u.stiffness>.1?(m.type="pin",m.anchors=!1):u.stiffness<.9&&(m.type="spring"),u.render=d.extend(m,u.render),u},h.preSolveAll=function(c){for(var u=0;u<c.length;u+=1){var v=c[u],p=v.constraintImpulse;v.isStatic||p.x===0&&p.y===0&&p.angle===0||(v.position.x+=p.x,v.position.y+=p.y,v.angle+=p.angle)}},h.solveAll=function(c,u){for(var v=d.clamp(u/d._baseDelta,0,1),p=0;p<c.length;p+=1){var g=c[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic;(m||T)&&h.solve(c[p],v)}for(p=0;p<c.length;p+=1)g=c[p],m=!g.bodyA||g.bodyA&&g.bodyA.isStatic,T=!g.bodyB||g.bodyB&&g.bodyB.isStatic,!m&&!T&&h.solve(c[p],v)},h.solve=function(c,u){var v=c.bodyA,p=c.bodyB,g=c.pointA,m=c.pointB;if(!(!v&&!p)){v&&!v.isStatic&&(f.rotate(g,v.angle-c.angleA,g),c.angleA=v.angle),p&&!p.isStatic&&(f.rotate(m,p.angle-c.angleB,m),c.angleB=p.angle);var T=g,P=m;if(v&&(T=f.add(v.position,g)),p&&(P=f.add(p.position,m)),!(!T||!P)){var E=f.sub(T,P),M=f.magnitude(E);M<h._minLength&&(M=h._minLength);var w=(M-c.length)/M,R=c.stiffness>=1||c.length===0,A=R?c.stiffness*u:c.stiffness*u*u,O=c.damping*u,F=f.mult(E,w*A),L=(v?v.inverseMass:0)+(p?p.inverseMass:0),b=(v?v.inverseInertia:0)+(p?p.inverseInertia:0),D=L+b,I,k,X,W,Y;if(O>0){var N=f.create();X=f.div(E,M),Y=f.sub(p&&f.sub(p.position,p.positionPrev)||N,v&&f.sub(v.position,v.positionPrev)||N),W=f.dot(X,Y)}v&&!v.isStatic&&(k=v.inverseMass/L,v.constraintImpulse.x-=F.x*k,v.constraintImpulse.y-=F.y*k,v.position.x-=F.x*k,v.position.y-=F.y*k,O>0&&(v.positionPrev.x-=O*X.x*W*k,v.positionPrev.y-=O*X.y*W*k),I=f.cross(g,F)/D*h._torqueDampen*v.inverseInertia*(1-c.angularStiffness),v.constraintImpulse.angle-=I,v.angle-=I),p&&!p.isStatic&&(k=p.inverseMass/L,p.constraintImpulse.x+=F.x*k,p.constraintImpulse.y+=F.y*k,p.position.x+=F.x*k,p.position.y+=F.y*k,O>0&&(p.positionPrev.x+=O*X.x*W*k,p.positionPrev.y+=O*X.y*W*k),I=f.cross(m,F)/D*h._torqueDampen*p.inverseInertia*(1-c.angularStiffness),p.constraintImpulse.angle+=I,p.angle+=I)}}},h.postSolveAll=function(c){for(var u=0;u<c.length;u++){var v=c[u],p=v.constraintImpulse;if(!(v.isStatic||p.x===0&&p.y===0&&p.angle===0)){l.set(v,!1);for(var g=0;g<v.parts.length;g++){var m=v.parts[g];x.translate(m.vertices,p),g>0&&(m.position.x+=p.x,m.position.y+=p.y),p.angle!==0&&(x.rotate(m.vertices,p.angle,v.position),n.rotate(m.axes,p.angle),g>0&&f.rotateAbout(m.position,p.angle,v.position,m.position)),a.update(m.bounds,m.vertices,v.velocity)}p.angle*=h._warming,p.x*=h._warming,p.y*=h._warming}}},h.pointAWorld=function(c){return{x:(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),y:(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0)}},h.pointBWorld=function(c){return{x:(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),y:(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0)}},h.currentLength=function(c){var u=(c.bodyA?c.bodyA.position.x:0)+(c.pointA?c.pointA.x:0),v=(c.bodyA?c.bodyA.position.y:0)+(c.pointA?c.pointA.y:0),p=(c.bodyB?c.bodyB.position.x:0)+(c.pointB?c.pointB.x:0),g=(c.bodyB?c.bodyB.position.y:0)+(c.pointB?c.pointB.y:0),m=u-p,T=v-g;return Math.sqrt(m*m+T*T)}})()},53402:(r,C,i)=>{var h={};r.exports=h,function(){h._baseDelta=16.666666666666668,h._nextId=0,h._seed=0,h._nowStartTime=+new Date,h._warnedOnce={},h._decomp=null,h.extend=function(f,l){var a,n;typeof l=="boolean"?(a=2,n=l):(a=1,n=!0);for(var d=a;d<arguments.length;d++){var c=arguments[d];if(c)for(var u in c)n&&c[u]&&c[u].constructor===Object&&(!f[u]||f[u].constructor===Object)?(f[u]=f[u]||{},h.extend(f[u],n,c[u])):f[u]=c[u]}return f},h.clone=function(f,l){return h.extend({},l,f)},h.keys=function(f){if(Object.keys)return Object.keys(f);var l=[];for(var a in f)l.push(a);return l},h.values=function(f){var l=[];if(Object.keys){for(var a=Object.keys(f),n=0;n<a.length;n++)l.push(f[a[n]]);return l}for(var d in f)l.push(f[d]);return l},h.get=function(f,l,a,n){l=l.split(".").slice(a,n);for(var d=0;d<l.length;d+=1)f=f[l[d]];return f},h.set=function(f,l,a,n,d){var c=l.split(".").slice(n,d);return h.get(f,l,0,-1)[c[c.length-1]]=a,a},h.shuffle=function(f){for(var l=f.length-1;l>0;l--){var a=Math.floor(h.random()*(l+1)),n=f[l];f[l]=f[a],f[a]=n}return f},h.choose=function(f){return f[Math.floor(h.random()*f.length)]},h.isElement=function(f){return typeof HTMLElement<"u"?f instanceof HTMLElement:!!(f&&f.nodeType&&f.nodeName)},h.isArray=function(f){return Object.prototype.toString.call(f)==="[object Array]"},h.isFunction=function(f){return typeof f=="function"},h.isPlainObject=function(f){return typeof f=="object"&&f.constructor===Object},h.isString=function(f){return toString.call(f)==="[object String]"},h.clamp=function(f,l,a){return f<l?l:f>a?a:f},h.sign=function(f){return f<0?-1:1},h.now=function(){if(typeof window<"u"&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return Date.now?Date.now():new Date-h._nowStartTime},h.random=function(f,l){return f=typeof f<"u"?f:0,l=typeof l<"u"?l:1,f+x()*(l-f)};var x=function(){return h._seed=(h._seed*9301+49297)%233280,h._seed/233280};h.colorToNumber=function(f){return f=f.replace("#",""),f.length==3&&(f=f.charAt(0)+f.charAt(0)+f.charAt(1)+f.charAt(1)+f.charAt(2)+f.charAt(2)),parseInt(f,16)},h.logLevel=1,h.log=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.info=function(){console&&h.logLevel>0&&h.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warn=function(){console&&h.logLevel>0&&h.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},h.warnOnce=function(){var f=Array.prototype.slice.call(arguments).join(" ");h._warnedOnce[f]||(h.warn(f),h._warnedOnce[f]=!0)},h.deprecated=function(f,l,a){f[l]=h.chain(function(){h.warnOnce("🔅 deprecated 🔅",a)},f[l])},h.nextId=function(){return h._nextId++},h.indexOf=function(f,l){if(f.indexOf)return f.indexOf(l);for(var a=0;a<f.length;a++)if(f[a]===l)return a;return-1},h.map=function(f,l){if(f.map)return f.map(l);for(var a=[],n=0;n<f.length;n+=1)a.push(l(f[n]));return a},h.topologicalSort=function(f){var l=[],a=[],n=[];for(var d in f)!a[d]&&!n[d]&&h._topologicalSort(d,a,n,f,l);return l},h._topologicalSort=function(f,l,a,n,d){var c=n[f]||[];a[f]=!0;for(var u=0;u<c.length;u+=1){var v=c[u];a[v]||l[v]||h._topologicalSort(v,l,a,n,d)}a[f]=!1,l[f]=!0,d.push(f)},h.chain=function(){for(var f=[],l=0;l<arguments.length;l+=1){var a=arguments[l];a._chained?f.push.apply(f,a._chained):f.push(a)}var n=function(){for(var d,c=new Array(arguments.length),u=0,v=arguments.length;u<v;u++)c[u]=arguments[u];for(u=0;u<f.length;u+=1){var p=f[u].apply(d,c);typeof p<"u"&&(d=p)}return d};return n._chained=f,n},h.chainPathBefore=function(f,l,a){return h.set(f,l,h.chain(a,h.get(f,l)))},h.chainPathAfter=function(f,l,a){return h.set(f,l,h.chain(h.get(f,l),a))},h.setDecomp=function(f){h._decomp=f},h.getDecomp=function(){var f=h._decomp;try{!f&&typeof window<"u"&&(f=window.decomp),!f&&typeof i.g<"u"&&(f=i.g.decomp)}catch{f=null}return f}}()},48413:(r,C,i)=>{var h={};r.exports=h;var x=i(53614),f=i(66272),l=i(81388),a=i(99561),n=i(35810),d=i(69351),c=i(48140),u=i(53402),v=i(22562);(function(){h._deltaMax=16.666666666666668,h.create=function(p){p=p||{};var g={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},gravity:{x:0,y:1,scale:.001},timing:{timestamp:0,timeScale:1,lastDelta:0,lastElapsed:0,lastUpdatesPerFrame:0}},m=u.extend(g,p);return m.world=p.world||d.create({label:"World"}),m.pairs=p.pairs||a.create(),m.detector=p.detector||l.create(),m.detector.pairs=m.pairs,m.grid={buckets:[]},m.world.gravity=m.gravity,m.broadphase=m.grid,m.metrics={},m},h.update=function(p,g){var m=u.now(),T=p.world,P=p.detector,E=p.pairs,M=p.timing,w=M.timestamp,R;g>h._deltaMax&&u.warnOnce("Matter.Engine.update: delta argument is recommended to be less than or equal to",h._deltaMax.toFixed(3),"ms."),g=typeof g<"u"?g:u._baseDelta,g*=M.timeScale,M.timestamp+=g,M.lastDelta=g;var A={timestamp:M.timestamp,delta:g};n.trigger(p,"beforeUpdate",A);var O=d.allBodies(T),F=d.allConstraints(T),L=d.allComposites(T);for(T.isModified&&(l.setBodies(P,O),d.setModified(T,!1,!1,!0)),p.enableSleeping&&x.update(O,g),h._bodiesApplyGravity(O,p.gravity),h.wrap(O,L),h.attractors(O),g>0&&h._bodiesUpdate(O,g),n.trigger(p,"beforeSolve",A),c.preSolveAll(O),R=0;R<p.constraintIterations;R++)c.solveAll(F,g);c.postSolveAll(O);var b=l.collisions(P);a.update(E,b,w),p.enableSleeping&&x.afterCollisions(E.list),E.collisionStart.length>0&&n.trigger(p,"collisionStart",{pairs:E.collisionStart,timestamp:M.timestamp,delta:g});var D=u.clamp(20/p.positionIterations,0,1);for(f.preSolvePosition(E.list),R=0;R<p.positionIterations;R++)f.solvePosition(E.list,g,D);for(f.postSolvePosition(O),c.preSolveAll(O),R=0;R<p.constraintIterations;R++)c.solveAll(F,g);for(c.postSolveAll(O),f.preSolveVelocity(E.list),R=0;R<p.velocityIterations;R++)f.solveVelocity(E.list,g);return h._bodiesUpdateVelocities(O),E.collisionActive.length>0&&n.trigger(p,"collisionActive",{pairs:E.collisionActive,timestamp:M.timestamp,delta:g}),E.collisionEnd.length>0&&n.trigger(p,"collisionEnd",{pairs:E.collisionEnd,timestamp:M.timestamp,delta:g}),h._bodiesClearForces(O),n.trigger(p,"afterUpdate",A),p.timing.lastElapsed=u.now()-m,p},h.merge=function(p,g){if(u.extend(p,g),g.world){p.world=g.world,h.clear(p);for(var m=d.allBodies(p.world),T=0;T<m.length;T++){var P=m[T];x.set(P,!1),P.id=u.nextId()}}},h.clear=function(p){a.clear(p.pairs),l.clear(p.detector)},h._bodiesClearForces=function(p){for(var g=p.length,m=0;m<g;m++){var T=p[m];T.force.x=0,T.force.y=0,T.torque=0}},h._bodiesApplyGravity=function(p,g){var m=typeof g.scale<"u"?g.scale:.001,T=p.length;if(!(g.x===0&&g.y===0||m===0))for(var P=0;P<T;P++){var E=p[P];E.ignoreGravity||E.isStatic||E.isSleeping||(E.force.y+=E.mass*g.y*m,E.force.x+=E.mass*g.x*m)}},h._bodiesUpdate=function(p,g){for(var m=p.length,T=0;T<m;T++){var P=p[T];P.isStatic||P.isSleeping||v.update(P,g)}},h._bodiesUpdateVelocities=function(p){for(var g=p.length,m=0;m<g;m++)v.updateVelocities(p[m])},h.wrap=function(p,g){for(var m=0;m<p.length;m+=1){var T=p[m];T.wrapBounds!==null&&v.wrap(T,T.wrapBounds)}for(m=0;m<g.length;m+=1){var P=g[m];P.wrapBounds!==null&&d.wrap(P,P.wrapBounds)}},h.attractors=function(p){for(var g=0;g<p.length;g++){var m=p[g],T=m.attractors;if(T&&T.length>0)for(var P=0;P<p.length;P++){var E=p[P];if(g!==P)for(var M=0;M<T.length;M++){var w=T[M],R=w;u.isFunction(w)&&(R=w(m,E)),R&&v.applyForce(E,E.position,R)}}}}})()},35810:(r,C,i)=>{var h={};r.exports=h;var x=i(53402);(function(){h.on=function(f,l,a){for(var n=l.split(" "),d,c=0;c<n.length;c++)d=n[c],f.events=f.events||{},f.events[d]=f.events[d]||[],f.events[d].push(a);return a},h.off=function(f,l,a){if(!l){f.events={};return}typeof l=="function"&&(a=l,l=x.keys(f.events).join(" "));for(var n=l.split(" "),d=0;d<n.length;d++){var c=f.events[n[d]],u=[];if(a&&c)for(var v=0;v<c.length;v++)c[v]!==a&&u.push(c[v]);f.events[n[d]]=u}},h.trigger=function(f,l,a){var n,d,c,u,v=f.events;if(v&&x.keys(v).length>0){a||(a={}),n=l.split(" ");for(var p=0;p<n.length;p++)if(d=n[p],c=v[d],c){u=x.clone(a,!1),u.name=d,u.source=f;for(var g=0;g<c.length;g++)c[g].apply(f,[u])}}}})()},6790:(r,C,i)=>{var h={};r.exports=h;var x=i(73832),f=i(53402);(function(){h.name="matter-js",h.version="0.20.0",h.uses=[],h.used=[],h.use=function(){x.use(h,Array.prototype.slice.call(arguments))},h.before=function(l,a){return l=l.replace(/^Matter./,""),f.chainPathBefore(h,l,a)},h.after=function(l,a){return l=l.replace(/^Matter./,""),f.chainPathAfter(h,l,a)}})()},73832:(r,C,i)=>{var h={};r.exports=h;var x=i(53402);(function(){h._registry={},h.register=function(f){if(h.isPlugin(f)||x.warn("Plugin.register:",h.toString(f),"does not implement all required fields."),f.name in h._registry){var l=h._registry[f.name],a=h.versionParse(f.version).number,n=h.versionParse(l.version).number;a>n?(x.warn("Plugin.register:",h.toString(l),"was upgraded to",h.toString(f)),h._registry[f.name]=f):a<n?x.warn("Plugin.register:",h.toString(l),"can not be downgraded to",h.toString(f)):f!==l&&x.warn("Plugin.register:",h.toString(f),"is already registered to different plugin object")}else h._registry[f.name]=f;return f},h.resolve=function(f){return h._registry[h.dependencyParse(f).name]},h.toString=function(f){return typeof f=="string"?f:(f.name||"anonymous")+"@"+(f.version||f.range||"0.0.0")},h.isPlugin=function(f){return f&&f.name&&f.version&&f.install},h.isUsed=function(f,l){return f.used.indexOf(l)>-1},h.isFor=function(f,l){var a=f.for&&h.dependencyParse(f.for);return!f.for||l.name===a.name&&h.versionSatisfies(l.version,a.range)},h.use=function(f,l){if(f.uses=(f.uses||[]).concat(l||[]),f.uses.length===0){x.warn("Plugin.use:",h.toString(f),"does not specify any dependencies to install.");return}for(var a=h.dependencies(f),n=x.topologicalSort(a),d=[],c=0;c<n.length;c+=1)if(n[c]!==f.name){var u=h.resolve(n[c]);if(!u){d.push("❌ "+n[c]);continue}h.isUsed(f,u.name)||(h.isFor(u,f)||(x.warn("Plugin.use:",h.toString(u),"is for",u.for,"but installed on",h.toString(f)+"."),u._warned=!0),u.install?u.install(f):(x.warn("Plugin.use:",h.toString(u),"does not specify an install function."),u._warned=!0),u._warned?(d.push("🔶 "+h.toString(u)),delete u._warned):d.push("✅ "+h.toString(u)),f.used.push(u.name))}d.length>0&&!u.silent&&x.info(d.join("  "))},h.dependencies=function(f,l){var a=h.dependencyParse(f),n=a.name;if(l=l||{},!(n in l)){f=h.resolve(f)||f,l[n]=x.map(f.uses||[],function(c){h.isPlugin(c)&&h.register(c);var u=h.dependencyParse(c),v=h.resolve(c);return v&&!h.versionSatisfies(v.version,u.range)?(x.warn("Plugin.dependencies:",h.toString(v),"does not satisfy",h.toString(u),"used by",h.toString(a)+"."),v._warned=!0,f._warned=!0):v||(x.warn("Plugin.dependencies:",h.toString(c),"used by",h.toString(a),"could not be resolved."),f._warned=!0),u.name});for(var d=0;d<l[n].length;d+=1)h.dependencies(l[n][d],l);return l}},h.dependencyParse=function(f){if(x.isString(f)){var l=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-+]+)?))?$/;return l.test(f)||x.warn("Plugin.dependencyParse:",f,"is not a valid dependency string."),{name:f.split("@")[0],range:f.split("@")[1]||"*"}}return{name:f.name,range:f.range||f.version}},h.versionParse=function(f){var l=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-+]+)?$/;l.test(f)||x.warn("Plugin.versionParse:",f,"is not a valid version or range.");var a=l.exec(f),n=Number(a[4]),d=Number(a[5]),c=Number(a[6]);return{isRange:!!(a[1]||a[2]),version:a[3],range:f,operator:a[1]||a[2]||"",major:n,minor:d,patch:c,parts:[n,d,c],prerelease:a[7],number:n*1e8+d*1e4+c}},h.versionSatisfies=function(f,l){l=l||"*";var a=h.versionParse(l),n=h.versionParse(f);if(a.isRange){if(a.operator==="*"||f==="*")return!0;if(a.operator===">")return n.number>a.number;if(a.operator===">=")return n.number>=a.number;if(a.operator==="~")return n.major===a.major&&n.minor===a.minor&&n.patch>=a.patch;if(a.operator==="^")return a.major>0?n.major===a.major&&n.number>=a.number:a.minor>0?n.minor===a.minor&&n.patch>=a.patch:n.patch===a.patch}return f===l||f==="*"}})()},13037:(r,C,i)=>{var h={};r.exports=h;var x=i(35810),f=i(48413),l=i(53402);(function(){h._maxFrameDelta=66.66666666666667,h._frameDeltaFallback=16.666666666666668,h._timeBufferMargin=1.5,h._elapsedNextEstimate=1,h._smoothingLowerBound=.1,h._smoothingUpperBound=.9,h.create=function(n){var d={delta:16.666666666666668,frameDelta:null,frameDeltaSmoothing:!0,frameDeltaSnapping:!0,frameDeltaHistory:[],frameDeltaHistorySize:100,frameRequestId:null,timeBuffer:0,timeLastTick:null,maxUpdates:null,maxFrameTime:33.333333333333336,lastUpdatesDeferred:0,enabled:!0},c=l.extend(d,n);return c.fps=0,c},h.run=function(n,d){return n.timeBuffer=h._frameDeltaFallback,function c(u){n.frameRequestId=h._onNextFrame(n,c),u&&n.enabled&&h.tick(n,d,u)}(),n},h.tick=function(n,d,c){var u=l.now(),v=n.delta,p=0,g=c-n.timeLastTick;if((!g||!n.timeLastTick||g>Math.max(h._maxFrameDelta,n.maxFrameTime))&&(g=n.frameDelta||h._frameDeltaFallback),n.frameDeltaSmoothing){n.frameDeltaHistory.push(g),n.frameDeltaHistory=n.frameDeltaHistory.slice(-n.frameDeltaHistorySize);var m=n.frameDeltaHistory.slice(0).sort(),T=n.frameDeltaHistory.slice(m.length*h._smoothingLowerBound,m.length*h._smoothingUpperBound),P=a(T);g=P||g}n.frameDeltaSnapping&&(g=1e3/Math.round(1e3/g)),n.frameDelta=g,n.timeLastTick=c,n.timeBuffer+=n.frameDelta,n.timeBuffer=l.clamp(n.timeBuffer,0,n.frameDelta+v*h._timeBufferMargin),n.lastUpdatesDeferred=0;var E=n.maxUpdates||Math.ceil(n.maxFrameTime/v),M={timestamp:d.timing.timestamp};x.trigger(n,"beforeTick",M),x.trigger(n,"tick",M);for(var w=l.now();v>0&&n.timeBuffer>=v*h._timeBufferMargin;){x.trigger(n,"beforeUpdate",M),f.update(d,v),x.trigger(n,"afterUpdate",M),n.timeBuffer-=v,p+=1;var R=l.now()-u,A=l.now()-w,O=R+h._elapsedNextEstimate*A/p;if(p>=E||O>n.maxFrameTime){n.lastUpdatesDeferred=Math.round(Math.max(0,n.timeBuffer/v-h._timeBufferMargin));break}}d.timing.lastUpdatesPerFrame=p,x.trigger(n,"afterTick",M),n.frameDeltaHistory.length>=100&&(n.lastUpdatesDeferred&&Math.round(n.frameDelta/v)>E?l.warnOnce("Matter.Runner: runner reached runner.maxUpdates, see docs."):n.lastUpdatesDeferred&&l.warnOnce("Matter.Runner: runner reached runner.maxFrameTime, see docs."),typeof n.isFixed<"u"&&l.warnOnce("Matter.Runner: runner.isFixed is now redundant, see docs."),(n.deltaMin||n.deltaMax)&&l.warnOnce("Matter.Runner: runner.deltaMin and runner.deltaMax were removed, see docs."),n.fps!==0&&l.warnOnce("Matter.Runner: runner.fps was replaced by runner.delta, see docs."))},h.stop=function(n){h._cancelNextFrame(n)},h._onNextFrame=function(n,d){if(typeof window<"u"&&window.requestAnimationFrame)n.frameRequestId=window.requestAnimationFrame(d);else throw new Error("Matter.Runner: missing required global window.requestAnimationFrame.");return n.frameRequestId},h._cancelNextFrame=function(n){if(typeof window<"u"&&window.cancelAnimationFrame)window.cancelAnimationFrame(n.frameRequestId);else throw new Error("Matter.Runner: missing required global window.cancelAnimationFrame.")};var a=function(n){for(var d=0,c=n.length,u=0;u<c;u+=1)d+=n[u];return d/c||0};h._mean=a})()},53614:(r,C,i)=>{var h={};r.exports=h;var x=i(22562),f=i(35810),l=i(53402);(function(){h._motionWakeThreshold=.18,h._motionSleepThreshold=.08,h._minBias=.9,h.update=function(a,n){for(var d=n/l._baseDelta,c=h._motionSleepThreshold,u=0;u<a.length;u++){var v=a[u],p=x.getSpeed(v),g=x.getAngularSpeed(v),m=p*p+g*g;if(v.force.x!==0||v.force.y!==0){h.set(v,!1);continue}var T=Math.min(v.motion,m),P=Math.max(v.motion,m);v.motion=h._minBias*T+(1-h._minBias)*P,v.sleepThreshold>0&&v.motion<c?(v.sleepCounter+=1,v.sleepCounter>=v.sleepThreshold/d&&h.set(v,!0)):v.sleepCounter>0&&(v.sleepCounter-=1)}},h.afterCollisions=function(a){for(var n=h._motionSleepThreshold,d=0;d<a.length;d++){var c=a[d];if(c.isActive){var u=c.collision,v=u.bodyA.parent,p=u.bodyB.parent;if(!(v.isSleeping&&p.isSleeping||v.isStatic||p.isStatic)&&(v.isSleeping||p.isSleeping)){var g=v.isSleeping&&!v.isStatic?v:p,m=g===v?p:v;!g.isStatic&&m.motion>n&&h.set(g,!1)}}}},h.set=function(a,n){var d=a.isSleeping;n?(a.isSleeping=!0,a.sleepCounter=a.sleepThreshold,a.positionImpulse.x=0,a.positionImpulse.y=0,a.positionPrev.x=a.position.x,a.positionPrev.y=a.position.y,a.anglePrev=a.angle,a.speed=0,a.angularSpeed=0,a.motion=0,d||f.trigger(a,"sleepStart")):(a.isSleeping=!1,a.sleepCounter=0,d&&f.trigger(a,"sleepEnd"))}})()},66280:(r,C,i)=>{var h={};r.exports=h;var x=i(41598),f=i(53402),l=i(22562),a=i(15647),n=i(31725);(function(){h.rectangle=function(d,c,u,v,p){p=p||{};var g={label:"Rectangle Body",position:{x:d,y:c},vertices:x.fromPath("L 0 0 L "+u+" 0 L "+u+" "+v+" L 0 "+v)};if(p.chamfer){var m=p.chamfer;g.vertices=x.chamfer(g.vertices,m.radius,m.quality,m.qualityMin,m.qualityMax),delete p.chamfer}return l.create(f.extend({},g,p))},h.trapezoid=function(d,c,u,v,p,g){g=g||{},p>=1&&f.warn("Bodies.trapezoid: slope parameter must be < 1."),p*=.5;var m=(1-p*2)*u,T=u*p,P=T+m,E=P+T,M;p<.5?M="L 0 0 L "+T+" "+-v+" L "+P+" "+-v+" L "+E+" 0":M="L 0 0 L "+P+" "+-v+" L "+E+" 0";var w={label:"Trapezoid Body",position:{x:d,y:c},vertices:x.fromPath(M)};if(g.chamfer){var R=g.chamfer;w.vertices=x.chamfer(w.vertices,R.radius,R.quality,R.qualityMin,R.qualityMax),delete g.chamfer}return l.create(f.extend({},w,g))},h.circle=function(d,c,u,v,p){v=v||{};var g={label:"Circle Body",circleRadius:u};p=p||25;var m=Math.ceil(Math.max(10,Math.min(p,u)));return m%2===1&&(m+=1),h.polygon(d,c,m,u,f.extend({},g,v))},h.polygon=function(d,c,u,v,p){if(p=p||{},u<3)return h.circle(d,c,v,p);for(var g=2*Math.PI/u,m="",T=g*.5,P=0;P<u;P+=1){var E=T+P*g,M=Math.cos(E)*v,w=Math.sin(E)*v;m+="L "+M.toFixed(3)+" "+w.toFixed(3)+" "}var R={label:"Polygon Body",position:{x:d,y:c},vertices:x.fromPath(m)};if(p.chamfer){var A=p.chamfer;R.vertices=x.chamfer(R.vertices,A.radius,A.quality,A.qualityMin,A.qualityMax),delete p.chamfer}return l.create(f.extend({},R,p))},h.fromVertices=function(d,c,u,v,p,g,m,T){var P=f.getDecomp(),E,M,w,R,A,O,F,L,b,D,I;for(E=!!(P&&P.quickDecomp),v=v||{},w=[],p=typeof p<"u"?p:!1,g=typeof g<"u"?g:.01,m=typeof m<"u"?m:10,T=typeof T<"u"?T:.01,f.isArray(u[0])||(u=[u]),D=0;D<u.length;D+=1)if(O=u[D],R=x.isConvex(O),A=!R,A&&!E&&f.warnOnce("Bodies.fromVertices: Install the 'poly-decomp' library and use Common.setDecomp or provide 'decomp' as a global to decompose concave vertices."),R||!E)R?O=x.clockwiseSort(O):O=x.hull(O),w.push({position:{x:d,y:c},vertices:O});else{var k=O.map(function($){return[$.x,$.y]});P.makeCCW(k),g!==!1&&P.removeCollinearPoints(k,g),T!==!1&&P.removeDuplicatePoints&&P.removeDuplicatePoints(k,T);var X=P.quickDecomp(k);for(F=0;F<X.length;F++){var W=X[F],Y=W.map(function($){return{x:$[0],y:$[1]}});m>0&&x.area(Y)<m||w.push({position:x.centre(Y),vertices:Y})}}for(F=0;F<w.length;F++)w[F]=l.create(f.extend(w[F],v));if(p){var N=5;for(F=0;F<w.length;F++){var V=w[F];for(L=F+1;L<w.length;L++){var G=w[L];if(a.overlaps(V.bounds,G.bounds)){var B=V.vertices,z=G.vertices;for(b=0;b<V.vertices.length;b++)for(I=0;I<G.vertices.length;I++){var U=n.magnitudeSquared(n.sub(B[(b+1)%B.length],z[I])),H=n.magnitudeSquared(n.sub(B[b],z[(I+1)%z.length]));U<N&&H<N&&(B[b].isInternal=!0,z[I].isInternal=!0)}}}}}return w.length>1?(M=l.create(f.extend({parts:w.slice(0)},v)),l.setPosition(M,{x:d,y:c}),M):w[0]},h.flagCoincidentParts=function(d,c){c===void 0&&(c=5);for(var u=0;u<d.length;u++)for(var v=d[u],p=u+1;p<d.length;p++){var g=d[p];if(a.overlaps(v.bounds,g.bounds))for(var m=v.vertices,T=g.vertices,P=0;P<v.vertices.length;P++)for(var E=0;E<g.vertices.length;E++){var M=n.magnitudeSquared(n.sub(m[(P+1)%m.length],T[E])),w=n.magnitudeSquared(n.sub(m[P],T[(E+1)%T.length]));M<c&&w<c&&(m[P].isInternal=!0,T[E].isInternal=!0)}}return d}})()},74116:(r,C,i)=>{var h={};r.exports=h;var x=i(69351),f=i(48140),l=i(53402),a=i(22562),n=i(66280);(function(){h.stack=function(d,c,u,v,p,g,m){for(var T=x.create({label:"Stack"}),P=d,E=c,M,w=0,R=0;R<v;R++){for(var A=0,O=0;O<u;O++){var F=m(P,E,O,R,M,w);if(F){var L=F.bounds.max.y-F.bounds.min.y,b=F.bounds.max.x-F.bounds.min.x;L>A&&(A=L),a.translate(F,{x:b*.5,y:L*.5}),P=F.bounds.max.x+p,x.addBody(T,F),M=F,w+=1}else P+=p}E+=A+g,P=d}return T},h.chain=function(d,c,u,v,p,g){for(var m=d.bodies,T=1;T<m.length;T++){var P=m[T-1],E=m[T],M=P.bounds.max.y-P.bounds.min.y,w=P.bounds.max.x-P.bounds.min.x,R=E.bounds.max.y-E.bounds.min.y,A=E.bounds.max.x-E.bounds.min.x,O={bodyA:P,pointA:{x:w*c,y:M*u},bodyB:E,pointB:{x:A*v,y:R*p}},F=l.extend(O,g);x.addConstraint(d,f.create(F))}return d.label+=" Chain",d},h.mesh=function(d,c,u,v,p){var g=d.bodies,m,T,P,E,M;for(m=0;m<u;m++){for(T=1;T<c;T++)P=g[T-1+m*c],E=g[T+m*c],x.addConstraint(d,f.create(l.extend({bodyA:P,bodyB:E},p)));if(m>0)for(T=0;T<c;T++)P=g[T+(m-1)*c],E=g[T+m*c],x.addConstraint(d,f.create(l.extend({bodyA:P,bodyB:E},p))),v&&T>0&&(M=g[T-1+(m-1)*c],x.addConstraint(d,f.create(l.extend({bodyA:M,bodyB:E},p)))),v&&T<c-1&&(M=g[T+1+(m-1)*c],x.addConstraint(d,f.create(l.extend({bodyA:M,bodyB:E},p))))}return d.label+=" Mesh",d},h.pyramid=function(d,c,u,v,p,g,m){return h.stack(d,c,u,v,p,g,function(T,P,E,M,w,R){var A=Math.min(v,Math.ceil(u/2)),O=w?w.bounds.max.x-w.bounds.min.x:0;if(!(M>A)){M=A-M;var F=M,L=u-1-M;if(!(E<F||E>L)){R===1&&a.translate(w,{x:(E+(u%2===1?1:-1))*O,y:0});var b=w?E*O:0;return m(d+b+E*p,P,E,M,w,R)}}})},h.newtonsCradle=function(d,c,u,v,p){for(var g=x.create({label:"Newtons Cradle"}),m=0;m<u;m++){var T=1.9,P=n.circle(d+m*(v*T),c+p,v,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),E=f.create({pointA:{x:d+m*(v*T),y:c},bodyB:P});x.addBody(g,P),x.addConstraint(g,E)}return g},h.car=function(d,c,u,v,p){var g=a.nextGroup(!0),m=20,T=-u*.5+m,P=u*.5-m,E=0,M=x.create({label:"Car"}),w=n.rectangle(d,c,u,v,{collisionFilter:{group:g},chamfer:{radius:v*.5},density:2e-4}),R=n.circle(d+T,c+E,p,{collisionFilter:{group:g},friction:.8}),A=n.circle(d+P,c+E,p,{collisionFilter:{group:g},friction:.8}),O=f.create({bodyB:w,pointB:{x:T,y:E},bodyA:R,stiffness:1,length:0}),F=f.create({bodyB:w,pointB:{x:P,y:E},bodyA:A,stiffness:1,length:0});return x.addBody(M,w),x.addBody(M,R),x.addBody(M,A),x.addConstraint(M,O),x.addConstraint(M,F),M},h.softBody=function(d,c,u,v,p,g,m,T,P,E){P=l.extend({inertia:1/0},P),E=l.extend({stiffness:.2,render:{type:"line",anchors:!1}},E);var M=h.stack(d,c,u,v,p,g,function(w,R){return n.circle(w,R,T,P)});return h.mesh(M,u,v,m,E),M.label="Soft Body",M}})()},66615:(r,C,i)=>{var h={};r.exports=h;var x=i(31725),f=i(53402);(function(){h.fromVertices=function(l){for(var a={},n=0;n<l.length;n++){var d=(n+1)%l.length,c=x.normalise({x:l[d].y-l[n].y,y:l[n].x-l[d].x}),u=c.y===0?1/0:c.x/c.y;u=u.toFixed(3).toString(),a[u]=c}return f.values(a)},h.rotate=function(l,a){if(a!==0)for(var n=Math.cos(a),d=Math.sin(a),c=0;c<l.length;c++){var u=l[c],v;v=u.x*n-u.y*d,u.y=u.x*d+u.y*n,u.x=v}}})()},15647:r=>{var C={};r.exports=C,function(){C.create=function(i){var h={min:{x:0,y:0},max:{x:0,y:0}};return i&&C.update(h,i),h},C.update=function(i,h,x){i.min.x=1/0,i.max.x=-1/0,i.min.y=1/0,i.max.y=-1/0;for(var f=0;f<h.length;f++){var l=h[f];l.x>i.max.x&&(i.max.x=l.x),l.x<i.min.x&&(i.min.x=l.x),l.y>i.max.y&&(i.max.y=l.y),l.y<i.min.y&&(i.min.y=l.y)}x&&(x.x>0?i.max.x+=x.x:i.min.x+=x.x,x.y>0?i.max.y+=x.y:i.min.y+=x.y)},C.contains=function(i,h){return h.x>=i.min.x&&h.x<=i.max.x&&h.y>=i.min.y&&h.y<=i.max.y},C.overlaps=function(i,h){return i.min.x<=h.max.x&&i.max.x>=h.min.x&&i.max.y>=h.min.y&&i.min.y<=h.max.y},C.translate=function(i,h){i.min.x+=h.x,i.max.x+=h.x,i.min.y+=h.y,i.max.y+=h.y},C.shift=function(i,h){var x=i.max.x-i.min.x,f=i.max.y-i.min.y;i.min.x=h.x,i.max.x=h.x+x,i.min.y=h.y,i.max.y=h.y+f},C.wrap=function(i,h,x){var f=null,l=null;if(typeof h.min.x<"u"&&typeof h.max.x<"u"&&(i.min.x>h.max.x?f=h.min.x-i.max.x:i.max.x<h.min.x&&(f=h.max.x-i.min.x)),typeof h.min.y<"u"&&typeof h.max.y<"u"&&(i.min.y>h.max.y?l=h.min.y-i.max.y:i.max.y<h.min.y&&(l=h.max.y-i.min.y)),f!==null||l!==null)return{x:f||0,y:l||0}}}()},74058:(r,C,i)=>{var h={};r.exports=h,i(15647);var x=i(53402);(function(){h.pathToVertices=function(f,l){typeof window<"u"&&!("SVGPathSeg"in window)&&x.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var a,n,d,c,u,v,p,g,m,T,P=[],E,M,w=0,R=0,A=0;l=l||15;var O=function(L,b,D){var I=D%2===1&&D>1;if(!m||L!=m.x||b!=m.y){m&&I?(E=m.x,M=m.y):(E=0,M=0);var k={x:E+L,y:M+b};(I||!m)&&(m=k),P.push(k),R=E+L,A=M+b}},F=function(L){var b=L.pathSegTypeAsLetter.toUpperCase();if(b!=="Z"){switch(b){case"M":case"L":case"T":case"C":case"S":case"Q":R=L.x,A=L.y;break;case"H":R=L.x;break;case"V":A=L.y;break}O(R,A,L.pathSegType)}};for(h._svgPathToAbsolute(f),d=f.getTotalLength(),v=[],a=0;a<f.pathSegList.numberOfItems;a+=1)v.push(f.pathSegList.getItem(a));for(p=v.concat();w<d;){if(T=f.getPathSegAtLength(w),u=v[T],u!=g){for(;p.length&&p[0]!=u;)F(p.shift());g=u}switch(u.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":c=f.getPointAtLength(w),O(c.x,c.y,0);break}w+=l}for(a=0,n=p.length;a<n;++a)F(p[a]);return P},h._svgPathToAbsolute=function(f){for(var l,a,n,d,c,u,v=f.pathSegList,p=0,g=0,m=v.numberOfItems,T=0;T<m;++T){var P=v.getItem(T),E=P.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(E))"x"in P&&(p=P.x),"y"in P&&(g=P.y);else switch("x1"in P&&(n=p+P.x1),"x2"in P&&(c=p+P.x2),"y1"in P&&(d=g+P.y1),"y2"in P&&(u=g+P.y2),"x"in P&&(p+=P.x),"y"in P&&(g+=P.y),E){case"m":v.replaceItem(f.createSVGPathSegMovetoAbs(p,g),T);break;case"l":v.replaceItem(f.createSVGPathSegLinetoAbs(p,g),T);break;case"h":v.replaceItem(f.createSVGPathSegLinetoHorizontalAbs(p),T);break;case"v":v.replaceItem(f.createSVGPathSegLinetoVerticalAbs(g),T);break;case"c":v.replaceItem(f.createSVGPathSegCurvetoCubicAbs(p,g,n,d,c,u),T);break;case"s":v.replaceItem(f.createSVGPathSegCurvetoCubicSmoothAbs(p,g,c,u),T);break;case"q":v.replaceItem(f.createSVGPathSegCurvetoQuadraticAbs(p,g,n,d),T);break;case"t":v.replaceItem(f.createSVGPathSegCurvetoQuadraticSmoothAbs(p,g),T);break;case"a":v.replaceItem(f.createSVGPathSegArcAbs(p,g,P.r1,P.r2,P.angle,P.largeArcFlag,P.sweepFlag),T);break;case"z":case"Z":p=l,g=a;break}(E=="M"||E=="m")&&(l=p,a=g)}}})()},31725:r=>{var C={};r.exports=C,function(){C.create=function(i,h){return{x:i||0,y:h||0}},C.clone=function(i){return{x:i.x,y:i.y}},C.magnitude=function(i){return Math.sqrt(i.x*i.x+i.y*i.y)},C.magnitudeSquared=function(i){return i.x*i.x+i.y*i.y},C.rotate=function(i,h,x){var f=Math.cos(h),l=Math.sin(h);x||(x={});var a=i.x*f-i.y*l;return x.y=i.x*l+i.y*f,x.x=a,x},C.rotateAbout=function(i,h,x,f){var l=Math.cos(h),a=Math.sin(h);f||(f={});var n=x.x+((i.x-x.x)*l-(i.y-x.y)*a);return f.y=x.y+((i.x-x.x)*a+(i.y-x.y)*l),f.x=n,f},C.normalise=function(i){var h=C.magnitude(i);return h===0?{x:0,y:0}:{x:i.x/h,y:i.y/h}},C.dot=function(i,h){return i.x*h.x+i.y*h.y},C.cross=function(i,h){return i.x*h.y-i.y*h.x},C.cross3=function(i,h,x){return(h.x-i.x)*(x.y-i.y)-(h.y-i.y)*(x.x-i.x)},C.add=function(i,h,x){return x||(x={}),x.x=i.x+h.x,x.y=i.y+h.y,x},C.sub=function(i,h,x){return x||(x={}),x.x=i.x-h.x,x.y=i.y-h.y,x},C.mult=function(i,h){return{x:i.x*h,y:i.y*h}},C.div=function(i,h){return{x:i.x/h,y:i.y/h}},C.perp=function(i,h){return h=h===!0?-1:1,{x:h*-i.y,y:h*i.x}},C.neg=function(i){return{x:-i.x,y:-i.y}},C.angle=function(i,h){return Math.atan2(h.y-i.y,h.x-i.x)},C._temp=[C.create(),C.create(),C.create(),C.create(),C.create(),C.create()]}()},41598:(r,C,i)=>{var h={};r.exports=h;var x=i(31725),f=i(53402);(function(){h.create=function(l,a){for(var n=[],d=0;d<l.length;d++){var c=l[d],u={x:c.x,y:c.y,index:d,body:a,isInternal:!1};n.push(u)}return n},h.fromPath=function(l,a){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/ig,d=[];return l.replace(n,function(c,u,v){d.push({x:parseFloat(u),y:parseFloat(v)})}),h.create(d,a)},h.centre=function(l){for(var a=h.area(l,!0),n={x:0,y:0},d,c,u,v=0;v<l.length;v++)u=(v+1)%l.length,d=x.cross(l[v],l[u]),c=x.mult(x.add(l[v],l[u]),d),n=x.add(n,c);return x.div(n,6*a)},h.mean=function(l){for(var a={x:0,y:0},n=0;n<l.length;n++)a.x+=l[n].x,a.y+=l[n].y;return x.div(a,l.length)},h.area=function(l,a){for(var n=0,d=l.length-1,c=0;c<l.length;c++)n+=(l[d].x-l[c].x)*(l[d].y+l[c].y),d=c;return a?n/2:Math.abs(n)/2},h.inertia=function(l,a){for(var n=0,d=0,c=l,u,v,p=0;p<c.length;p++)v=(p+1)%c.length,u=Math.abs(x.cross(c[v],c[p])),n+=u*(x.dot(c[v],c[v])+x.dot(c[v],c[p])+x.dot(c[p],c[p])),d+=u;return a/6*(n/d)},h.translate=function(l,a,n){n=typeof n<"u"?n:1;var d=l.length,c=a.x*n,u=a.y*n,v;for(v=0;v<d;v++)l[v].x+=c,l[v].y+=u;return l},h.rotate=function(l,a,n){if(a!==0){var d=Math.cos(a),c=Math.sin(a),u=n.x,v=n.y,p=l.length,g,m,T,P;for(P=0;P<p;P++)g=l[P],m=g.x-u,T=g.y-v,g.x=u+(m*d-T*c),g.y=v+(m*c+T*d);return l}},h.contains=function(l,a){for(var n=a.x,d=a.y,c=l.length,u=l[c-1],v,p=0;p<c;p++){if(v=l[p],(n-u.x)*(v.y-u.y)+(d-u.y)*(u.x-v.x)>0)return!1;u=v}return!0},h.scale=function(l,a,n,d){if(a===1&&n===1)return l;d=d||h.centre(l);for(var c,u,v=0;v<l.length;v++)c=l[v],u=x.sub(c,d),l[v].x=d.x+u.x*a,l[v].y=d.y+u.y*n;return l},h.chamfer=function(l,a,n,d,c){typeof a=="number"?a=[a]:a=a||[8],n=typeof n<"u"?n:-1,d=d||2,c=c||14;for(var u=[],v=0;v<l.length;v++){var p=l[v-1>=0?v-1:l.length-1],g=l[v],m=l[(v+1)%l.length],T=a[v<a.length?v:a.length-1];if(T===0){u.push(g);continue}var P=x.normalise({x:g.y-p.y,y:p.x-g.x}),E=x.normalise({x:m.y-g.y,y:g.x-m.x}),M=Math.sqrt(2*Math.pow(T,2)),w=x.mult(f.clone(P),T),R=x.normalise(x.mult(x.add(P,E),.5)),A=x.sub(g,x.mult(R,M)),O=n;n===-1&&(O=Math.pow(T,.32)*1.75),O=f.clamp(O,d,c),O%2===1&&(O+=1);for(var F=Math.acos(x.dot(P,E)),L=F/O,b=0;b<O;b++)u.push(x.add(x.rotate(w,L*b),A))}return u},h.clockwiseSort=function(l){var a=h.mean(l);return l.sort(function(n,d){return x.angle(a,n)-x.angle(a,d)}),l},h.isConvex=function(l){var a=0,n=l.length,d,c,u,v;if(n<3)return null;for(d=0;d<n;d++)if(c=(d+1)%n,u=(d+2)%n,v=(l[c].x-l[d].x)*(l[u].y-l[c].y),v-=(l[c].y-l[d].y)*(l[u].x-l[c].x),v<0?a|=1:v>0&&(a|=2),a===3)return!1;return a!==0?!0:null},h.hull=function(l){var a=[],n=[],d,c;for(l=l.slice(0),l.sort(function(u,v){var p=u.x-v.x;return p!==0?p:u.y-v.y}),c=0;c<l.length;c+=1){for(d=l[c];n.length>=2&&x.cross3(n[n.length-2],n[n.length-1],d)<=0;)n.pop();n.push(d)}for(c=l.length-1;c>=0;c-=1){for(d=l[c];a.length>=2&&x.cross3(a[a.length-2],a[a.length-1],d)<=0;)a.pop();a.push(d)}return a.pop(),n.pop(),a.concat(n)}})()},55973:r=>{/**
 * @author       Stefan Hedman <schteppe@gmail.com> (http://steffe.se)
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={decomp:F,quickDecomp:I,isSimple:b,removeCollinearPoints:k,removeDuplicatePoints:X,makeCCW:m};function C(N,V,G){G=G||0;var B=[0,0],z,U,H,$,K,Z,J;return z=N[1][1]-N[0][1],U=N[0][0]-N[1][0],H=z*N[0][0]+U*N[0][1],$=V[1][1]-V[0][1],K=V[0][0]-V[1][0],Z=$*V[0][0]+K*V[0][1],J=z*K-$*U,W(J,0,G)||(B[0]=(K*H-U*Z)/J,B[1]=(z*Z-$*H)/J),B}function i(N,V,G,B){var z=V[0]-N[0],U=V[1]-N[1],H=B[0]-G[0],$=B[1]-G[1];if(H*U-$*z===0)return!1;var K=(z*(G[1]-N[1])+U*(N[0]-G[0]))/(H*U-$*z),Z=(H*(N[1]-G[1])+$*(G[0]-N[0]))/($*z-H*U);return K>=0&&K<=1&&Z>=0&&Z<=1}function h(N,V,G){return(V[0]-N[0])*(G[1]-N[1])-(G[0]-N[0])*(V[1]-N[1])}function x(N,V,G){return h(N,V,G)>0}function f(N,V,G){return h(N,V,G)>=0}function l(N,V,G){return h(N,V,G)<0}function a(N,V,G){return h(N,V,G)<=0}var n=[],d=[];function c(N,V,G,B){if(B){var z=n,U=d;z[0]=V[0]-N[0],z[1]=V[1]-N[1],U[0]=G[0]-V[0],U[1]=G[1]-V[1];var H=z[0]*U[0]+z[1]*U[1],$=Math.sqrt(z[0]*z[0]+z[1]*z[1]),K=Math.sqrt(U[0]*U[0]+U[1]*U[1]),Z=Math.acos(H/($*K));return Z<B}else return h(N,V,G)===0}function u(N,V){var G=V[0]-N[0],B=V[1]-N[1];return G*G+B*B}function v(N,V){var G=N.length;return N[V<0?V%G+G:V%G]}function p(N){N.length=0}function g(N,V,G,B){for(var z=G;z<B;z++)N.push(V[z])}function m(N){for(var V=0,G=N,B=1;B<N.length;++B)(G[B][1]<G[V][1]||G[B][1]===G[V][1]&&G[B][0]>G[V][0])&&(V=B);return x(v(N,V-1),v(N,V),v(N,V+1))?!1:(T(N),!0)}function T(N){for(var V=[],G=N.length,B=0;B!==G;B++)V.push(N.pop());for(var B=0;B!==G;B++)N[B]=V[B]}function P(N,V){return l(v(N,V-1),v(N,V),v(N,V+1))}var E=[],M=[];function w(N,V,G){var B,z,U=E,H=M;if(f(v(N,V+1),v(N,V),v(N,G))&&a(v(N,V-1),v(N,V),v(N,G)))return!1;z=u(v(N,V),v(N,G));for(var $=0;$!==N.length;++$)if(!(($+1)%N.length===V||$===V)&&f(v(N,V),v(N,G),v(N,$+1))&&a(v(N,V),v(N,G),v(N,$))&&(U[0]=v(N,V),U[1]=v(N,G),H[0]=v(N,$),H[1]=v(N,$+1),B=C(U,H),u(v(N,V),B)<z))return!1;return!0}function R(N,V,G){for(var B=0;B!==N.length;++B)if(!(B===V||B===G||(B+1)%N.length===V||(B+1)%N.length===G)&&i(v(N,V),v(N,G),v(N,B),v(N,B+1)))return!1;return!0}function A(N,V,G,B){var z=B||[];if(p(z),V<G)for(var U=V;U<=G;U++)z.push(N[U]);else{for(var U=0;U<=G;U++)z.push(N[U]);for(var U=V;U<N.length;U++)z.push(N[U])}return z}function O(N){for(var V=[],G=[],B=[],z=[],U=Number.MAX_VALUE,H=0;H<N.length;++H)if(P(N,H)){for(var $=0;$<N.length;++$)if(w(N,H,$)){G=O(A(N,H,$,z)),B=O(A(N,$,H,z));for(var K=0;K<B.length;K++)G.push(B[K]);G.length<U&&(V=G,U=G.length,V.push([v(N,H),v(N,$)]))}}return V}function F(N){var V=O(N);return V.length>0?L(N,V):[N]}function L(N,V){if(V.length===0)return[N];if(V instanceof Array&&V.length&&V[0]instanceof Array&&V[0].length===2&&V[0][0]instanceof Array){for(var G=[N],B=0;B<V.length;B++)for(var z=V[B],U=0;U<G.length;U++){var H=G[U],$=L(H,z);if($){G.splice(U,1),G.push($[0],$[1]);break}}return G}else{var z=V,B=N.indexOf(z[0]),U=N.indexOf(z[1]);return B!==-1&&U!==-1?[A(N,B,U),A(N,U,B)]:!1}}function b(N){var V=N,G;for(G=0;G<V.length-1;G++)for(var B=0;B<G-1;B++)if(i(V[G],V[G+1],V[B],V[B+1]))return!1;for(G=1;G<V.length-2;G++)if(i(V[0],V[V.length-1],V[G],V[G+1]))return!1;return!0}function D(N,V,G,B,z){z=z||0;var U=V[1]-N[1],H=N[0]-V[0],$=U*N[0]+H*N[1],K=B[1]-G[1],Z=G[0]-B[0],J=K*G[0]+Z*G[1],Q=U*Z-K*H;return W(Q,0,z)?[0,0]:[(Z*$-H*J)/Q,(U*J-K*$)/Q]}function I(N,V,G,B,z,U,H){U=U||100,H=H||0,z=z||25,V=typeof V<"u"?V:[],G=G||[],B=B||[];var $=[0,0],K=[0,0],Z=[0,0],J=0,Q=0,j=0,tt=0,it=0,q=0,ht=0,ot=[],lt=[],_=N,nt=N;if(nt.length<3)return V;if(H++,H>U)return console.warn("quickDecomp: max level ("+U+") reached."),V;for(var at=0;at<N.length;++at)if(P(_,at)){G.push(_[at]),J=Q=Number.MAX_VALUE;for(var ct=0;ct<N.length;++ct)x(v(_,at-1),v(_,at),v(_,ct))&&a(v(_,at-1),v(_,at),v(_,ct-1))&&(Z=D(v(_,at-1),v(_,at),v(_,ct),v(_,ct-1)),l(v(_,at+1),v(_,at),Z)&&(j=u(_[at],Z),j<Q&&(Q=j,K=Z,q=ct))),x(v(_,at+1),v(_,at),v(_,ct+1))&&a(v(_,at+1),v(_,at),v(_,ct))&&(Z=D(v(_,at+1),v(_,at),v(_,ct),v(_,ct+1)),x(v(_,at-1),v(_,at),Z)&&(j=u(_[at],Z),j<J&&(J=j,$=Z,it=ct)));if(q===(it+1)%N.length)Z[0]=(K[0]+$[0])/2,Z[1]=(K[1]+$[1])/2,B.push(Z),at<it?(g(ot,_,at,it+1),ot.push(Z),lt.push(Z),q!==0&&g(lt,_,q,_.length),g(lt,_,0,at+1)):(at!==0&&g(ot,_,at,_.length),g(ot,_,0,it+1),ot.push(Z),lt.push(Z),g(lt,_,q,at+1));else{if(q>it&&(it+=N.length),tt=Number.MAX_VALUE,it<q)return V;for(var ct=q;ct<=it;++ct)f(v(_,at-1),v(_,at),v(_,ct))&&a(v(_,at+1),v(_,at),v(_,ct))&&(j=u(v(_,at),v(_,ct)),j<tt&&R(_,at,ct)&&(tt=j,ht=ct%N.length));at<ht?(g(ot,_,at,ht+1),ht!==0&&g(lt,_,ht,nt.length),g(lt,_,0,at+1)):(at!==0&&g(ot,_,at,nt.length),g(ot,_,0,ht+1),g(lt,_,ht,at+1))}return ot.length<lt.length?(I(ot,V,G,B,z,U,H),I(lt,V,G,B,z,U,H)):(I(lt,V,G,B,z,U,H),I(ot,V,G,B,z,U,H)),V}return V.push(N),V}function k(N,V){for(var G=0,B=N.length-1;N.length>3&&B>=0;--B)c(v(N,B-1),v(N,B),v(N,B+1),V)&&(N.splice(B%N.length,1),G++);return G}function X(N,V){for(var G=N.length-1;G>=1;--G)for(var B=N[G],z=G-1;z>=0;--z)if(Y(B,N[z],V)){N.splice(G,1);continue}}function W(N,V,G){return G=G||0,Math.abs(N-V)<=G}function Y(N,V,G){return W(N[0],V[0],G)&&W(N[1],V[1],G)}},52018:(r,C,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=i(83419),x=new h({initialize:function(l){this.pluginManager=l,this.game=l.game},init:function(){},start:function(){},stop:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=x},42363:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={Global:["game","anims","cache","plugins","registry","scale","sound","textures","renderer"],CoreScene:["EventEmitter","CameraManager","GameObjectCreator","GameObjectFactory","ScenePlugin","DisplayList","UpdateList"],DefaultScene:["Clock","DataManagerPlugin","InputPlugin","Loader","TweenManager","LightsPlugin"]};r.exports=C},37277:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={},i={},h={};h.register=function(x,f,l,a){a===void 0&&(a=!1),C[x]={plugin:f,mapping:l,custom:a}},h.registerCustom=function(x,f,l,a){i[x]={plugin:f,mapping:l,data:a}},h.hasCore=function(x){return C.hasOwnProperty(x)},h.hasCustom=function(x){return i.hasOwnProperty(x)},h.getCore=function(x){return C[x]},h.getCustom=function(x){return i[x]},h.getCustomClass=function(x){return i.hasOwnProperty(x)?i[x].plugin:null},h.remove=function(x){C.hasOwnProperty(x)&&delete C[x]},h.removeCustom=function(x){i.hasOwnProperty(x)&&delete i[x]},h.destroyCorePlugins=function(){for(var x in C)C.hasOwnProperty(x)&&delete C[x]},h.destroyCustomPlugins=function(){for(var x in i)i.hasOwnProperty(x)&&delete i[x]},r.exports=h},77332:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(8443),f=i(50792),l=i(74099),a=i(44603),n=i(39429),d=i(95540),c=i(37277),u=i(72905),v=i(8054),p=new h({Extends:f,initialize:function(m){f.call(this),this.game=m,this.plugins=[],this.scenePlugins=[],this._pendingGlobal=[],this._pendingScene=[],m.isBooted||m.config.renderType===v.HEADLESS?this.boot():m.events.once(x.BOOT,this.boot,this)},boot:function(){var g,m,T,P,E,M,w,R=this.game.config,A=R.installGlobalPlugins;for(A=A.concat(this._pendingGlobal),g=0;g<A.length;g++)m=A[g],T=d(m,"key",null),P=d(m,"plugin",null),E=d(m,"start",!1),M=d(m,"mapping",null),w=d(m,"data",null),T&&(P?this.install(T,P,E,M,w):console.warn("Missing `plugin` for key: "+T));for(A=R.installScenePlugins,A=A.concat(this._pendingScene),g=0;g<A.length;g++)m=A[g],T=d(m,"key",null),P=d(m,"plugin",null),M=d(m,"mapping",null),T&&(P?this.installScenePlugin(T,P,M):console.warn("Missing `plugin` for key: "+T));this._pendingGlobal=[],this._pendingScene=[],this.game.events.once(x.DESTROY,this.destroy,this)},addToScene:function(g,m,T){var P,E,M,w=this.game,R=g.scene,A=g.settings.map,O=g.settings.isBooted;for(P=0;P<m.length;P++)E=m[P],w[E]?(g[E]=w[E],A.hasOwnProperty(E)&&(R[A[E]]=g[E])):E==="game"&&A.hasOwnProperty(E)&&(R[A[E]]=w);for(var F=0;F<T.length;F++)for(M=T[F],P=0;P<M.length;P++)if(E=M[P],!!c.hasCore(E)){var L=c.getCore(E),b=L.mapping,D=new L.plugin(R,this,b);g[b]=D,L.custom?R[b]=D:A.hasOwnProperty(b)&&(R[A[b]]=D),O&&D.boot()}for(M=this.plugins,P=0;P<M.length;P++){var I=M[P];I.mapping&&(R[I.mapping]=I.plugin)}},getDefaultScenePlugins:function(){var g=this.game.config.defaultPlugins;return g=g.concat(this.scenePlugins),g},installScenePlugin:function(g,m,T,P,E){if(E===void 0&&(E=!1),typeof m!="function"){console.warn("Invalid Scene Plugin: "+g);return}if(c.hasCore(g)||c.register(g,m,T,!0),this.scenePlugins.indexOf(g)===-1)this.scenePlugins.push(g);else if(!E&&c.hasCore(g)){console.warn("Scene Plugin key in use: "+g);return}if(P){var M=new m(P,this,g);P.sys[g]=M,T&&T!==""&&(P[T]=M),M.boot()}},install:function(g,m,T,P,E){if(T===void 0&&(T=!1),P===void 0&&(P=null),E===void 0&&(E=null),typeof m!="function")return console.warn("Invalid Plugin: "+g),null;if(c.hasCustom(g))return console.warn("Plugin key in use: "+g),null;if(P!==null&&(T=!0),!this.game.isBooted)this._pendingGlobal.push({key:g,plugin:m,start:T,mapping:P,data:E});else if(c.registerCustom(g,m,P,E),T)return this.start(g);return null},getIndex:function(g){for(var m=this.plugins,T=0;T<m.length;T++){var P=m[T];if(P.key===g)return T}return-1},getEntry:function(g){var m=this.getIndex(g);if(m!==-1)return this.plugins[m]},isActive:function(g){var m=this.getEntry(g);return m&&m.active},start:function(g,m){m===void 0&&(m=g);var T=this.getEntry(m);return T&&!T.active?(T.active=!0,T.plugin.start()):T||(T=this.createEntry(g,m)),T?T.plugin:null},createEntry:function(g,m){var T=c.getCustom(g);if(T){var P=new T.plugin(this);T={key:m,plugin:P,active:!0,mapping:T.mapping,data:T.data},this.plugins.push(T),P.init(T.data),P.start()}return T},stop:function(g){var m=this.getEntry(g);return m&&m.active&&(m.active=!1,m.plugin.stop()),this},get:function(g,m){m===void 0&&(m=!0);var T=this.getEntry(g);if(T)return T.plugin;var P=this.getClass(g);return P&&m?(T=this.createEntry(g,g),T?T.plugin:null):P||null},getClass:function(g){return c.getCustomClass(g)},removeGlobalPlugin:function(g){var m=this.getEntry(g);m&&u(this.plugins,m),c.removeCustom(g)},removeScenePlugin:function(g){u(this.scenePlugins,g),c.remove(g)},registerGameObject:function(g,m,T){return m&&n.register(g,m),T&&a.register(g,T),this},removeGameObject:function(g,m,T){return m===void 0&&(m=!0),T===void 0&&(T=!0),m&&n.remove(g),T&&a.remove(g),this},registerFileType:function(g,m,T){l.register(g,m),T&&T.sys.load&&(T.sys.load[g]=m)},destroy:function(){for(var g=0;g<this.plugins.length;g++)this.plugins[g].plugin.destroy();c.destroyCustomPlugins(),this.game.noReturn&&c.destroyCorePlugins(),this.game=null,this.plugins=[],this.scenePlugins=[]}});r.exports=p},45145:(r,C,i)=>{/**
* @author       Richard Davey <rich@phaser.io>
* @copyright    2013-2025 Phaser Studio Inc.
* @license      {@link https://github.com/photonstorm/phaser3-plugin-template/blob/master/LICENSE|MIT License}
*/var h=i(52018),x=i(83419),f=i(44594),l=new x({Extends:h,initialize:function(n,d,c){h.call(this,d),this.scene=n,this.systems=n.sys,this.pluginKey=c,n.sys.events.once(f.BOOT,this.boot,this)},boot:function(){},destroy:function(){this.pluginManager=null,this.game=null,this.scene=null,this.systems=null}});r.exports=l},18922:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={BasePlugin:i(52018),DefaultPlugins:i(42363),PluginCache:i(37277),PluginManager:i(77332),ScenePlugin:i(45145)}},63595:()=>{typeof HTMLVideoElement<"u"&&!("requestVideoFrameCallback"in HTMLVideoElement.prototype)&&"getVideoPlaybackQuality"in HTMLVideoElement.prototype&&(HTMLVideoElement.prototype._rvfcpolyfillmap={},HTMLVideoElement.prototype.requestVideoFrameCallback=function(r){const C=performance.now(),i=this.getVideoPlaybackQuality(),h=this.mozPresentedFrames||this.mozPaintedFrames||i.totalVideoFrames-i.droppedVideoFrames,x=(f,l)=>{const a=this.getVideoPlaybackQuality(),n=this.mozPresentedFrames||this.mozPaintedFrames||a.totalVideoFrames-a.droppedVideoFrames;if(n>h){const d=this.mozFrameDelay||a.totalFrameDelay-i.totalFrameDelay||0,c=l-f;r(l,{presentationTime:l+d*1e3,expectedDisplayTime:l+c,width:this.videoWidth,height:this.videoHeight,mediaTime:Math.max(0,this.currentTime||0)+c/1e3,presentedFrames:n,processingDuration:d}),delete this._rvfcpolyfillmap[C]}else this._rvfcpolyfillmap[C]=requestAnimationFrame(d=>x(l,d))};return this._rvfcpolyfillmap[C]=requestAnimationFrame(f=>x(C,f)),C},HTMLVideoElement.prototype.cancelVideoFrameCallback=function(r){cancelAnimationFrame(this._rvfcpolyfillmap[r]),delete this._rvfcpolyfillmap[r]})},10312:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SKIP_CHECK:-1,NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,ERASE:17,SOURCE_IN:18,SOURCE_OUT:19,SOURCE_ATOP:20,DESTINATION_OVER:21,DESTINATION_IN:22,DESTINATION_OUT:23,DESTINATION_ATOP:24,LIGHTER:25,COPY:26,XOR:27}},29795:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={DEFAULT:0,LINEAR:0,NEAREST:1};r.exports=C},68627:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19715),x=i(32880),f=i(83419),l=i(8054),a=i(50792),n=i(92503),d=i(56373),c=i(97480),u=i(69442),v=i(8443),p=i(61340),g=new f({Extends:a,initialize:function(T){a.call(this);var P=T.config;this.config={clearBeforeRender:P.clearBeforeRender,backgroundColor:P.backgroundColor,antialias:P.antialias,roundPixels:P.roundPixels,transparent:P.transparent},this.game=T,this.type=l.CANVAS,this.drawCount=0,this.width=0,this.height=0,this.gameCanvas=T.canvas;var E={alpha:P.transparent,desynchronized:P.desynchronized,willReadFrequently:!1};this.gameContext=P.context?P.context:this.gameCanvas.getContext("2d",E),this.currentContext=this.gameContext,this.antialias=P.antialias,this.blendModes=d(),this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92},this._tempMatrix1=new p,this._tempMatrix2=new p,this._tempMatrix3=new p,this.isBooted=!1,this.init()},init:function(){var m=this.game;m.events.once(v.BOOT,function(){var T=this.config;if(!T.transparent){var P=this.gameContext,E=this.gameCanvas;P.fillStyle=T.backgroundColor.rgba,P.fillRect(0,0,E.width,E.height)}},this),m.textures.once(u.READY,this.boot,this)},boot:function(){var m=this.game,T=m.scale.baseSize;this.width=T.width,this.height=T.height,this.isBooted=!0,m.scale.on(c.RESIZE,this.onResize,this),this.resize(T.width,T.height)},onResize:function(m,T){(T.width!==this.width||T.height!==this.height)&&this.resize(T.width,T.height)},resize:function(m,T){this.width=m,this.height=T,this.emit(n.RESIZE,m,T)},resetTransform:function(){this.currentContext.setTransform(1,0,0,1,0,0)},setBlendMode:function(m){return this.currentContext.globalCompositeOperation=m,this},setContext:function(m){return this.currentContext=m||this.gameContext,this},setAlpha:function(m){return this.currentContext.globalAlpha=m,this},preRender:function(){var m=this.gameContext,T=this.config,P=this.width,E=this.height;m.globalAlpha=1,m.globalCompositeOperation="source-over",m.setTransform(1,0,0,1,0,0),this.emit(n.PRE_RENDER_CLEAR),T.clearBeforeRender&&(m.clearRect(0,0,P,E),T.transparent||(m.fillStyle=T.backgroundColor.rgba,m.fillRect(0,0,P,E))),m.save(),this.drawCount=0,this.emit(n.PRE_RENDER)},render:function(m,T,P){var E=T.length;this.emit(n.RENDER,m,P);var M=P.x,w=P.y,R=P.width,A=P.height,O=P.renderToTexture?P.context:m.sys.context;O.save(),this.game.scene.customViewports&&(O.beginPath(),O.rect(M,w,R,A),O.clip()),P.emit(h.PRE_RENDER,P),this.currentContext=O;var F=P.mask;F&&F.preRenderCanvas(this,null,P._maskCamera),P.transparent||(O.fillStyle=P.backgroundColor.rgba,O.fillRect(M,w,R,A)),O.globalAlpha=P.alpha,O.globalCompositeOperation="source-over",this.drawCount+=E,P.renderToTexture&&P.emit(h.PRE_RENDER,P),P.matrix.copyToContext(O);for(var L=0;L<E;L++){var b=T[L];b.mask&&b.mask.preRenderCanvas(this,b,P),b.renderCanvas(this,b,P),b.mask&&b.mask.postRenderCanvas(this,b,P)}O.setTransform(1,0,0,1,0,0),O.globalCompositeOperation="source-over",O.globalAlpha=1,P.flashEffect.postRenderCanvas(O),P.fadeEffect.postRenderCanvas(O),P.dirty=!1,F&&F.postRenderCanvas(this),O.restore(),P.renderToTexture&&(P.emit(h.POST_RENDER,P),P.renderToGame&&m.sys.context.drawImage(P.canvas,M,w)),P.emit(h.POST_RENDER,P)},postRender:function(){var m=this.gameContext;m.restore(),this.emit(n.POST_RENDER);var T=this.snapshotState;T.callback&&(x(this.gameCanvas,T),T.callback=null)},snapshotCanvas:function(m,T,P,E,M,w,R,A,O){P===void 0&&(P=!1),this.snapshotArea(E,M,w,R,T,A,O);var F=this.snapshotState;return F.getPixel=P,x(m,F),F.callback=null,this},snapshot:function(m,T,P){return this.snapshotArea(0,0,this.gameCanvas.width,this.gameCanvas.height,m,T,P)},snapshotArea:function(m,T,P,E,M,w,R){var A=this.snapshotState;return A.callback=M,A.type=w,A.encoder=R,A.getPixel=!1,A.x=m,A.y=T,A.width=Math.min(P,this.gameCanvas.width),A.height=Math.min(E,this.gameCanvas.height),this},snapshotPixel:function(m,T,P){return this.snapshotArea(m,T,1,1,P),this.snapshotState.getPixel=!0,this},batchSprite:function(m,T,P,E){var M=P.alpha*m.alpha;if(M!==0){var w=this.currentContext,R=this._tempMatrix1,A=this._tempMatrix2,O=T.canvasData,F=O.x,L=O.y,b=T.cutWidth,D=T.cutHeight,I=T.customPivot,k=T.source.resolution,X=m.displayOriginX,W=m.displayOriginY,Y=-X+T.x,N=-W+T.y;if(m.isCropped){var V=m._crop;(V.flipX!==m.flipX||V.flipY!==m.flipY)&&T.updateCropUVs(V,m.flipX,m.flipY),b=V.cw,D=V.ch,F=V.cx,L=V.cy,Y=-X+V.x,N=-W+V.y,m.flipX&&(Y>=0?Y=-(Y+b):Y<0&&(Y=Math.abs(Y)-b)),m.flipY&&(N>=0?N=-(N+D):N<0&&(N=Math.abs(N)-D))}var G=1,B=1;m.flipX&&(I||(Y+=-T.realWidth+X*2),G=-1),m.flipY&&(I||(N+=-T.realHeight+W*2),B=-1);var z=m.x,U=m.y;if(P.roundPixels&&(z=Math.floor(z),U=Math.floor(U)),A.applyITRS(z,U,m.rotation,m.scaleX*G,m.scaleY*B),R.copyFrom(P.matrix),E?(R.multiplyWithOffset(E,-P.scrollX*m.scrollFactorX,-P.scrollY*m.scrollFactorY),A.e=z,A.f=U):(A.e-=P.scrollX*m.scrollFactorX,A.f-=P.scrollY*m.scrollFactorY),R.multiply(A),P.renderRoundPixels&&(R.e=Math.floor(R.e+.5),R.f=Math.floor(R.f+.5)),w.save(),R.setToContext(w),w.globalCompositeOperation=this.blendModes[m.blendMode],w.globalAlpha=M,w.imageSmoothingEnabled=!T.source.scaleMode,m.mask&&m.mask.preRenderCanvas(this,m,P),b>0&&D>0){var H=b/k,$=D/k;P.roundPixels&&(Y=Math.floor(Y+.5),N=Math.floor(N+.5),H+=.5,$+=.5),w.drawImage(T.source.image,F,L,b,D,Y,N,H,$)}m.mask&&m.mask.postRenderCanvas(this,m,P),w.restore()}},destroy:function(){this.removeAllListeners(),this.game=null,this.gameCanvas=null,this.gameContext=null}});r.exports=g},55830:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CanvasRenderer:i(68627),GetBlendModes:i(56373),SetTransform:i(20926)}},56373:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x=i(89289),f=function(){var l=[],a=x.supportNewBlendModes,n="source-over";return l[h.NORMAL]=n,l[h.ADD]="lighter",l[h.MULTIPLY]=a?"multiply":n,l[h.SCREEN]=a?"screen":n,l[h.OVERLAY]=a?"overlay":n,l[h.DARKEN]=a?"darken":n,l[h.LIGHTEN]=a?"lighten":n,l[h.COLOR_DODGE]=a?"color-dodge":n,l[h.COLOR_BURN]=a?"color-burn":n,l[h.HARD_LIGHT]=a?"hard-light":n,l[h.SOFT_LIGHT]=a?"soft-light":n,l[h.DIFFERENCE]=a?"difference":n,l[h.EXCLUSION]=a?"exclusion":n,l[h.HUE]=a?"hue":n,l[h.SATURATION]=a?"saturation":n,l[h.COLOR]=a?"color":n,l[h.LUMINOSITY]=a?"luminosity":n,l[h.ERASE]="destination-out",l[h.SOURCE_IN]="source-in",l[h.SOURCE_OUT]="source-out",l[h.SOURCE_ATOP]="source-atop",l[h.DESTINATION_OVER]="destination-over",l[h.DESTINATION_IN]="destination-in",l[h.DESTINATION_OUT]="destination-out",l[h.DESTINATION_ATOP]="destination-atop",l[h.LIGHTER]="lighter",l[h.COPY]="copy",l[h.XOR]="xor",l};r.exports=f},20926:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91296),x=function(f,l,a,n,d){var c=n.alpha*a.alpha;if(c<=0)return!1;var u=h(a,n,d).calc;return l.globalCompositeOperation=f.blendModes[a.blendMode],l.globalAlpha=c,l.save(),u.setToContext(l),l.imageSmoothingEnabled=a.frame?!a.frame.source.scaleMode:f.antialias,!0};r.exports=x},63899:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="losewebgl"},6119:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postrender"},48070:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},15640:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},8912:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},87124:r=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="restorewebgl"},92503:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LOSE_WEBGL:i(63899),POST_RENDER:i(6119),PRE_RENDER:i(48070),RENDER:i(15640),RESIZE:i(8912),RESTORE_WEBGL:i(87124)}},36909:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(92503),Snapshot:i(89966)},r.exports.Canvas=i(55830),r.exports.WebGL=i(4159)},32880:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x=i(40987),f=i(95540),l=function(a,n){var d=f(n,"callback"),c=f(n,"type","image/png"),u=f(n,"encoder",.92),v=Math.abs(Math.round(f(n,"x",0))),p=Math.abs(Math.round(f(n,"y",0))),g=Math.floor(f(n,"width",a.width)),m=Math.floor(f(n,"height",a.height)),T=f(n,"getPixel",!1);if(T){var P=a.getContext("2d",{willReadFrequently:!1}),E=P.getImageData(v,p,1,1),M=E.data;d.call(null,new x(M[0],M[1],M[2],M[3]))}else if(v!==0||p!==0||g!==a.width||m!==a.height){var w=h.createWebGL(this,g,m),R=w.getContext("2d",{willReadFrequently:!0});g>0&&m>0&&R.drawImage(a,v,p,g,m,0,0,g,m);var A=new Image;A.onerror=function(){d.call(null),h.remove(w)},A.onload=function(){d.call(null,A),h.remove(w)},A.src=w.toDataURL(c,u)}else{var O=new Image;O.onerror=function(){d.call(null)},O.onload=function(){d.call(null,O)},O.src=a.toDataURL(c,u)}};r.exports=l},88815:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x=i(40987),f=i(95540),l=function(a,n){var d=a,c=f(n,"callback"),u=f(n,"type","image/png"),v=f(n,"encoder",.92),p=Math.abs(Math.round(f(n,"x",0))),g=Math.abs(Math.round(f(n,"y",0))),m=f(n,"getPixel",!1),T=f(n,"isFramebuffer",!1),P=T?f(n,"bufferWidth",1):d.drawingBufferWidth,E=T?f(n,"bufferHeight",1):d.drawingBufferHeight;if(m){var M=new Uint8Array(4),w=T?g:E-g;d.readPixels(p,w,1,1,d.RGBA,d.UNSIGNED_BYTE,M),c.call(null,new x(M[0],M[1],M[2],M[3]))}else{var R=Math.floor(f(n,"width",P)),A=Math.floor(f(n,"height",E)),O=R*A*4,F=new Uint8Array(O);d.readPixels(p,E-g-A,R,A,d.RGBA,d.UNSIGNED_BYTE,F);for(var L=h.createWebGL(this,R,A),b=L.getContext("2d",{willReadFrequently:!0}),D=b.getImageData(0,0,R,A),I=D.data,k=0;k<A;k++)for(var X=0;X<R;X++){var W=((A-k-1)*R+X)*4,Y=T?O-(k*R+(R-X))*4:(k*R+X)*4;I[Y+0]=F[W+0],I[Y+1]=F[W+1],I[Y+2]=F[W+2],I[Y+3]=F[W+3]}b.putImageData(D,0,0);var N=new Image;N.onerror=function(){c.call(null),h.remove(L)},N.onload=function(){c.call(null,N),h.remove(L)},N.src=L.toDataURL(u,v)}};r.exports=l},89966:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Canvas:i(32880),WebGL:i(88815)}},7530:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(36060),f=i(90330),l=i(82264),a=i(95540),n=i(32302),d=i(63448),c=i(31302),u=i(58918),v=i(14811),p=i(92651),g=i(96569),m=i(56527),T=i(57516),P=i(43439),E=i(81041),M=i(12385),w=i(7589),R=i(95428),A=i(72905),O=new h({initialize:function(L){this.game=L.game,this.renderer=L,this.classes=new f([[x.UTILITY_PIPELINE,w],[x.MULTI_PIPELINE,T],[x.BITMAPMASK_PIPELINE,c],[x.SINGLE_PIPELINE,M],[x.ROPE_PIPELINE,E],[x.LIGHT_PIPELINE,g],[x.POINTLIGHT_PIPELINE,P],[x.MOBILE_PIPELINE,m]]),this.postPipelineClasses=new f,this.pipelines=new f,this.postPipelineInstances=[],this.default=null,this.current=null,this.previous=null,this.MULTI_PIPELINE=null,this.BITMAPMASK_PIPELINE=null,this.UTILITY_PIPELINE=null,this.MOBILE_PIPELINE=null,this.FX_PIPELINE=null,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderTargets=[],this.maxDimension=0,this.frameInc=32,this.targetIndex=0},boot:function(F,L,b){var D=this.renderer,I=this.renderTargets;this.frameInc=Math.floor(a(F,"frameInc",32));var k=D.width,X=D.height,W=this.game.config.disablePreFX,Y=this.game.config.disablePostFX;if(Y||this.postPipelineClasses.setAll([[String(v.BARREL),u.Barrel],[String(v.BLOOM),u.Bloom],[String(v.BLUR),u.Blur],[String(v.BOKEH),u.Bokeh],[String(v.CIRCLE),u.Circle],[String(v.COLOR_MATRIX),u.ColorMatrix],[String(v.DISPLACEMENT),u.Displacement],[String(v.GLOW),u.Glow],[String(v.GRADIENT),u.Gradient],[String(v.PIXELATE),u.Pixelate],[String(v.SHADOW),u.Shadow],[String(v.SHINE),u.Shine],[String(v.VIGNETTE),u.Vignette],[String(v.WIPE),u.Wipe]]),!W){this.classes.set(x.FX_PIPELINE,p);for(var N=Math.min(k,X),V=Math.ceil(N/this.frameInc),G=1;G<V;G++){var B=G*this.frameInc;I.push(new n(D,B,B)),I.push(new n(D,B,B)),I.push(new n(D,B,B)),this.maxDimension=B}I.push(new n(D,k,X,1,0,!0,!0)),I.push(new n(D,k,X,1,0,!0,!0)),I.push(new n(D,k,X,1,0,!0,!0))}var z,U,H=this,$=this.game;if(this.classes.each(function(Z,J){z=H.add(Z,new J({game:$})),Z===x.UTILITY_PIPELINE&&(H.UTILITY_PIPELINE=z,H.fullFrame1=z.fullFrame1,H.fullFrame2=z.fullFrame2,H.halfFrame1=z.halfFrame1,H.halfFrame2=z.halfFrame2)}),this.MULTI_PIPELINE=this.get(x.MULTI_PIPELINE),this.BITMAPMASK_PIPELINE=this.get(x.BITMAPMASK_PIPELINE),this.MOBILE_PIPELINE=this.get(x.MOBILE_PIPELINE),W||(this.FX_PIPELINE=this.get(x.FX_PIPELINE)),F)for(U in F){var K=F[U];z=new K($),z.name=U,z.isPostFX?this.postPipelineClasses.set(U,K):this.has(U)||(this.classes.set(U,K),this.add(U,z))}this.default=this.get(L),b&&!l.os.desktop&&(this.default=this.MOBILE_PIPELINE)},setDefaultPipeline:function(F){var L=this.get(F);return L&&(this.default=L),L},add:function(F,L){if(L.isPostFX){console.warn(F+" is a Post Pipeline. Use `addPostPipeline` instead");return}var b=this.pipelines,D=this.renderer;return b.has(F)?console.warn("Pipeline exists: "+F):(L.name=F,L.manager=this,b.set(F,L)),L.hasBooted||L.boot(),D.width!==0&&D.height!==0&&!L.isPreFX&&L.resize(D.width,D.height),L},addPostPipeline:function(F,L){this.postPipelineClasses.has(F)||this.postPipelineClasses.set(F,L)},flush:function(){this.current&&this.current.flush()},has:function(F){var L=this.pipelines;return typeof F=="string"?L.has(F):!!L.contains(F)},get:function(F){var L=this.pipelines;if(typeof F=="string")return L.get(F);if(L.contains(F))return F},getPostPipeline:function(F,L,b){var D=this.postPipelineClasses,I,k="",X=typeof F;if(X==="string"||X==="number"?(I=D.get(F),k=F):X==="function"?(D.contains(F)&&(I=F),k=F.name):X==="object"&&(I=D.get(F.name),k=F.name),I){var W=new I(this.game,b);return W.name=k,L&&(W.gameObject=L),this.postPipelineInstances.push(W),W}},removePostPipeline:function(F){A(this.postPipelineInstances,F)},remove:function(F,L,b){L===void 0&&(L=!0),b===void 0&&(b=!0),this.pipelines.delete(F),L&&this.classes.delete(F),b&&this.postPipelineClasses.delete(F)},set:function(F,L,b){if(!F.isPostFX)return this.isCurrent(F,b)||(this.flush(),this.current&&this.current.unbind(),this.current=F,F.bind(b)),F.updateProjectionMatrix(),F.onBind(L),F},preBatch:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,b=L.length-1;b>=0;b--){var D=L[b];D.active&&D.preBatch(F)}}},postBatch:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,b=0;b<L.length;b++){var D=L[b];D.active&&D.postBatch(F)}}},preBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,b=L.length-1;b>=0;b--){var D=L[b];D.active&&D.preBatch(F)}}},postBatchCamera:function(F){if(F.hasPostPipeline){this.flush();for(var L=F.postPipelines,b=0;b<L.length;b++){var D=L[b];D.active&&D.postBatch(F)}}},isCurrent:function(F,L){var b=this.renderer,D=this.current;return D&&!L&&(L=D.currentShader),!(D!==F||L.program!==b.currentProgram)},copyFrame:function(F,L,b,D,I){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyFrame(F,L,b,D,I),this},copyToGame:function(F){return this.setUtility(this.UTILITY_PIPELINE.copyShader).copyToGame(F),this},drawFrame:function(F,L,b,D){return this.setUtility(this.UTILITY_PIPELINE.colorMatrixShader).drawFrame(F,L,b,D),this},blendFrames:function(F,L,b,D,I){return this.setUtility(this.UTILITY_PIPELINE.linearShader).blendFrames(F,L,b,D,I),this},blendFramesAdditive:function(F,L,b,D,I){return this.setUtility(this.UTILITY_PIPELINE.addShader).blendFramesAdditive(F,L,b,D,I),this},clearFrame:function(F,L){return this.UTILITY_PIPELINE.clearFrame(F,L),this},blitFrame:function(F,L,b,D,I,k){return this.setUtility(this.UTILITY_PIPELINE.copyShader).blitFrame(F,L,b,D,I,k),this},copyFrameRect:function(F,L,b,D,I,k,X,W){return this.UTILITY_PIPELINE.copyFrameRect(F,L,b,D,I,k,X,W),this},forceZero:function(){return this.current&&this.current.forceZero},setMulti:function(){return this.set(this.MULTI_PIPELINE)},setUtility:function(F){return this.UTILITY_PIPELINE.bind(F)},setFX:function(){return this.set(this.FX_PIPELINE)},restoreContext:function(){this.rebind(),this.pipelines.each(function(F,L){L.restoreContext()}),R(this.postPipelineInstances,function(F){F.restoreContext()})},rebind:function(F){F===void 0&&this.previous&&(F=this.previous);var L=this.renderer,b=L.gl;b.disable(b.DEPTH_TEST),b.disable(b.CULL_FACE),L.hasActiveStencilMask()?b.clear(b.DEPTH_BUFFER_BIT):(b.disable(b.STENCIL_TEST),b.clear(b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)),b.viewport(0,0,L.width,L.height),L.currentProgram=null,L.setBlendMode(0,!0);var D=L.vaoExtension;D&&D.bindVertexArrayOES(null);var I=this.pipelines.entries;for(var k in I)I[k].glReset=!0;F&&(this.current=F,F.rebind())},clear:function(){var F=this.renderer;this.flush(),this.current?(this.current.unbind(),this.previous=this.current,this.current=null):this.previous=null,F.currentProgram=null,F.setBlendMode(0,!0);var L=F.vaoExtension;L&&L.bindVertexArrayOES(null)},getRenderTarget:function(F){var L=this.renderTargets,b=3;if(F>this.maxDimension)return this.targetIndex=L.length-b,L[this.targetIndex];var D=(d(F,this.frameInc,0,!0)-1)*b;return this.targetIndex=D,L[D]},getSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+1]},getAltSwapRenderTarget:function(){return this.renderTargets[this.targetIndex+2]},destroy:function(){this.flush(),this.classes.clear(),this.postPipelineClasses.clear(),this.pipelines.clear(),this.renderer=null,this.game=null,this.classes=null,this.postPipelineClasses=null,this.pipelines=null,this.default=null,this.current=null,this.previous=null}});r.exports=O},32302:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(92503),f=new h({initialize:function(a,n,d,c,u,v,p,g,m){c===void 0&&(c=1),u===void 0&&(u=0),v===void 0&&(v=!0),p===void 0&&(p=!1),g===void 0&&(g=!0),m===void 0&&(m=!0),this.renderer=a,this.framebuffer=null,this.texture=null,this.width=0,this.height=0,this.scale=c,this.minFilter=u,this.autoClear=v,this.autoResize=!0,this.hasDepthBuffer=g,this.forceClamp=m,this.init(n,d),p?this.renderer.on(x.RESIZE,this.resize,this):this.autoResize=!1},init:function(l,a){var n=this.renderer;this.texture=n.createTextureFromSource(null,l,a,this.minFilter,this.forceClamp),this.framebuffer=n.createFramebuffer(l,a,this.texture,this.hasDepthBuffer),this.width=l,this.height=a},setAutoResize:function(l){return l&&!this.autoResize?(this.renderer.on(x.RESIZE,this.resize,this),this.autoResize=!0):!l&&this.autoResize&&(this.renderer.off(x.RESIZE,this.resize,this),this.autoResize=!1),this},resize:function(l,a){if(this.autoResize&&this.willResize(l,a)){var n=this.renderer;n.deleteFramebuffer(this.framebuffer),n.deleteTexture(this.texture),this.texture=n.createTextureFromSource(null,l,a,this.minFilter,this.forceClamp),this.framebuffer=n.createFramebuffer(l,a,this.texture,this.hasDepthBuffer),this.width=l,this.height=a}return this},willResize:function(l,a){return typeof l!="number"||typeof a!="number"?!1:(l=Math.round(l*this.scale),a=Math.round(a*this.scale),l=Math.max(l,1),a=Math.max(a,1),l!==this.width||a!==this.height)},bind:function(l,a,n){l===void 0&&(l=!1);var d=this.renderer;if(l&&d.flush(),a&&n&&this.resize(a,n),d.pushFramebuffer(this.framebuffer,!1,!1),l&&this.adjustViewport(),this.autoClear){var c=this.renderer.gl;c.clearColor(0,0,0,0),c.clear(c.COLOR_BUFFER_BIT)}d.clearStencilMask()},adjustViewport:function(){var l=this.renderer.gl;l.viewport(0,0,this.width,this.height),l.disable(l.SCISSOR_TEST)},clear:function(l,a,n,d){var c=this.renderer,u=c.gl;c.pushFramebuffer(this.framebuffer),l!==void 0&&a!==void 0&&n!==void 0&&d!==void 0?(u.enable(u.SCISSOR_TEST),u.scissor(l,a,n,d)):u.disable(u.SCISSOR_TEST),u.clearColor(0,0,0,0),u.clear(u.COLOR_BUFFER_BIT),c.popFramebuffer(),c.resetScissor()},unbind:function(l){l===void 0&&(l=!1);var a=this.renderer;return l&&a.flush(),a.popFramebuffer()},destroy:function(){var l=this.renderer;l.off(x.RESIZE,this.resize,this),l.deleteFramebuffer(this.framebuffer),l.deleteTexture(this.texture),this.renderer=null,this.framebuffer=null,this.texture=null}});r.exports=f},70554:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @author       Matthew Groves <@doormat>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={getTintFromFloats:function(C,i,h,x){var f=(C*255|0)&255,l=(i*255|0)&255,a=(h*255|0)&255,n=(x*255|0)&255;return(n<<24|f<<16|l<<8|a)>>>0},getTintAppendFloatAlpha:function(C,i){var h=(i*255|0)&255;return(h<<24|C)>>>0},getTintAppendFloatAlphaAndSwap:function(C,i){var h=(C>>16|0)&255,x=(C>>8|0)&255,f=(C|0)&255,l=(i*255|0)&255;return(l<<24|f<<16|x<<8|h)>>>0},getFloatsFromUintRGB:function(C){var i=(C>>16|0)&255,h=(C>>8|0)&255,x=(C|0)&255;return[i/255,h/255,x/255]},checkShaderMax:function(C,i){var h=Math.min(16,C.getParameter(C.MAX_TEXTURE_IMAGE_UNITS));return!i||i===-1?h:Math.min(h,i)},parseFragmentShaderMaxTextures:function(C,i){if(!C)return"";for(var h="",x=0;x<i;x++)x>0&&(h+=`
	else `),x<i-1&&(h+="if (outTexId < "+x+".5)"),h+=`
	{`,h+=`
		texture = texture2D(uMainSampler[`+x+"], outTexCoord);",h+=`
	}`;return C=C.replace(/%count%/gi,i.toString()),C.replace(/%forloop%/gi,h)},setGlowQuality:function(C,i,h,x){return h===void 0&&(h=i.config.glowFXQuality),x===void 0&&(x=i.config.glowFXDistance),C=C.replace(/__SIZE__/gi,(1/h/x).toFixed(7)),C=C.replace(/__DIST__/gi,x.toFixed(0)+".0"),C}}},29100:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(62644),f=i(50792),l=i(77085),a=i(95540),n=i(37867),d=i(92503),c=i(32302),u=i(70554),v=i(38683),p=new h({Extends:f,initialize:function(m){f.call(this);var T=m.game,P=T.renderer,E=P.gl;this.name=a(m,"name","WebGLPipeline"),this.game=T,this.renderer=P,this.manager,this.gl=E,this.view=T.canvas,this.width=0,this.height=0,this.vertexCount=0,this.vertexCapacity=0,this.vertexData,this.vertexBuffer,this.activeBuffer,this.topology=a(m,"topology",E.TRIANGLES),this.bytes,this.vertexViewF32,this.vertexViewU32,this.active=!0,this.forceZero=a(m,"forceZero",!1),this.hasBooted=!1,this.isPostFX=!1,this.isPreFX=!1,this.renderTargets=[],this.currentRenderTarget,this.shaders=[],this.currentShader,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.config=m,this.glReset=!1,this.batch=[],this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.activeTextures=[],this.resizeUniform=a(m,"resizeUniform","")},boot:function(){var g,m=this.gl,T=this.config,P=this.renderer;this.isPostFX||(this.projectionMatrix=new n().identity());var E=this.renderTargets,M=a(T,"renderTarget",!1);typeof M=="boolean"&&M&&(M=1);var w=P.width,R=P.height;if(typeof M=="number")for(g=0;g<M;g++)E.push(new c(P,w,R,1,0,!0));else if(Array.isArray(M))for(g=0;g<M.length;g++){var A=a(M[g],"scale",1),O=a(M[g],"minFilter",0),F=a(M[g],"autoClear",1),L=a(M[g],"autoResize",!1),b=a(M[g],"width",null),D=a(M[g],"height",b);b?E.push(new c(P,b,D,1,O,F,L)):E.push(new c(P,w,R,A,O,F,L))}E.length&&(this.currentRenderTarget=E[0]),this.setShadersFromConfig(T);var I=this.shaders,k=0;for(g=0;g<I.length;g++)I[g].vertexSize>k&&(k=I[g].vertexSize);var X=a(T,"batchSize",P.config.batchSize);this.vertexCapacity=X*6;var W=new ArrayBuffer(this.vertexCapacity*k);this.vertexData=W,this.bytes=new Uint8Array(W),this.vertexViewF32=new Float32Array(W),this.vertexViewU32=new Uint32Array(W);var Y=a(T,"vertices",null);for(Y?(this.vertexViewF32.set(Y),this.vertexBuffer=P.createVertexBuffer(W,m.STATIC_DRAW)):this.vertexBuffer=P.createVertexBuffer(W.byteLength,m.DYNAMIC_DRAW),this.setVertexBuffer(),g=I.length-1;g>=0;g--)I[g].rebind();this.hasBooted=!0,P.on(d.RESIZE,this.resize,this),P.on(d.PRE_RENDER,this.onPreRender,this),P.on(d.RENDER,this.onRender,this),P.on(d.POST_RENDER,this.onPostRender,this),this.emit(l.BOOT,this),this.onBoot()},onBoot:function(){},onResize:function(){},setShader:function(g,m,T){var P=this.renderer;if(g!==this.currentShader||P.currentProgram!==this.currentShader.program){this.flush();var E=this.setVertexBuffer(T);E&&!m&&(m=!0),g.bind(m,!1),this.currentShader=g}return this},getShaderByName:function(g){for(var m=this.shaders,T=0;T<m.length;T++)if(m[T].name===g)return m[T]},setShadersFromConfig:function(g){var m,T=this.shaders,P=this.renderer;for(m=0;m<T.length;m++)T[m].destroy();var E="vertShader",M="fragShader",w="attributes",R=a(g,E,null),A=u.parseFragmentShaderMaxTextures(a(g,M,null),P.maxTextures),O=a(g,w,null),F=a(g,"shaders",[]),L=F.length;if(L===0)R&&A&&(this.shaders=[new v(this,"default",R,A,x(O))]);else{var b=[];for(m=0;m<L;m++){var D=F[m],I,k,X,W;if(typeof D=="string"?(I="default",k=R,X=u.parseFragmentShaderMaxTextures(D,P.maxTextures),W=O):(I=a(D,"name","default"),k=a(D,E,R),X=u.parseFragmentShaderMaxTextures(a(D,M,A),P.maxTextures),W=a(D,w,O)),I==="default"){var Y=X.split(`
`),N=Y[0].trim();N.indexOf("#define SHADER_NAME")>-1&&(I=N.substring(20))}k&&X&&b.push(new v(this,I,k,X,x(W)))}this.shaders=b}return this.shaders.length===0?console.warn("Pipeline: "+this.name+" - Invalid shader config"):this.currentShader=this.shaders[0],this},createBatch:function(g){return this.currentBatch={start:this.vertexCount,count:0,texture:[g],unit:0,maxUnit:0},this.currentUnit=0,this.currentTexture=g,this.batch.push(this.currentBatch),0},addTextureToBatch:function(g){var m=this.currentBatch;m&&(m.texture.push(g),m.unit++,m.maxUnit++)},pushBatch:function(g){if(!this.currentBatch||this.forceZero&&g!==this.currentTexture)return this.createBatch(g);if(g===this.currentTexture)return this.currentUnit;var m=this.currentBatch,T=m.texture.indexOf(g);return T===-1?m.texture.length===this.renderer.maxTextures?this.createBatch(g):(m.unit++,m.maxUnit++,m.texture.push(g),this.currentUnit=m.unit,this.currentTexture=g,m.unit):(this.currentUnit=T,this.currentTexture=g,T)},setGameObject:function(g,m){return m===void 0&&(m=g.frame),this.pushBatch(m.source.glTexture)},shouldFlush:function(g){return g===void 0&&(g=0),this.vertexCount+g>this.vertexCapacity},vertexAvailable:function(){return this.vertexCapacity-this.vertexCount},resize:function(g,m){(g!==this.width||m!==this.height)&&this.flush(),this.width=g,this.height=m;for(var T=this.renderTargets,P=0;P<T.length;P++)T[P].resize(g,m);return this.setProjectionMatrix(g,m),this.resizeUniform&&this.set2f(this.resizeUniform,g,m),this.emit(l.RESIZE,g,m,this),this.onResize(g,m),this},setProjectionMatrix:function(g,m){var T=this.projectionMatrix;if(!T)return this;this.projectionWidth=g,this.projectionHeight=m,T.ortho(0,g,m,0,-1e3,1e3);for(var P=this.shaders,E="uProjectionMatrix",M=0;M<P.length;M++){var w=P[M];w.hasUniform(E)&&(w.resetUniform(E),w.setMatrix4fv(E,!1,T.val,w))}return this},flipProjectionMatrix:function(g){g===void 0&&(g=!0);var m=this.projectionMatrix;if(!m)return this;var T=this.projectionWidth,P=this.projectionHeight;g?m.ortho(0,T,0,P,-1e3,1e3):m.ortho(0,T,P,0,-1e3,1e3),this.setMatrix4fv("uProjectionMatrix",!1,m.val)},updateProjectionMatrix:function(){if(this.projectionMatrix){var g=this.renderer.projectionWidth,m=this.renderer.projectionHeight;(this.projectionWidth!==g||this.projectionHeight!==m)&&this.setProjectionMatrix(g,m)}},bind:function(g){if(g===void 0&&(g=this.currentShader),this.glReset)return this.rebind(g);var m=!1,T=this.gl;return T.getParameter(T.ARRAY_BUFFER_BINDING)!==this.vertexBuffer&&(T.bindBuffer(T.ARRAY_BUFFER,this.vertexBuffer.webGLBuffer),this.activeBuffer=this.vertexBuffer,m=!0),g.bind(m),this.currentShader=g,this.activeTextures.length=0,this.emit(l.BIND,this,g),this.onActive(g),this},rebind:function(g){this.activeBuffer=null,this.setVertexBuffer();for(var m=this.shaders,T=m.length-1;T>=0;T--){var P=m[T].rebind();(!g||P===g)&&(this.currentShader=P)}return this.activeTextures.length=0,this.emit(l.REBIND,this.currentShader),this.onActive(this.currentShader),this.onRebind(),this.glReset=!1,this},restoreContext:function(){var g=this.shaders,m=!!this.vertexBuffer;this.activeBuffer=null,this.activeTextures.length=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,m&&this.setVertexBuffer();for(var T=0;T<g.length;T++){var P=g[T];P.syncUniforms(),m&&P.rebind()}},setVertexBuffer:function(g){if(g===void 0&&(g=this.vertexBuffer),g!==this.activeBuffer){var m=this.gl;return this.gl.bindBuffer(m.ARRAY_BUFFER,g.webGLBuffer),this.activeBuffer=g,!0}return!1},preBatch:function(g){return this.currentRenderTarget&&this.currentRenderTarget.bind(),this.onPreBatch(g),this},postBatch:function(g){return this.onDraw(this.currentRenderTarget),this.onPostBatch(g),this},onDraw:function(){},unbind:function(){this.currentRenderTarget&&this.currentRenderTarget.unbind()},flush:function(g){if(g===void 0&&(g=!1),this.vertexCount>0){this.emit(l.BEFORE_FLUSH,this,g),this.onBeforeFlush(g);var m=this.gl,T=this.vertexCount,P=this.currentShader.vertexSize,E=this.topology;if(this.active){this.setVertexBuffer(),T===this.vertexCapacity?m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.DYNAMIC_DRAW):m.bufferSubData(m.ARRAY_BUFFER,0,this.bytes.subarray(0,T*P));var M,w,R,A=this.batch,O=this.activeTextures;if(this.forceZero)for(O[0]||m.activeTexture(m.TEXTURE0),M=0;M<A.length;M++)w=A[M],R=w.texture[0],O[0]!==R&&(m.bindTexture(m.TEXTURE_2D,R.webGLTexture),O[0]=R),m.drawArrays(E,w.start,w.count);else for(M=0;M<A.length;M++){w=A[M];for(var F=0;F<=w.maxUnit;F++)R=w.texture[F],O[F]!==R&&(m.activeTexture(m.TEXTURE0+F),m.bindTexture(m.TEXTURE_2D,R.webGLTexture),O[F]=R);m.drawArrays(E,w.start,w.count)}}this.vertexCount=0,this.batch.length=0,this.currentBatch=null,this.currentTexture=null,this.currentUnit=0,this.emit(l.AFTER_FLUSH,this,g),this.onAfterFlush(g)}return this},onActive:function(){},onBind:function(){},onRebind:function(){},onBatch:function(){},onPreBatch:function(){},onPostBatch:function(){},onPreRender:function(){},onRender:function(){},onPostRender:function(){},onBeforeFlush:function(){},onAfterFlush:function(){},batchVert:function(g,m,T,P,E,M,w){var R=this.vertexViewF32,A=this.vertexViewU32,O=this.vertexCount*this.currentShader.vertexComponentCount-1;R[++O]=g,R[++O]=m,R[++O]=T,R[++O]=P,R[++O]=E,R[++O]=M,A[++O]=w,this.vertexCount++,this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchQuad:function(g,m,T,P,E,M,w,R,A,O,F,L,b,D,I,k,X,W,Y,N){N===void 0&&(N=this.currentUnit);var V=!1;this.shouldFlush(6)&&(this.flush(),V=!0),this.currentBatch||(N=this.setTexture2D(Y));var G=this.vertexViewF32,B=this.vertexViewU32,z=this.vertexCount*this.currentShader.vertexComponentCount-1;return G[++z]=m,G[++z]=T,G[++z]=O,G[++z]=F,G[++z]=N,G[++z]=W,B[++z]=D,G[++z]=P,G[++z]=E,G[++z]=O,G[++z]=b,G[++z]=N,G[++z]=W,B[++z]=k,G[++z]=M,G[++z]=w,G[++z]=L,G[++z]=b,G[++z]=N,G[++z]=W,B[++z]=X,G[++z]=m,G[++z]=T,G[++z]=O,G[++z]=F,G[++z]=N,G[++z]=W,B[++z]=D,G[++z]=M,G[++z]=w,G[++z]=L,G[++z]=b,G[++z]=N,G[++z]=W,B[++z]=X,G[++z]=R,G[++z]=A,G[++z]=L,G[++z]=F,G[++z]=N,G[++z]=W,B[++z]=I,this.vertexCount+=6,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),V},batchTri:function(g,m,T,P,E,M,w,R,A,O,F,L,b,D,I,k,X){X===void 0&&(X=this.currentUnit);var W=!1;this.shouldFlush(3)&&(this.flush(),W=!0),this.currentBatch||(X=this.setTexture2D(k));var Y=this.vertexViewF32,N=this.vertexViewU32,V=this.vertexCount*this.currentShader.vertexComponentCount-1;return Y[++V]=m,Y[++V]=T,Y[++V]=R,Y[++V]=A,Y[++V]=X,Y[++V]=I,N[++V]=L,Y[++V]=P,Y[++V]=E,Y[++V]=R,Y[++V]=F,Y[++V]=X,Y[++V]=I,N[++V]=b,Y[++V]=M,Y[++V]=w,Y[++V]=O,Y[++V]=F,Y[++V]=X,Y[++V]=I,N[++V]=D,this.vertexCount+=3,this.currentBatch.count=this.vertexCount-this.currentBatch.start,this.onBatch(g),W},drawFillRect:function(g,m,T,P,E,M,w,R){w===void 0&&(w=this.renderer.whiteTexture),R===void 0&&(R=!0),g=Math.floor(g),m=Math.floor(m);var A=Math.floor(g+T),O=Math.floor(m+P),F=this.setTexture2D(w),L=u.getTintAppendFloatAlphaAndSwap(E,M),b=0,D=0,I=1,k=1;R&&(D=1,k=0),this.batchQuad(null,g,m,g,O,A,O,A,m,b,D,I,k,L,L,L,L,0,w,F)},setTexture2D:function(g){return g===void 0&&(g=this.renderer.whiteTexture),this.pushBatch(g)},bindTexture:function(g,m){m===void 0&&(m=0);var T=this.gl;return T.activeTexture(T.TEXTURE0+m),T.bindTexture(T.TEXTURE_2D,g.webGLTexture),this},bindRenderTarget:function(g,m){return this.bindTexture(g.texture,m)},setTime:function(g,m){return this.set1f(g,this.game.loop.getDuration(),m),this},setBoolean:function(g,m,T){return T===void 0&&(T=this.currentShader),T.setBoolean(g,m),this},set1f:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1f(g,m),this},set2f:function(g,m,T,P){return P===void 0&&(P=this.currentShader),P.set2f(g,m,T),this},set3f:function(g,m,T,P,E){return E===void 0&&(E=this.currentShader),E.set3f(g,m,T,P),this},set4f:function(g,m,T,P,E,M){return M===void 0&&(M=this.currentShader),M.set4f(g,m,T,P,E),this},set1fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1fv(g,m),this},set2fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set2fv(g,m),this},set3fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set3fv(g,m),this},set4fv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set4fv(g,m),this},set1iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1iv(g,m),this},set2iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set2iv(g,m),this},set3iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set3iv(g,m),this},set4iv:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set4iv(g,m),this},set1i:function(g,m,T){return T===void 0&&(T=this.currentShader),T.set1i(g,m),this},set2i:function(g,m,T,P){return P===void 0&&(P=this.currentShader),P.set2i(g,m,T),this},set3i:function(g,m,T,P,E){return E===void 0&&(E=this.currentShader),E.set3i(g,m,T,P),this},set4i:function(g,m,T,P,E,M){return M===void 0&&(M=this.currentShader),M.set4i(g,m,T,P,E),this},setMatrix2fv:function(g,m,T,P){return P===void 0&&(P=this.currentShader),P.setMatrix2fv(g,m,T),this},setMatrix3fv:function(g,m,T,P){return P===void 0&&(P=this.currentShader),P.setMatrix3fv(g,m,T),this},setMatrix4fv:function(g,m,T,P){return P===void 0&&(P=this.currentShader),P.setMatrix4fv(g,m,T),this},destroy:function(){this.emit(l.DESTROY,this);var g,m=this.shaders;for(g=0;g<m.length;g++)m[g].destroy();var T=this.renderTargets;for(g=0;g<T.length;g++)T[g].destroy();var P=this.renderer;return P.deleteBuffer(this.vertexBuffer),P.off(d.RESIZE,this.resize,this),P.off(d.PRE_RENDER,this.onPreRender,this),P.off(d.RENDER,this.onRender,this),P.off(d.POST_RENDER,this.onPostRender,this),this.removeAllListeners(),this.game=null,this.renderer=null,this.manager=null,this.gl=null,this.view=null,this.shaders=null,this.renderTargets=null,this.bytes=null,this.vertexViewF32=null,this.vertexViewU32=null,this.vertexData=null,this.vertexBuffer=null,this.currentShader=null,this.currentRenderTarget=null,this.activeTextures=null,this}});r.exports=p},74797:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95428),x=i(72905),f=i(19715),l=i(83419),a=i(8054),n=i(50792),d=i(92503),c=i(50030),u=i(37867),v=i(29747),p=i(7530),g=i(32302),m=i(97480),T=i(69442),P=i(70554),E=i(88815),M=i(26128),w=i(1482),R=i(82751),A=i(84387),O=i(93567),F=i(57183),L=new l({Extends:n,initialize:function(D){n.call(this);var I=D.config,k={alpha:I.transparent,desynchronized:I.desynchronized,depth:!0,antialias:I.antialiasGL,premultipliedAlpha:I.premultipliedAlpha,stencil:!0,failIfMajorPerformanceCaveat:I.failIfMajorPerformanceCaveat,powerPreference:I.powerPreference,preserveDrawingBuffer:I.preserveDrawingBuffer,willReadFrequently:!1};this.config={clearBeforeRender:I.clearBeforeRender,antialias:I.antialias,backgroundColor:I.backgroundColor,contextCreation:k,roundPixels:I.roundPixels,maxTextures:I.maxTextures,maxTextureSize:I.maxTextureSize,batchSize:I.batchSize,maxLights:I.maxLights,mipmapFilter:I.mipmapFilter},this.game=D,this.type=a.WEBGL,this.pipelines=null,this.width=0,this.height=0,this.canvas=D.canvas,this.blendModes=[],this.contextLost=!1,this.snapshotState={x:0,y:0,width:1,height:1,getPixel:!1,callback:null,type:"image/png",encoder:.92,isFramebuffer:!1,bufferWidth:0,bufferHeight:0},this.maxTextures=0,this.textureIndexes,this.glBufferWrappers=[],this.glProgramWrappers=[],this.glTextureWrappers=[],this.glFramebufferWrappers=[],this.glAttribLocationWrappers=[],this.glUniformLocationWrappers=[],this.currentFramebuffer=null,this.fboStack=[],this.currentProgram=null,this.currentBlendMode=1/0,this.currentScissorEnabled=!1,this.currentScissor=null,this.scissorStack=[],this.contextLostHandler=v,this.contextRestoredHandler=v,this.previousContextLostHandler=v,this.previousContextRestoredHandler=v,this.gl=null,this.supportedExtensions=null,this.instancedArraysExtension=null,this.vaoExtension=null,this.extensions={},this.glFormats,this.compression,this.drawingBufferHeight=0,this.blankTexture=null,this.normalTexture=null,this.whiteTexture=null,this.maskCount=0,this.maskStack=[],this.currentMask={mask:null,camera:null},this.currentCameraMask={mask:null,camera:null},this.glFuncMap=null,this.currentType="",this.newType=!1,this.nextTypeMatch=!1,this.finalType=!1,this.mipmapFilter=null,this.defaultScissor=[0,0,0,0],this.isBooted=!1,this.renderTarget=null,this.projectionMatrix,this.projectionWidth=0,this.projectionHeight=0,this.maskSource=null,this.maskTarget=null,this.spector=null,this._debugCapture=!1,this.init(this.config)},init:function(b){var D,I=this.game,k=this.canvas,X=b.backgroundColor;if(I.config.context?D=I.config.context:D=k.getContext("webgl",b.contextCreation)||k.getContext("experimental-webgl",b.contextCreation),!D||D.isContextLost())throw this.contextLost=!0,new Error("WebGL unsupported");this.gl=D,this.setExtensions(),this.setContextHandlers(),I.context=D;for(var W=0;W<=27;W++)this.blendModes.push({func:[D.ONE,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_ADD});this.blendModes[1].func=[D.ONE,D.DST_ALPHA],this.blendModes[2].func=[D.DST_COLOR,D.ONE_MINUS_SRC_ALPHA],this.blendModes[3].func=[D.ONE,D.ONE_MINUS_SRC_COLOR],this.blendModes[17]={func:[D.ZERO,D.ONE_MINUS_SRC_ALPHA],equation:D.FUNC_REVERSE_SUBTRACT},this.glFormats=[D.BYTE,D.SHORT,D.UNSIGNED_BYTE,D.UNSIGNED_SHORT,D.FLOAT],this.glFuncMap={mat2:{func:D.uniformMatrix2fv,length:1,matrix:!0},mat3:{func:D.uniformMatrix3fv,length:1,matrix:!0},mat4:{func:D.uniformMatrix4fv,length:1,matrix:!0},"1f":{func:D.uniform1f,length:1},"1fv":{func:D.uniform1fv,length:1},"1i":{func:D.uniform1i,length:1},"1iv":{func:D.uniform1iv,length:1},"2f":{func:D.uniform2f,length:2},"2fv":{func:D.uniform2fv,length:1},"2i":{func:D.uniform2i,length:2},"2iv":{func:D.uniform2iv,length:1},"3f":{func:D.uniform3f,length:3},"3fv":{func:D.uniform3fv,length:1},"3i":{func:D.uniform3i,length:3},"3iv":{func:D.uniform3iv,length:1},"4f":{func:D.uniform4f,length:4},"4fv":{func:D.uniform4fv,length:1},"4i":{func:D.uniform4i,length:4},"4iv":{func:D.uniform4iv,length:1}},(!b.maxTextures||b.maxTextures===-1)&&(b.maxTextures=D.getParameter(D.MAX_TEXTURE_IMAGE_UNITS)),b.maxTextureSize||(b.maxTextureSize=D.getParameter(D.MAX_TEXTURE_SIZE)),this.compression=this.getCompressedTextures(),D.disable(D.DEPTH_TEST),D.disable(D.CULL_FACE),D.enable(D.BLEND),D.clearColor(X.redGL,X.greenGL,X.blueGL,X.alphaGL),D.clear(D.COLOR_BUFFER_BIT);var Y=["NEAREST","LINEAR","NEAREST_MIPMAP_NEAREST","LINEAR_MIPMAP_NEAREST","NEAREST_MIPMAP_LINEAR","LINEAR_MIPMAP_LINEAR"];return Y.indexOf(b.mipmapFilter)!==-1&&(this.mipmapFilter=D[b.mipmapFilter]),this.maxTextures=P.checkShaderMax(D,b.maxTextures),this.textureIndexes=[],this.createTemporaryTextures(),this.pipelines=new p(this),this.setBlendMode(a.BlendModes.NORMAL),this.projectionMatrix=new u().identity(),I.textures.once(T.READY,this.boot,this),this},boot:function(){var b=this.game,D=this.pipelines,I=b.scale.baseSize,k=I.width,X=I.height;this.width=k,this.height=X,this.isBooted=!0,this.renderTarget=new g(this,k,X,1,0,!0,!0),this.maskTarget=new g(this,k,X,1,0,!0,!0),this.maskSource=new g(this,k,X,1,0,!0,!0);var W=b.config;D.boot(W.pipeline,W.defaultPipeline,W.autoMobilePipeline),this.blankTexture=b.textures.getFrame("__DEFAULT").glTexture,this.normalTexture=b.textures.getFrame("__NORMAL").glTexture,this.whiteTexture=b.textures.getFrame("__WHITE").glTexture;var Y=this.gl;Y.bindFramebuffer(Y.FRAMEBUFFER,null),Y.enable(Y.SCISSOR_TEST),b.scale.on(m.RESIZE,this.onResize,this),this.resize(k,X)},setExtensions:function(){var b=this.gl,D=b.getSupportedExtensions();this.supportedExtensions=D;var I="ANGLE_instanced_arrays";this.instancedArraysExtension=D.indexOf(I)>-1?b.getExtension(I):null;var k="OES_vertex_array_object";this.vaoExtension=D.indexOf(k)>-1?b.getExtension(k):null},setContextHandlers:function(b,D){this.previousContextLostHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextLostHandler,!1),this.previousContextRestoredHandler&&this.canvas.removeEventListener("webglcontextlost",this.previousContextRestoredHandler,!1),typeof b=="function"?this.contextLostHandler=b.bind(this):this.contextLostHandler=this.dispatchContextLost.bind(this),typeof D=="function"?this.contextRestoredHandler=D.bind(this):this.contextRestoredHandler=this.dispatchContextRestored.bind(this),this.canvas.addEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.addEventListener("webglcontextrestored",this.contextRestoredHandler,!1),this.previousContextLostHandler=this.contextLostHandler,this.previousContextRestoredHandler=this.contextRestoredHandler},dispatchContextLost:function(b){this.contextLost=!0,console&&console.warn("WebGL Context lost. Renderer disabled"),this.emit(d.LOSE_WEBGL,this),b.preventDefault()},dispatchContextRestored:function(b){var D=this.gl;if(D.isContextLost()){console&&console.log("WebGL Context restored, but context is still lost");return}this.currentProgram=null,this.currentFramebuffer=null,this.setBlendMode(a.BlendModes.NORMAL),D.disable(D.BLEND),D.disable(D.DEPTH_TEST),D.enable(D.CULL_FACE),this.compression=this.getCompressedTextures();var I=function(k){k.createResource()};h(this.glTextureWrappers,I),h(this.glBufferWrappers,I),h(this.glFramebufferWrappers,I),h(this.glProgramWrappers,I),h(this.glAttribLocationWrappers,I),h(this.glUniformLocationWrappers,I),this.createTemporaryTextures(),this.pipelines.restoreContext(),this.resize(this.game.scale.baseSize.width,this.game.scale.baseSize.height),this.setExtensions(),this.contextLost=!1,console&&console.warn("WebGL Context restored. Renderer running again."),this.emit(d.RESTORE_WEBGL,this),b.preventDefault()},createTemporaryTextures:function(){for(var b=this.gl,D=0;D<this.maxTextures;D++){var I=b.createTexture();b.activeTexture(b.TEXTURE0+D),b.bindTexture(b.TEXTURE_2D,I),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,1,1,0,b.RGBA,b.UNSIGNED_BYTE,new Uint8Array([0,0,255,255])),this.textureIndexes.push(D)}},captureFrame:function(b,D){},captureNextFrame:function(){},getFps:function(){},log:function(){},startCapture:function(b,D,I){},stopCapture:function(){},onCapture:function(b){},onResize:function(b,D){(D.width!==this.width||D.height!==this.height)&&this.resize(D.width,D.height)},beginCapture:function(b,D){b===void 0&&(b=this.width),D===void 0&&(D=this.height),this.renderTarget.bind(!0,b,D),this.setProjectionMatrix(b,D)},endCapture:function(){return this.renderTarget.unbind(!0),this.resetProjectionMatrix(),this.renderTarget},resize:function(b,D){var I=this.gl;return this.width=b,this.height=D,this.setProjectionMatrix(b,D),I.viewport(0,0,b,D),this.drawingBufferHeight=I.drawingBufferHeight,I.scissor(0,I.drawingBufferHeight-D,b,D),this.defaultScissor[2]=b,this.defaultScissor[3]=D,this.emit(d.RESIZE,b,D),this},getCompressedTextures:function(){var b="WEBGL_compressed_texture_",D="WEBKIT_"+b,I="EXT_texture_compression_",k=function(W,Y){var N=W.getExtension(b+Y)||W.getExtension(D+Y)||W.getExtension(I+Y);if(N){var V={};for(var G in N)V[N[G]]=G;return V}},X=this.gl;return{ETC:k(X,"etc"),ETC1:k(X,"etc1"),ATC:k(X,"atc"),ASTC:k(X,"astc"),BPTC:k(X,"bptc"),RGTC:k(X,"rgtc"),PVRTC:k(X,"pvrtc"),S3TC:k(X,"s3tc"),S3TCSRGB:k(X,"s3tc_srgb"),IMG:!0}},getCompressedTextureName:function(b,D){var I=this.compression[b.toUpperCase()];if(D in I)return I[D]},supportsCompressedTexture:function(b,D){var I=this.compression[b.toUpperCase()];return I?D?D in I:!0:!1},getAspectRatio:function(){return this.width/this.height},setProjectionMatrix:function(b,D){return(b!==this.projectionWidth||D!==this.projectionHeight)&&(this.projectionWidth=b,this.projectionHeight=D,this.projectionMatrix.ortho(0,b,D,0,-1e3,1e3)),this},resetProjectionMatrix:function(){return this.setProjectionMatrix(this.width,this.height)},hasExtension:function(b){return this.supportedExtensions?this.supportedExtensions.indexOf(b):!1},getExtension:function(b){return this.hasExtension(b)?(b in this.extensions||(this.extensions[b]=this.gl.getExtension(b)),this.extensions[b]):null},flush:function(){this.pipelines.flush()},pushScissor:function(b,D,I,k,X){X===void 0&&(X=this.drawingBufferHeight);var W=this.scissorStack,Y=[b,D,I,k];return W.push(Y),this.setScissor(b,D,I,k,X),this.currentScissor=Y,Y},setScissor:function(b,D,I,k,X){X===void 0&&(X=this.drawingBufferHeight);var W=this.gl,Y=this.currentScissor,N=I>0&&k>0;if(Y&&N){var V=Y[0],G=Y[1],B=Y[2],z=Y[3];N=V!==b||G!==D||B!==I||z!==k}N&&(this.flush(),W.scissor(b,X-D-k,I,k))},resetScissor:function(){var b=this.gl;b.enable(b.SCISSOR_TEST);var D=this.currentScissor;if(D){var I=D[0],k=D[1],X=D[2],W=D[3];X>0&&W>0&&b.scissor(I,this.drawingBufferHeight-k-W,X,W)}},popScissor:function(){var b=this.scissorStack;b.pop();var D=b[b.length-1];D&&this.setScissor(D[0],D[1],D[2],D[3]),this.currentScissor=D},hasActiveStencilMask:function(){var b=this.currentMask.mask,D=this.currentCameraMask.mask;return b&&b.isStencil||D&&D.isStencil},resetViewport:function(){var b=this.gl;b.viewport(0,0,this.width,this.height),this.drawingBufferHeight=b.drawingBufferHeight},setBlendMode:function(b,D){D===void 0&&(D=!1);var I=this.gl,k=this.blendModes[b];return D||b!==a.BlendModes.SKIP_CHECK&&this.currentBlendMode!==b?(this.flush(),I.enable(I.BLEND),I.blendEquation(k.equation),k.func.length>2?I.blendFuncSeparate(k.func[0],k.func[1],k.func[2],k.func[3]):I.blendFunc(k.func[0],k.func[1]),this.currentBlendMode=b,!0):!1},addBlendMode:function(b,D){var I=this.blendModes.push({func:b,equation:D});return I-1},updateBlendMode:function(b,D,I){return this.blendModes[b]&&(this.blendModes[b].func=D,I&&(this.blendModes[b].equation=I)),this},removeBlendMode:function(b){return b>17&&this.blendModes[b]&&this.blendModes.splice(b,1),this},pushFramebuffer:function(b,D,I,k,X){return b===this.currentFramebuffer?this:(this.fboStack.push(b),this.setFramebuffer(b,D,I,k,X))},setFramebuffer:function(b,D,I,k,X){if(D===void 0&&(D=!1),I===void 0&&(I=!0),k===void 0&&(k=null),X===void 0&&(X=!1),b===this.currentFramebuffer)return this;var W=this.gl,Y=this.width,N=this.height;return b&&b.renderTexture&&I?(Y=b.renderTexture.width,N=b.renderTexture.height):this.flush(),b?W.bindFramebuffer(W.FRAMEBUFFER,b.webGLFramebuffer):W.bindFramebuffer(W.FRAMEBUFFER,null),I&&W.viewport(0,0,Y,N),k&&W.framebufferTexture2D(W.FRAMEBUFFER,W.COLOR_ATTACHMENT0,W.TEXTURE_2D,k.webGLTexture,0),X&&(W.clearColor(0,0,0,0),W.clear(W.COLOR_BUFFER_BIT)),D&&(b?(this.drawingBufferHeight=N,this.pushScissor(0,0,Y,N)):(this.drawingBufferHeight=this.height,this.popScissor())),this.currentFramebuffer=b,this},popFramebuffer:function(b,D){b===void 0&&(b=!1),D===void 0&&(D=!0);var I=this.fboStack;I.pop();var k=I[I.length-1];return k||(k=null),this.setFramebuffer(k,b,D),k},restoreFramebuffer:function(b,D){b===void 0&&(b=!1),D===void 0&&(D=!0);var I=this.fboStack,k=I[I.length-1];k||(k=null),this.currentFramebuffer=null,this.setFramebuffer(k,b,D)},setProgram:function(b){return b!==this.currentProgram?(this.flush(),this.gl.useProgram(b.webGLProgram),this.currentProgram=b,!0):!1},resetProgram:function(){return this.gl.useProgram(this.currentProgram.webGLProgramWrapper),this},createTextureFromSource:function(b,D,I,k,X){X===void 0&&(X=!1);var W=this.gl,Y=W.NEAREST,N=W.NEAREST,V=W.CLAMP_TO_EDGE,G=null;D=b?b.width:D,I=b?b.height:I;var B=c(D,I);if(B&&!X&&(V=W.REPEAT),k===a.ScaleModes.LINEAR&&this.config.antialias){var z=b&&b.compressed,U=!z&&B||z&&b.mipmaps.length>1;Y=this.mipmapFilter&&U?this.mipmapFilter:W.LINEAR,N=W.LINEAR}return!b&&typeof D=="number"&&typeof I=="number"?G=this.createTexture2D(0,Y,N,V,V,W.RGBA,null,D,I):G=this.createTexture2D(0,Y,N,V,V,W.RGBA,b),G},createTexture2D:function(b,D,I,k,X,W,Y,N,V,G,B,z){typeof N!="number"&&(N=Y?Y.width:1),typeof V!="number"&&(V=Y?Y.height:1);var U=new R(this.gl,b,D,I,k,X,W,Y,N,V,G,B,z);return this.glTextureWrappers.push(U),U},createFramebuffer:function(b,D,I,k){this.currentFramebuffer=null;var X=new A(this.gl,b,D,I,k);return this.glFramebufferWrappers.push(X),X},beginBitmapMask:function(b,D){var I=this.gl;I&&(this.flush(),this.maskTarget.bind(!0),this.currentCameraMask.mask!==b&&(this.currentMask.mask=b,this.currentMask.camera=D))},drawBitmapMask:function(b,D,I){this.flush(),this.maskSource.bind(),this.setBlendMode(0,!0),b.renderWebGL(this,b,D),this.maskSource.unbind(!0),this.maskTarget.unbind();var k=this.gl,X=this.getCurrentStencilMask();X?(k.enable(k.STENCIL_TEST),X.mask.applyStencil(this,X.camera,!0)):this.currentMask.mask=null,this.pipelines.set(I),k.activeTexture(k.TEXTURE0),k.bindTexture(k.TEXTURE_2D,this.maskTarget.texture.webGLTexture),k.activeTexture(k.TEXTURE1),k.bindTexture(k.TEXTURE_2D,this.maskSource.texture.webGLTexture)},createProgram:function(b,D){var I=new w(this.gl,b,D);return this.glProgramWrappers.push(I),I},createVertexBuffer:function(b,D){var I=this.gl,k=new M(I,b,I.ARRAY_BUFFER,D);return this.glBufferWrappers.push(k),k},createAttribLocation:function(b,D){var I=new O(this.gl,b,D);return this.glAttribLocationWrappers.push(I),I},createUniformLocation:function(b,D){var I=new F(this.gl,b,D);return this.glUniformLocationWrappers.push(I),I},createIndexBuffer:function(b,D){var I=this.gl,k=new M(I,b,I.ELEMENT_ARRAY_BUFFER,D);return this.glBufferWrappers.push(k),k},deleteTexture:function(b){if(b)return x(this.glTextureWrappers,b),b.destroy(),this},deleteFramebuffer:function(b){return b?(x(this.fboStack,b),x(this.glFramebufferWrappers,b),b.destroy(),this):this},deleteProgram:function(b){return b&&(x(this.glProgramWrappers,b),b.destroy()),this},deleteAttribLocation:function(b){return b&&(x(this.glAttribLocationWrappers,b),b.destroy()),this},deleteUniformLocation:function(b){return b&&(x(this.glUniformLocationWrappers,b),b.destroy()),this},deleteBuffer:function(b){return b?(x(this.glBufferWrappers,b),b.destroy(),this):this},preRenderCamera:function(b){var D=b.x,I=b.y,k=b.width,X=b.height,W=b.backgroundColor;if(b.emit(f.PRE_RENDER,b),this.pipelines.preBatchCamera(b),this.pushScissor(D,I,k,X),b.mask&&(this.currentCameraMask.mask=b.mask,this.currentCameraMask.camera=b._maskCamera,b.mask.preRenderWebGL(this,b,b._maskCamera)),W.alphaGL>0){var Y=this.pipelines.setMulti();Y.drawFillRect(D,I,k,X,P.getTintFromFloats(W.blueGL,W.greenGL,W.redGL,1),W.alphaGL)}},getCurrentStencilMask:function(){var b=null,D=this.maskStack,I=this.currentCameraMask;return D.length>0?b=D[D.length-1]:I.mask&&I.mask.isStencil&&(b=I),b},postRenderCamera:function(b){var D=b.flashEffect,I=b.fadeEffect;if(D.isRunning||I.isRunning||I.isComplete){var k=this.pipelines.setMulti();D.postRenderWebGL(k,P.getTintFromFloats),I.postRenderWebGL(k,P.getTintFromFloats)}b.dirty=!1,this.popScissor(),b.mask&&(this.currentCameraMask.mask=null,b.mask.postRenderWebGL(this,b._maskCamera)),this.pipelines.postBatchCamera(b),b.emit(f.POST_RENDER,b)},preRender:function(){if(!this.contextLost){var b=this.gl;if(b.bindFramebuffer(b.FRAMEBUFFER,null),this.emit(d.PRE_RENDER_CLEAR),this.config.clearBeforeRender){var D=this.config.backgroundColor;b.clearColor(D.redGL,D.greenGL,D.blueGL,D.alphaGL),b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT|b.STENCIL_BUFFER_BIT)}b.enable(b.SCISSOR_TEST),this.currentScissor=this.defaultScissor,this.scissorStack.length=0,this.scissorStack.push(this.currentScissor),this.game.scene.customViewports&&b.scissor(0,this.drawingBufferHeight-this.height,this.width,this.height),this.currentMask.mask=null,this.currentCameraMask.mask=null,this.maskStack.length=0,this.emit(d.PRE_RENDER)}},render:function(b,D,I){if(!this.contextLost){var k=D.length;if(this.emit(d.RENDER,b,I),this.preRenderCamera(I),k===0){this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(I);return}this.currentType="";for(var X=this.currentMask,W=0;W<k;W++){this.finalType=W===k-1;var Y=D[W],N=Y.mask;X=this.currentMask,X.mask&&X.mask!==N&&X.mask.postRenderWebGL(this,X.camera),N&&X.mask!==N&&N.preRenderWebGL(this,Y,I),Y.blendMode!==this.currentBlendMode&&this.setBlendMode(Y.blendMode);var V=Y.type;V!==this.currentType&&(this.newType=!0,this.currentType=V),this.finalType?this.nextTypeMatch=!1:this.nextTypeMatch=D[W+1].type===this.currentType,Y.renderWebGL(this,Y,I),this.newType=!1}X=this.currentMask,X.mask&&X.mask.postRenderWebGL(this,X.camera),this.setBlendMode(a.BlendModes.NORMAL),this.postRenderCamera(I)}},postRender:function(){if(!this.contextLost){this.flush(),this.emit(d.POST_RENDER);var b=this.snapshotState;b.callback&&(E(this.gl,b),b.callback=null)}},clearStencilMask:function(){this.gl.disable(this.gl.STENCIL_TEST)},restoreStencilMask:function(){var b=this.gl,D=this.getCurrentStencilMask();if(D){var I=D.mask;b.enable(b.STENCIL_TEST),I.invertAlpha?b.stencilFunc(b.NOTEQUAL,I.level,255):b.stencilFunc(b.EQUAL,I.level,255)}},snapshot:function(b,D,I){return this.snapshotArea(0,0,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight,b,D,I)},snapshotArea:function(b,D,I,k,X,W,Y){var N=this.snapshotState;return N.callback=X,N.type=W,N.encoder=Y,N.getPixel=!1,N.x=b,N.y=D,N.width=I,N.height=k,this},snapshotPixel:function(b,D,I){return this.snapshotArea(b,D,1,1,I),this.snapshotState.getPixel=!0,this},snapshotFramebuffer:function(b,D,I,k,X,W,Y,N,V,G,B){X===void 0&&(X=!1),W===void 0&&(W=0),Y===void 0&&(Y=0),N===void 0&&(N=D),V===void 0&&(V=I),G==="pixel"&&(X=!0,G="image/png");var z=this.currentFramebuffer;this.snapshotArea(W,Y,N,V,k,G,B);var U=this.snapshotState;return U.getPixel=X,U.isFramebuffer=!0,U.bufferWidth=D,U.bufferHeight=I,U.width=Math.min(U.width,D),U.height=Math.min(U.height,I),this.setFramebuffer(b),E(this.gl,U),this.setFramebuffer(z),U.callback=null,U.isFramebuffer=!1,this},canvasToTexture:function(b,D,I,k){I===void 0&&(I=!1),k===void 0&&(k=!1);var X=this.gl,W=X.NEAREST,Y=X.NEAREST,N=b.width,V=b.height,G=X.CLAMP_TO_EDGE,B=c(N,V);return!I&&B&&(G=X.REPEAT),this.config.antialias&&(W=B&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Y=X.LINEAR),D?(D.update(b,N,V,k,G,G,W,Y,D.format),D):this.createTexture2D(0,W,Y,G,G,X.RGBA,b,N,V,!0,!1,k)},createCanvasTexture:function(b,D,I){return D===void 0&&(D=!1),I===void 0&&(I=!1),this.canvasToTexture(b,null,D,I)},updateCanvasTexture:function(b,D,I,k){return I===void 0&&(I=!1),k===void 0&&(k=!1),this.canvasToTexture(b,D,k,I)},videoToTexture:function(b,D,I,k){I===void 0&&(I=!1),k===void 0&&(k=!1);var X=this.gl,W=X.NEAREST,Y=X.NEAREST,N=b.videoWidth,V=b.videoHeight,G=X.CLAMP_TO_EDGE,B=c(N,V);return!I&&B&&(G=X.REPEAT),this.config.antialias&&(W=B&&this.mipmapFilter?this.mipmapFilter:X.LINEAR,Y=X.LINEAR),D?(D.update(b,N,V,k,G,G,W,Y,D.format),D):this.createTexture2D(0,W,Y,G,G,X.RGBA,b,N,V,!0,!0,k)},createVideoTexture:function(b,D,I){return D===void 0&&(D=!1),I===void 0&&(I=!1),this.videoToTexture(b,null,D,I)},updateVideoTexture:function(b,D,I,k){return I===void 0&&(I=!1),k===void 0&&(k=!1),this.videoToTexture(b,D,k,I)},createUint8ArrayTexture:function(b,D,I){var k=this.gl,X=k.NEAREST,W=k.NEAREST,Y=k.CLAMP_TO_EDGE,N=c(D,I);return N&&(Y=k.REPEAT),this.createTexture2D(0,X,W,Y,Y,k.RGBA,b,D,I)},setTextureFilter:function(b,D){var I=this.gl,k=D===0?I.LINEAR:I.NEAREST;I.activeTexture(I.TEXTURE0);var X=I.getParameter(I.TEXTURE_BINDING_2D);return I.bindTexture(I.TEXTURE_2D,b.webGLTexture),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MIN_FILTER,k),I.texParameteri(I.TEXTURE_2D,I.TEXTURE_MAG_FILTER,k),b.minFilter=k,b.magFilter=k,X&&I.bindTexture(I.TEXTURE_2D,X),this},getMaxTextureSize:function(){return this.config.maxTextureSize},destroy:function(){this.canvas.removeEventListener("webglcontextlost",this.contextLostHandler,!1),this.canvas.removeEventListener("webglcontextrestored",this.contextRestoredHandler,!1);var b=function(D){D.destroy()};h(this.glAttribLocationWrappers,b),h(this.glBufferWrappers,b),h(this.glFramebufferWrappers,b),h(this.glProgramWrappers,b),h(this.glTextureWrappers,b),h(this.glUniformLocationWrappers,b),this.maskTarget.destroy(),this.maskSource.destroy(),this.pipelines.destroy(),this.removeAllListeners(),this.fboStack=[],this.maskStack=[],this.extensions={},this.textureIndexes=[],this.gl=null,this.game=null,this.canvas=null,this.contextLost=!0,this.currentMask=null,this.currentCameraMask=null}});r.exports=L},38683:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95428),f=i(95540),l=i(14500),a=new h({initialize:function(d,c,u,v,p){this.pipeline=d,this.name=c,this.renderer=d.renderer,this.gl=this.renderer.gl,this.fragSrc=v,this.vertSrc=u,this.program=this.renderer.createProgram(u,v),this.attributes,this.vertexComponentCount=0,this.vertexSize=0,this.uniforms={},this.createAttributes(p),this.createUniforms()},createAttributes:function(n){var d=0,c=0,u=[];this.vertexComponentCount=0;for(var v=0;v<n.length;v++){var p=n[v],g=p.name,m=f(p,"size",1),T=f(p,"type",l.FLOAT),P=T.enum,E=T.size,M=!!p.normalized;u.push({name:g,size:m,type:P,normalized:M,offset:c,enabled:!1,location:-1}),E===4?d+=m:d++,c+=m*E}this.vertexSize=c,this.vertexComponentCount=d,this.attributes=u},bind:function(n,d){return n===void 0&&(n=!1),d===void 0&&(d=!1),d&&this.pipeline.flush(),this.renderer.setProgram(this.program),n&&this.setAttribPointers(),this},rebind:function(){return this.renderer.setProgram(this.program),this.setAttribPointers(!0),this},setAttribPointers:function(n){n===void 0&&(n=!1);for(var d=this.gl,c=this.renderer,u=this.vertexSize,v=this.attributes,p=this.program,g=0;g<v.length;g++){var m=v[g],T=m.size,P=m.type,E=m.offset,M=m.enabled,w=m.location,R=!!m.normalized;if(n){w!==-1&&c.deleteAttribLocation(w);var A=this.renderer.createAttribLocation(p,m.name);A.webGLAttribLocation>=0?(d.enableVertexAttribArray(A.webGLAttribLocation),d.vertexAttribPointer(A.webGLAttribLocation,T,P,R,u,E),m.enabled=!0,m.location=A):A.webGLAttribLocation!==-1&&d.disableVertexAttribArray(A.webGLAttribLocation)}else M?d.vertexAttribPointer(w.webGLAttribLocation,T,P,R,u,E):!M&&w!==-1&&w.webGLAttribLocation>-1&&(d.disableVertexAttribArray(w.webGLAttribLocation),m.location=-1)}return this},createUniforms:function(){var n=this.gl,d=this.program,c=this.uniforms,u,v,p,g=n.getProgramParameter(d.webGLProgram,n.ACTIVE_UNIFORMS);for(u=0;u<g;u++){var m=n.getActiveUniform(d.webGLProgram,u);if(m){v=m.name,p=this.renderer.createUniformLocation(d,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null});var T=v.indexOf("[");T>0&&(v=v.substr(0,T),c.hasOwnProperty(v)||(p=this.renderer.createUniformLocation(d,v),p!==null&&(c[v]={name:v,location:p,setter:null,value1:null,value2:null,value3:null,value4:null})))}}return this},syncUniforms:function(){var n=this.gl;this.renderer.setProgram(this.program);for(var d in this.uniforms){var c=this.uniforms[d];c.setter&&c.setter.call(n,c.location.webGLUniformLocation,c.value1,c.value2,c.value3,c.value4)}},hasUniform:function(n){return this.uniforms.hasOwnProperty(n)},resetUniform:function(n){var d=this.uniforms[n];return d&&(d.value1=null,d.value2=null,d.value3=null,d.value4=null),this},setUniform1:function(n,d,c,u){var v=this.uniforms[d];return v?((u||v.value1!==c)&&(v.setter||(v.setter=n),v.value1=c,this.renderer.setProgram(this.program),n.call(this.gl,v.location.webGLUniformLocation,c),this.pipeline.currentShader=this),this):this},setUniform2:function(n,d,c,u,v){var p=this.uniforms[d];return p?((v||p.value1!==c||p.value2!==u)&&(p.setter||(p.setter=n),p.value1=c,p.value2=u,this.renderer.setProgram(this.program),n.call(this.gl,p.location.webGLUniformLocation,c,u),this.pipeline.currentShader=this),this):this},setUniform3:function(n,d,c,u,v,p){var g=this.uniforms[d];return g?((p||g.value1!==c||g.value2!==u||g.value3!==v)&&(g.setter||(g.setter=n),g.value1=c,g.value2=u,g.value3=v,this.renderer.setProgram(this.program),n.call(this.gl,g.location.webGLUniformLocation,c,u,v),this.pipeline.currentShader=this),this):this},setUniform4:function(n,d,c,u,v,p,g){var m=this.uniforms[d];return m?((g||m.value1!==c||m.value2!==u||m.value3!==v||m.value4!==p)&&(m.setter||(m.setter=n),m.value1=c,m.value2=u,m.value3=v,m.value4=p,this.renderer.setProgram(this.program),n.call(this.gl,m.location.webGLUniformLocation,c,u,v,p),this.pipeline.currentShader=this),this):this},setBoolean:function(n,d){return this.setUniform1(this.gl.uniform1i,n,Number(d))},set1f:function(n,d){return this.setUniform1(this.gl.uniform1f,n,d)},set2f:function(n,d,c){return this.setUniform2(this.gl.uniform2f,n,d,c)},set3f:function(n,d,c,u){return this.setUniform3(this.gl.uniform3f,n,d,c,u)},set4f:function(n,d,c,u,v){return this.setUniform4(this.gl.uniform4f,n,d,c,u,v)},set1fv:function(n,d){return this.setUniform1(this.gl.uniform1fv,n,d,!0)},set2fv:function(n,d){return this.setUniform1(this.gl.uniform2fv,n,d,!0)},set3fv:function(n,d){return this.setUniform1(this.gl.uniform3fv,n,d,!0)},set4fv:function(n,d){return this.setUniform1(this.gl.uniform4fv,n,d,!0)},set1iv:function(n,d){return this.setUniform1(this.gl.uniform1iv,n,d,!0)},set2iv:function(n,d){return this.setUniform1(this.gl.uniform2iv,n,d,!0)},set3iv:function(n,d){return this.setUniform1(this.gl.uniform3iv,n,d,!0)},set4iv:function(n,d){return this.setUniform1(this.gl.uniform4iv,n,d,!0)},set1i:function(n,d){return this.setUniform1(this.gl.uniform1i,n,d)},set2i:function(n,d,c){return this.setUniform2(this.gl.uniform2i,n,d,c)},set3i:function(n,d,c,u){return this.setUniform3(this.gl.uniform3i,n,d,c,u)},set4i:function(n,d,c,u,v){return this.setUniform4(this.gl.uniform4i,n,d,c,u,v)},setMatrix2fv:function(n,d,c){return this.setUniform2(this.gl.uniformMatrix2fv,n,d,c,!0)},setMatrix3fv:function(n,d,c){return this.setUniform2(this.gl.uniformMatrix3fv,n,d,c,!0)},setMatrix4fv:function(n,d,c){return this.setUniform2(this.gl.uniformMatrix4fv,n,d,c,!0)},createProgram:function(n,d){return n===void 0&&(n=this.vertSrc),d===void 0&&(d=this.fragSrc),this.program&&this.renderer.deleteProgram(this.program),this.vertSrc=n,this.fragSrc=d,this.program=this.renderer.createProgram(n,d),this.createUniforms(),this.rebind()},destroy:function(){var n=this.renderer;x(this.uniforms,function(d){n.deleteUniformLocation(d.location)}),this.uniforms=null,x(this.attributes,function(d){n.deleteAttribLocation(d.location)}),this.attributes=null,n.deleteProgram(this.program),this.pipeline=null,this.renderer=null,this.gl=null,this.program=null}});r.exports=a},14500:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BYTE:{enum:5120,size:1},UNSIGNED_BYTE:{enum:5121,size:1},SHORT:{enum:5122,size:2},UNSIGNED_SHORT:{enum:5123,size:2},INT:{enum:5124,size:4},UNSIGNED_INT:{enum:5125,size:4},FLOAT:{enum:5126,size:4}};r.exports=C},4159:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(14500),x=i(79291),f={PipelineManager:i(7530),Pipelines:i(96615),RenderTarget:i(32302),Utils:i(70554),WebGLPipeline:i(29100),WebGLRenderer:i(74797),WebGLShader:i(38683),Wrappers:i(9503)};f=x(!1,f,h),r.exports=f},31302:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(78908),l=i(85191),a=i(14500),n=i(29100),d=new h({Extends:n,initialize:function(u){u.fragShader=x(u,"fragShader",f),u.vertShader=x(u,"vertShader",l),u.batchSize=x(u,"batchSize",1),u.vertices=x(u,"vertices",[-1,1,-1,-7,7,1]),u.attributes=x(u,"attributes",[{name:"inPosition",size:2,type:a.FLOAT}]),n.call(this,u)},boot:function(){n.prototype.boot.call(this),this.set1i("uMainSampler",0),this.set1i("uMaskSampler",1)},resize:function(c,u){n.prototype.resize.call(this,c,u),this.set2f("uResolution",c,u)},beginMask:function(c,u,v){this.renderer.beginBitmapMask(c,v)},endMask:function(c,u,v){var p=this.gl,g=this.renderer,m=c.bitmapMask;m&&p&&(g.drawBitmapMask(m,u,this),v&&this.set2f("uResolution",v.width,v.height),this.set1i("uInvertMaskAlpha",c.invertAlpha),p.drawArrays(this.topology,0,3),v&&this.set2f("uResolution",this.width,this.height),p.bindTexture(p.TEXTURE_2D,null))}});r.exports=d},92651:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(58918),f=i(14811),l=i(95540),a=i(43558),n=i(89350),d=i(70554),c=new h({Extends:a,initialize:function(v){v.shaders=[d.setGlowQuality(n.FXGlowFrag,v.game),n.FXShadowFrag,n.FXPixelateFrag,n.FXVignetteFrag,n.FXShineFrag,n.FXBlurLowFrag,n.FXBlurMedFrag,n.FXBlurHighFrag,n.FXGradientFrag,n.FXBloomFrag,n.ColorMatrixFrag,n.FXCircleFrag,n.FXBarrelFrag,n.FXDisplacementFrag,n.FXWipeFrag,n.FXBokehFrag],a.call(this,v);var p=this.game;this.glow=new x.Glow(p),this.shadow=new x.Shadow(p),this.pixelate=new x.Pixelate(p),this.vignette=new x.Vignette(p),this.shine=new x.Shine(p),this.gradient=new x.Gradient(p),this.circle=new x.Circle(p),this.barrel=new x.Barrel(p),this.wipe=new x.Wipe(p),this.bokeh=new x.Bokeh(p);var g=[];g[f.GLOW]=this.onGlow,g[f.SHADOW]=this.onShadow,g[f.PIXELATE]=this.onPixelate,g[f.VIGNETTE]=this.onVignette,g[f.SHINE]=this.onShine,g[f.BLUR]=this.onBlur,g[f.GRADIENT]=this.onGradient,g[f.BLOOM]=this.onBloom,g[f.COLOR_MATRIX]=this.onColorMatrix,g[f.CIRCLE]=this.onCircle,g[f.BARREL]=this.onBarrel,g[f.DISPLACEMENT]=this.onDisplacement,g[f.WIPE]=this.onWipe,g[f.BOKEH]=this.onBokeh,this.fxHandlers=g,this.source,this.target,this.swap},onDraw:function(u,v,p){this.source=u,this.target=v,this.swap=p;var g=u.width,m=u.height,T=this.tempSprite,P=this.fxHandlers;if(T&&T.preFX)for(var E=T.preFX.list,M=0;M<E.length;M++){var w=E[M];w.active&&P[w.type].call(this,w,g,m)}this.drawToGame(this.source)},runDraw:function(){var u=this.source,v=this.target;this.copy(u,v),this.source=v,this.target=u},onGlow:function(u,v,p){var g=this.shaders[f.GLOW];this.setShader(g),this.glow.onPreRender(u,g,v,p),this.runDraw()},onShadow:function(u){var v=this.shaders[f.SHADOW];this.setShader(v),this.shadow.onPreRender(u,v),this.runDraw()},onPixelate:function(u,v,p){var g=this.shaders[f.PIXELATE];this.setShader(g),this.pixelate.onPreRender(u,g,v,p),this.runDraw()},onVignette:function(u){var v=this.shaders[f.VIGNETTE];this.setShader(v),this.vignette.onPreRender(u,v),this.runDraw()},onShine:function(u,v,p){var g=this.shaders[f.SHINE];this.setShader(g),this.shine.onPreRender(u,g,v,p),this.runDraw()},onBlur:function(u,v,p){var g=l(u,"quality"),m=this.shaders[f.BLUR+g];this.setShader(m),this.set1i("uMainSampler",0),this.set2f("resolution",v,p),this.set1f("strength",l(u,"strength")),this.set3fv("color",l(u,"glcolor"));for(var T=l(u,"x"),P=l(u,"y"),E=l(u,"steps"),M=0;M<E;M++)this.set2f("offset",T,0),this.runDraw(),this.set2f("offset",0,P),this.runDraw()},onGradient:function(u){var v=this.shaders[f.GRADIENT];this.setShader(v),this.gradient.onPreRender(u,v),this.runDraw()},onBloom:function(u,v,p){var g=this.shaders[f.BLOOM];this.copySprite(this.source,this.swap),this.setShader(g),this.set1i("uMainSampler",0),this.set1f("strength",l(u,"blurStrength")),this.set3fv("color",l(u,"glcolor"));for(var m=2/v*l(u,"offsetX"),T=2/p*l(u,"offsetY"),P=l(u,"steps"),E=0;E<P;E++)this.set2f("offset",m,0),this.runDraw(),this.set2f("offset",0,T),this.runDraw();this.blendFrames(this.swap,this.source,this.target,l(u,"strength")),this.copySprite(this.target,this.source)},onColorMatrix:function(u){this.setShader(this.colorMatrixShader),this.set1fv("uColorMatrix",u.getData()),this.set1f("uAlpha",u.alpha),this.runDraw()},onCircle:function(u,v,p){var g=this.shaders[f.CIRCLE];this.setShader(g),this.circle.onPreRender(u,g,v,p),this.runDraw()},onBarrel:function(u){var v=this.shaders[f.BARREL];this.setShader(v),this.barrel.onPreRender(u,v),this.runDraw()},onDisplacement:function(u){this.setShader(this.shaders[f.DISPLACEMENT]),this.set1i("uDisplacementSampler",1),this.set2f("amount",u.x,u.y),this.bindTexture(u.glTexture,1),this.runDraw()},onWipe:function(u){var v=this.shaders[f.WIPE];this.setShader(v),this.wipe.onPreRender(u,v),this.runDraw()},onBokeh:function(u,v,p){var g=this.shaders[f.BOKEH];this.setShader(g),this.bokeh.onPreRender(u,g,v,p),this.runDraw()},destroy:function(){return this.glow.destroy(),this.shadow.destroy(),this.pixelate.destroy(),this.vignette.destroy(),this.shine.destroy(),this.gradient.destroy(),this.circle.destroy(),this.barrel.destroy(),this.wipe.destroy(),this.bokeh.destroy(),this.fxHandlers=null,this.source=null,this.target=null,this.swap=null,a.prototype.destroy.call(this),this}});r.exports=c},96569:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(31063),l=i(57516),a=i(61340),n=i(26099),d=i(29100),c=new h({Extends:l,initialize:function(v){var p=x(v,"fragShader",f);v.fragShader=p.replace("%LIGHT_COUNT%",v.game.renderer.config.maxLights),l.call(this,v),this.inverseRotationMatrix=new Float32Array([1,0,0,0,1,0,0,0,1]),this.currentNormalMap,this.lightsActive=!0,this.tempVec2=new n,this._tempMatrix=new a,this._tempMatrix2=new a},boot:function(){d.prototype.boot.call(this)},onRender:function(u,v){var p=u.sys.lights;if(this.lightsActive=!1,!(!p||!p.active)){var g=p.getLights(v),m=g.length;this.lightsActive=!0;var T,P=this.renderer,E=P.height,M=v.matrix,w=this.tempVec2;for(this.set1i("uMainSampler",0),this.set1i("uNormSampler",1),this.set2f("uResolution",this.width/2,this.height/2),this.set4f("uCamera",v.x,v.y,v.rotation,v.zoom),this.set3f("uAmbientLightColor",p.ambientColor.r,p.ambientColor.g,p.ambientColor.b),this.set1i("uLightCount",m),T=0;T<m;T++){var R=g[T].light,A=R.color,O="uLights["+T+"].";M.transformPoint(R.x,R.y,w),this.set2f(O+"position",w.x-v.scrollX*R.scrollFactorX*v.zoom,E-(w.y-v.scrollY*R.scrollFactorY*v.zoom)),this.set3f(O+"color",A.r,A.g,A.b),this.set1f(O+"intensity",R.intensity),this.set1f(O+"radius",R.radius)}this.currentNormalMapRotation=null}},setNormalMapRotation:function(u){if(u!==this.currentNormalMapRotation||this.vertexCount===0){this.vertexCount>0&&this.flush();var v=this.inverseRotationMatrix;if(u){var p=-u,g=Math.cos(p),m=Math.sin(p);v[1]=m,v[3]=-m,v[0]=v[4]=g}else v[0]=v[4]=1,v[1]=v[3]=0;this.setMatrix3fv("uInverseRotationMatrix",!1,v),this.currentNormalMapRotation=u}},setTexture2D:function(u,v){var p=this.renderer;u===void 0&&(u=p.whiteTexture);var g=this.getNormalMap(v);this.isNewNormalMap(u,g)&&(this.flush(),this.createBatch(u),this.addTextureToBatch(g),this.currentNormalMap=g);var m=0;if(v&&v.parentContainer){var T=v.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);m=T.rotationNormalized}else v&&(m=v.rotation);return this.currentBatch===null&&(this.createBatch(u),this.addTextureToBatch(g)),this.setNormalMapRotation(m),0},setGameObject:function(u,v){v===void 0&&(v=u.frame);var p=v.glTexture,g=this.getNormalMap(u);if(this.isNewNormalMap(p,g)&&(this.flush(),this.createBatch(p),this.addTextureToBatch(g),this.currentNormalMap=g),u.parentContainer){var m=u.getWorldTransformMatrix(this._tempMatrix,this._tempMatrix2);this.setNormalMapRotation(m.rotationNormalized)}else this.setNormalMapRotation(u.rotation);return this.currentBatch===null&&(this.createBatch(p),this.addTextureToBatch(g)),0},isNewNormalMap:function(u,v){return this.currentTexture!==u||this.currentNormalMap!==v},getNormalMap:function(u){var v;if(u)u.displayTexture?v=u.displayTexture.dataSource[u.displayFrame.sourceIndex]:u.texture?v=u.texture.dataSource[u.frame.sourceIndex]:u.tileset&&(Array.isArray(u.tileset)?v=u.tileset[0].image.dataSource[0]:v=u.tileset.image.dataSource[0]);else return this.renderer.normalTexture;return v?v.glTexture:this.renderer.normalTexture},batchSprite:function(u,v,p){this.lightsActive&&l.prototype.batchSprite.call(this,u,v,p)},batchTexture:function(u,v,p,g,m,T,P,E,M,w,R,A,O,F,L,b,D,I,k,X,W,Y,N,V,G,B,z,U,H,$,K,Z){this.lightsActive&&l.prototype.batchTexture.call(this,u,v,p,g,m,T,P,E,M,w,R,A,O,F,L,b,D,I,k,X,W,Y,N,V,G,B,z,U,H,$,K,Z)},batchTextureFrame:function(u,v,p,g,m,T,P){this.lightsActive&&l.prototype.batchTextureFrame.call(this,u,v,p,g,m,T,P)}});r.exports=c},56527:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(57516),l=i(45561),a=i(60722),n=i(14500),d=i(29100),c=new h({Extends:f,initialize:function(v){v.fragShader=x(v,"fragShader",l),v.vertShader=x(v,"vertShader",a),v.attributes=x(v,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:n.UNSIGNED_BYTE,normalized:!0}]),v.forceZero=!0,v.resizeUniform="uResolution",f.call(this,v)},boot:function(){d.prototype.boot.call(this);var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height)}});r.exports=c},57516:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Felipe Alfonso <@bitnenfer>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(94811),f=i(95540),l=i(98840),a=i(44667),n=i(61340),d=i(70554),c=i(14500),u=i(29100),v=new h({Extends:u,initialize:function(g){var m=g.game.renderer,T=f(g,"fragShader",l);g.fragShader=d.parseFragmentShaderMaxTextures(T,m.maxTextures),g.vertShader=f(g,"vertShader",a),g.attributes=f(g,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2},{name:"inTexId"},{name:"inTintEffect"},{name:"inTint",size:4,type:c.UNSIGNED_BYTE,normalized:!0}]),g.resizeUniform="uResolution",u.call(this,g),this._tempMatrix1=new n,this._tempMatrix2=new n,this._tempMatrix3=new n,this.calcMatrix=new n,this.tempTriangle=[{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0},{x:0,y:0,width:0}],this.strokeTint={TL:0,TR:0,BL:0,BR:0},this.fillTint={TL:0,TR:0,BL:0,BR:0},this.currentFrame={u0:0,v0:0,u1:1,v1:1},this.firstQuad=[0,0,0,0,0],this.prevQuad=[0,0,0,0,0],this.polygonCache=[]},boot:function(){u.prototype.boot.call(this);var p=this.renderer;this.set1iv("uMainSampler",p.textureIndexes),this.set2f("uResolution",p.width,p.height)},batchSprite:function(p,g,m){this.manager.set(this,p);var T=this._tempMatrix1,P=this._tempMatrix2,E=this._tempMatrix3,M=p.frame,w=M.glTexture,R=M.u0,A=M.v0,O=M.u1,F=M.v1,L=M.x,b=M.y,D=M.cutWidth,I=M.cutHeight,k=M.customPivot,X=p.displayOriginX,W=p.displayOriginY,Y=-X+L,N=-W+b;if(p.isCropped){var V=p._crop;(V.flipX!==p.flipX||V.flipY!==p.flipY)&&M.updateCropUVs(V,p.flipX,p.flipY),R=V.u0,A=V.v0,O=V.u1,F=V.v1,D=V.width,I=V.height,L=V.x,b=V.y,Y=-X+L,N=-W+b}var G=1,B=1;p.flipX&&(k||(Y+=-M.realWidth+X*2),G=-1),p.flipY&&(k||(N+=-M.realHeight+W*2),B=-1);var z=p.x,U=p.y;g.roundPixels&&(z=Math.floor(z),U=Math.floor(U)),P.applyITRS(z,U,p.rotation,p.scaleX*G,p.scaleY*B),T.copyFrom(g.matrix),m?(T.multiplyWithOffset(m,-g.scrollX*p.scrollFactorX,-g.scrollY*p.scrollFactorY),P.e=z,P.f=U):(P.e-=g.scrollX*p.scrollFactorX,P.f-=g.scrollY*p.scrollFactorY),T.multiply(P,E);var H=E.setQuad(Y,N,Y+D,N+I,g.renderRoundPixels),$=d.getTintAppendFloatAlpha,K=g.alpha,Z=$(p.tintTopLeft,K*p._alphaTL),J=$(p.tintTopRight,K*p._alphaTR),Q=$(p.tintBottomLeft,K*p._alphaBL),j=$(p.tintBottomRight,K*p._alphaBR);this.shouldFlush(6)&&this.flush();var tt=this.setGameObject(p,M);this.manager.preBatch(p),this.batchQuad(p,H[0],H[1],H[2],H[3],H[4],H[5],H[6],H[7],R,A,O,F,Z,J,Q,j,p.tintFill,w,tt),this.manager.postBatch(p)},batchTexture:function(p,g,m,T,P,E,M,w,R,A,O,F,L,b,D,I,k,X,W,Y,N,V,G,B,z,U,H,$,K,Z,J,Q,j){j===void 0&&(j=!1),this.manager.set(this,p);var tt=this._tempMatrix1,it=this._tempMatrix2,q=this._tempMatrix3,ht=X/m+H,ot=W/T+$,lt=(X+Y)/m+H,_=(W+N)/T+$,nt=M,at=w,ct=-I,Ct=-k;if(p.isCropped){var Ft=p._crop,xt=Ft.width,St=Ft.height;nt=xt,at=St,M=xt,w=St,X=Ft.x,W=Ft.y;var Gt=X,se=W;F&&(Gt=Y-Ft.x-xt),L&&(se=N-Ft.y-St),ht=Gt/m+H,ot=se/T+$,lt=(Gt+xt)/m+H,_=(se+St)/T+$,ct=-I+X,Ct=-k+W}L=L^(!J&&g.isRenderTexture?1:0),F&&(nt*=-1,ct+=M),L&&(at*=-1,Ct+=w),K.roundPixels&&(P=Math.floor(P),E=Math.floor(E)),it.applyITRS(P,E,O,R,A),tt.copyFrom(K.matrix),Z?(tt.multiplyWithOffset(Z,-K.scrollX*b,-K.scrollY*D),it.e=P,it.f=E):(it.e-=K.scrollX*b,it.f-=K.scrollY*D),tt.multiply(it,q);var bt=q.setQuad(ct,Ct,ct+nt,Ct+at,K.renderRoundPixels);Q==null&&(Q=this.setTexture2D(g)),p&&!j&&this.manager.preBatch(p),this.batchQuad(p,bt[0],bt[1],bt[2],bt[3],bt[4],bt[5],bt[6],bt[7],ht,ot,lt,_,V,G,B,z,U,g,Q),p&&!j&&this.manager.postBatch(p)},batchTextureFrame:function(p,g,m,T,P,E,M){this.manager.set(this);var w=this._tempMatrix1.copyFrom(E),R=this._tempMatrix2;M?w.multiply(M,R):R=w;var A=R.setQuad(g,m,g+p.width,m+p.height),O=this.setTexture2D(p.source.glTexture);T=d.getTintAppendFloatAlpha(T,P),this.batchQuad(null,A[0],A[1],A[2],A[3],A[4],A[5],A[6],A[7],p.u0,p.v0,p.u1,p.v1,T,T,T,T,0,p.glTexture,O)},batchFillRect:function(p,g,m,T,P,E){this.renderer.pipelines.set(this);var M=this.calcMatrix;E&&E.multiply(P,M);var w=M.setQuad(p,g,p+m,g+T),R=this.fillTint;this.batchQuad(null,w[0],w[1],w[2],w[3],w[4],w[5],w[6],w[7],0,0,1,1,R.TL,R.TR,R.BL,R.BR,2)},batchFillTriangle:function(p,g,m,T,P,E,M,w){this.renderer.pipelines.set(this);var R=this.calcMatrix;w&&w.multiply(M,R);var A=R.getX(p,g),O=R.getY(p,g),F=R.getX(m,T),L=R.getY(m,T),b=R.getX(P,E),D=R.getY(P,E),I=this.fillTint;this.batchTri(null,A,O,F,L,b,D,0,0,1,1,I.TL,I.TR,I.BL,2)},batchStrokeTriangle:function(p,g,m,T,P,E,M,w,R){var A=this.tempTriangle;A[0].x=p,A[0].y=g,A[0].width=M,A[1].x=m,A[1].y=T,A[1].width=M,A[2].x=P,A[2].y=E,A[2].width=M,A[3].x=p,A[3].y=g,A[3].width=M,this.batchStrokePath(A,M,!1,w,R)},batchFillPath:function(p,g,m){this.renderer.pipelines.set(this);var T=this.calcMatrix;m&&m.multiply(g,T);for(var P=p.length,E=this.polygonCache,M,w,R=this.fillTint.TL,A=this.fillTint.TR,O=this.fillTint.BL,F=0;F<P;++F)w=p[F],E.push(w.x,w.y);M=x(E),P=M.length;for(var L=0;L<P;L+=3){var b=M[L+0]*2,D=M[L+1]*2,I=M[L+2]*2,k=E[b+0],X=E[b+1],W=E[D+0],Y=E[D+1],N=E[I+0],V=E[I+1],G=T.getX(k,X),B=T.getY(k,X),z=T.getX(W,Y),U=T.getY(W,Y),H=T.getX(N,V),$=T.getY(N,V);this.batchTri(null,G,B,z,U,H,$,0,0,1,1,R,A,O,2)}E.length=0},batchStrokePath:function(p,g,m,T,P){this.renderer.pipelines.set(this),this.prevQuad[4]=0,this.firstQuad[4]=0;for(var E=p.length-1,M=0;M<E;M++){var w=p[M],R=p[M+1];this.batchLine(w.x,w.y,R.x,R.y,w.width/2,R.width/2,g,M,!m&&M===E-1,T,P)}},batchLine:function(p,g,m,T,P,E,M,w,R,A,O){this.renderer.pipelines.set(this);var F=this.calcMatrix;O&&O.multiply(A,F);var L=m-p,b=T-g,D=Math.sqrt(L*L+b*b);if(D!==0){var I=P*(T-g)/D,k=P*(p-m)/D,X=E*(T-g)/D,W=E*(p-m)/D,Y=m-X,N=T-W,V=p-I,G=g-k,B=m+X,z=T+W,U=p+I,H=g+k,$=F.getX(Y,N),K=F.getY(Y,N),Z=F.getX(V,G),J=F.getY(V,G),Q=F.getX(B,z),j=F.getY(B,z),tt=F.getX(U,H),it=F.getY(U,H),q=this.strokeTint,ht=q.TL,ot=q.TR,lt=q.BL,_=q.BR;if(this.batchQuad(null,tt,it,Z,J,$,K,Q,j,0,0,1,1,ht,ot,lt,_,2),!(M<=2)){var nt=this.prevQuad,at=this.firstQuad;w>0&&nt[4]?this.batchQuad(null,tt,it,Z,J,nt[0],nt[1],nt[2],nt[3],0,0,1,1,ht,ot,lt,_,2):(at[0]=tt,at[1]=it,at[2]=Z,at[3]=J,at[4]=1),R&&at[4]?this.batchQuad(null,$,K,Q,j,at[0],at[1],at[2],at[3],0,0,1,1,ht,ot,lt,_,2):(nt[0]=$,nt[1]=K,nt[2]=Q,nt[3]=j,nt[4]=1)}}},destroy:function(){return this._tempMatrix1.destroy(),this._tempMatrix2.destroy(),this._tempMatrix3.destroy(),this._tempMatrix1=null,this._tempMatrix1=null,this._tempMatrix1=null,u.prototype.destroy.call(this),this}});r.exports=v},43439:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(4127),l=i(89924),a=i(29100),n=new h({Extends:a,initialize:function(c){c.vertShader=x(c,"vertShader",l),c.fragShader=x(c,"fragShader",f),c.attributes=x(c,"attributes",[{name:"inPosition",size:2},{name:"inLightPosition",size:2},{name:"inLightRadius"},{name:"inLightAttenuation"},{name:"inLightColor",size:4}]),a.call(this,c)},onRender:function(d,c){this.set2f("uResolution",this.width,this.height),this.set1f("uCameraZoom",c.zoom)},batchPointLight:function(d,c,u,v,p,g,m,T,P,E,M,w){var R=d.color,A=d.intensity,O=d.radius,F=d.attenuation,L=R.r*A,b=R.g*A,D=R.b*A,I=c.alpha*d.alpha;this.shouldFlush(6)&&this.flush(),this.currentBatch||this.setTexture2D(),this.batchLightVert(u,v,M,w,O,F,L,b,D,I),this.batchLightVert(p,g,M,w,O,F,L,b,D,I),this.batchLightVert(m,T,M,w,O,F,L,b,D,I),this.batchLightVert(u,v,M,w,O,F,L,b,D,I),this.batchLightVert(m,T,M,w,O,F,L,b,D,I),this.batchLightVert(P,E,M,w,O,F,L,b,D,I),this.currentBatch.count=this.vertexCount-this.currentBatch.start},batchLightVert:function(d,c,u,v,p,g,m,T,P,E){var M=this.vertexViewF32,w=this.vertexCount*this.currentShader.vertexComponentCount-1;M[++w]=d,M[++w]=c,M[++w]=u,M[++w]=v,M[++w]=p,M[++w]=g,M[++w]=m,M[++w]=T,M[++w]=P,M[++w]=E,this.vertexCount++}});r.exports=n},84057:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(89422),f=i(95540),l=i(27681),a=i(49627),n=i(29100),d=new h({Extends:n,initialize:function(u){u.renderTarget=f(u,"renderTarget",1),u.fragShader=f(u,"fragShader",l),u.vertShader=f(u,"vertShader",a),u.attributes=f(u,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),u.batchSize=1,u.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],n.call(this,u),this.isPostFX=!0,this.gameObject,this.controller,this.colorMatrix=new x,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2,this.renderer.isBooted&&(this.manager=this.renderer.pipelines)},bootFX:function(){n.prototype.boot.call(this);var c=this.manager.UTILITY_PIPELINE;this.fullFrame1=c.fullFrame1,this.fullFrame2=c.fullFrame2,this.halfFrame1=c.halfFrame1,this.halfFrame2=c.halfFrame2;var u=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",u.width,u.height);for(var v=this.renderTargets,p=0;p<v.length;p++)v[p].autoResize=!0},postBatch:function(c){return this.hasBooted||(this.bootFX(),this.currentRenderTarget&&this.currentRenderTarget.bind()),this.onDraw(this.currentRenderTarget),this.onPostBatch(c),this},onDraw:function(c){this.bindAndDraw(c)},getController:function(c){return c!==void 0?c:this.controller?this.controller:this},copySprite:function(c,u,v){v===void 0&&(v=!1);var p=this.gl;p.activeTexture(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,c.texture.webGLTexture);var g=p.getParameter(p.FRAMEBUFFER_BINDING);p.bindFramebuffer(p.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),p.framebufferTexture2D(p.FRAMEBUFFER,p.COLOR_ATTACHMENT0,p.TEXTURE_2D,u.texture.webGLTexture,0),p.clearColor(0,0,0,0),p.clear(p.COLOR_BUFFER_BIT),p.bufferData(p.ARRAY_BUFFER,this.vertexData,p.STATIC_DRAW),p.drawArrays(p.TRIANGLES,0,6),v&&(p.bindTexture(p.TEXTURE_2D,null),p.bindFramebuffer(p.FRAMEBUFFER,g))},copyFrame:function(c,u,v,p,g){this.manager.copyFrame(c,u,v,p,g)},copyToGame:function(c){this.manager.copyToGame(c)},drawFrame:function(c,u,v){this.manager.drawFrame(c,u,v,this.colorMatrix)},blendFrames:function(c,u,v,p,g){this.manager.blendFrames(c,u,v,p,g)},blendFramesAdditive:function(c,u,v,p,g){this.manager.blendFramesAdditive(c,u,v,p,g)},clearFrame:function(c,u){this.manager.clearFrame(c,u)},blitFrame:function(c,u,v,p,g,m){this.manager.blitFrame(c,u,v,p,g,m)},copyFrameRect:function(c,u,v,p,g,m,T,P){this.manager.copyFrameRect(c,u,v,p,g,m,T,P)},bindAndDraw:function(c,u,v,p,g){v===void 0&&(v=!0),p===void 0&&(p=!0);var m=this.gl,T=this.renderer;this.bind(g),this.set1i("uMainSampler",0),u?(m.viewport(0,0,u.width,u.height),m.bindFramebuffer(m.FRAMEBUFFER,u.framebuffer.webGLFramebuffer),m.framebufferTexture2D(m.FRAMEBUFFER,m.COLOR_ATTACHMENT0,m.TEXTURE_2D,u.texture.webGLTexture,0),v&&(p?m.clearColor(0,0,0,0):m.clearColor(0,0,0,1),m.clear(m.COLOR_BUFFER_BIT))):(T.popFramebuffer(!1,!1),T.currentFramebuffer||m.viewport(0,0,T.width,T.height)),T.restoreStencilMask(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,c.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6),u&&(m.bindTexture(m.TEXTURE_2D,null),m.bindFramebuffer(m.FRAMEBUFFER,T.currentFramebuffer.webGLFramebuffer))},destroy:function(){return this.controller&&this.controller.destroy(),this.gameObject=null,this.controller=null,this.colorMatrix=null,this.fullFrame1=null,this.fullFrame2=null,this.halfFrame1=null,this.halfFrame2=null,this.manager.removePostPipeline(this),n.prototype.destroy.call(this),this}});r.exports=d},43558:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x=i(67502),f=i(83419),l=i(96293),a=i(95540),n=i(57516),d=i(27681),c=i(87841),u=i(32302),v=i(45561),p=i(60722),g=i(29100),m=new f({Extends:n,initialize:function(P){var E=a(P,"fragShader",d),M=a(P,"vertShader",p),w=a(P,"drawShader",d),R=[{name:"DrawSprite",fragShader:v,vertShader:p},{name:"CopySprite",fragShader:E,vertShader:M},{name:"DrawGame",fragShader:w,vertShader:p},{name:"ColorMatrix",fragShader:l}],A=a(P,"shaders",[]);P.shaders=R.concat(A),P.vertShader||(P.vertShader=M),P.batchSize=1,n.call(this,P),this.isPreFX=!0,this.customMainSampler=null,this.drawSpriteShader,this.copyShader,this.gameShader,this.colorMatrixShader,this.quadVertexData,this.quadVertexBuffer,this.quadVertexViewF32,this.spriteBounds=new c,this.targetBounds=new c,this.fsTarget,this.tempSprite,this.renderer.isBooted&&(this.manager=this.renderer.pipelines,this.boot())},boot:function(){g.prototype.boot.call(this);var T=this.shaders,P=this.renderer;this.drawSpriteShader=T[0],this.copyShader=T[1],this.gameShader=T[2],this.colorMatrixShader=T[3],this.fsTarget=new u(P,P.width,P.height,1,0,!0,!0),this.renderTargets=this.manager.renderTargets.concat(this.fsTarget);var E=new ArrayBuffer(168);this.quadVertexData=E,this.quadVertexViewF32=new Float32Array(E),this.quadVertexBuffer=P.createVertexBuffer(E,this.gl.STATIC_DRAW),this.onResize(P.width,P.height),this.currentShader=this.copyShader,this.set2f("uResolution",P.width,P.height)},onResize:function(T,P){var E=this.quadVertexViewF32;E[1]=P,E[22]=P,E[14]=T,E[28]=T,E[35]=T,E[36]=P},batchQuad:function(T,P,E,M,w,R,A,O,F,L,b,D,I,k,X,W,Y,N,V){var G=Math.min(P,M,R,O),B=Math.min(E,w,A,F),z=Math.max(P,M,R,O),U=Math.max(E,w,A,F),H=z-G,$=U-B,K=this.spriteBounds.setTo(G,B,H,$),Z=T?T.preFX.padding:0,J=H+Z*2,Q=$+Z*2,j=Math.abs(Math.max(J,Q)),tt=this.manager.getRenderTarget(j),it=this.targetBounds.setTo(0,0,tt.width,tt.height);x(it,Math.round(K.centerX),Math.round(K.centerY)),this.tempSprite=T;var q=this.gl,ht=this.renderer;ht.clearStencilMask(),this.setShader(this.drawSpriteShader),this.set1i("uMainSampler",0),this.set2f("uResolution",ht.width,ht.height),this.flipProjectionMatrix(!0),T&&(this.onDrawSprite(T,tt),T.preFX.onFX(this));var ot=this.fsTarget;return this.flush(),q.viewport(0,0,ht.width,ht.height),q.bindFramebuffer(q.FRAMEBUFFER,ot.framebuffer.webGLFramebuffer),q.framebufferTexture2D(q.FRAMEBUFFER,q.COLOR_ATTACHMENT0,q.TEXTURE_2D,ot.texture.webGLTexture,0),q.clearColor(0,0,0,0),q.clear(q.COLOR_BUFFER_BIT),this.setTexture2D(V),this.batchVert(P,E,L,b,0,N,k),this.batchVert(M,w,L,I,0,N,W),this.batchVert(R,A,D,I,0,N,Y),this.batchVert(P,E,L,b,0,N,k),this.batchVert(R,A,D,I,0,N,Y),this.batchVert(O,F,D,b,0,N,X),this.flush(),this.flipProjectionMatrix(!1),q.activeTexture(q.TEXTURE0),q.bindTexture(q.TEXTURE_2D,tt.texture.webGLTexture),q.copyTexSubImage2D(q.TEXTURE_2D,0,0,0,it.x,it.y,it.width,it.height),q.bindFramebuffer(q.FRAMEBUFFER,null),q.bindTexture(q.TEXTURE_2D,null),this.onBatch(T),this.currentShader=this.copyShader,this.onDraw(tt,this.manager.getSwapRenderTarget(),this.manager.getAltSwapRenderTarget()),!0},onDrawSprite:function(){},onCopySprite:function(){},copySprite:function(T,P,E,M,w,R,A){E===void 0&&(E=!0),M===void 0&&(M=!0),w===void 0&&(w=!1),A===void 0&&(A=this.copyShader);var O=this.gl,F=this.tempSprite;R&&(A=this.colorMatrixShader),this.currentShader=A;var L=this.setVertexBuffer(this.quadVertexBuffer);A.bind(L,!1);var b=this.renderer;if(this.set1i("uMainSampler",0),this.set2f("uResolution",b.width,b.height),F.preFX.onFXCopy(this),this.onCopySprite(T,P,F),R&&(this.set1fv("uColorMatrix",R.getData()),this.set1f("uAlpha",R.alpha)),O.activeTexture(O.TEXTURE0),O.bindTexture(O.TEXTURE_2D,T.texture.webGLTexture),T.height>P.height)O.viewport(0,0,T.width,T.height),this.setTargetUVs(T,P);else{var D=P.height-T.height;O.viewport(0,D,T.width,T.height),this.resetUVs()}if(O.bindFramebuffer(O.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,P.texture.webGLTexture,0),E&&(O.clearColor(0,0,0,+!M),O.clear(O.COLOR_BUFFER_BIT)),w){var I=this.renderer.currentBlendMode;this.renderer.setBlendMode(h.ERASE)}O.bufferData(O.ARRAY_BUFFER,this.quadVertexData,O.STATIC_DRAW),O.drawArrays(O.TRIANGLES,0,6),w&&this.renderer.setBlendMode(I),O.bindFramebuffer(O.FRAMEBUFFER,null)},copy:function(T,P){var E=this.gl;this.set1i("uMainSampler",0),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,T.texture.webGLTexture),E.viewport(0,0,T.width,T.height),this.setUVs(0,0,0,1,1,1,1,0),E.bindFramebuffer(E.FRAMEBUFFER,P.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,P.texture.webGLTexture,0),E.clearColor(0,0,0,0),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.quadVertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null)},blendFrames:function(T,P,E,M,w){this.manager.blendFrames(T,P,E,M,w)},blendFramesAdditive:function(T,P,E,M,w){this.manager.blendFramesAdditive(T,P,E,M,w)},drawToGame:function(T){this.currentShader=null,this.setShader(this.copyShader),this.bindAndDraw(T)},copyToGame:function(T){this.currentShader=null,this.setShader(this.gameShader),this.bindAndDraw(T)},bindAndDraw:function(T){var P=this.gl,E=this.renderer;this.set1i("uMainSampler",0),this.customMainSampler?this.setTexture2D(this.customMainSampler):this.setTexture2D(T.texture);var M=this._tempMatrix1.loadIdentity(),w=this.targetBounds.x,R=this.targetBounds.y,A=w+T.width,O=R+T.height,F=M.getX(w,R),L=M.getX(w,O),b=M.getX(A,O),D=M.getX(A,R),I=M.getY(w,R),k=M.getY(w,O),X=M.getY(A,O),W=M.getY(A,R),Y=16777215;this.batchVert(F,I,0,0,0,0,Y),this.batchVert(L,k,0,1,0,0,Y),this.batchVert(b,X,1,1,0,0,Y),this.batchVert(F,I,0,0,0,0,Y),this.batchVert(b,X,1,1,0,0,Y),this.batchVert(D,W,1,0,0,0,Y),E.restoreFramebuffer(!1,!0),E.currentFramebuffer||P.viewport(0,0,E.width,E.height),E.restoreStencilMask(),this.flush(),this.tempSprite=null},onDraw:function(T){this.drawToGame(T)},setUVs:function(T,P,E,M,w,R,A,O){var F=this.quadVertexViewF32;F[2]=T,F[3]=P,F[9]=E,F[10]=M,F[16]=w,F[17]=R,F[23]=T,F[24]=P,F[30]=w,F[31]=R,F[37]=A,F[38]=O},setTargetUVs:function(T,P){var E=P.height/T.height;E>.5?E=.5-(E-.5):E=.5+(.5-E),this.setUVs(0,E,0,1+E,1,1+E,1,E)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)},destroy:function(){return this.renderer.deleteBuffer(this.quadVertexBuffer),this.drawSpriteShader=null,this.copyShader=null,this.gameShader=null,this.colorMatrixShader=null,this.quadVertexData=null,this.quadVertexBuffer=null,this.quadVertexViewF32=null,this.fsTarget=null,this.tempSprite=null,n.prototype.destroy.call(this),this}});r.exports=m},81041:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(57516),l=new h({Extends:f,initialize:function(n){n.topology=5,n.batchSize=x(n,"batchSize",256),f.call(this,n)}});r.exports=l},12385:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(57516),l=i(45561),a=i(60722),n=i(29100),d=new h({Extends:f,initialize:function(u){u.fragShader=x(u,"fragShader",l),u.vertShader=x(u,"vertShader",a),u.forceZero=!0,f.call(this,u)},boot:function(){n.prototype.boot.call(this);var c=this.renderer;this.set1i("uMainSampler",0),this.set2f("uResolution",c.width,c.height)}});r.exports=d},7589:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35407),x=i(10312),f=i(83419),l=i(89422),a=i(96293),n=i(36682),d=i(95540),c=i(48247),u=i(49627),v=i(29100),p=new f({Extends:v,initialize:function(m){m.renderTarget=d(m,"renderTarget",[{scale:1,autoResize:!0},{scale:1,autoResize:!0},{scale:.5,autoResize:!0},{scale:.5,autoResize:!0}]),m.vertShader=d(m,"vertShader",u),m.shaders=d(m,"shaders",[{name:"Copy",fragShader:n},{name:"AddBlend",fragShader:h},{name:"LinearBlend",fragShader:c},{name:"ColorMatrix",fragShader:a}]),m.attributes=d(m,"attributes",[{name:"inPosition",size:2},{name:"inTexCoord",size:2}]),m.vertices=[-1,-1,0,0,-1,1,0,1,1,1,1,1,-1,-1,0,0,1,1,1,1,1,-1,1,0],m.batchSize=1,v.call(this,m),this.colorMatrix=new l,this.copyShader,this.addShader,this.linearShader,this.colorMatrixShader,this.fullFrame1,this.fullFrame2,this.halfFrame1,this.halfFrame2},boot:function(){v.prototype.boot.call(this);var g=this.shaders,m=this.renderTargets;this.copyShader=g[0],this.addShader=g[1],this.linearShader=g[2],this.colorMatrixShader=g[3],this.fullFrame1=m[0],this.fullFrame2=m[1],this.halfFrame1=m[2],this.halfFrame2=m[3]},copyFrame:function(g,m,T,P,E){T===void 0&&(T=1),P===void 0&&(P=!0),E===void 0&&(E=!0);var M=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),M.activeTexture(M.TEXTURE0),M.bindTexture(M.TEXTURE_2D,g.texture.webGLTexture),m?(M.viewport(0,0,m.width,m.height),M.bindFramebuffer(M.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),M.framebufferTexture2D(M.FRAMEBUFFER,M.COLOR_ATTACHMENT0,M.TEXTURE_2D,m.texture.webGLTexture,0)):M.viewport(0,0,g.width,g.height),P&&(E?M.clearColor(0,0,0,0):M.clearColor(0,0,0,1),M.clear(M.COLOR_BUFFER_BIT)),M.bufferData(M.ARRAY_BUFFER,this.vertexData,M.STATIC_DRAW),M.drawArrays(M.TRIANGLES,0,6),M.bindFramebuffer(M.FRAMEBUFFER,null),M.bindTexture(M.TEXTURE_2D,null)},blitFrame:function(g,m,T,P,E,M,w){T===void 0&&(T=1),P===void 0&&(P=!0),E===void 0&&(E=!0),M===void 0&&(M=!1),w===void 0&&(w=!1);var R=this.gl;if(this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",T),R.activeTexture(R.TEXTURE0),R.bindTexture(R.TEXTURE_2D,g.texture.webGLTexture),g.height>m.height)R.viewport(0,0,g.width,g.height),this.setTargetUVs(g,m);else{var A=m.height-g.height;R.viewport(0,A,g.width,g.height)}if(R.bindFramebuffer(R.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),R.framebufferTexture2D(R.FRAMEBUFFER,R.COLOR_ATTACHMENT0,R.TEXTURE_2D,m.texture.webGLTexture,0),P&&(E?R.clearColor(0,0,0,0):R.clearColor(0,0,0,1),R.clear(R.COLOR_BUFFER_BIT)),M){var O=this.renderer.currentBlendMode;this.renderer.setBlendMode(x.ERASE)}w&&this.flipY(),R.bufferData(R.ARRAY_BUFFER,this.vertexData,R.STATIC_DRAW),R.drawArrays(R.TRIANGLES,0,6),M&&this.renderer.setBlendMode(O),R.bindFramebuffer(R.FRAMEBUFFER,null),R.bindTexture(R.TEXTURE_2D,null),this.resetUVs()},copyFrameRect:function(g,m,T,P,E,M,w,R){w===void 0&&(w=!0),R===void 0&&(R=!0);var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,g.texture.webGLTexture,0),w&&(R?A.clearColor(0,0,0,0):A.clearColor(0,0,0,1),A.clear(A.COLOR_BUFFER_BIT)),A.activeTexture(A.TEXTURE0),A.bindTexture(A.TEXTURE_2D,m.texture.webGLTexture),A.copyTexSubImage2D(A.TEXTURE_2D,0,0,0,T,P,E,M),A.bindFramebuffer(A.FRAMEBUFFER,null),A.bindTexture(A.TEXTURE_2D,null)},copyToGame:function(g){var m=this.gl;this.setShader(this.copyShader),this.set1i("uMainSampler",0),this.set1f("uBrightness",1),this.renderer.popFramebuffer(),m.activeTexture(m.TEXTURE0),m.bindTexture(m.TEXTURE_2D,g.texture.webGLTexture),m.bufferData(m.ARRAY_BUFFER,this.vertexData,m.STATIC_DRAW),m.drawArrays(m.TRIANGLES,0,6)},drawFrame:function(g,m,T,P){T===void 0&&(T=!0),P===void 0&&(P=this.colorMatrix);var E=this.gl;this.setShader(this.colorMatrixShader),this.set1i("uMainSampler",0),this.set1fv("uColorMatrix",P.getData()),this.set1f("uAlpha",P.alpha),E.activeTexture(E.TEXTURE0),E.bindTexture(E.TEXTURE_2D,g.texture.webGLTexture),m?(E.viewport(0,0,m.width,m.height),E.bindFramebuffer(E.FRAMEBUFFER,m.framebuffer.webGLFramebuffer),E.framebufferTexture2D(E.FRAMEBUFFER,E.COLOR_ATTACHMENT0,E.TEXTURE_2D,m.texture.webGLTexture,0)):E.viewport(0,0,g.width,g.height),T?E.clearColor(0,0,0,0):E.clearColor(0,0,0,1),E.clear(E.COLOR_BUFFER_BIT),E.bufferData(E.ARRAY_BUFFER,this.vertexData,E.STATIC_DRAW),E.drawArrays(E.TRIANGLES,0,6),E.bindFramebuffer(E.FRAMEBUFFER,null),E.bindTexture(E.TEXTURE_2D,null)},blendFrames:function(g,m,T,P,E,M){P===void 0&&(P=1),E===void 0&&(E=!0),M===void 0&&(M=this.linearShader);var w=this.gl;this.setShader(M),this.set1i("uMainSampler1",0),this.set1i("uMainSampler2",1),this.set1f("uStrength",P),w.activeTexture(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,g.texture.webGLTexture),w.activeTexture(w.TEXTURE1),w.bindTexture(w.TEXTURE_2D,m.texture.webGLTexture),T?(w.bindFramebuffer(w.FRAMEBUFFER,T.framebuffer.webGLFramebuffer),w.framebufferTexture2D(w.FRAMEBUFFER,w.COLOR_ATTACHMENT0,w.TEXTURE_2D,T.texture.webGLTexture,0),w.viewport(0,0,T.width,T.height)):w.viewport(0,0,g.width,g.height),E?w.clearColor(0,0,0,0):w.clearColor(0,0,0,1),w.clear(w.COLOR_BUFFER_BIT),w.bufferData(w.ARRAY_BUFFER,this.vertexData,w.STATIC_DRAW),w.drawArrays(w.TRIANGLES,0,6),w.bindFramebuffer(w.FRAMEBUFFER,null),w.bindTexture(w.TEXTURE_2D,null)},blendFramesAdditive:function(g,m,T,P,E){this.blendFrames(g,m,T,P,E,this.addShader)},clearFrame:function(g,m){m===void 0&&(m=!0);var T=this.gl;T.viewport(0,0,g.width,g.height),T.bindFramebuffer(T.FRAMEBUFFER,g.framebuffer.webGLFramebuffer),m?T.clearColor(0,0,0,0):T.clearColor(0,0,0,1),T.clear(T.COLOR_BUFFER_BIT);var P=this.renderer.currentFramebuffer;T.bindFramebuffer(T.FRAMEBUFFER,P.webGLFramebuffer)},setUVs:function(g,m,T,P,E,M,w,R){var A=this.vertexViewF32;A[2]=g,A[3]=m,A[6]=T,A[7]=P,A[10]=E,A[11]=M,A[14]=g,A[15]=m,A[18]=E,A[19]=M,A[22]=w,A[23]=R},setTargetUVs:function(g,m){var T=m.height/g.height;T>.5?T=.5-(T-.5):T=.5+(.5-T),this.setUVs(0,T,0,1+T,1,1+T,1,T)},flipX:function(){this.setUVs(1,0,1,1,0,1,0,0)},flipY:function(){this.setUVs(0,1,0,0,1,0,1,1)},resetUVs:function(){this.setUVs(0,0,0,1,1,1,1,0)}});r.exports=p},36060:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={BITMAPMASK_PIPELINE:"BitmapMaskPipeline",LIGHT_PIPELINE:"Light2D",POINTLIGHT_PIPELINE:"PointLightPipeline",SINGLE_PIPELINE:"SinglePipeline",MULTI_PIPELINE:"MultiPipeline",ROPE_PIPELINE:"RopePipeline",GRAPHICS_PIPELINE:"GraphicsPipeline",POSTFX_PIPELINE:"PostFXPipeline",UTILITY_PIPELINE:"UtilityPipeline",MOBILE_PIPELINE:"MobilePipeline",FX_PIPELINE:"FxPipeline"};r.exports=C},84817:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineafterflush"},36712:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebeforeflush"},40285:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinebind"},65918:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineboot"},92852:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinedestroy"},56072:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelinerebind"},57566:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pipelineresize"},77085:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AFTER_FLUSH:i(84817),BEFORE_FLUSH:i(36712),BIND:i(40285),BOOT:i(65918),DESTROY:i(92852),REBIND:i(56072),RESIZE:i(57566)}},54812:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(99155),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.amount=1},onPreRender:function(a,n){a=this.getController(a),this.set1f("amount",a.amount,n)}});r.exports=l},67329:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(24400),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.steps=4,this.offsetX=1,this.offsetY=1,this.blurStrength=1,this.strength=1,this.glcolor=[1,1,1]},onPreRender:function(a){a=this.getController(a),this.set1f("strength",a.blurStrength),this.set3fv("color",a.glcolor)},onDraw:function(a){var n=this.getController(),d=this.fullFrame1,c=this.fullFrame2;this.copyFrame(a,c);for(var u=2/a.width*n.offsetX,v=2/a.height*n.offsetY,p=0;p<n.steps;p++)this.set2f("offset",u,0),this.copySprite(a,d),this.set2f("offset",0,v),this.copySprite(d,a);this.blendFrames(c,a,d,n.strength),this.copyToGame(d)}});r.exports=l},8861:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(41514),f=i(51078),l=i(94328),a=i(84057),n=new h({Extends:a,initialize:function(c){a.call(this,{game:c,shaders:[{name:"Gaussian5",fragShader:x},{name:"Gaussian9",fragShader:f},{name:"Gaussian13",fragShader:l}]}),this.activeShader=this.shaders[0],this.x=2,this.y=2,this.steps=4,this.strength=1,this.glcolor=[1,1,1]},setQualityLow:function(){return this.activeShader=this.shaders[0],this},setQualityMedium:function(){return this.activeShader=this.shaders[1],this},setQualityHigh:function(){return this.activeShader=this.shaders[2],this},onDraw:function(d){var c=this.getController(),u=this.gl,v=this.fullFrame1,p=u.getParameter(u.FRAMEBUFFER_BINDING);this.bind(this.shaders[c.quality]),u.activeTexture(u.TEXTURE0),u.viewport(0,0,d.width,d.height),this.set1i("uMainSampler",0),this.set2f("resolution",d.width,d.height),this.set1f("strength",c.strength),this.set3fv("color",c.glcolor);for(var g=0;g<c.steps;g++)this.set2f("offset",c.x,0),this.copySprite(d,v),this.set2f("offset",0,c.y),this.copySprite(v,d);u.bindFramebuffer(u.FRAMEBUFFER,p),u.bindTexture(u.TEXTURE_2D,null),this.copyToGame(d)}});r.exports=n},51051:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(90610),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.isTiltShift=!1,this.strength=1,this.blurX=1,this.blurY=1,this.radius=.5,this.amount=1,this.contrast=.2},onPreRender:function(a,n,d,c){a=this.getController(a),this.set1f("radius",a.radius,n),this.set1f("amount",a.amount,n),this.set1f("contrast",a.contrast,n),this.set1f("strength",a.strength,n),this.set2f("blur",a.blurX,a.blurY,n),this.setBoolean("isTiltShift",a.isTiltShift,n),d&&c&&this.set2f("resolution",d,c,n)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});r.exports=l},89428:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(91899),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.scale=1,this.feather=.005,this.thickness=8,this.glcolor=[1,.2,.7],this.glcolor2=[1,0,0,.4]},onPreRender:function(a,n,d,c){a=this.getController(a),this.set1f("scale",a.scale,n),this.set1f("feather",a.feather,n),this.set1f("thickness",a.thickness,n),this.set3fv("color",a.glcolor,n),this.set4fv("backgroundColor",a.glcolor2,n),d&&c&&this.set2f("resolution",d,c,n)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});r.exports=l},88904:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(84057),f=new h({Extends:x,initialize:function(a){x.call(this,{game:a})},onDraw:function(l){var a=this.fullFrame1;this.controller?this.manager.drawFrame(l,a,!0,this.controller):this.drawFrame(l,a),this.copyToGame(a)}});r.exports=f},63563:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(47838),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.x=.005,this.y=.005,this.glTexture},onBoot:function(){this.setTexture("__WHITE")},setTexture:function(a){var n=this.game.textures.getFrame(a);n&&(this.glTexture=n.glTexture)},onDraw:function(a){var n=this.getController(),d=this.fullFrame1;this.bind(),this.set1i("uMainSampler",0),this.set1i("uDisplacementSampler",1),this.set2f("amount",n.x,n.y),this.bindTexture(n.glTexture,1),this.copySprite(a,d),this.copyToGame(d)}});r.exports=l},94045:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=i(98656),l=i(84057),a=i(70554),n=new h({Extends:l,initialize:function(c,u){var v=x(u,"quality",.1),p=x(u,"distance",10);l.call(this,{game:c,fragShader:a.setGlowQuality(f,c,v,p)}),this.outerStrength=4,this.innerStrength=0,this.knockout=!1,this.glcolor=[1,1,1,1]},onPreRender:function(d,c,u,v){d=this.getController(d),this.set1f("outerStrength",d.outerStrength,c),this.set1f("innerStrength",d.innerStrength,c),this.set4fv("glowColor",d.glcolor,c),this.setBoolean("knockout",d.knockout,c),u&&v&&this.set2f("resolution",u,v,c)},onDraw:function(d){this.set2f("resolution",d.width,d.height),this.bindAndDraw(d)}});r.exports=n},74088:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(70463),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.alpha=.2,this.size=0,this.fromX=0,this.fromY=0,this.toX=0,this.toY=1,this.glcolor1=[255,0,0],this.glcolor2=[0,255,0]},onPreRender:function(a,n){a=this.getController(a),this.set1f("alpha",a.alpha,n),this.set1i("size",a.size,n),this.set3fv("color1",a.glcolor1,n),this.set3fv("color2",a.glcolor2,n),this.set2f("positionFrom",a.fromX,a.fromY,n),this.set2f("positionTo",a.toX,a.toY,n)}});r.exports=l},99636:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50831),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.amount=1},onPreRender:function(a,n,d,c){a=this.getController(a),this.set1f("amount",a.amount,n),d&&c&&this.set2f("resolution",d,c,n)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});r.exports=l},34700:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(92595),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.x=0,this.y=0,this.decay=.1,this.power=1,this.glcolor=[0,0,0,1],this.samples=6,this.intensity=1},onPreRender:function(a,n){a=this.getController(a);var d=a.samples;this.set1i("samples",d,n),this.set1f("intensity",a.intensity,n),this.set1f("decay",a.decay,n),this.set1f("power",a.power/d,n),this.set2f("lightPosition",a.x,a.y,n),this.set4fv("color",a.glcolor,n)}});r.exports=l},91157:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(72464),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.speed=.5,this.lineWidth=.5,this.gradient=3,this.reveal=!1},onPreRender:function(a,n,d,c){a=this.getController(a),this.setTime("time",n),this.set1f("speed",a.speed,n),this.set1f("lineWidth",a.lineWidth,n),this.set1f("gradient",a.gradient,n),this.setBoolean("reveal",a.reveal,n),d&&c&&this.set2f("resolution",d,c,n)},onDraw:function(a){this.set2f("resolution",a.width,a.height),this.bindAndDraw(a)}});r.exports=l},27797:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(39249),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.x=.5,this.y=.5,this.radius=.5,this.strength=.5},onPreRender:function(a,n){a=this.getController(a),this.set1f("radius",a.radius,n),this.set1f("strength",a.strength,n),this.set2f("position",a.x,a.y,n)}});r.exports=l},67603:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(2878),f=i(84057),l=new h({Extends:f,initialize:function(n){f.call(this,{game:n,fragShader:x}),this.progress=0,this.wipeWidth=.1,this.direction=0,this.axis=0,this.reveal=!1},onPreRender:function(a,n){a=this.getController(a);var d=a.progress,c=a.wipeWidth,u=a.direction,v=a.axis;this.set4f("config",d,c,u,v,n),this.setBoolean("reveal",a.reveal,n)}});r.exports=l},58918:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={Barrel:i(54812),Bloom:i(67329),Blur:i(8861),Bokeh:i(51051),Circle:i(89428),ColorMatrix:i(88904),Displacement:i(63563),Glow:i(94045),Gradient:i(74088),Pixelate:i(99636),Shadow:i(34700),Shine:i(91157),Vignette:i(27797),Wipe:i(67603)};r.exports=h},96615:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(36060),x=i(79291),f={FX:i(58918),BitmapMaskPipeline:i(31302),Events:i(77085),FXPipeline:i(92651),LightPipeline:i(96569),MobilePipeline:i(56527),MultiPipeline:i(57516),PointLightPipeline:i(43439),PostFXPipeline:i(84057),PreFXPipeline:i(43558),RopePipeline:i(81041),SinglePipeline:i(12385),UtilityPipeline:i(7589)};f=x(!1,f,h),r.exports=f},35407:r=>{r.exports=["#define SHADER_NAME PHASER_ADD_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = frame1 + frame2 * uStrength;","}"].join(`
`)},78908:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_FS","precision mediump float;","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uMaskSampler;","uniform bool uInvertMaskAlpha;","void main ()","{","    vec2 uv = gl_FragCoord.xy / uResolution;","    vec4 mainColor = texture2D(uMainSampler, uv);","    vec4 maskColor = texture2D(uMaskSampler, uv);","    if (!uInvertMaskAlpha)","    {","        mainColor *= maskColor.a;","    }","    else","    {","        mainColor *= (1.0 - maskColor.a);","    }","    gl_FragColor = mainColor;","}"].join(`
`)},85191:r=>{r.exports=["#define SHADER_NAME PHASER_BITMAP_MASK_VS","precision mediump float;","attribute vec2 inPosition;","void main ()","{","    gl_Position = vec4(inPosition, 0.0, 1.0);","}"].join(`
`)},96293:r=>{r.exports=["#define SHADER_NAME PHASER_COLORMATRIX_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uColorMatrix[20];","uniform float uAlpha;","varying vec2 outTexCoord;","void main ()","{","    vec4 c = texture2D(uMainSampler, outTexCoord);","    if (uAlpha == 0.0)","    {","        gl_FragColor = c;","        return;","    }","    if (c.a > 0.0)","    {","        c.rgb /= c.a;","    }","    vec4 result;","    result.r = (uColorMatrix[0] * c.r) + (uColorMatrix[1] * c.g) + (uColorMatrix[2] * c.b) + (uColorMatrix[3] * c.a) + uColorMatrix[4];","    result.g = (uColorMatrix[5] * c.r) + (uColorMatrix[6] * c.g) + (uColorMatrix[7] * c.b) + (uColorMatrix[8] * c.a) + uColorMatrix[9];","    result.b = (uColorMatrix[10] * c.r) + (uColorMatrix[11] * c.g) + (uColorMatrix[12] * c.b) + (uColorMatrix[13] * c.a) + uColorMatrix[14];","    result.a = (uColorMatrix[15] * c.r) + (uColorMatrix[16] * c.g) + (uColorMatrix[17] * c.b) + (uColorMatrix[18] * c.a) + uColorMatrix[19];","    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);","    rgb *= result.a;","    gl_FragColor = vec4(rgb, result.a);","}"].join(`
`)},36682:r=>{r.exports=["#define SHADER_NAME PHASER_COPY_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float uBrightness;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord) * uBrightness;","}"].join(`
`)},99155:r=>{r.exports=["#define SHADER_NAME BARREL_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float amount;","varying vec2 outTexCoord;","vec2 Distort(vec2 p)","{","    float theta  = atan(p.y, p.x);","    float radius = length(p);","    radius = pow(radius, amount);","    p.x = radius * cos(theta);","    p.y = radius * sin(theta);","    return 0.5 * (p + 1.0);","}","void main()","{","    vec2 xy = 2.0 * outTexCoord - 1.0;","    vec2 texCoord = outTexCoord;","    if (length(xy) < 1.0)","    {","        texCoord = Distort(xy);","    }","    gl_FragColor = texture2D(uMainSampler, texCoord);","}"].join(`
`)},24400:r=>{r.exports=["#define SHADER_NAME BLOOM_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec4 sum = texture2D(uMainSampler, outTexCoord) * 0.204164 * strength;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord - offset * 1.407333) * 0.304005;","    sum = sum + texture2D(uMainSampler, outTexCoord + offset * 3.294215) * 0.093913;","    gl_FragColor = (sum + texture2D(uMainSampler, outTexCoord - offset * 3.294215) * 0.093913) * vec4(color, 1);","}"].join(`
`)},94328:r=>{r.exports=["#define SHADER_NAME BLUR_HIGH_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.411764705882353) * offset * strength;","    vec2 off2 = vec2(3.2941176470588234) * offset * strength;","    vec2 off3 = vec2(5.176470588235294) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.1964825501511404;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.2969069646728344;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.09447039785044732;","    col += texture2D(uMainSampler, uv + (off3 / resolution)) * 0.010381362401148057;","    col += texture2D(uMainSampler, uv - (off3 / resolution)) * 0.010381362401148057;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},41514:r=>{r.exports=["#define SHADER_NAME BLUR_LOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 offset = vec2(1.333) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.29411764705882354;","    col += texture2D(uMainSampler, uv + (offset / resolution)) * 0.35294117647058826;","    col += texture2D(uMainSampler, uv - (offset / resolution)) * 0.35294117647058826;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},51078:r=>{r.exports=["#define SHADER_NAME BLUR_MED_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec2 offset;","uniform float strength;","uniform vec3 color;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 col = vec4(0.0);","    vec2 off1 = vec2(1.3846153846) * offset * strength;","    vec2 off2 = vec2(3.2307692308) * offset * strength;","    col += texture2D(uMainSampler, uv) * 0.2270270270;","    col += texture2D(uMainSampler, uv + (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv - (off1 / resolution)) * 0.3162162162;","    col += texture2D(uMainSampler, uv + (off2 / resolution)) * 0.0702702703;","    col += texture2D(uMainSampler, uv - (off2 / resolution)) * 0.0702702703;","    gl_FragColor = col * vec4(color, 1.0);","}"].join(`
`)},90610:r=>{r.exports=["#define SHADER_NAME BOKEH_FS","precision mediump float;","#define ITERATIONS 100.0","#define ONEOVER_ITR 1.0 / ITERATIONS","#define PI 3.141596","#define GOLDEN_ANGLE 2.39996323","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float radius;","uniform float amount;","uniform float contrast;","uniform bool isTiltShift;","uniform float strength;","uniform vec2 blur;","varying vec2 outTexCoord;","vec2 Sample (in float theta, inout float r)","{","    r += 1.0 / r;","    return (r - 1.0) * vec2(cos(theta), sin(theta)) * 0.06;","}","vec3 Bokeh (sampler2D tex, vec2 uv, float radius)","{","    vec3 acc = vec3(0.0);","    vec3 div = vec3(0.0);","    vec2 pixel = vec2(resolution.y / resolution.x, 1.0) * radius * .025;","    float r = 1.0;","    for (float j = 0.0; j < GOLDEN_ANGLE * ITERATIONS; j += GOLDEN_ANGLE)","    {","        vec3 col = texture2D(tex, uv + pixel * Sample(j, r)).xyz;","        col = contrast > 0.0 ? col * col * (1.0 + contrast) : col;","        vec3 bokeh = vec3(0.5) + pow(col, vec3(10.0)) * amount;","        acc += col * bokeh;","        div += bokeh;","    }","    return acc / div;","}","void main ()","{","    float shift = 1.0;","    if (isTiltShift)","    {","        vec2 uv = vec2(gl_FragCoord.xy / resolution + vec2(-0.5, -0.5)) * 2.0;","        float centerStrength = 1.0;","        shift = length(uv * blur * strength) * centerStrength;","    }","    gl_FragColor = vec4(Bokeh(uMainSampler, outTexCoord * vec2(1.0, 1.0), radius * shift), 0.0);","}"].join(`
`)},91899:r=>{r.exports=["#define SHADER_NAME CIRCLE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform vec3 color;","uniform vec4 backgroundColor;","uniform float thickness;","uniform float scale;","uniform float feather;","varying vec2 outTexCoord;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 position = (gl_FragCoord.xy / resolution.xy) * 2.0 - 1.0;","    float aspectRatio = resolution.x / resolution.y;","    position.x *= aspectRatio;","    float grad = length(position);","    float outer = aspectRatio;","    float inner = outer - (thickness * 2.0 / resolution.y);","    if (aspectRatio >= 1.0)","    {","        float f = 2.0 + (resolution.y / resolution.x);","        outer = 1.0;","        inner = 1.0 - (thickness * f / resolution.x);","    }","    outer *= scale;","    inner *= scale;","    float circle = smoothstep(outer, outer - 0.01, grad);","    float ring = circle - smoothstep(inner, inner - feather, grad);","    texture = mix(backgroundColor * backgroundColor.a, texture, texture.a);","    texture = (texture * (circle - ring));","    gl_FragColor = vec4(texture.rgb + (ring * color), texture.a);","}"].join(`
`)},47838:r=>{r.exports=["#define SHADER_NAME DISPLACEMENT_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform sampler2D uDisplacementSampler;","uniform vec2 amount;","varying vec2 outTexCoord;","void main ()","{","    vec2 disp = (-vec2(0.5, 0.5) + texture2D(uDisplacementSampler, outTexCoord).rr) * amount;","    gl_FragColor = texture2D(uMainSampler, outTexCoord + disp).rgba;","}"].join(`
`)},98656:r=>{r.exports=["#define SHADER_NAME GLOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform float outerStrength;","uniform float innerStrength;","uniform vec2 resolution;","uniform vec4 glowColor;","uniform bool knockout;","const float PI = 3.14159265358979323846264;","const float DIST = __DIST__;","const float SIZE = min(__SIZE__, PI * 2.0);","const float STEP = ceil(PI * 2.0 / SIZE);","const float MAX_ALPHA = STEP * DIST * (DIST + 1.0) / 2.0;","void main ()","{","    vec2 px = vec2(1.0 / resolution.x, 1.0 / resolution.y);","    float totalAlpha = 0.0;","    vec2 direction;","    vec2 displaced;","    vec4 color;","    for (float angle = 0.0; angle < PI * 2.0; angle += SIZE)","    {","        direction = vec2(cos(angle), sin(angle)) * px;","        for (float curDistance = 0.0; curDistance < DIST; curDistance++)","        {","            displaced = outTexCoord + direction * (curDistance + 1.0);","            color = texture2D(uMainSampler, displaced);","            totalAlpha += (DIST - curDistance) * color.a;","        }","    }","    color = texture2D(uMainSampler, outTexCoord);","    float alphaRatio = (totalAlpha / MAX_ALPHA);","    float innerGlowAlpha = (1.0 - alphaRatio) * innerStrength * color.a;","    float innerGlowStrength = min(1.0, innerGlowAlpha);","    vec4 innerColor = mix(color, glowColor, innerGlowStrength);","    float outerGlowAlpha = alphaRatio * outerStrength * (1.0 - color.a);","    float outerGlowStrength = min(1.0 - innerColor.a, outerGlowAlpha);","    vec4 outerGlowColor = outerGlowStrength * glowColor.rgba;","    if (knockout)","    {","        float resultAlpha = outerGlowAlpha + innerGlowAlpha;","        gl_FragColor = vec4(glowColor.rgb * resultAlpha, resultAlpha);","    }","    else","    {","        gl_FragColor = innerColor + outerGlowColor;","    }","}"].join(`
`)},70463:r=>{r.exports=["#define SHADER_NAME GRADIENT_FS","#define SRGB_TO_LINEAR(c) pow((c), vec3(2.2))","#define LINEAR_TO_SRGB(c) pow((c), vec3(1.0 / 2.2))","#define SRGB(r, g, b) SRGB_TO_LINEAR(vec3(float(r), float(g), float(b)) / 255.0)","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 positionFrom;","uniform vec2 positionTo;","uniform vec3 color1;","uniform vec3 color2;","uniform float alpha;","uniform int size;","varying vec2 outTexCoord;","float gradientNoise(in vec2 uv)","{","    const vec3 magic = vec3(0.06711056, 0.00583715, 52.9829189);","    return fract(magic.z * fract(dot(uv, magic.xy)));","}","float stepped (in float s, in float scale, in int steps)","{","    return steps > 0 ? floor( s / ((1.0 * scale) / float(steps))) * 1.0 / float(steps - 1) : s;","}","void main ()","{","    vec2 a = positionFrom;","    vec2 b = positionTo;","    vec2 ba = b - a;","    float d = dot(outTexCoord - a, ba) / dot(ba, ba);","    float t = size > 0 ? stepped(d, 1.0, size) : d;","    t = smoothstep(0.0, 1.0, clamp(t, 0.0, 1.0));","    vec3 color = mix(SRGB(color1.r, color1.g, color1.b), SRGB(color2.r, color2.g, color2.b), t);","    color = LINEAR_TO_SRGB(color);","    color += (1.0 / 255.0) * gradientNoise(outTexCoord) - (0.5 / 255.0);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = vec4(mix(color.rgb, texture.rgb, alpha), 1.0) * texture.a;","}"].join(`
`)},50831:r=>{r.exports=["#define SHADER_NAME PIXELATE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform float amount;","varying vec2 outTexCoord;","void main ()","{","    float pixelSize = floor(2.0 + amount);","    vec2 center = pixelSize * floor(outTexCoord * resolution / pixelSize) + pixelSize * vec2(0.5, 0.5);","    vec2 corner1 = center + pixelSize * vec2(-0.5, -0.5);","    vec2 corner2 = center + pixelSize * vec2(+0.5, -0.5);","    vec2 corner3 = center + pixelSize * vec2(+0.5, +0.5);","    vec2 corner4 = center + pixelSize * vec2(-0.5, +0.5);","    vec4 pixel = 0.4 * texture2D(uMainSampler, center / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner1 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner2 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner3 / resolution);","    pixel += 0.15 * texture2D(uMainSampler, corner4 / resolution);","    gl_FragColor = pixel;","}"].join(`
`)},92595:r=>{r.exports=["#define SHADER_NAME SHADOW_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","uniform vec2 lightPosition;","uniform vec4 color;","uniform float decay;","uniform float power;","uniform float intensity;","uniform int samples;","const int MAX = 12;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec2 pc = (lightPosition - outTexCoord) * intensity;","    float shadow = 0.0;","    float limit = max(float(MAX), float(samples));","    for (int i = 0; i < MAX; ++i)","    {","        if (i >= samples)","        {","            break;","        }","        shadow += texture2D(uMainSampler, outTexCoord + float(i) * decay / limit * pc).a * power;","    }","    float mask = 1.0 - texture.a;","    gl_FragColor = mix(texture, color, shadow * mask);","}"].join(`
`)},72464:r=>{r.exports=["#define SHADER_NAME SHINE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec2 resolution;","uniform bool reveal;","uniform float speed;","uniform float time;","uniform float lineWidth;","uniform float gradient;","varying vec2 outTexCoord;","void main ()","{","	vec2 uv = gl_FragCoord.xy / resolution.xy;","    vec4 tex = texture2D(uMainSampler, outTexCoord);","    vec4 col1 = vec4(0.3, 0.0, 0.0, 1.0);","    vec4 col2 = vec4(0.85, 0.85, 0.85, 1.0);","    uv.x = uv.x - mod(time * speed, 2.0) + 0.5;","    float y = uv.x * gradient;","    float s = smoothstep(y - lineWidth, y, uv.y) - smoothstep(y, y + lineWidth, uv.y);","    gl_FragColor = (((s * col1) + (s * col2)) * tex);","    if (!reveal)","    {","        gl_FragColor += tex;","    }","}"].join(`
`)},39249:r=>{r.exports=["#define SHADER_NAME VIGNETTE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform float radius;","uniform float strength;","uniform vec2 position;","varying vec2 outTexCoord;","void main ()","{","    vec4 col = vec4(1.0);","    float d = length(outTexCoord - position);","    if (d <= radius)","    {","        float g = d / radius;","        g = sin(g * 3.14 * strength);","    	col = vec4(g * g * g);","    }","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    gl_FragColor = texture * (1.0 - col);","}"].join(`
`)},2878:r=>{r.exports=["#define SHADER_NAME WIPE_FS","precision mediump float;","uniform sampler2D uMainSampler;","uniform vec4 config;","uniform bool reveal;","varying vec2 outTexCoord;","void main ()","{","    vec2 uv = outTexCoord;","    vec4 color0;","    vec4 color1;","    if (reveal)","    {","        color0 = vec4(0);","        color1 = texture2D(uMainSampler, uv);","    }","    else","    {","        color0 = texture2D(uMainSampler, uv);","        color1 = vec4(0);","    }","    float distance = config.x;","    float width = config.y;","    float direction = config.z;","    float axis = uv.x;","    if (config.w == 1.0)","    {","        axis = uv.y;","    }","    float adjust = mix(width, -width, distance);","    float value = smoothstep(distance - width, distance + width, abs(direction - axis) + adjust);","    gl_FragColor = mix(color1, color0, value);","}"].join(`
`)},31063:r=>{r.exports=["#define SHADER_NAME PHASER_LIGHT_FS","precision mediump float;","struct Light","{","    vec2 position;","    vec3 color;","    float intensity;","    float radius;","};","const int kMaxLights = %LIGHT_COUNT%;","uniform vec4 uCamera; /* x, y, rotation, zoom */","uniform vec2 uResolution;","uniform sampler2D uMainSampler;","uniform sampler2D uNormSampler;","uniform vec3 uAmbientLightColor;","uniform Light uLights[kMaxLights];","uniform mat3 uInverseRotationMatrix;","uniform int uLightCount;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec3 finalColor = vec3(0.0, 0.0, 0.0);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    vec3 normalMap = texture2D(uNormSampler, outTexCoord).rgb;","    vec3 normal = normalize(uInverseRotationMatrix * vec3(normalMap * 2.0 - 1.0));","    vec2 res = vec2(min(uResolution.x, uResolution.y)) * uCamera.w;","    for (int index = 0; index < kMaxLights; ++index)","    {","        if (index < uLightCount)","        {","            Light light = uLights[index];","            vec3 lightDir = vec3((light.position.xy / res) - (gl_FragCoord.xy / res), 0.1);","            vec3 lightNormal = normalize(lightDir);","            float distToSurf = length(lightDir) * uCamera.w;","            float diffuseFactor = max(dot(normal, lightNormal), 0.0);","            float radius = (light.radius / res.x * uCamera.w) * uCamera.w;","            float attenuation = clamp(1.0 - distToSurf * distToSurf / (radius * radius), 0.0, 1.0);","            vec3 diffuse = light.color * diffuseFactor;","            finalColor += (attenuation * diffuse) * light.intensity;","        }","    }","    vec4 colorOutput = vec4(uAmbientLightColor + finalColor, 1.0);","    gl_FragColor = color * vec4(colorOutput.rgb * colorOutput.a, colorOutput.a);","}"].join(`
`)},48247:r=>{r.exports=["#define SHADER_NAME PHASER_LINEAR_BLEND_FS","precision mediump float;","uniform sampler2D uMainSampler1;","uniform sampler2D uMainSampler2;","uniform float uStrength;","varying vec2 outTexCoord;","void main ()","{","    vec4 frame1 = texture2D(uMainSampler1, outTexCoord);","    vec4 frame2 = texture2D(uMainSampler2, outTexCoord);","    gl_FragColor = mix(frame1, frame2 * uStrength, 0.5);","}"].join(`
`)},41214:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_FS","precision mediump float;","uniform vec3 uLightPosition;","uniform vec3 uLightAmbient;","uniform vec3 uLightDiffuse;","uniform vec3 uLightSpecular;","uniform vec3 uFogColor;","uniform float uFogNear;","uniform float uFogFar;","uniform vec3 uMaterialAmbient;","uniform vec3 uMaterialDiffuse;","uniform vec3 uMaterialSpecular;","uniform float uMaterialShine;","uniform vec3 uCameraPosition;","uniform sampler2D uTexture;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main (void)","{","    vec4 color = texture2D(uTexture, vTextureCoord);","    vec3 ambient = uLightAmbient * uMaterialAmbient;","    vec3 norm = normalize(vNormal);","    vec3 lightDir = normalize(uLightPosition - vPosition);","    float diff = max(dot(norm, lightDir), 0.0);","    vec3 diffuse = uLightDiffuse * (diff * uMaterialDiffuse);","    vec3 viewDir = normalize(uCameraPosition - vPosition);","    vec3 reflectDir = reflect(-lightDir, norm);","    float spec = pow(max(dot(viewDir, reflectDir), 0.0), uMaterialShine);","    vec3 specular = uLightSpecular * (spec * uMaterialSpecular);","    vec3 result = (ambient + diffuse + specular) * color.rgb;","    float depth = gl_FragCoord.z / gl_FragCoord.w;","    float fogFactor = smoothstep(uFogNear, uFogFar, depth);","    gl_FragColor.rgb = mix(result.rgb, uFogColor, fogFactor);","    gl_FragColor.a = color.a;","}"].join(`
`)},39653:r=>{r.exports=["#define SHADER_NAME PHASER_MESH_VS","precision mediump float;","attribute vec3 aVertexPosition;","attribute vec3 aVertexNormal;","attribute vec2 aTextureCoord;","uniform mat4 uViewProjectionMatrix;","uniform mat4 uModelMatrix;","uniform mat4 uNormalMatrix;","varying vec2 vTextureCoord;","varying vec3 vNormal;","varying vec3 vPosition;","void main ()","{","    vTextureCoord = aTextureCoord;","    vPosition = vec3(uModelMatrix * vec4(aVertexPosition, 1.0));","    vNormal = vec3(uNormalMatrix * vec4(aVertexNormal, 1.0));","    gl_Position = uViewProjectionMatrix * uModelMatrix * vec4(aVertexPosition, 1.0);","}"].join(`
`)},62143:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},47940:r=>{r.exports=["#define SHADER_NAME PHASER_MOBILE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},98840:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler[%count%];","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture;","    %forloop%","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},44667:r=>{r.exports=["#define SHADER_NAME PHASER_MULTI_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTexId;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTexId = inTexId;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},4127:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_FS","precision mediump float;","uniform vec2 uResolution;","uniform float uCameraZoom;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    vec2 center = (lightPosition.xy + 1.0) * (uResolution.xy * 0.5);","    float distToSurf = length(center - gl_FragCoord.xy);","    float radius = 1.0 - distToSurf / (lightRadius * uCameraZoom);","    float intensity = smoothstep(0.0, 1.0, radius * lightAttenuation);","    vec4 color = vec4(intensity, intensity, intensity, 0.0) * lightColor;","    gl_FragColor = vec4(color.rgb * lightColor.a, color.a);","}"].join(`
`)},89924:r=>{r.exports=["#define SHADER_NAME PHASER_POINTLIGHT_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","attribute vec2 inPosition;","attribute vec2 inLightPosition;","attribute vec4 inLightColor;","attribute float inLightRadius;","attribute float inLightAttenuation;","varying vec4 lightPosition;","varying vec4 lightColor;","varying float lightRadius;","varying float lightAttenuation;","void main ()","{","    lightColor = inLightColor;","    lightRadius = inLightRadius;","    lightAttenuation = inLightAttenuation;","    lightPosition = uProjectionMatrix * vec4(inLightPosition, 1.0, 1.0);","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","}"].join(`
`)},27681:r=>{r.exports=["#define SHADER_NAME PHASER_POSTFX_FS","precision mediump float;","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","void main ()","{","    gl_FragColor = texture2D(uMainSampler, outTexCoord);","}"].join(`
`)},49627:r=>{r.exports=["#define SHADER_NAME PHASER_QUAD_VS","precision mediump float;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","varying vec2 outFragCoord;","varying vec2 outTexCoord;","void main ()","{","    outFragCoord = inPosition.xy * 0.5 + 0.5;","    outTexCoord = inTexCoord;","    gl_Position = vec4(inPosition, 0, 1);","}"].join(`
`)},45561:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_FS","#ifdef GL_FRAGMENT_PRECISION_HIGH","precision highp float;","#else","precision mediump float;","#endif","uniform sampler2D uMainSampler;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    vec4 texture = texture2D(uMainSampler, outTexCoord);","    vec4 texel = vec4(outTint.bgr * outTint.a, outTint.a);","    vec4 color = texture * texel;","    if (outTintEffect == 1.0)","    {","        color.rgb = mix(texture.rgb, outTint.bgr * outTint.a, texture.a);","    }","    else if (outTintEffect == 2.0)","    {","        color = texel;","    }","    gl_FragColor = color;","}"].join(`
`)},60722:r=>{r.exports=["#define SHADER_NAME PHASER_SINGLE_VS","precision mediump float;","uniform mat4 uProjectionMatrix;","uniform vec2 uResolution;","attribute vec2 inPosition;","attribute vec2 inTexCoord;","attribute float inTexId;","attribute float inTintEffect;","attribute vec4 inTint;","varying vec2 outTexCoord;","varying float outTintEffect;","varying vec4 outTint;","void main ()","{","    gl_Position = uProjectionMatrix * vec4(inPosition, 1.0, 1.0);","    outTexCoord = inTexCoord;","    outTint = inTint;","    outTintEffect = inTintEffect;","}"].join(`
`)},89350:(r,C,i)=>{/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2013-2023 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AddBlendFrag:i(35407),BitmapMaskFrag:i(78908),BitmapMaskVert:i(85191),ColorMatrixFrag:i(96293),CopyFrag:i(36682),FXBarrelFrag:i(99155),FXBloomFrag:i(24400),FXBlurHighFrag:i(94328),FXBlurLowFrag:i(41514),FXBlurMedFrag:i(51078),FXBokehFrag:i(90610),FXCircleFrag:i(91899),FXDisplacementFrag:i(47838),FXGlowFrag:i(98656),FXGradientFrag:i(70463),FXPixelateFrag:i(50831),FXShadowFrag:i(92595),FXShineFrag:i(72464),FXVignetteFrag:i(39249),FXWipeFrag:i(2878),LightFrag:i(31063),LinearBlendFrag:i(48247),MeshFrag:i(41214),MeshVert:i(39653),MobileFrag:i(62143),MobileVert:i(47940),MultiFrag:i(98840),MultiVert:i(44667),PointLightFrag:i(4127),PointLightVert:i(89924),PostFXFrag:i(27681),QuadVert:i(49627),SingleFrag:i(45561),SingleVert:i(60722)}},93567:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n){this.webGLAttribLocation=-1,this.gl=l,this.program=a,this.name=n,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLAttribLocation=-1;return}var f=this.gl;f.isContextLost()||(this.webGLAttribLocation=f.getAttribLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLAttribLocation=-1}});r.exports=x},26128:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d){this.webGLBuffer=null,this.gl=l,this.initialDataOrSize=a,this.bufferType=n,this.bufferUsage=d,this.createResource()},createResource:function(){if(this.initialDataOrSize!==null){var f=this.gl;if(!f.isContextLost()){var l=this.bufferType,a=f.createBuffer();this.webGLBuffer=a,f.bindBuffer(l,this.webGLBuffer),f.bufferData(l,this.initialDataOrSize,this.bufferUsage),f.bindBuffer(l,null)}}},destroy:function(){var f=this.gl;f.isContextLost()||f.deleteBuffer(this.webGLBuffer),this.webGLBuffer=null,this.initialDataOrSize=null,this.gl=null}});r.exports=x},84387:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x={36054:"Incomplete Attachment",36055:"Missing Attachment",36057:"Incomplete Dimensions",36061:"Framebuffer Unsupported"},f=new h({initialize:function(a,n,d,c,u){this.webGLFramebuffer=null,this.gl=a,this.width=n,this.height=d,this.renderTexture=c,this.addDepthStencilBuffer=!!u,this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){var a=this.renderTexture,n=0,d=l.createFramebuffer();if(this.webGLFramebuffer=d,l.bindFramebuffer(l.FRAMEBUFFER,d),a.isRenderTexture=!0,a.isAlphaPremultiplied=!1,l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,a.webGLTexture,0),n=l.checkFramebufferStatus(l.FRAMEBUFFER),n!==l.FRAMEBUFFER_COMPLETE)throw new Error("Framebuffer status: "+(x[n]||n));if(this.addDepthStencilBuffer){var c=l.createRenderbuffer();l.bindRenderbuffer(l.RENDERBUFFER,c),l.renderbufferStorage(l.RENDERBUFFER,l.DEPTH_STENCIL,this.width,this.height),l.framebufferRenderbuffer(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.RENDERBUFFER,c)}l.bindFramebuffer(l.FRAMEBUFFER,null)}},destroy:function(){if(this.webGLFramebuffer!==null){var l=this.gl;if(!l.isContextLost()){l.bindFramebuffer(l.FRAMEBUFFER,this.webGLFramebuffer);var a=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);a!==null&&(l.framebufferTexture2D(l.FRAMEBUFFER,l.COLOR_ATTACHMENT0,l.TEXTURE_2D,null,0),l.deleteTexture(a));var n=l.getFramebufferAttachmentParameter(l.FRAMEBUFFER,l.DEPTH_STENCIL_ATTACHMENT,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME);n!==null&&l.deleteRenderbuffer(n),l.bindFramebuffer(l.FRAMEBUFFER,null),l.deleteFramebuffer(this.webGLFramebuffer)}this.renderTexture=null,this.webGLFramebuffer=null,this.gl=null}}});r.exports=f},1482:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n){this.webGLProgram=null,this.gl=l,this.vertexSource=a,this.fragmentSource=n,this.createResource()},createResource:function(){var f=this.gl;if(!f.isContextLost()){var l=f.createProgram(),a=f.createShader(f.VERTEX_SHADER),n=f.createShader(f.FRAGMENT_SHADER);f.shaderSource(a,this.vertexSource),f.shaderSource(n,this.fragmentSource),f.compileShader(a),f.compileShader(n);var d=`Shader failed:
`;if(!f.getShaderParameter(a,f.COMPILE_STATUS))throw new Error("Vertex "+d+f.getShaderInfoLog(a));if(!f.getShaderParameter(n,f.COMPILE_STATUS))throw new Error("Fragment "+d+f.getShaderInfoLog(n));if(f.attachShader(l,a),f.attachShader(l,n),f.linkProgram(l),!f.getProgramParameter(l,f.LINK_STATUS))throw new Error("Link "+d+f.getProgramInfoLog(l));f.useProgram(l),this.webGLProgram=l}},destroy:function(){this.webGLProgram&&(this.gl.isContextLost()||this.gl.deleteProgram(this.webGLProgram),this.webGLProgram=null,this.gl=null)}});r.exports=x},82751:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50030),f=new h({initialize:function(a,n,d,c,u,v,p,g,m,T,P,E,M){this.webGLTexture=null,this.isRenderTexture=!1,this.gl=a,this.mipLevel=n,this.minFilter=d,this.magFilter=c,this.wrapT=u,this.wrapS=v,this.format=p,this.pixels=g,this.width=m,this.height=T,this.pma=P??!0,this.forceSize=!!E,this.flipY=!!M,this.__SPECTOR_Metadata={},this.createResource()},createResource:function(){var l=this.gl;if(!l.isContextLost()){if(this.pixels instanceof f){this.webGLTexture=this.pixels.webGLTexture;return}var a=l.createTexture();a.__SPECTOR_Metadata=this.__SPECTOR_Metadata,this.webGLTexture=a,this._processTexture()}},update:function(l,a,n,d,c,u,v,p,g){if(!(a===0||n===0)){this.pixels=l,this.width=a,this.height=n,this.flipY=d,this.wrapS=c,this.wrapT=u,this.minFilter=v,this.magFilter=p,this.format=g;var m=this.gl;m.isContextLost()||this._processTexture()}},_processTexture:function(){var l=this.gl;l.activeTexture(l.TEXTURE0);var a=l.getParameter(l.TEXTURE_BINDING_2D);l.bindTexture(l.TEXTURE_2D,this.webGLTexture),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,this.minFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MAG_FILTER,this.magFilter),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_S,this.wrapS),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_WRAP_T,this.wrapT),l.pixelStorei(l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.pma),l.pixelStorei(l.UNPACK_FLIP_Y_WEBGL,this.flipY);var n=this.pixels,d=this.mipLevel,c=this.width,u=this.height,v=this.format,p=!1;if(n==null)l.texImage2D(l.TEXTURE_2D,d,v,c,u,0,v,l.UNSIGNED_BYTE,null),p=x(c,u);else if(n.compressed){c=n.width,u=n.height,p=n.generateMipmap;for(var g=0;g<n.mipmaps.length;g++)l.compressedTexImage2D(l.TEXTURE_2D,g,n.internalFormat,n.mipmaps[g].width,n.mipmaps[g].height,0,n.mipmaps[g].data)}else n instanceof Uint8Array?(l.texImage2D(l.TEXTURE_2D,d,v,c,u,0,v,l.UNSIGNED_BYTE,n),p=x(c,u)):(this.forceSize||(c=n.width,u=n.height),l.texImage2D(l.TEXTURE_2D,d,v,v,l.UNSIGNED_BYTE,n),p=x(c,u));p&&l.generateMipmap(l.TEXTURE_2D),a?l.bindTexture(l.TEXTURE_2D,a):l.bindTexture(l.TEXTURE_2D,null)},spectorMetadata:{get:function(){return this.__SPECTOR_Metadata},set:function(l){this.__SPECTOR_Metadata=l,this.gl.isContextLost()||(this.webGLTexture.__SPECTOR_Metadata=l)}},destroy:function(){this.webGLTexture!==null&&(this.gl.isContextLost()||this.pixels instanceof f||this.gl.deleteTexture(this.webGLTexture),this.pixels=null,this.webGLTexture=null,this.gl=null)}});r.exports=f},57183:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n){this.webGLUniformLocation=null,this.gl=l,this.program=a,this.name=n,this.createResource()},createResource:function(){if(this.program.webGLProgram===null){this.webGLUniformLocation=null;return}var f=this.gl;f.isContextLost()||(this.webGLUniformLocation=f.getUniformLocation(this.program.webGLProgram,this.name))},destroy:function(){this.gl=null,this.program=null,this.name=null,this.webGLUniformLocation=null}});r.exports=x},9503:(r,C,i)=>{/**
 * @author       Benjamin D. Richards <benjamindrichards@gmail.com>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={WebGLAttribLocationWrapper:i(93567),WebGLBufferWrapper:i(26128),WebGLProgramWrapper:i(1482),WebGLTextureWrapper:i(82751),WebGLFramebufferWrapper:i(84387),WebGLUniformLocationWrapper:i(57183)};r.exports=h},76531:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(13560),x=i(83419),f=i(50792),l=i(97480),a=i(8443),n=i(57811),d=i(74403),c=i(45818),u=i(29747),v=i(87841),p=i(86555),g=i(56583),m=i(26099),T=i(38058),P=new x({Extends:f,initialize:function(M){f.call(this),this.game=M,this.canvas,this.canvasBounds=new v,this.parent=null,this.parentIsWindow=!1,this.parentSize=new p,this.gameSize=new p,this.baseSize=new p,this.displaySize=new p,this.scaleMode=h.SCALE_MODE.NONE,this.zoom=1,this._resetZoom=!1,this.displayScale=new m(1,1),this.autoRound=!1,this.autoCenter=h.CENTER.NO_CENTER,this.orientation=h.ORIENTATION.LANDSCAPE,this.fullscreen,this.fullscreenTarget=null,this._createdFullscreenTarget=!1,this.dirty=!1,this.resizeInterval=500,this._lastCheck=0,this._checkOrientation=!1,this.domlisteners={orientationChange:u,windowResize:u,fullScreenChange:u,fullScreenError:u}},preBoot:function(){this.parseConfig(this.game.config),this.game.events.once(a.BOOT,this.boot,this)},boot:function(){var E=this.game;this.canvas=E.canvas,this.fullscreen=E.device.fullscreen;var M=this.scaleMode;M!==h.SCALE_MODE.RESIZE&&M!==h.SCALE_MODE.EXPAND&&this.displaySize.setAspectMode(M),M===h.SCALE_MODE.NONE?this.resize(this.width,this.height):(this.getParentBounds(),this.parentSize.width>0&&this.parentSize.height>0&&this.displaySize.setParent(this.parentSize),this.refresh()),E.events.on(a.PRE_STEP,this.step,this),E.events.once(a.READY,this.refresh,this),E.events.once(a.DESTROY,this.destroy,this),this.startListeners()},parseConfig:function(E){this.getParent(E),this.getParentBounds();var M=E.width,w=E.height,R=E.scaleMode,A=E.zoom,O=E.autoRound;if(typeof M=="string")if(M.substr(-1)!=="%")M=parseInt(M,10);else{var F=this.parentSize.width;F===0&&(F=window.innerWidth);var L=parseInt(M,10)/100;M=Math.floor(F*L)}if(typeof w=="string")if(w.substr(-1)!=="%")w=parseInt(w,10);else{var b=this.parentSize.height;b===0&&(b=window.innerHeight);var D=parseInt(w,10)/100;w=Math.floor(b*D)}this.scaleMode=R,this.autoRound=O,this.autoCenter=E.autoCenter,this.resizeInterval=E.resizeInterval,O&&(M=Math.floor(M),w=Math.floor(w)),this.gameSize.setSize(M,w),A===h.ZOOM.MAX_ZOOM&&(A=this.getMaxZoom()),this.zoom=A,A!==1&&(this._resetZoom=!0),this.baseSize.setSize(M,w),O&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),E.minWidth>0&&this.displaySize.setMin(E.minWidth*A,E.minHeight*A),E.maxWidth>0&&this.displaySize.setMax(E.maxWidth*A,E.maxHeight*A),this.displaySize.setSize(M,w),(E.snapWidth>0||E.snapHeight>0)&&this.displaySize.setSnap(E.snapWidth,E.snapHeight),this.orientation=c(M,w)},getParent:function(E){var M=E.parent;if(M!==null){if(this.parent=d(M),this.parentIsWindow=this.parent===document.body,E.expandParent&&E.scaleMode!==h.SCALE_MODE.NONE){var w=this.parent.getBoundingClientRect();(this.parentIsWindow||w.height===0)&&(document.documentElement.style.height="100%",document.body.style.height="100%",w=this.parent.getBoundingClientRect(),!this.parentIsWindow&&w.height===0&&(this.parent.style.overflow="hidden",this.parent.style.width="100%",this.parent.style.height="100%"))}E.fullscreenTarget&&!this.fullscreenTarget&&(this.fullscreenTarget=d(E.fullscreenTarget))}},getParentBounds:function(){if(!this.parent)return!1;var E=this.parentSize,M=this.parent.getBoundingClientRect();this.parentIsWindow&&this.game.device.os.iOS&&(M.height=n(!0));var w=M.width,R=M.height;if(E.width!==w||E.height!==R)return E.setSize(w,R),!0;if(this.canvas){var A=this.canvasBounds,O=this.canvas.getBoundingClientRect();if(O.x!==A.x||O.y!==A.y)return!0}return!1},lockOrientation:function(E){var M=screen.lockOrientation||screen.mozLockOrientation||screen.msLockOrientation;return M?M.call(screen,E):!1},setParentSize:function(E,M){return this.parentSize.setSize(E,M),this.refresh()},setGameSize:function(E,M){var w=this.autoRound;w&&(E=Math.floor(E),M=Math.floor(M));var R=this.width,A=this.height;return this.gameSize.resize(E,M),this.baseSize.resize(E,M),w&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setAspectRatio(E/M),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height,this.refresh(R,A)},resize:function(E,M){var w=this.zoom,R=this.autoRound;R&&(E=Math.floor(E),M=Math.floor(M));var A=this.width,O=this.height;this.gameSize.resize(E,M),this.baseSize.resize(E,M),R&&(this.baseSize.width=Math.floor(this.baseSize.width),this.baseSize.height=Math.floor(this.baseSize.height)),this.displaySize.setSize(E*w,M*w),this.canvas.width=this.baseSize.width,this.canvas.height=this.baseSize.height;var F=this.canvas.style,L=E*w,b=M*w;return R&&(L=Math.floor(L),b=Math.floor(b)),(L!==E||b!==M)&&(F.width=L+"px",F.height=b+"px"),this.refresh(A,O)},setZoom:function(E){return this.zoom=E,this._resetZoom=!0,this.refresh()},setMaxZoom:function(){return this.zoom=this.getMaxZoom(),this._resetZoom=!0,this.refresh()},setSnap:function(E,M){return E===void 0&&(E=0),M===void 0&&(M=E),this.displaySize.setSnap(E,M),this.refresh()},refresh:function(E,M){E===void 0&&(E=this.width),M===void 0&&(M=this.height),this.updateScale(),this.updateBounds(),this.updateOrientation(),this.displayScale.set(this.baseSize.width/this.canvasBounds.width,this.baseSize.height/this.canvasBounds.height);var w=this.game.domContainer;if(w){this.baseSize.setCSS(w);var R=this.canvas.style,A=w.style;A.transform="scale("+this.displaySize.width/this.baseSize.width+","+this.displaySize.height/this.baseSize.height+")",A.marginLeft=R.marginLeft,A.marginTop=R.marginTop}return this.emit(l.RESIZE,this.gameSize,this.baseSize,this.displaySize,E,M),this},updateOrientation:function(){if(this._checkOrientation){this._checkOrientation=!1;var E=c(this.width,this.height);E!==this.orientation&&(this.orientation=E,this.emit(l.ORIENTATION_CHANGE,E))}},updateScale:function(){var E=this.canvas.style,M=this.gameSize.width,w=this.gameSize.height,R,A,O=this.zoom,F=this.autoRound;if(this.scaleMode===h.SCALE_MODE.NONE)this.displaySize.setSize(M*O,w*O),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this._resetZoom&&(E.width=R+"px",E.height=A+"px",this._resetZoom=!1);else if(this.scaleMode===h.SCALE_MODE.RESIZE)this.displaySize.setSize(this.parentSize.width,this.parentSize.height),this.gameSize.setSize(this.displaySize.width,this.displaySize.height),this.baseSize.setSize(this.displaySize.width,this.displaySize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A;else if(this.scaleMode===h.SCALE_MODE.EXPAND){var L=this.game.config.width,b=this.game.config.height;this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),E.width=R+"px",E.height=A+"px";var D=this.parentSize.width/L,I=this.parentSize.height/b;D<I&&D!==0?this.baseSize.setSize(L,this.parentSize.height/D):I!==0&&this.baseSize.setSize(this.displaySize.width/I,b),this.gameSize.setSize(this.baseSize.width,this.baseSize.height),R=this.baseSize.width,A=this.baseSize.height,F&&(R=Math.floor(R),A=Math.floor(A)),this.canvas.width=R,this.canvas.height=A}else this.displaySize.setSize(this.parentSize.width,this.parentSize.height),R=this.displaySize.width,A=this.displaySize.height,F&&(R=Math.floor(R),A=Math.floor(A)),E.width=R+"px",E.height=A+"px";this.getParentBounds(),this.updateCenter()},getMaxZoom:function(){var E=g(this.parentSize.width,this.gameSize.width,0,!0),M=g(this.parentSize.height,this.gameSize.height,0,!0);return Math.max(Math.min(E,M),1)},updateCenter:function(){var E=this.autoCenter;if(E!==h.CENTER.NO_CENTER){var M=this.canvas,w=M.style,R=M.getBoundingClientRect(),A=R.width,O=R.height,F=Math.floor((this.parentSize.width-A)/2),L=Math.floor((this.parentSize.height-O)/2);E===h.CENTER.CENTER_HORIZONTALLY?L=0:E===h.CENTER.CENTER_VERTICALLY&&(F=0),w.marginLeft=F+"px",w.marginTop=L+"px"}},updateBounds:function(){var E=this.canvasBounds,M=this.canvas.getBoundingClientRect();E.x=M.left+(window.pageXOffset||0)-(document.documentElement.clientLeft||0),E.y=M.top+(window.pageYOffset||0)-(document.documentElement.clientTop||0),E.width=M.width,E.height=M.height},transformX:function(E){return(E-this.canvasBounds.left)*this.displayScale.x},transformY:function(E){return(E-this.canvasBounds.top)*this.displayScale.y},startFullscreen:function(E){E===void 0&&(E={navigationUI:"hide"});var M=this.fullscreen;if(!M.available){this.emit(l.FULLSCREEN_UNSUPPORTED);return}if(!M.active){var w=this.getFullscreenTarget();M.keyboard?w[M.request](Element.ALLOW_KEYBOARD_INPUT):w[M.request](E)}},fullscreenSuccessHandler:function(){this.getParentBounds(),this.refresh(),this.emit(l.ENTER_FULLSCREEN)},fullscreenErrorHandler:function(E){this.removeFullscreenTarget(),this.emit(l.FULLSCREEN_FAILED,E)},getFullscreenTarget:function(){if(!this.fullscreenTarget){var E=document.createElement("div");E.style.margin="0",E.style.padding="0",E.style.width="100%",E.style.height="100%",this.fullscreenTarget=E,this._createdFullscreenTarget=!0}if(this._createdFullscreenTarget){var M=this.canvas.parentNode;M.insertBefore(this.fullscreenTarget,this.canvas),this.fullscreenTarget.appendChild(this.canvas)}return this.fullscreenTarget},removeFullscreenTarget:function(){if(this._createdFullscreenTarget){var E=this.fullscreenTarget;if(E&&E.parentNode){var M=E.parentNode;M.insertBefore(this.canvas,E),M.removeChild(E)}}},stopFullscreen:function(){var E=this.fullscreen;if(!E.available)return this.emit(l.FULLSCREEN_UNSUPPORTED),!1;E.active&&document[E.cancel](),this.removeFullscreenTarget()},leaveFullScreenSuccessHandler:function(){this.getParentBounds(),this.emit(l.LEAVE_FULLSCREEN),this.refresh()},toggleFullscreen:function(E){this.fullscreen.active?this.stopFullscreen():this.startFullscreen(E)},startListeners:function(){var E=this,M=this.domlisteners;if(M.orientationChange=function(){E.updateBounds(),E._checkOrientation=!0,E.dirty=!0,E.refresh()},M.windowResize=function(){E.updateBounds(),E.dirty=!0},screen.orientation&&screen.orientation.addEventListener?screen.orientation.addEventListener("change",M.orientationChange,!1):window.addEventListener("orientationchange",M.orientationChange,!1),window.addEventListener("resize",M.windowResize,!1),this.fullscreen.available){M.fullScreenChange=function(R){return E.onFullScreenChange(R)},M.fullScreenError=function(R){return E.onFullScreenError(R)};var w=["webkit","moz",""];w.forEach(function(R){document.addEventListener(R+"fullscreenchange",M.fullScreenChange,!1),document.addEventListener(R+"fullscreenerror",M.fullScreenError,!1)}),document.addEventListener("MSFullscreenChange",M.fullScreenChange,!1),document.addEventListener("MSFullscreenError",M.fullScreenError,!1)}},onFullScreenChange:function(){document.fullscreenElement||document.webkitFullscreenElement||document.msFullscreenElement||document.mozFullScreenElement?this.fullscreenSuccessHandler():(this.stopFullscreen(),this.leaveFullScreenSuccessHandler())},onFullScreenError:function(){this.removeFullscreenTarget()},getViewPort:function(E,M){E instanceof T||(M=E,E=void 0),M===void 0&&(M=new v);var w=this.baseSize,R=this.parentSize,A=this.canvasBounds,O=this.displayScale,F=A.x>=0?0:-(A.x*O.x),L=A.y>=0?0:-(A.y*O.y),b;R.width>=A.width?b=w.width:b=w.width-(A.width-R.width)*O.x;var D;return R.height>=A.height?D=w.height:D=w.height-(A.height-R.height)*O.y,M.setTo(F,L,b,D),E&&(M.width/=E.zoomX,M.height/=E.zoomY,M.centerX=E.centerX+E.scrollX,M.centerY=E.centerY+E.scrollY),M},step:function(E,M){this.parent&&(this._lastCheck+=M,(this.dirty||this._lastCheck>this.resizeInterval)&&(this.getParentBounds()&&this.refresh(),this.dirty=!1,this._lastCheck=0))},stopListeners:function(){var E=this.domlisteners;screen.orientation&&screen.orientation.addEventListener?screen.orientation.removeEventListener("change",E.orientationChange,!1):window.removeEventListener("orientationchange",E.orientationChange,!1),window.removeEventListener("resize",E.windowResize,!1);var M=["webkit","moz",""];M.forEach(function(w){document.removeEventListener(w+"fullscreenchange",E.fullScreenChange,!1),document.removeEventListener(w+"fullscreenerror",E.fullScreenError,!1)}),document.removeEventListener("MSFullscreenChange",E.fullScreenChange,!1),document.removeEventListener("MSFullscreenError",E.fullScreenError,!1)},destroy:function(){this.removeAllListeners(),this.stopListeners(),this.game=null,this.canvas=null,this.canvasBounds=null,this.parent=null,this.fullscreenTarget=null,this.parentSize.destroy(),this.gameSize.destroy(),this.baseSize.destroy(),this.displaySize.destroy()},isFullscreen:{get:function(){return this.fullscreen.active}},width:{get:function(){return this.gameSize.width}},height:{get:function(){return this.gameSize.height}},isPortrait:{get:function(){return this.orientation===h.ORIENTATION.PORTRAIT}},isLandscape:{get:function(){return this.orientation===h.ORIENTATION.LANDSCAPE}},isGamePortrait:{get:function(){return this.height>this.width}},isGameLandscape:{get:function(){return this.width>this.height}}});r.exports=P},64743:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_CENTER:0,CENTER_BOTH:1,CENTER_HORIZONTALLY:2,CENTER_VERTICALLY:3}},39218:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={LANDSCAPE:"landscape-primary",LANDSCAPE_SECONDARY:"landscape-secondary",PORTRAIT:"portrait-primary",PORTRAIT_SECONDARY:"portrait-secondary"}},81050:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NONE:0,WIDTH_CONTROLS_HEIGHT:1,HEIGHT_CONTROLS_WIDTH:2,FIT:3,ENVELOP:4,RESIZE:5,EXPAND:6}},80805:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={NO_ZOOM:1,ZOOM_2X:2,ZOOM_4X:4,MAX_ZOOM:-1}},13560:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={CENTER:i(64743),ORIENTATION:i(39218),SCALE_MODE:i(81050),ZOOM:i(80805)};r.exports=h},56139:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="enterfullscreen"},2336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenfailed"},47412:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="fullscreenunsupported"},51452:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="leavefullscreen"},20666:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="orientationchange"},47945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resize"},97480:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ENTER_FULLSCREEN:i(56139),FULLSCREEN_FAILED:i(2336),FULLSCREEN_UNSUPPORTED:i(47412),LEAVE_FULLSCREEN:i(51452),ORIENTATION_CHANGE:i(20666),RESIZE:i(47945)}},93364:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),x=i(13560),f={Center:i(64743),Events:i(97480),Orientation:i(39218),ScaleManager:i(76531),ScaleModes:i(81050),Zoom:i(80805)};f=h(!1,f,x.CENTER),f=h(!1,f,x.ORIENTATION),f=h(!1,f,x.SCALE_MODE),f=h(!1,f,x.ZOOM),r.exports=f},27397:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=i(35355),f=function(l){var a=l.game.config.defaultPhysicsSystem,n=h(l.settings,"physics",!1);if(!(!a&&!n)){var d=[];if(a&&d.push(x(a+"Physics")),n)for(var c in n)c=x(c.concat("Physics")),d.indexOf(c)===-1&&d.push(c);return d}};r.exports=f},52106:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=function(f){var l=f.plugins.getDefaultScenePlugins(),a=h(f.settings,"plugins",!1);return Array.isArray(a)?a:l||[]};r.exports=x},87033:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={game:"game",renderer:"renderer",anims:"anims",cache:"cache",plugins:"plugins",registry:"registry",scale:"scale",sound:"sound",textures:"textures",events:"events",cameras:"cameras",add:"add",make:"make",scenePlugin:"scene",displayList:"children",lights:"lights",data:"data",input:"input",load:"load",time:"time",tweens:"tweens",arcadePhysics:"physics",impactPhysics:"impact",matterPhysics:"matter"};r.exports=C},97482:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(2368),f=new h({initialize:function(a){this.sys=new x(this,a),this.game,this.anims,this.cache,this.registry,this.sound,this.textures,this.events,this.cameras,this.add,this.make,this.scene,this.children,this.lights,this.data,this.input,this.load,this.time,this.tweens,this.physics,this.matter,this.scale,this.plugins,this.renderer},update:function(){}});r.exports=f},60903:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(89993),f=i(44594),l=i(8443),a=i(35154),n=i(54899),d=i(29747),c=i(97482),u=i(2368),v=new h({initialize:function(g,m){if(this.game=g,this.keys={},this.scenes=[],this._pending=[],this._start=[],this._queue=[],this._data={},this.isProcessing=!1,this.isBooted=!1,this.customViewports=0,this.systemScene,m){Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)this._pending.push({key:"default",scene:m[T],autoStart:T===0,data:{}})}g.events.once(l.READY,this.bootQueue,this)},bootQueue:function(){if(!this.isBooted){this.systemScene=this.createSceneFromInstance("__SYSTEM",new c),this.game.events.emit(l.SYSTEM_READY,this.systemScene,this);var p,g,m,T;for(p=0;p<this._pending.length;p++){g=this._pending[p],m=g.key,T=g.scene;var P;T instanceof c?P=this.createSceneFromInstance(m,T):typeof T=="object"?P=this.createSceneFromObject(m,T):typeof T=="function"&&(P=this.createSceneFromFunction(m,T)),m=P.sys.settings.key,this.keys[m]=P,this.scenes.push(P),this._data[m]&&(P.sys.settings.data=this._data[m].data,this._data[m].autoStart&&(g.autoStart=!0)),(g.autoStart||P.sys.settings.active)&&this._start.push(m)}for(this._pending.length=0,this._data={},this.isBooted=!0,p=0;p<this._start.length;p++)g=this._start[p],this.start(g);this._start.length=0}},processQueue:function(){var p=this._pending.length,g=this._queue.length;if(!(p===0&&g===0)){var m,T;if(p){for(m=0;m<p;m++)T=this._pending[m],this.add(T.key,T.scene,T.autoStart,T.data);for(m=0;m<this._start.length;m++)T=this._start[m],this.start(T);this._start.length=0,this._pending.length=0}for(m=0;m<this._queue.length;m++)T=this._queue[m],this[T.op](T.keyA,T.keyB,T.data);this._queue.length=0}},add:function(p,g,m,T){if(m===void 0&&(m=!1),T===void 0&&(T={}),this.isProcessing||!this.isBooted)return this._pending.push({key:p,scene:g,autoStart:m,data:T}),this.isBooted||(this._data[p]={data:T}),null;p=this.getKey(p,g);var P;return g instanceof c?P=this.createSceneFromInstance(p,g):typeof g=="object"?(g.key=p,P=this.createSceneFromObject(p,g)):typeof g=="function"&&(P=this.createSceneFromFunction(p,g)),P.sys.settings.data=T,p=P.sys.settings.key,this.keys[p]=P,this.scenes.push(P),(m||P.sys.settings.active)&&(this._pending.length?this._start.push(p):this.start(p)),P},remove:function(p){if(this.isProcessing)return this.queueOp("remove",p);var g=this.getScene(p);if(!g||g.sys.isTransitioning())return this;var m=this.scenes.indexOf(g),T=g.sys.settings.key;return m>-1&&(delete this.keys[T],this.scenes.splice(m,1),this._start.indexOf(T)>-1&&(m=this._start.indexOf(T),this._start.splice(m,1)),g.sys.destroy()),this},bootScene:function(p){var g=p.sys,m=g.settings;g.sceneUpdate=d,p.init&&(p.init.call(p,m.data),m.status=x.INIT,m.isTransition&&g.events.emit(f.TRANSITION_INIT,m.transitionFrom,m.transitionDuration));var T;g.load&&(T=g.load,T.reset()),T&&p.preload?(p.preload.call(p),m.status=x.LOADING,T.once(n.COMPLETE,this.loadComplete,this),T.start()):this.create(p)},loadComplete:function(p){this.create(p.scene)},payloadComplete:function(p){this.bootScene(p.scene)},update:function(p,g){this.processQueue(),this.isProcessing=!0;for(var m=this.scenes.length-1;m>=0;m--){var T=this.scenes[m].sys;T.settings.status>x.START&&T.settings.status<=x.RUNNING&&T.step(p,g),T.scenePlugin&&T.scenePlugin._target&&T.scenePlugin.step(p,g)}},render:function(p){for(var g=0;g<this.scenes.length;g++){var m=this.scenes[g].sys;m.settings.visible&&m.settings.status>=x.LOADING&&m.settings.status<x.SLEEPING&&m.render(p)}this.isProcessing=!1},create:function(p){var g=p.sys,m=g.settings;p.create&&(m.status=x.CREATING,p.create.call(p,m.data),m.status===x.DESTROYED)||(m.isTransition&&g.events.emit(f.TRANSITION_START,m.transitionFrom,m.transitionDuration),p.update&&(g.sceneUpdate=p.update),m.status=x.RUNNING,g.events.emit(f.CREATE,p))},createSceneFromFunction:function(p,g){var m=new g;if(m instanceof c){var T=m.sys.settings.key;if(T!==""&&(p=T),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return this.createSceneFromInstance(p,m)}else return m.sys=new u(m),m.sys.settings.key=p,m.sys.init(this.game),m},createSceneFromInstance:function(p,g){var m=g.sys.settings.key;return m===""&&(g.sys.settings.key=p),g.sys.init(this.game),g},createSceneFromObject:function(p,g){var m=new c(g),T=m.sys.settings.key;T!==""?p=T:m.sys.settings.key=p,m.sys.init(this.game);for(var P=["init","preload","create","update","render"],E=0;E<P.length;E++){var M=a(g,P[E],null);M&&(m[P[E]]=M)}if(g.hasOwnProperty("extend")){for(var w in g.extend)if(g.extend.hasOwnProperty(w)){var R=g.extend[w];w==="data"&&m.hasOwnProperty("data")&&typeof R=="object"?m.data.merge(R):w!=="sys"&&(m[w]=R)}}return m},getKey:function(p,g){if(p||(p="default"),typeof g=="function")return p;if(g instanceof c?p=g.sys.settings.key:typeof g=="object"&&g.hasOwnProperty("key")&&(p=g.key),this.keys.hasOwnProperty(p))throw new Error("Cannot add Scene with duplicate key: "+p);return p},getScenes:function(p,g){p===void 0&&(p=!0),g===void 0&&(g=!1);for(var m=[],T=this.scenes,P=0;P<T.length;P++){var E=T[P];E&&(!p||p&&E.sys.isActive())&&m.push(E)}return g?m.reverse():m},getScene:function(p){if(typeof p=="string"){if(this.keys[p])return this.keys[p]}else for(var g=0;g<this.scenes.length;g++)if(p===this.scenes[g])return p;return null},isActive:function(p){var g=this.getScene(p);return g?g.sys.isActive():null},isPaused:function(p){var g=this.getScene(p);return g?g.sys.isPaused():null},isVisible:function(p){var g=this.getScene(p);return g?g.sys.isVisible():null},isSleeping:function(p){var g=this.getScene(p);return g?g.sys.isSleeping():null},pause:function(p,g){var m=this.getScene(p);return m&&m.sys.pause(g),this},resume:function(p,g){var m=this.getScene(p);return m&&m.sys.resume(g),this},sleep:function(p,g){var m=this.getScene(p);return m&&!m.sys.isTransitioning()&&m.sys.sleep(g),this},wake:function(p,g){var m=this.getScene(p);return m&&m.sys.wake(g),this},run:function(p,g){var m=this.getScene(p);if(!m){for(var T=0;T<this._pending.length;T++)if(this._pending[T].key===p){this.queueOp("start",p,g);break}return this}m.sys.isSleeping()?m.sys.wake(g):m.sys.isPaused()?m.sys.resume(g):this.start(p,g)},start:function(p,g){if(!this.isBooted)return this._data[p]={autoStart:!0,data:g},this;var m=this.getScene(p);if(!m)return console.warn("Scene key not found: "+p),this;var T=m.sys,P=T.settings.status;if(P>=x.START&&P<=x.CREATING)return this;if(P>=x.RUNNING&&P<=x.SLEEPING)T.shutdown(),T.sceneUpdate=d,T.start(g);else{T.sceneUpdate=d,T.start(g);var E;if(T.load&&(E=T.load),E&&T.settings.hasOwnProperty("pack")&&(E.reset(),E.addPack({payload:T.settings.pack})))return T.settings.status=x.LOADING,E.once(n.COMPLETE,this.payloadComplete,this),E.start(),this}return this.bootScene(m),this},stop:function(p,g){var m=this.getScene(p);if(m&&!m.sys.isTransitioning()&&m.sys.settings.status!==x.SHUTDOWN){var T=m.sys.load;T&&(T.off(n.COMPLETE,this.loadComplete,this),T.off(n.COMPLETE,this.payloadComplete,this)),m.sys.shutdown(g)}return this},switch:function(p,g,m){var T=this.getScene(p),P=this.getScene(g);return T&&P&&T!==P&&(this.sleep(p),this.isSleeping(g)?this.wake(g,m):this.start(g,m)),this},getAt:function(p){return this.scenes[p]},getIndex:function(p){var g=this.getScene(p);return this.scenes.indexOf(g)},bringToTop:function(p){if(this.isProcessing)return this.queueOp("bringToTop",p);var g=this.getIndex(p),m=this.scenes;if(g!==-1&&g<m.length){var T=this.getScene(p);m.splice(g,1),m.push(T)}return this},sendToBack:function(p){if(this.isProcessing)return this.queueOp("sendToBack",p);var g=this.getIndex(p);if(g!==-1&&g>0){var m=this.getScene(p);this.scenes.splice(g,1),this.scenes.unshift(m)}return this},moveDown:function(p){if(this.isProcessing)return this.queueOp("moveDown",p);var g=this.getIndex(p);if(g>0){var m=g-1,T=this.getScene(p),P=this.getAt(m);this.scenes[g]=P,this.scenes[m]=T}return this},moveUp:function(p){if(this.isProcessing)return this.queueOp("moveUp",p);var g=this.getIndex(p);if(g<this.scenes.length-1){var m=g+1,T=this.getScene(p),P=this.getAt(m);this.scenes[g]=P,this.scenes[m]=T}return this},moveAbove:function(p,g){if(p===g)return this;if(this.isProcessing)return this.queueOp("moveAbove",p,g);var m=this.getIndex(p),T=this.getIndex(g);if(m!==-1&&T!==-1&&T<m){var P=this.getAt(T);this.scenes.splice(T,1),this.scenes.splice(m+(T>m),0,P)}return this},moveBelow:function(p,g){if(p===g)return this;if(this.isProcessing)return this.queueOp("moveBelow",p,g);var m=this.getIndex(p),T=this.getIndex(g);if(m!==-1&&T!==-1&&T>m){var P=this.getAt(T);this.scenes.splice(T,1),m===0?this.scenes.unshift(P):this.scenes.splice(m-(T<m),0,P)}return this},queueOp:function(p,g,m,T){return this._queue.push({op:p,keyA:g,keyB:m,data:T}),this},swapPosition:function(p,g){if(p===g)return this;if(this.isProcessing)return this.queueOp("swapPosition",p,g);var m=this.getIndex(p),T=this.getIndex(g);if(m!==T&&m!==-1&&T!==-1){var P=this.getAt(m);this.scenes[m]=this.scenes[T],this.scenes[T]=P}return this},dump:function(){for(var p=[],g=["pending","init","start","loading","creating","running","paused","sleeping","shutdown","destroyed"],m=0;m<this.scenes.length;m++){var T=this.scenes[m].sys,P=T.settings.visible&&(T.settings.status===x.RUNNING||T.settings.status===x.PAUSED)?"[*] ":"[-] ";P+=T.settings.key+" ("+g[T.settings.status]+")",p.push(P)}console.log(p.join(`
`))},destroy:function(){for(var p=0;p<this.scenes.length;p++){var g=this.scenes[p].sys;g.destroy()}this.systemScene.sys.destroy(),this.update=d,this.scenes=[],this._pending=[],this._start=[],this._queue=[],this.game=null,this.systemScene=null}});r.exports=v},52209:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(44594),l=i(95540),a=i(37277),n=new x({initialize:function(c){this.scene=c,this.systems=c.sys,this.settings=c.sys.settings,this.key=c.sys.settings.key,this.manager=c.sys.game.scene,this.transitionProgress=0,this._elapsed=0,this._target=null,this._duration=0,this._onUpdate,this._onUpdateScope,this._willSleep=!1,this._willRemove=!1,c.sys.events.once(f.BOOT,this.boot,this),c.sys.events.on(f.START,this.pluginStart,this)},boot:function(){this.systems.events.once(f.DESTROY,this.destroy,this)},pluginStart:function(){this._target=null,this.systems.events.once(f.SHUTDOWN,this.shutdown,this)},start:function(d,c){return d===void 0&&(d=this.key),this.manager.queueOp("stop",this.key),this.manager.queueOp("start",d,c),this},restart:function(d){var c=this.key;return this.manager.queueOp("stop",c),this.manager.queueOp("start",c,d),this},transition:function(d){d===void 0&&(d={});var c=l(d,"target",!1),u=this.manager.getScene(c);if(!c||!this.checkValidTransition(u))return!1;var v=l(d,"duration",1e3);this._elapsed=0,this._target=u,this._duration=v,this._willSleep=l(d,"sleep",!1),this._willRemove=l(d,"remove",!1);var p=l(d,"onUpdate",null);p&&(this._onUpdate=p,this._onUpdateScope=l(d,"onUpdateScope",this.scene));var g=l(d,"allowInput",!1);this.settings.transitionAllowInput=g;var m=u.sys.settings;m.isTransition=!0,m.transitionFrom=this.scene,m.transitionDuration=v,m.transitionAllowInput=g,l(d,"moveAbove",!1)?this.manager.moveAbove(this.key,c):l(d,"moveBelow",!1)&&this.manager.moveBelow(this.key,c),u.sys.isSleeping()?u.sys.wake(l(d,"data")):this.manager.start(c,l(d,"data"));var T=l(d,"onStart",null),P=l(d,"onStartScope",this.scene);return T&&T.call(P,this.scene,u,v),this.systems.events.emit(f.TRANSITION_OUT,u,v),!0},checkValidTransition:function(d){return!(!d||d.sys.isActive()||d.sys.isTransitioning()||d===this.scene||this.systems.isTransitioning())},step:function(d,c){this._elapsed+=c,this.transitionProgress=h(this._elapsed/this._duration,0,1),this._onUpdate&&this._onUpdate.call(this._onUpdateScope,this.transitionProgress),this._elapsed>=this._duration&&this.transitionComplete()},transitionComplete:function(){var d=this._target.sys,c=this._target.sys.settings;d.events.emit(f.TRANSITION_COMPLETE,this.scene),c.isTransition=!1,c.transitionFrom=null,this._duration=0,this._target=null,this._onUpdate=null,this._onUpdateScope=null,this._willRemove?this.manager.remove(this.key):this._willSleep?this.systems.sleep():this.manager.stop(this.key)},add:function(d,c,u,v){return this.manager.add(d,c,u,v)},launch:function(d,c){return d&&d!==this.key&&this.manager.queueOp("start",d,c),this},run:function(d,c){return d&&d!==this.key&&this.manager.queueOp("run",d,c),this},pause:function(d,c){return d===void 0&&(d=this.key),this.manager.queueOp("pause",d,c),this},resume:function(d,c){return d===void 0&&(d=this.key),this.manager.queueOp("resume",d,c),this},sleep:function(d,c){return d===void 0&&(d=this.key),this.manager.queueOp("sleep",d,c),this},wake:function(d,c){return d===void 0&&(d=this.key),this.manager.queueOp("wake",d,c),this},switch:function(d,c){return d!==this.key&&this.manager.queueOp("switch",this.key,d,c),this},stop:function(d,c){return d===void 0&&(d=this.key),this.manager.queueOp("stop",d,c),this},setActive:function(d,c,u){c===void 0&&(c=this.key);var v=this.manager.getScene(c);return v&&v.sys.setActive(d,u),this},setVisible:function(d,c){c===void 0&&(c=this.key);var u=this.manager.getScene(c);return u&&u.sys.setVisible(d),this},isSleeping:function(d){return d===void 0&&(d=this.key),this.manager.isSleeping(d)},isActive:function(d){return d===void 0&&(d=this.key),this.manager.isActive(d)},isPaused:function(d){return d===void 0&&(d=this.key),this.manager.isPaused(d)},isVisible:function(d){return d===void 0&&(d=this.key),this.manager.isVisible(d)},swapPosition:function(d,c){return c===void 0&&(c=this.key),d!==c&&this.manager.swapPosition(d,c),this},moveAbove:function(d,c){return c===void 0&&(c=this.key),d!==c&&this.manager.moveAbove(d,c),this},moveBelow:function(d,c){return c===void 0&&(c=this.key),d!==c&&this.manager.moveBelow(d,c),this},remove:function(d){return d===void 0&&(d=this.key),this.manager.remove(d),this},moveUp:function(d){return d===void 0&&(d=this.key),this.manager.moveUp(d),this},moveDown:function(d){return d===void 0&&(d=this.key),this.manager.moveDown(d),this},bringToTop:function(d){return d===void 0&&(d=this.key),this.manager.bringToTop(d),this},sendToBack:function(d){return d===void 0&&(d=this.key),this.manager.sendToBack(d),this},get:function(d){return this.manager.getScene(d)},getStatus:function(d){var c=this.manager.getScene(d);if(c)return c.sys.getStatus()},getIndex:function(d){return d===void 0&&(d=this.key),this.manager.getIndex(d)},shutdown:function(){var d=this.systems.events;d.off(f.SHUTDOWN,this.shutdown,this),d.off(f.TRANSITION_OUT)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null,this.settings=null,this.manager=null}});a.register("ScenePlugin",n,"scenePlugin"),r.exports=n},55681:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89993),x=i(35154),f=i(46975),l=i(87033),a={create:function(n){return typeof n=="string"?n={key:n}:n===void 0&&(n={}),{status:h.PENDING,key:x(n,"key",""),active:x(n,"active",!1),visible:x(n,"visible",!0),isBooted:!1,isTransition:!1,transitionFrom:null,transitionDuration:0,transitionAllowInput:!0,data:{},pack:x(n,"pack",!1),cameras:x(n,"cameras",null),map:x(n,"map",f(l,x(n,"mapAdd",{}))),physics:x(n,"physics",{}),loader:x(n,"loader",{}),plugins:x(n,"plugins",!1),input:x(n,"input",{})}}};r.exports=a},2368:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(89993),f=i(42363),l=i(44594),a=i(27397),n=i(52106),d=i(29747),c=i(55681),u=new h({initialize:function(p,g){this.scene=p,this.game,this.renderer,this.config=g,this.settings=c.create(g),this.canvas,this.context,this.anims,this.cache,this.plugins,this.registry,this.scale,this.sound,this.textures,this.add,this.cameras,this.displayList,this.events,this.make,this.scenePlugin,this.updateList,this.sceneUpdate=d},init:function(v){this.settings.status=x.INIT,this.sceneUpdate=d,this.game=v,this.renderer=v.renderer,this.canvas=v.canvas,this.context=v.context;var p=v.plugins;this.plugins=p,p.addToScene(this,f.Global,[f.CoreScene,n(this),a(this)]),this.events.emit(l.BOOT,this),this.settings.isBooted=!0},step:function(v,p){var g=this.events;g.emit(l.PRE_UPDATE,v,p),g.emit(l.UPDATE,v,p),this.sceneUpdate.call(this.scene,v,p),g.emit(l.POST_UPDATE,v,p)},render:function(v){var p=this.displayList;p.depthSort(),this.events.emit(l.PRE_RENDER,v),this.cameras.render(v,p),this.events.emit(l.RENDER,v)},queueDepthSort:function(){this.displayList.queueDepthSort()},depthSort:function(){this.displayList.depthSort()},pause:function(v){var p=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot pause non-running Scene",p.key):this.settings.active&&(p.status=x.PAUSED,p.active=!1,this.events.emit(l.PAUSE,this,v)),this},resume:function(v){var p=this.events,g=this.settings;return this.settings.active||(g.status=x.RUNNING,g.active=!0,p.emit(l.RESUME,this,v)),this},sleep:function(v){var p=this.settings,g=this.getStatus();return g!==x.CREATING&&g!==x.RUNNING?console.warn("Cannot sleep non-running Scene",p.key):(p.status=x.SLEEPING,p.active=!1,p.visible=!1,this.events.emit(l.SLEEP,this,v)),this},wake:function(v){var p=this.events,g=this.settings;return g.status=x.RUNNING,g.active=!0,g.visible=!0,p.emit(l.WAKE,this,v),g.isTransition&&p.emit(l.TRANSITION_WAKE,g.transitionFrom,g.transitionDuration),this},getData:function(){return this.settings.data},getStatus:function(){return this.settings.status},canInput:function(){var v=this.settings.status;return v>x.PENDING&&v<=x.RUNNING},isSleeping:function(){return this.settings.status===x.SLEEPING},isActive:function(){return this.settings.status===x.RUNNING},isPaused:function(){return this.settings.status===x.PAUSED},isTransitioning:function(){return this.settings.isTransition||this.scenePlugin._target!==null},isTransitionOut:function(){return this.scenePlugin._target!==null&&this.scenePlugin._duration>0},isTransitionIn:function(){return this.settings.isTransition},isVisible:function(){return this.settings.visible},setVisible:function(v){return this.settings.visible=v,this},setActive:function(v,p){return v?this.resume(p):this.pause(p)},start:function(v){var p=this.events,g=this.settings;v&&(g.data=v),g.status=x.START,g.active=!0,g.visible=!0,p.emit(l.START,this),p.emit(l.READY,this,v)},shutdown:function(v){var p=this.events,g=this.settings;p.off(l.TRANSITION_INIT),p.off(l.TRANSITION_START),p.off(l.TRANSITION_COMPLETE),p.off(l.TRANSITION_OUT),g.status=x.SHUTDOWN,g.active=!1,g.visible=!1,p.emit(l.SHUTDOWN,this,v)},destroy:function(){var v=this.events,p=this.settings;p.status=x.DESTROYED,p.active=!1,p.visible=!1,v.emit(l.DESTROY,this),v.removeAllListeners();for(var g=["scene","game","anims","cache","plugins","registry","sound","textures","add","camera","displayList","events","make","scenePlugin","updateList"],m=0;m<g.length;m++)this[g[m]]=null}});r.exports=u},89993:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={PENDING:0,INIT:1,START:2,LOADING:3,CREATING:4,RUNNING:5,PAUSED:6,SLEEPING:7,SHUTDOWN:8,DESTROYED:9};r.exports=C},69830:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addedtoscene"},7919:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="boot"},46763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="create"},11763:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},71555:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},36735:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="postupdate"},3809:r=>{/**
 * @author       samme
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="prerender"},90716:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="preupdate"},58262:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},91633:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removedfromscene"},10319:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="render"},87132:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},81961:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="shutdown"},90194:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="sleep"},6265:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},33178:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioncomplete"},43063:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitioninit"},11259:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionout"},61611:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionstart"},45209:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="transitionwake"},22966:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},21747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="wake"},44594:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADDED_TO_SCENE:i(69830),BOOT:i(7919),CREATE:i(46763),DESTROY:i(11763),PAUSE:i(71555),POST_UPDATE:i(36735),PRE_RENDER:i(3809),PRE_UPDATE:i(90716),READY:i(58262),REMOVED_FROM_SCENE:i(91633),RENDER:i(10319),RESUME:i(87132),SHUTDOWN:i(81961),SLEEP:i(90194),START:i(6265),TRANSITION_COMPLETE:i(33178),TRANSITION_INIT:i(43063),TRANSITION_OUT:i(11259),TRANSITION_START:i(61611),TRANSITION_WAKE:i(45209),UPDATE:i(22966),WAKE:i(21747)}},62194:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89993),x=i(79291),f={Events:i(44594),GetPhysicsPlugins:i(27397),GetScenePlugins:i(52106),SceneManager:i(60903),ScenePlugin:i(52209),Settings:i(55681),Systems:i(2368)};f=x(!1,f,h),r.exports=f},30341:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(14463),l=i(79291),a=i(29747),n=new h({Extends:x,initialize:function(c,u,v){x.call(this),this.manager=c,this.key=u,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=this.duration||0,this.totalDuration=this.totalDuration||0,this.config={mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},this.currentConfig=this.config,this.config=l(this.config,v),this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(console.error("addMarker "+d.name+" already exists in Sound"),!1):(d=l(!0,{name:"",start:0,duration:this.totalDuration-(d.start||0),config:{mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0}},d),this.markers[d.name]=d,!0)},updateMarker:function(d){return!d||!d.name||typeof d.name!="string"?!1:this.markers[d.name]?(this.markers[d.name]=l(!0,this.markers[d.name],d),!0):(console.warn("Audio Marker: "+d.name+" missing in Sound: "+this.key),!1)},removeMarker:function(d){var c=this.markers[d];return c?(this.markers[d]=null,c):null},play:function(d,c){if(d===void 0&&(d=""),typeof d=="object"&&(c=d,d=""),typeof d!="string")return!1;if(!d)this.currentMarker=null,this.currentConfig=this.config,this.duration=this.totalDuration;else{if(!this.markers[d])return console.warn("Marker: "+d+" missing in Sound: "+this.key),!1;this.currentMarker=this.markers[d],this.currentConfig=this.currentMarker.config,this.duration=this.currentMarker.duration}return this.resetConfig(),this.currentConfig=l(this.currentConfig,c),this.isPlaying=!0,this.isPaused=!1,!0},pause:function(){return this.isPaused||!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!0,!0)},resume:function(){return!this.isPaused||this.isPlaying?!1:(this.isPlaying=!0,this.isPaused=!1,!0)},stop:function(){return!this.isPaused&&!this.isPlaying?!1:(this.isPlaying=!1,this.isPaused=!1,this.resetConfig(),!0)},applyConfig:function(){this.mute=this.currentConfig.mute,this.volume=this.currentConfig.volume,this.rate=this.currentConfig.rate,this.detune=this.currentConfig.detune,this.loop=this.currentConfig.loop,this.pan=this.currentConfig.pan},resetConfig:function(){this.currentConfig.seek=0,this.currentConfig.delay=0},update:a,calculateRate:function(){var d=1.0005777895065548,c=this.currentConfig.detune+this.manager.detune,u=Math.pow(d,c);this.totalRate=this.currentConfig.rate*this.manager.rate*u},destroy:function(){this.pendingRemove||(this.stop(),this.emit(f.DESTROY,this),this.removeAllListeners(),this.pendingRemove=!0,this.manager=null,this.config=null,this.currentConfig=null,this.markers=null,this.currentMarker=null)}});r.exports=n},85034:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(41786),f=i(50792),l=i(14463),a=i(8443),n=i(46710),d=i(58731),c=i(29747),u=i(26099),v=new h({Extends:f,initialize:function(g){f.call(this),this.game=g,this.jsonCache=g.cache.json,this.sounds=[],this.mute=!1,this.volume=1,this.pauseOnBlur=!0,this._rate=1,this._detune=0,this.locked=this.locked||!1,this.unlocked=!1,this.gameLostFocus=!1,this.listenerPosition=new u;var m=g.events;m.on(a.BLUR,this.onGameBlur,this),m.on(a.FOCUS,this.onGameFocus,this),m.on(a.PRE_STEP,this.update,this),m.once(a.DESTROY,this.destroy,this)},add:c,addAudioSprite:function(p,g){g===void 0&&(g={});var m=this.add(p,g);m.spritemap=this.jsonCache.get(p).spritemap;for(var T in m.spritemap)if(m.spritemap.hasOwnProperty(T)){var P=x(g),E=m.spritemap[T];P.loop=E.hasOwnProperty("loop")?E.loop:!1,m.addMarker({name:T,start:E.start,duration:E.end-E.start,config:P})}return m},get:function(p){return d(this.sounds,"key",p)},getAll:function(p){return p?n(this.sounds,"key",p):n(this.sounds)},getAllPlaying:function(){return n(this.sounds,"isPlaying",!0)},play:function(p,g){var m=this.add(p);return m.once(l.COMPLETE,m.destroy,m),g?g.name?(m.addMarker(g),m.play(g.name)):m.play(g):m.play()},playAudioSprite:function(p,g,m){var T=this.addAudioSprite(p);return T.once(l.COMPLETE,T.destroy,T),T.play(g,m)},remove:function(p){var g=this.sounds.indexOf(p);return g!==-1?(p.destroy(),this.sounds.splice(g,1),!0):!1},removeAll:function(){this.sounds.forEach(function(p){p.destroy()}),this.sounds.length=0},removeByKey:function(p){for(var g=0,m=this.sounds.length-1;m>=0;m--){var T=this.sounds[m];T.key===p&&(T.destroy(),this.sounds.splice(m,1),g++)}return g},pauseAll:function(){this.forEachActiveSound(function(p){p.pause()}),this.emit(l.PAUSE_ALL,this)},resumeAll:function(){this.forEachActiveSound(function(p){p.resume()}),this.emit(l.RESUME_ALL,this)},setListenerPosition:c,stopAll:function(){this.forEachActiveSound(function(p){p.stop()}),this.emit(l.STOP_ALL,this)},stopByKey:function(p){var g=0;return this.getAll(p).forEach(function(m){m.stop()&&g++}),g},isPlaying:function(p){var g=this.sounds,m=g.length-1,T;if(p===void 0){for(;m>=0;m--)if(T=this.sounds[m],T.isPlaying)return!0}else for(;m>=0;m--)if(T=this.sounds[m],T.key===p&&T.isPlaying)return!0;return!1},unlock:c,onBlur:c,onFocus:c,onGameBlur:function(){this.gameLostFocus=!0,this.pauseOnBlur&&this.onBlur()},onGameFocus:function(){this.gameLostFocus=!1,this.pauseOnBlur&&this.onFocus()},update:function(p,g){this.unlocked&&(this.unlocked=!1,this.locked=!1,this.emit(l.UNLOCKED,this));for(var m=this.sounds.length-1;m>=0;m--)this.sounds[m].pendingRemove&&this.sounds.splice(m,1);this.sounds.forEach(function(T){T.update(p,g)})},destroy:function(){this.game.events.off(a.BLUR,this.onGameBlur,this),this.game.events.off(a.FOCUS,this.onGameFocus,this),this.game.events.off(a.PRE_STEP,this.update,this),this.removeAllListeners(),this.removeAll(),this.sounds.length=0,this.sounds=null,this.listenerPosition=null,this.game=null},forEachActiveSound:function(p,g){var m=this;this.sounds.forEach(function(T,P){T&&!T.pendingRemove&&p.call(g||m,T,P,m.sounds)})},setRate:function(p){return this.rate=p,this},rate:{get:function(){return this._rate},set:function(p){this._rate=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(l.GLOBAL_RATE,this,p)}},setDetune:function(p){return this.detune=p,this},detune:{get:function(){return this._detune},set:function(p){this._detune=p,this.forEachActiveSound(function(g){g.calculateRate()}),this.emit(l.GLOBAL_DETUNE,this,p)}}});r.exports=v},14747:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33684),x=i(25960),f=i(57490),l={create:function(a){var n=a.config.audio,d=a.device.audio;return n.noAudio||!d.webAudio&&!d.audioData?new x(a):d.webAudio&&!n.disableWebAudio?new f(a):new h(a)}};r.exports=l},19723:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},98882:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decodedall"},57506:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="decoded"},73146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="destroy"},11305:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},40577:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="detune"},30333:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},20394:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},21802:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},1299:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="looped"},99190:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},97125:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="mute"},89259:r=>{/**
 * @author       pi-kei
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pan"},79986:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pauseall"},17586:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},19618:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="play"},42306:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="rate"},10387:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resumeall"},48959:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},9960:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="seek"},19180:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stopall"},98328:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},50401:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="unlocked"},52498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="volume"},14463:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(19723),DECODED:i(57506),DECODED_ALL:i(98882),DESTROY:i(73146),DETUNE:i(11305),GLOBAL_DETUNE:i(40577),GLOBAL_MUTE:i(30333),GLOBAL_RATE:i(20394),GLOBAL_VOLUME:i(21802),LOOP:i(99190),LOOPED:i(1299),MUTE:i(97125),PAN:i(89259),PAUSE_ALL:i(79986),PAUSE:i(17586),PLAY:i(19618),RATE:i(42306),RESUME_ALL:i(10387),RESUME:i(48959),SEEK:i(9960),STOP_ALL:i(19180),STOP:i(98328),UNLOCKED:i(50401),VOLUME:i(52498)}},64895:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30341),x=i(83419),f=i(14463),l=i(45319),a=new x({Extends:h,initialize:function(d,c,u){if(u===void 0&&(u={}),this.tags=d.game.cache.audio.get(c),!this.tags)throw new Error('No cached audio asset with key "'+c);this.audio=null,this.startTime=0,this.previousTime=0,this.duration=this.tags[0].duration,this.totalDuration=this.tags[0].duration,h.call(this,d,c,u)},play:function(n,d){return this.manager.isLocked(this,"play",[n,d])||!h.prototype.play.call(this,n,d)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.PLAY,this),!0)},pause:function(){return this.manager.isLocked(this,"pause")||this.startTime>0||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.stopAndReleaseAudioTag(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.isLocked(this,"resume")||this.startTime>0||!h.prototype.resume.call(this)||!this.pickAndPlayAudioTag()?!1:(this.emit(f.RESUME,this),!0)},stop:function(){return this.manager.isLocked(this,"stop")||!h.prototype.stop.call(this)?!1:(this.stopAndReleaseAudioTag(),this.emit(f.STOP,this),!0)},pickAndPlayAudioTag:function(){if(!this.pickAudioTag())return this.reset(),!1;var n=this.currentConfig.seek,d=this.currentConfig.delay,c=(this.currentMarker?this.currentMarker.start:0)+n;return this.previousTime=c,this.audio.currentTime=c,this.applyConfig(),d===0?(this.startTime=0,this.audio.paused&&this.playCatchPromise()):(this.startTime=window.performance.now()+d*1e3,this.audio.paused||this.audio.pause()),this.resetConfig(),!0},pickAudioTag:function(){if(this.audio)return!0;for(var n=0;n<this.tags.length;n++){var d=this.tags[n];if(d.dataset.used==="false")return d.dataset.used="true",this.audio=d,!0}if(!this.manager.override)return!1;var c=[];this.manager.forEachActiveSound(function(v){v.key===this.key&&v.audio&&c.push(v)},this),c.sort(function(v,p){return v.loop===p.loop?p.seek/p.duration-v.seek/v.duration:v.loop?1:-1});var u=c[0];return this.audio=u.audio,u.reset(),u.audio=null,u.startTime=0,u.previousTime=0,!0},playCatchPromise:function(){var n=this.audio.play();n&&n.catch(function(d){console.warn(d)})},stopAndReleaseAudioTag:function(){this.startTime=0,this.previousTime=0,this.audio&&(this.audio.pause(),this.audio.dataset.used="false",this.audio=null)},reset:function(){h.prototype.stop.call(this)},onBlur:function(){this.isPlaying=!1,this.isPaused=!0,this.currentConfig.seek=this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0),this.currentConfig.delay=Math.max(0,(this.startTime-window.performance.now())/1e3),this.stopAndReleaseAudioTag()},onFocus:function(){this.isPlaying=!0,this.isPaused=!1,this.pickAndPlayAudioTag()},update:function(n){if(this.isPlaying){if(this.startTime>0){this.startTime<n-this.manager.audioPlayDelay&&(this.audio.currentTime+=Math.max(0,n-this.startTime)/1e3,this.startTime=0,this.previousTime=this.audio.currentTime,this.playCatchPromise());return}var d=this.currentMarker?this.currentMarker.start:0,c=d+this.duration,u=this.audio.currentTime;if(this.currentConfig.loop)u>=c-this.manager.loopEndOffset?(this.audio.currentTime=d+Math.max(0,u-c),u=this.audio.currentTime):u<d&&(this.audio.currentTime+=d,u=this.audio.currentTime),u<this.previousTime&&this.emit(f.LOOPED,this);else if(u>=c){this.reset(),this.stopAndReleaseAudioTag(),this.emit(f.COMPLETE,this);return}this.previousTime=u}},destroy:function(){h.prototype.destroy.call(this),this.tags=null,this.audio&&this.stopAndReleaseAudioTag()},updateMute:function(){this.audio&&(this.audio.muted=this.currentConfig.mute||this.manager.mute)},updateVolume:function(){this.audio&&(this.audio.volume=l(this.currentConfig.volume*this.manager.volume,0,1))},calculateRate:function(){h.prototype.calculateRate.call(this),this.audio&&(this.audio.playbackRate=this.totalRate)},mute:{get:function(){return this.currentConfig.mute},set:function(n){this.currentConfig.mute=n,!this.manager.isLocked(this,"mute",n)&&(this.updateMute(),this.emit(f.MUTE,this,n))}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.currentConfig.volume},set:function(n){this.currentConfig.volume=n,!this.manager.isLocked(this,"volume",n)&&(this.updateVolume(),this.emit(f.VOLUME,this,n))}},setVolume:function(n){return this.volume=n,this},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,!this.manager.isLocked(this,f.RATE,n)&&(this.calculateRate(),this.emit(f.RATE,this,n))}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,!this.manager.isLocked(this,f.DETUNE,n)&&(this.calculateRate(),this.emit(f.DETUNE,this,n))}},setDetune:function(n){return this.detune=n,this},seek:{get:function(){return this.isPlaying?this.audio.currentTime-(this.currentMarker?this.currentMarker.start:0):this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.isLocked(this,"seek",n)||this.startTime>0||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.isPlaying?(this.previousTime=n,this.audio.currentTime=n):this.isPaused&&(this.currentConfig.seek=n),this.emit(f.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,!this.manager.isLocked(this,"loop",n)&&(this.audio&&(this.audio.loop=n),this.emit(f.LOOP,this,n))}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.currentConfig.pan},set:function(n){this.currentConfig.pan=n,this.emit(f.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});r.exports=a},33684:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85034),x=i(83419),f=i(14463),l=i(64895),a=new x({Extends:h,initialize:function(d){this.override=!0,this.audioPlayDelay=.1,this.loopEndOffset=.05,this.onBlurPausedSounds=[],this.locked="ontouchstart"in window,this.lockedActionsQueue=this.locked?[]:null,this._mute=!1,this._volume=1,h.call(this,d)},add:function(n,d){var c=new l(this,n,d);return this.sounds.push(c),c},unlock:function(){this.locked=!1;var n=this;if(this.game.cache.audio.entries.each(function(v,p){for(var g=0;g<p.length;g++)if(p[g].dataset.locked==="true")return n.locked=!0,!1;return!0}),!!this.locked){var d=!1,c=function(){d=!0},u=function(){if(d){d=!1;return}document.body.removeEventListener("touchmove",c),document.body.removeEventListener("touchend",u);var v=[];if(n.game.cache.audio.entries.each(function(g,m){for(var T=0;T<m.length;T++){var P=m[T];P.dataset.locked==="true"&&v.push(P)}return!0}),v.length!==0){var p=v[v.length-1];p.oncanplaythrough=function(){p.oncanplaythrough=null,v.forEach(function(g){g.dataset.locked="false"}),n.unlocked=!0},v.forEach(function(g){g.load()})}};this.once(f.UNLOCKED,function(){for(this.forEachActiveSound(function(p){p.currentMarker===null&&p.duration===0&&(p.duration=p.tags[0].duration),p.totalDuration=p.tags[0].duration});this.lockedActionsQueue.length;){var v=this.lockedActionsQueue.shift();v.sound[v.prop].apply?v.sound[v.prop].apply(v.sound,v.value||[]):v.sound[v.prop]=v.value}},this),document.body.addEventListener("touchmove",c,!1),document.body.addEventListener("touchend",u,!1)}},onBlur:function(){this.forEachActiveSound(function(n){n.isPlaying&&(this.onBlurPausedSounds.push(n),n.onBlur())})},onFocus:function(){this.onBlurPausedSounds.forEach(function(n){n.onFocus()}),this.onBlurPausedSounds.length=0},destroy:function(){h.prototype.destroy.call(this),this.onBlurPausedSounds.length=0,this.onBlurPausedSounds=null},isLocked:function(n,d,c){return n.tags[0].dataset.locked==="true"?(this.lockedActionsQueue.push({sound:n,prop:d,value:c}),!0):!1},setMute:function(n){return this.mute=n,this},mute:{get:function(){return this._mute},set:function(n){this._mute=n,this.forEachActiveSound(function(d){d.updateMute()}),this.emit(f.GLOBAL_MUTE,this,n)}},setVolume:function(n){return this.volume=n,this},volume:{get:function(){return this._volume},set:function(n){this._volume=n,this.forEachActiveSound(function(d){d.updateVolume()}),this.emit(f.GLOBAL_VOLUME,this,n)}}});r.exports=a},23717:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={SoundManagerCreator:i(14747),Events:i(14463),BaseSound:i(30341),BaseSoundManager:i(85034),WebAudioSound:i(71741),WebAudioSoundManager:i(57490),HTML5AudioSound:i(64895),HTML5AudioSoundManager:i(33684),NoAudioSound:i(4603),NoAudioSoundManager:i(25960)}},4603:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30341),x=i(83419),f=i(50792),l=i(79291),a=i(29747),n=function(){return!1},d=function(){return null},c=function(){return this},u=new x({Extends:f,initialize:function(p,g,m){m===void 0&&(m={}),f.call(this),this.manager=p,this.key=g,this.isPlaying=!1,this.isPaused=!1,this.totalRate=1,this.duration=0,this.totalDuration=0,this.config=l({mute:!1,volume:1,rate:1,detune:0,seek:0,loop:!1,delay:0,pan:0},m),this.currentConfig=this.config,this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.seek=0,this.loop=!1,this.pan=0,this.markers={},this.currentMarker=null,this.pendingRemove=!1},addMarker:n,updateMarker:n,removeMarker:d,play:n,pause:n,resume:n,stop:n,setMute:c,setVolume:c,setRate:c,setDetune:c,setSeek:c,setLoop:c,setPan:c,applyConfig:d,resetConfig:d,update:a,calculateRate:d,destroy:function(){h.prototype.destroy.call(this)}});r.exports=u},25960:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85034),x=i(83419),f=i(50792),l=i(4603),a=i(29747),n=new x({Extends:f,initialize:function(c){f.call(this),this.game=c,this.sounds=[],this.mute=!1,this.volume=1,this.rate=1,this.detune=0,this.pauseOnBlur=!0,this.locked=!1},add:function(d,c){var u=new l(this,d,c);return this.sounds.push(u),u},addAudioSprite:function(d,c){var u=this.add(d,c);return u.spritemap={},u},get:function(d){return h.prototype.get.call(this,d)},getAll:function(d){return h.prototype.getAll.call(this,d)},play:function(d,c){return!1},playAudioSprite:function(d,c,u){return!1},remove:function(d){return h.prototype.remove.call(this,d)},removeAll:function(){return h.prototype.removeAll.call(this)},removeByKey:function(d){return h.prototype.removeByKey.call(this,d)},stopByKey:function(d){return h.prototype.stopByKey.call(this,d)},onBlur:a,onFocus:a,onGameBlur:a,onGameFocus:a,pauseAll:a,resumeAll:a,stopAll:a,update:a,setRate:a,setDetune:a,setMute:a,setVolume:a,unlock:a,forEachActiveSound:function(d,c){h.prototype.forEachActiveSound.call(this,d,c)},destroy:function(){h.prototype.destroy.call(this)}});r.exports=n},71741:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30341),x=i(83419),f=i(14463),l=i(95540),a=new x({Extends:h,initialize:function(d,c,u){if(u===void 0&&(u={}),this.audioBuffer=d.game.cache.audio.get(c),!this.audioBuffer)throw new Error('Audio key "'+c+'" not found in cache');this.source=null,this.loopSource=null,this.muteNode=d.context.createGain(),this.volumeNode=d.context.createGain(),this.pannerNode=null,this.spatialNode=null,this.spatialSource=null,this.playTime=0,this.startTime=0,this.loopTime=0,this.rateUpdates=[],this.hasEnded=!1,this.hasLooped=!1,this.muteNode.connect(this.volumeNode),d.context.createPanner&&(this.spatialNode=d.context.createPanner(),this.volumeNode.connect(this.spatialNode)),d.context.createStereoPanner?(this.pannerNode=d.context.createStereoPanner(),d.context.createPanner?this.spatialNode.connect(this.pannerNode):this.volumeNode.connect(this.pannerNode),this.pannerNode.connect(d.destination)):d.context.createPanner?this.spatialNode.connect(d.destination):this.volumeNode.connect(d.destination),this.duration=this.audioBuffer.duration,this.totalDuration=this.audioBuffer.duration,h.call(this,d,c,u)},play:function(n,d){return h.prototype.play.call(this,n,d)?(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource(),this.emit(f.PLAY,this),!0):!1},pause:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.pause.call(this)?!1:(this.currentConfig.seek=this.getCurrentTime(),this.stopAndRemoveBufferSource(),this.emit(f.PAUSE,this),!0)},resume:function(){return this.manager.context.currentTime<this.startTime||!h.prototype.resume.call(this)?!1:(this.createAndStartBufferSource(),this.emit(f.RESUME,this),!0)},stop:function(){return h.prototype.stop.call(this)?(this.stopAndRemoveBufferSource(),this.emit(f.STOP,this),!0):!1},createAndStartBufferSource:function(){var n=this.currentConfig.seek,d=this.currentConfig.delay,c=this.manager.context.currentTime+d,u=(this.currentMarker?this.currentMarker.start:0)+n,v=this.duration-n;this.playTime=c-n,this.startTime=c,this.source=this.createBufferSource(),this.applyConfig(),this.source.start(Math.max(0,c),Math.max(0,u),Math.max(0,v)),this.resetConfig()},createAndStartLoopBufferSource:function(){var n=this.getLoopTime(),d=this.currentMarker?this.currentMarker.start:0,c=this.duration;this.loopTime=n,this.loopSource=this.createBufferSource(),this.loopSource.playbackRate.setValueAtTime(this.totalRate,0),this.loopSource.start(Math.max(0,n),Math.max(0,d),Math.max(0,c))},createBufferSource:function(){var n=this,d=this.manager.context.createBufferSource();return d.buffer=this.audioBuffer,d.connect(this.muteNode),d.onended=function(c){var u=c.target;(u===n.source||u===n.loopSource)&&(n.currentConfig.loop?n.hasLooped=!0:n.hasEnded=!0)},d},stopAndRemoveBufferSource:function(){if(this.source){var n=this.source;this.source=null,n.stop(),n.disconnect()}this.playTime=0,this.startTime=0,this.hasEnded=!1,this.stopAndRemoveLoopBufferSource()},stopAndRemoveLoopBufferSource:function(){this.loopSource&&(this.loopSource.stop(),this.loopSource.disconnect(),this.loopSource=null),this.loopTime=0},applyConfig:function(){this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:1});var n=this.currentConfig.source;if(n&&this.manager.context.createPanner){var d=this.spatialNode;d.panningModel=l(n,"panningModel","equalpower"),d.distanceModel=l(n,"distanceModel","inverse"),d.orientationX.value=l(n,"orientationX",0),d.orientationY.value=l(n,"orientationY",0),d.orientationZ.value=l(n,"orientationZ",-1),d.refDistance=l(n,"refDistance",1),d.maxDistance=l(n,"maxDistance",1e4),d.rolloffFactor=l(n,"rolloffFactor",1),d.coneInnerAngle=l(n,"coneInnerAngle",360),d.coneOuterAngle=l(n,"coneOuterAngle",0),d.coneOuterGain=l(n,"coneOuterGain",0),this.spatialSource=l(n,"follow",null),this.spatialSource||(d.positionX.value=l(n,"x",0),d.positionY.value=l(n,"y",0),d.positionZ.value=l(n,"z",0))}h.prototype.applyConfig.call(this)},x:{get:function(){return this.spatialNode?this.spatialNode.positionX:0},set:function(n){this.spatialNode&&(this.spatialNode.positionX.value=n)}},y:{get:function(){return this.spatialNode?this.spatialNode.positionY:0},set:function(n){this.spatialNode&&(this.spatialNode.positionY.value=n)}},update:function(){if(this.isPlaying&&this.spatialSource){var n=l(this.spatialSource,"x",null),d=l(this.spatialSource,"y",null);n&&n!==this._spatialx&&(this._spatialx=this.spatialNode.positionX.value=n),d&&d!==this._spatialy&&(this._spatialy=this.spatialNode.positionY.value=d)}this.hasEnded?(h.prototype.stop.call(this),this.stopAndRemoveBufferSource(),this.emit(f.COMPLETE,this)):this.hasLooped&&(this.hasLooped=!1,this.source=this.loopSource,this.loopSource=null,this.playTime=this.startTime=this.loopTime,this.rateUpdates.length=0,this.rateUpdates.push({time:0,rate:this.totalRate}),this.createAndStartLoopBufferSource(),this.emit(f.LOOPED,this))},destroy:function(){this.pendingRemove||(h.prototype.destroy.call(this),this.audioBuffer=null,this.stopAndRemoveBufferSource(),this.muteNode.disconnect(),this.muteNode=null,this.volumeNode.disconnect(),this.volumeNode=null,this.pannerNode&&(this.pannerNode.disconnect(),this.pannerNode=null),this.spatialNode&&(this.spatialNode.disconnect(),this.spatialNode=null,this.spatialSource=null),this.rateUpdates.length=0,this.rateUpdates=null)},calculateRate:function(){h.prototype.calculateRate.call(this);var n=this.manager.context.currentTime;this.source&&typeof this.totalRate=="number"&&this.source.playbackRate.setValueAtTime(this.totalRate,n),this.isPlaying&&(this.rateUpdates.push({time:Math.max(this.startTime,n)-this.playTime,rate:this.totalRate}),this.loopSource&&(this.stopAndRemoveLoopBufferSource(),this.createAndStartLoopBufferSource()))},getCurrentTime:function(){for(var n=0,d=0;d<this.rateUpdates.length;d++){var c=0;d<this.rateUpdates.length-1?c=this.rateUpdates[d+1].time:c=this.manager.context.currentTime-this.playTime,n+=(c-this.rateUpdates[d].time)*this.rateUpdates[d].rate}return n},getLoopTime:function(){for(var n=0,d=0;d<this.rateUpdates.length-1;d++)n+=(this.rateUpdates[d+1].time-this.rateUpdates[d].time)*this.rateUpdates[d].rate;var c=this.rateUpdates[this.rateUpdates.length-1];return this.playTime+c.time+(this.duration-n)/c.rate},rate:{get:function(){return this.currentConfig.rate},set:function(n){this.currentConfig.rate=n,this.calculateRate(),this.emit(f.RATE,this,n)}},setRate:function(n){return this.rate=n,this},detune:{get:function(){return this.currentConfig.detune},set:function(n){this.currentConfig.detune=n,this.calculateRate(),this.emit(f.DETUNE,this,n)}},setDetune:function(n){return this.detune=n,this},mute:{get:function(){return this.muteNode.gain.value===0},set:function(n){this.currentConfig.mute=n,this.muteNode.gain.setValueAtTime(n?0:1,0),this.emit(f.MUTE,this,n)}},setMute:function(n){return this.mute=n,this},volume:{get:function(){return this.volumeNode.gain.value},set:function(n){this.currentConfig.volume=n,this.volumeNode.gain.setValueAtTime(n,0),this.emit(f.VOLUME,this,n)}},setVolume:function(n){return this.volume=n,this},seek:{get:function(){return this.isPlaying?this.manager.context.currentTime<this.startTime?this.startTime-this.playTime:this.getCurrentTime():this.isPaused?this.currentConfig.seek:0},set:function(n){this.manager.context.currentTime<this.startTime||(this.isPlaying||this.isPaused)&&(n=Math.min(Math.max(0,n),this.duration),this.currentConfig.seek=n,this.isPlaying&&(this.stopAndRemoveBufferSource(),this.createAndStartBufferSource()),this.emit(f.SEEK,this,n))}},setSeek:function(n){return this.seek=n,this},loop:{get:function(){return this.currentConfig.loop},set:function(n){this.currentConfig.loop=n,this.isPlaying&&(this.stopAndRemoveLoopBufferSource(),n&&this.createAndStartLoopBufferSource()),this.emit(f.LOOP,this,n)}},setLoop:function(n){return this.loop=n,this},pan:{get:function(){return this.pannerNode?this.pannerNode.pan.value:0},set:function(n){this.currentConfig.pan=n,this.pannerNode&&this.pannerNode.pan.setValueAtTime(n,this.manager.context.currentTime),this.emit(f.PAN,this,n)}},setPan:function(n){return this.pan=n,this}});r.exports=a},57490:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Pavle Goloskokovic <pgoloskokovic@gmail.com> (http://prunegames.com)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(53134),x=i(85034),f=i(83419),l=i(14463),a=i(8443),n=i(71741),d=i(95540),c=new f({Extends:x,initialize:function(v){this.context=this.createAudioContext(v),this.masterMuteNode=this.context.createGain(),this.masterVolumeNode=this.context.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(this.context.destination),this.destination=this.masterMuteNode,this.locked=this.context.state==="suspended",x.call(this,v),this.locked&&(v.isBooted?this.unlock():v.events.once(a.BOOT,this.unlock,this)),v.events.on(a.VISIBLE,this.onGameVisible,this)},onGameVisible:function(){var u=this.context;window.setTimeout(function(){u&&(u.suspend(),u.resume())},100)},createAudioContext:function(u){var v=u.config.audio;if(v.context)return v.context.resume(),v.context;if(window.hasOwnProperty("AudioContext"))return new AudioContext;if(window.hasOwnProperty("webkitAudioContext"))return new window.webkitAudioContext},setAudioContext:function(u){return this.context&&this.context.close(),this.masterMuteNode&&this.masterMuteNode.disconnect(),this.masterVolumeNode&&this.masterVolumeNode.disconnect(),this.context=u,this.masterMuteNode=u.createGain(),this.masterVolumeNode=u.createGain(),this.masterMuteNode.connect(this.masterVolumeNode),this.masterVolumeNode.connect(u.destination),this.destination=this.masterMuteNode,this},add:function(u,v){var p=new n(this,u,v);return this.sounds.push(p),p},decodeAudio:function(u,v){var p;Array.isArray(u)?p=u:p=[{key:u,data:v}];for(var g=this.game.cache.audio,m=p.length,T=0;T<p.length;T++){var P=p[T],E=P.key,M=P.data;typeof M=="string"&&(M=h(M));var w=(function(A,O){g.add(A,O),this.emit(l.DECODED,A),m--,m===0&&this.emit(l.DECODED_ALL)}).bind(this,E),R=(function(A,O){console.error("Error decoding audio: "+A+" - ",O?O.message:""),m--,m===0&&this.emit(l.DECODED_ALL)}).bind(this,E);this.context.decodeAudioData(M,w,R)}},setListenerPosition:function(u,v){return u===void 0&&(u=this.game.scale.width/2),v===void 0&&(v=this.game.scale.height/2),this.listenerPosition.set(u,v),this},unlock:function(){var u=this,v=document.body,p=function g(){if(u.context&&v){var m=v.removeEventListener.bind(v);u.context.resume().then(function(){m("touchstart",g),m("touchend",g),m("mousedown",g),m("mouseup",g),m("keydown",g),u.unlocked=!0},function(){m("touchstart",g),m("touchend",g),m("mousedown",g),m("mouseup",g),m("keydown",g)})}};v&&(v.addEventListener("touchstart",p,!1),v.addEventListener("touchend",p,!1),v.addEventListener("mousedown",p,!1),v.addEventListener("mouseup",p,!1),v.addEventListener("keydown",p,!1))},onBlur:function(){this.locked||this.context.suspend()},onFocus:function(){var u=this.context;u&&!this.locked&&(u.state==="suspended"||u.state==="interrupted")&&u.resume()},update:function(u,v){var p=this.context.listener;if(p&&p.positionX!==void 0){var g=d(this.listenerPosition,"x",null),m=d(this.listenerPosition,"y",null);g&&g!==this._spatialx&&(this._spatialx=p.positionX.value=g),m&&m!==this._spatialy&&(this._spatialy=p.positionY.value=m)}x.prototype.update.call(this,u,v),this.gameLostFocus||this.onFocus()},destroy:function(){if(this.destination=null,this.masterVolumeNode.disconnect(),this.masterVolumeNode=null,this.masterMuteNode.disconnect(),this.masterMuteNode=null,this.game.config.audio.context)this.context.suspend();else{var u=this;this.context.close().then(function(){u.context=null})}this.game.events.off(a.VISIBLE,this.onGameVisible,this),x.prototype.destroy.call(this)},setMute:function(u){return this.mute=u,this},mute:{get:function(){return this.masterMuteNode.gain.value===0},set:function(u){this.masterMuteNode.gain.setValueAtTime(u?0:1,0),this.emit(l.GLOBAL_MUTE,this,u)}},setVolume:function(u){return this.volume=u,this},volume:{get:function(){return this.masterVolumeNode.gain.value},set:function(u){this.masterVolumeNode.gain.setValueAtTime(u,0),this.emit(l.GLOBAL_VOLUME,this,u)}}});r.exports=c},73162:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37105),x=i(83419),f=i(29747),l=i(19186),a=new x({initialize:function(d){this.parent=d,this.list=[],this.position=0,this.addCallback=f,this.removeCallback=f,this._sortKey=""},add:function(n,d){return d?h.Add(this.list,n):h.Add(this.list,n,0,this.addCallback,this)},addAt:function(n,d,c){return c?h.AddAt(this.list,n,d):h.AddAt(this.list,n,d,0,this.addCallback,this)},getAt:function(n){return this.list[n]},getIndex:function(n){return this.list.indexOf(n)},sort:function(n,d){return n?(d===void 0&&(d=function(c,u){return c[n]-u[n]}),l(this.list,d),this):this},getByName:function(n){return h.GetFirst(this.list,"name",n)},getRandom:function(n,d){return h.GetRandom(this.list,n,d)},getFirst:function(n,d,c,u){return h.GetFirst(this.list,n,d,c,u)},getAll:function(n,d,c,u){return h.GetAll(this.list,n,d,c,u)},count:function(n,d){return h.CountAllMatching(this.list,n,d)},swap:function(n,d){h.Swap(this.list,n,d)},moveTo:function(n,d){return h.MoveTo(this.list,n,d)},moveAbove:function(n,d){return h.MoveAbove(this.list,n,d)},moveBelow:function(n,d){return h.MoveBelow(this.list,n,d)},remove:function(n,d){return d?h.Remove(this.list,n):h.Remove(this.list,n,this.removeCallback,this)},removeAt:function(n,d){return d?h.RemoveAt(this.list,n):h.RemoveAt(this.list,n,this.removeCallback,this)},removeBetween:function(n,d,c){return c?h.RemoveBetween(this.list,n,d):h.RemoveBetween(this.list,n,d,this.removeCallback,this)},removeAll:function(n){for(var d=this.list.length;d--;)this.remove(this.list[d],n);return this},bringToTop:function(n){return h.BringToTop(this.list,n)},sendToBack:function(n){return h.SendToBack(this.list,n)},moveUp:function(n){return h.MoveUp(this.list,n),n},moveDown:function(n){return h.MoveDown(this.list,n),n},reverse:function(){return this.list.reverse(),this},shuffle:function(){return h.Shuffle(this.list),this},replace:function(n,d){return h.Replace(this.list,n,d)},exists:function(n){return this.list.indexOf(n)>-1},setAll:function(n,d,c,u){return h.SetAll(this.list,n,d,c,u),this},each:function(n,d){for(var c=[null],u=2;u<arguments.length;u++)c.push(arguments[u]);for(u=0;u<this.list.length;u++)c[0]=this.list[u],n.apply(d,c)},shutdown:function(){this.removeAll(),this.list=[]},destroy:function(){this.removeAll(),this.parent=null,this.addCallback=null,this.removeCallback=null},length:{get:function(){return this.list.length}},first:{get:function(){return this.position=0,this.list.length>0?this.list[0]:null}},last:{get:function(){return this.list.length>0?(this.position=this.list.length-1,this.list[this.position]):null}},next:{get:function(){return this.position<this.list.length?(this.position++,this.list[this.position]):null}},previous:{get:function(){return this.position>0?(this.position--,this.list[this.position]):null}}});r.exports=a},90330:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l){this.entries={},this.size=0,this.setAll(l)},setAll:function(f){if(Array.isArray(f))for(var l=0;l<f.length;l++)this.set(f[l][0],f[l][1]);return this},set:function(f,l){return this.has(f)||this.size++,this.entries[f]=l,this},get:function(f){if(this.has(f))return this.entries[f]},getArray:function(){var f=[],l=this.entries;for(var a in l)f.push(l[a]);return f},has:function(f){return this.entries.hasOwnProperty(f)},delete:function(f){return this.has(f)&&(delete this.entries[f],this.size--),this},clear:function(){return Object.keys(this.entries).forEach(function(f){delete this.entries[f]},this),this.size=0,this},keys:function(){return Object.keys(this.entries)},values:function(){var f=[],l=this.entries;for(var a in l)f.push(l[a]);return f},dump:function(){var f=this.entries;console.group("Map");for(var l in f)console.log(l,f[l]);console.groupEnd()},each:function(f){var l=this.entries;for(var a in l)if(f(a,l[a])===!1)break;return this},contains:function(f){var l=this.entries;for(var a in l)if(l[a]===f)return!0;return!1},merge:function(f,l){l===void 0&&(l=!1);var a=this.entries,n=f.entries;for(var d in n)a.hasOwnProperty(d)&&l?a[d]=n[d]:this.set(d,n[d]);return this}});r.exports=x},25774:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(82348),l=new h({Extends:x,initialize:function(){x.call(this),this._pending=[],this._active=[],this._destroy=[],this._toProcess=0,this.checkQueue=!1},isActive:function(a){return this._active.indexOf(a)>-1},isPending:function(a){return this._toProcess>0&&this._pending.indexOf(a)>-1},isDestroying:function(a){return this._destroy.indexOf(a)>-1},add:function(a){return this.checkQueue&&this.isActive(a)&&!this.isDestroying(a)||this.isPending(a)||(this._pending.push(a),this._toProcess++),a},remove:function(a){if(this.isPending(a)){var n=this._pending,d=n.indexOf(a);d!==-1&&n.splice(d,1)}else this.isActive(a)&&(this._destroy.push(a),this._toProcess++);return a},removeAll:function(){for(var a=this._active,n=this._destroy,d=a.length;d--;)n.push(a[d]),this._toProcess++;return this},update:function(){if(this._toProcess===0)return this._active;var a=this._destroy,n=this._active,d,c;for(d=0;d<a.length;d++){c=a[d];var u=n.indexOf(c);u!==-1&&(n.splice(u,1),this.emit(f.PROCESS_QUEUE_REMOVE,c))}for(a.length=0,a=this._pending,d=0;d<a.length;d++)c=a[d],(!this.checkQueue||this.checkQueue&&n.indexOf(c)===-1)&&(n.push(c),this.emit(f.PROCESS_QUEUE_ADD,c));return a.length=0,this._toProcess=0,n},getActive:function(){return this._active},length:{get:function(){return this._active.length}},destroy:function(){this._toProcess=0,this._pending=[],this._active=[],this._destroy=[]}});r.exports=l},59542:(r,C,i)=>{/**
 * @author       Vladimir Agafonkin
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(43886);function x(M){if(!(this instanceof x))return new x(M);this._maxEntries=Math.max(4,M||9),this._minEntries=Math.max(2,Math.ceil(this._maxEntries*.4)),this.clear()}x.prototype={all:function(){return this._all(this.data,[])},search:function(M){var w=this.data,R=[],A=this.toBBox;if(!T(M,w))return R;for(var O=[],F,L,b,D;w;){for(F=0,L=w.children.length;F<L;F++)b=w.children[F],D=w.leaf?A(b):b,T(M,D)&&(w.leaf?R.push(b):m(M,D)?this._all(b,R):O.push(b));w=O.pop()}return R},collides:function(M){var w=this.data,R=this.toBBox;if(!T(M,w))return!1;for(var A=[],O,F,L,b;w;){for(O=0,F=w.children.length;O<F;O++)if(L=w.children[O],b=w.leaf?R(L):L,T(M,b)){if(w.leaf||m(M,b))return!0;A.push(L)}w=A.pop()}return!1},load:function(M){if(!(M&&M.length))return this;if(M.length<this._minEntries){for(var w=0,R=M.length;w<R;w++)this.insert(M[w]);return this}var A=this._build(M.slice(),0,M.length-1,0);if(!this.data.children.length)this.data=A;else if(this.data.height===A.height)this._splitRoot(this.data,A);else{if(this.data.height<A.height){var O=this.data;this.data=A,A=O}this._insert(A,this.data.height-A.height-1,!0)}return this},insert:function(M){return M&&this._insert(M,this.data.height-1),this},clear:function(){return this.data=P([]),this},remove:function(M,w){if(!M)return this;for(var R=this.data,A=this.toBBox(M),O=[],F=[],L,b,D,I;R||O.length;){if(R||(R=O.pop(),b=O[O.length-1],L=F.pop(),I=!0),R.leaf&&(D=f(M,R.children,w),D!==-1))return R.children.splice(D,1),O.push(R),this._condense(O),this;!I&&!R.leaf&&m(R,A)?(O.push(R),F.push(L),L=0,b=R,R=R.children[0]):b?(L++,R=b.children[L],I=!1):R=null}return this},toBBox:function(M){return M},compareMinX:d,compareMinY:c,toJSON:function(){return this.data},fromJSON:function(M){return this.data=M,this},_all:function(M,w){for(var R=[];M;)M.leaf?w.push.apply(w,M.children):R.push.apply(R,M.children),M=R.pop();return w},_build:function(M,w,R,A){var O=R-w+1,F=this._maxEntries,L;if(O<=F)return L=P(M.slice(w,R+1)),l(L,this.toBBox),L;A||(A=Math.ceil(Math.log(O)/Math.log(F)),F=Math.ceil(O/Math.pow(F,A-1))),L=P([]),L.leaf=!1,L.height=A;var b=Math.ceil(O/F),D=b*Math.ceil(Math.sqrt(F)),I,k,X,W;for(E(M,w,R,D,this.compareMinX),I=w;I<=R;I+=D)for(X=Math.min(I+D-1,R),E(M,I,X,b,this.compareMinY),k=I;k<=X;k+=b)W=Math.min(k+b-1,X),L.children.push(this._build(M,k,W,A-1));return l(L,this.toBBox),L},_chooseSubtree:function(M,w,R,A){for(var O,F,L,b,D,I,k,X;A.push(w),!(w.leaf||A.length-1===R);){for(k=X=1/0,O=0,F=w.children.length;O<F;O++)L=w.children[O],D=u(L),I=p(M,L)-D,I<X?(X=I,k=D<k?D:k,b=L):I===X&&D<k&&(k=D,b=L);w=b||w.children[0]}return w},_insert:function(M,w,R){var A=this.toBBox,O=R?M:A(M),F=[],L=this._chooseSubtree(O,this.data,w,F);for(L.children.push(M),n(L,O);w>=0&&F[w].children.length>this._maxEntries;)this._split(F,w),w--;this._adjustParentBBoxes(O,F,w)},_split:function(M,w){var R=M[w],A=R.children.length,O=this._minEntries;this._chooseSplitAxis(R,O,A);var F=this._chooseSplitIndex(R,O,A),L=P(R.children.splice(F,R.children.length-F));L.height=R.height,L.leaf=R.leaf,l(R,this.toBBox),l(L,this.toBBox),w?M[w-1].children.push(L):this._splitRoot(R,L)},_splitRoot:function(M,w){this.data=P([M,w]),this.data.height=M.height+1,this.data.leaf=!1,l(this.data,this.toBBox)},_chooseSplitIndex:function(M,w,R){var A,O,F,L,b,D,I,k;for(D=I=1/0,A=w;A<=R-w;A++)O=a(M,0,A,this.toBBox),F=a(M,A,R,this.toBBox),L=g(O,F),b=u(O)+u(F),L<D?(D=L,k=A,I=b<I?b:I):L===D&&b<I&&(I=b,k=A);return k},_chooseSplitAxis:function(M,w,R){var A=M.leaf?this.compareMinX:d,O=M.leaf?this.compareMinY:c,F=this._allDistMargin(M,w,R,A),L=this._allDistMargin(M,w,R,O);F<L&&M.children.sort(A)},_allDistMargin:function(M,w,R,A){M.children.sort(A);var O=this.toBBox,F=a(M,0,w,O),L=a(M,R-w,R,O),b=v(F)+v(L),D,I;for(D=w;D<R-w;D++)I=M.children[D],n(F,M.leaf?O(I):I),b+=v(F);for(D=R-w-1;D>=w;D--)I=M.children[D],n(L,M.leaf?O(I):I),b+=v(L);return b},_adjustParentBBoxes:function(M,w,R){for(var A=R;A>=0;A--)n(w[A],M)},_condense:function(M){for(var w=M.length-1,R;w>=0;w--)M[w].children.length===0?w>0?(R=M[w-1].children,R.splice(R.indexOf(M[w]),1)):this.clear():l(M[w],this.toBBox)},compareMinX:function(M,w){return M.left-w.left},compareMinY:function(M,w){return M.top-w.top},toBBox:function(M){return{minX:M.left,minY:M.top,maxX:M.right,maxY:M.bottom}}};function f(M,w,R){if(!R)return w.indexOf(M);for(var A=0;A<w.length;A++)if(R(M,w[A]))return A;return-1}function l(M,w){a(M,0,M.children.length,w,M)}function a(M,w,R,A,O){O||(O=P(null)),O.minX=1/0,O.minY=1/0,O.maxX=-1/0,O.maxY=-1/0;for(var F=w,L;F<R;F++)L=M.children[F],n(O,M.leaf?A(L):L);return O}function n(M,w){return M.minX=Math.min(M.minX,w.minX),M.minY=Math.min(M.minY,w.minY),M.maxX=Math.max(M.maxX,w.maxX),M.maxY=Math.max(M.maxY,w.maxY),M}function d(M,w){return M.minX-w.minX}function c(M,w){return M.minY-w.minY}function u(M){return(M.maxX-M.minX)*(M.maxY-M.minY)}function v(M){return M.maxX-M.minX+(M.maxY-M.minY)}function p(M,w){return(Math.max(w.maxX,M.maxX)-Math.min(w.minX,M.minX))*(Math.max(w.maxY,M.maxY)-Math.min(w.minY,M.minY))}function g(M,w){var R=Math.max(M.minX,w.minX),A=Math.max(M.minY,w.minY),O=Math.min(M.maxX,w.maxX),F=Math.min(M.maxY,w.maxY);return Math.max(0,O-R)*Math.max(0,F-A)}function m(M,w){return M.minX<=w.minX&&M.minY<=w.minY&&w.maxX<=M.maxX&&w.maxY<=M.maxY}function T(M,w){return w.minX<=M.maxX&&w.minY<=M.maxY&&w.maxX>=M.minX&&w.maxY>=M.minY}function P(M){return{children:M,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function E(M,w,R,A,O){for(var F=[w,R],L;F.length;)R=F.pop(),w=F.pop(),!(R-w<=A)&&(L=w+Math.ceil((R-w)/A/2)*A,h(M,L,w,R,O),F.push(w,L,L,R))}r.exports=x},35072:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l){if(this.entries=[],Array.isArray(l))for(var a=0;a<l.length;a++)this.set(l[a])},set:function(f){return this.entries.indexOf(f)===-1&&this.entries.push(f),this},get:function(f,l){for(var a=0;a<this.entries.length;a++){var n=this.entries[a];if(n[f]===l)return n}},getArray:function(){return this.entries.slice(0)},delete:function(f){var l=this.entries.indexOf(f);return l>-1&&this.entries.splice(l,1),this},dump:function(){console.group("Set");for(var f=0;f<this.entries.length;f++){var l=this.entries[f];console.log(l)}console.groupEnd()},each:function(f,l){var a,n=this.entries.slice(),d=n.length;if(l)for(a=0;a<d&&f.call(l,n[a],a)!==!1;a++);else for(a=0;a<d&&f(n[a],a)!==!1;a++);return this},iterate:function(f,l){var a,n=this.entries.length;if(l)for(a=0;a<n&&f.call(l,this.entries[a],a)!==!1;a++);else for(a=0;a<n&&f(this.entries[a],a)!==!1;a++);return this},iterateLocal:function(f){var l,a=[];for(l=1;l<arguments.length;l++)a.push(arguments[l]);var n=this.entries.length;for(l=0;l<n;l++){var d=this.entries[l];d[f].apply(d,a)}return this},clear:function(){return this.entries.length=0,this},contains:function(f){return this.entries.indexOf(f)>-1},union:function(f){var l=new x;return f.entries.forEach(function(a){l.set(a)}),this.entries.forEach(function(a){l.set(a)}),l},intersect:function(f){var l=new x;return this.entries.forEach(function(a){f.contains(a)&&l.set(a)}),l},difference:function(f){var l=new x;return this.entries.forEach(function(a){f.contains(a)||l.set(a)}),l},size:{get:function(){return this.entries.length},set:function(f){return f<this.entries.length?this.entries.length=f:this.entries.length}}});r.exports=x},86555:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45319),x=i(83419),f=i(56583),l=i(26099),a=new x({initialize:function(d,c,u,v){d===void 0&&(d=0),c===void 0&&(c=d),u===void 0&&(u=0),v===void 0&&(v=null),this._width=d,this._height=c,this._parent=v,this.aspectMode=u,this.aspectRatio=c===0?1:d/c,this.minWidth=0,this.minHeight=0,this.maxWidth=Number.MAX_VALUE,this.maxHeight=Number.MAX_VALUE,this.snapTo=new l},setAspectMode:function(n){return n===void 0&&(n=0),this.aspectMode=n,this.setSize(this._width,this._height)},setSnap:function(n,d){return n===void 0&&(n=0),d===void 0&&(d=n),this.snapTo.set(n,d),this.setSize(this._width,this._height)},setParent:function(n){return this._parent=n,this.setSize(this._width,this._height)},setMin:function(n,d){return n===void 0&&(n=0),d===void 0&&(d=n),this.minWidth=h(n,0,this.maxWidth),this.minHeight=h(d,0,this.maxHeight),this.setSize(this._width,this._height)},setMax:function(n,d){return n===void 0&&(n=Number.MAX_VALUE),d===void 0&&(d=n),this.maxWidth=h(n,this.minWidth,Number.MAX_VALUE),this.maxHeight=h(d,this.minHeight,Number.MAX_VALUE),this.setSize(this._width,this._height)},setSize:function(n,d){switch(n===void 0&&(n=0),d===void 0&&(d=n),this.aspectMode){case a.NONE:this._width=this.getNewWidth(f(n,this.snapTo.x)),this._height=this.getNewHeight(f(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height;break;case a.WIDTH_CONTROLS_HEIGHT:this._width=this.getNewWidth(f(n,this.snapTo.x)),this._height=this.getNewHeight(this._width*(1/this.aspectRatio),!1);break;case a.HEIGHT_CONTROLS_WIDTH:this._height=this.getNewHeight(f(d,this.snapTo.y)),this._width=this.getNewWidth(this._height*this.aspectRatio,!1);break;case a.FIT:this.constrain(n,d,!0);break;case a.ENVELOP:this.constrain(n,d,!1);break}return this},setAspectRatio:function(n){return this.aspectRatio=n,this.setSize(this._width,this._height)},resize:function(n,d){return this._width=this.getNewWidth(f(n,this.snapTo.x)),this._height=this.getNewHeight(f(d,this.snapTo.y)),this.aspectRatio=this._height===0?1:this._width/this._height,this},getNewWidth:function(n,d){return d===void 0&&(d=!0),n=h(n,this.minWidth,this.maxWidth),d&&this._parent&&n>this._parent.width&&(n=Math.max(this.minWidth,this._parent.width)),n},getNewHeight:function(n,d){return d===void 0&&(d=!0),n=h(n,this.minHeight,this.maxHeight),d&&this._parent&&n>this._parent.height&&(n=Math.max(this.minHeight,this._parent.height)),n},constrain:function(n,d,c){n===void 0&&(n=0),d===void 0&&(d=n),c===void 0&&(c=!0),n=this.getNewWidth(n),d=this.getNewHeight(d);var u=this.snapTo,v=d===0?1:n/d;return c&&this.aspectRatio>v||!c&&this.aspectRatio<v?(n=f(n,u.x),d=n/this.aspectRatio,u.y>0&&(d=f(d,u.y),n=d*this.aspectRatio)):(c&&this.aspectRatio<v||!c&&this.aspectRatio>v)&&(d=f(d,u.y),n=d*this.aspectRatio,u.x>0&&(n=f(n,u.x),d=n*(1/this.aspectRatio))),this._width=n,this._height=d,this},fitTo:function(n,d){return this.constrain(n,d,!0)},envelop:function(n,d){return this.constrain(n,d,!1)},setWidth:function(n){return this.setSize(n,this._height)},setHeight:function(n){return this.setSize(this._width,n)},toString:function(){return"[{ Size (width="+this._width+" height="+this._height+" aspectRatio="+this.aspectRatio+" aspectMode="+this.aspectMode+") }]"},setCSS:function(n){n&&n.style&&(n.style.width=this._width+"px",n.style.height=this._height+"px")},copy:function(n){return n.setAspectMode(this.aspectMode),n.aspectRatio=this.aspectRatio,n.setSize(this.width,this.height)},destroy:function(){this._parent=null,this.snapTo=null},width:{get:function(){return this._width},set:function(n){this.setSize(n,this._height)}},height:{get:function(){return this._height},set:function(n){this.setSize(this._width,n)}}});a.NONE=0,a.WIDTH_CONTROLS_HEIGHT=1,a.HEIGHT_CONTROLS_WIDTH=2,a.FIT=3,a.ENVELOP=4,r.exports=a},15238:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="add"},56187:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="remove"},82348:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={PROCESS_QUEUE_ADD:i(15238),PROCESS_QUEUE_REMOVE:i(56187)}},41392:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Events:i(82348),List:i(73162),Map:i(90330),ProcessQueue:i(25774),RTree:i(59542),Set:i(35072),Size:i(86555)}},57382:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(45319),f=i(40987),l=i(8054),a=i(50030),n=i(79237),d=new h({Extends:n,initialize:function(u,v,p,g,m){n.call(this,u,v,p,g,m),this.add("__BASE",0,0,0,g,m),this._source=this.frames.__BASE.source,this.canvas=this._source.image,this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.width=g,this.height=m,this.imageData=this.context.getImageData(0,0,g,m),this.data=null,this.imageData&&(this.data=this.imageData.data),this.pixels=null,this.buffer,this.data&&(this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data)},update:function(){return this.imageData=this.context.getImageData(0,0,this.width,this.height),this.data=this.imageData.data,this.imageData.data.buffer?(this.buffer=this.imageData.data.buffer,this.pixels=new Uint32Array(this.buffer)):window.ArrayBuffer?(this.buffer=new ArrayBuffer(this.imageData.data.length),this.pixels=new Uint32Array(this.buffer)):this.pixels=this.imageData.data,this.manager.game.config.renderType===l.WEBGL&&this.refresh(),this},draw:function(c,u,v,p){return p===void 0&&(p=!0),this.context.drawImage(v,c,u),p&&this.update(),this},drawFrame:function(c,u,v,p,g){v===void 0&&(v=0),p===void 0&&(p=0),g===void 0&&(g=!0);var m=this.manager.getFrame(c,u);if(m){var T=m.canvasData,P=m.cutWidth,E=m.cutHeight,M=m.source.resolution;this.context.drawImage(m.source.image,T.x,T.y,P,E,v,p,P/M,E/M),g&&this.update()}return this},setPixel:function(c,u,v,p,g,m){m===void 0&&(m=255),c=Math.abs(Math.floor(c)),u=Math.abs(Math.floor(u));var T=this.getIndex(c,u);if(T>-1){var P=this.context.getImageData(c,u,1,1);P.data[0]=v,P.data[1]=p,P.data[2]=g,P.data[3]=m,this.context.putImageData(P,c,u)}return this},putData:function(c,u,v,p,g,m,T){return p===void 0&&(p=0),g===void 0&&(g=0),m===void 0&&(m=c.width),T===void 0&&(T=c.height),this.context.putImageData(c,u,v,p,g,m,T),this},getData:function(c,u,v,p){c=x(Math.floor(c),0,this.width-1),u=x(Math.floor(u),0,this.height-1),v=x(v,1,this.width-c),p=x(p,1,this.height-u);var g=this.context.getImageData(c,u,v,p);return g},getPixel:function(c,u,v){v||(v=new f);var p=this.getIndex(c,u);if(p>-1){var g=this.data,m=g[p+0],T=g[p+1],P=g[p+2],E=g[p+3];v.setTo(m,T,P,E)}return v},getPixels:function(c,u,v,p){c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),p===void 0&&(p=v),c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u));for(var g=x(c,0,this.width),m=x(c+v,0,this.width),T=x(u,0,this.height),P=x(u+p,0,this.height),E=new f,M=[],w=T;w<P;w++){for(var R=[],A=g;A<m;A++)E=this.getPixel(A,w,E),R.push({x:A,y:w,color:E.color,alpha:E.alphaGL});M.push(R)}return M},getIndex:function(c,u){return c=Math.abs(Math.round(c)),u=Math.abs(Math.round(u)),c<this.width&&u<this.height?(c+u*this.width)*4:-1},refresh:function(){return this._source.update(),this},getCanvas:function(){return this.canvas},getContext:function(){return this.context},clear:function(c,u,v,p,g){return c===void 0&&(c=0),u===void 0&&(u=0),v===void 0&&(v=this.width),p===void 0&&(p=this.height),g===void 0&&(g=!0),this.context.clearRect(c,u,v,p),g&&this.update(),this},setSize:function(c,u){return u===void 0&&(u=c),(c!==this.width||u!==this.height)&&(this.canvas.width=c,this.canvas.height=u,this._source.width=c,this._source.height=u,this._source.isPowerOf2=a(c,u),this.frames.__BASE.setSize(c,u,0,0),this.width=c,this.height=u,this.refresh()),this},destroy:function(){n.prototype.destroy.call(this),this._source=null,this.canvas=null,this.context=null,this.imageData=null,this.data=null,this.pixels=null,this.buffer=null}});r.exports=d},81320:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(10312),x=i(38058),f=i(27919),l=i(83419),a=i(8054),n=i(4327),d=i(95540),c=i(36060),u=i(32302),v=i(79237),p=i(70554),g=new l({Extends:v,initialize:function(T,P,E,M,w){E===void 0&&(E=256),M===void 0&&(M=256),w===void 0&&(w=!0),this.type="DynamicTexture";var R=T.game.renderer,A=R&&R.type===a.CANVAS,O=A?f.create2D(this,E,M):[this];v.call(this,T,P,O,E,M),this.add("__BASE",0,0,0,E,M),this.renderer=R,this.width=-1,this.height=-1,this.isDrawing=!1,this.canvas=A?O:null,this.context=A?O.getContext("2d",{willReadFrequently:!0}):null,this.dirty=!1,this.isSpriteTexture=!0,this._eraseMode=!1,this.camera=new x(0,0,E,M).setScene(T.game.scene.systemScene,!1),this.renderTarget=A?null:new u(R,E,M,1,0,!1,!1,!0,!1),this.pipeline=A?null:R.pipelines.get(c.SINGLE_PIPELINE),this.setSize(E,M,w)},setSize:function(m,T,P){T===void 0&&(T=m),P===void 0&&(P=!0),P&&(m=Math.floor(m),T=Math.floor(T),m%2!==0&&m++,T%2!==0&&T++);var E=this.get(),M=E.source;if(m!==this.width||T!==this.height){this.canvas&&(this.canvas.width=m,this.canvas.height=T);var w=this.renderTarget;w&&(w.willResize(m,T)&&w.resize(m,T),w.texture!==M.glTexture&&this.renderer.deleteTexture(M.glTexture),this.setFromRenderTarget()),this.camera.setSize(m,T),M.width=m,M.height=T,E.setSize(m,T),this.width=m,this.height=T}else{var R=this.getSourceImage();E.cutX+m>R.width&&(m=R.width-E.cutX),E.cutY+T>R.height&&(T=R.height-E.cutY),E.setSize(m,T,E.cutX,E.cutY)}return this},setFromRenderTarget:function(){var m=this.get(),T=m.source,P=this.renderTarget;return T.isRenderTexture=!0,T.isGLTexture=!0,T.glTexture=P.texture,this},setIsSpriteTexture:function(m){return this.isSpriteTexture=m,this},fill:function(m,T,P,E,M,w){var R=this.camera,A=this.renderer;T===void 0&&(T=1),P===void 0&&(P=0),E===void 0&&(E=0),M===void 0&&(M=this.width),w===void 0&&(w=this.height);var O=m>>16&255,F=m>>8&255,L=m&255,b=this.renderTarget;if(R.preRender(),b){b.bind(!0);var D=this.pipeline.manager.set(this.pipeline),I=A.width/b.width,k=A.height/b.height,X=b.height-(E+w);D.drawFillRect(P*I,X*k,M*I,w*k,p.getTintFromFloats(L/255,F/255,O/255,1),T),b.unbind(!0)}else{var W=this.context;A.setContext(W),W.globalCompositeOperation="source-over",W.fillStyle="rgba("+O+","+F+","+L+","+T+")",W.fillRect(P,E,M,w),A.setContext()}return this.dirty=!0,this},clear:function(m,T,P,E){if(this.dirty){var M=this.context,w=this.renderTarget;w?w.clear(m,T,P,E):M&&(m!==void 0&&T!==void 0&&P!==void 0&&E!==void 0?M.clearRect(m,T,P,E):(M.save(),M.setTransform(1,0,0,1,0,0),M.clearRect(0,0,this.width,this.height),M.restore())),this.dirty=!1}return this},stamp:function(m,T,P,E,M){P===void 0&&(P=0),E===void 0&&(E=0);var w=d(M,"alpha",1),R=d(M,"tint",16777215),A=d(M,"angle",0),O=d(M,"rotation",0),F=d(M,"scale",1),L=d(M,"scaleX",F),b=d(M,"scaleY",F),D=d(M,"originX",.5),I=d(M,"originY",.5),k=d(M,"blendMode",0),X=d(M,"erase",!1),W=d(M,"skipBatch",!1),Y=this.manager.resetStamp(w,R);return Y.setAngle(0),A!==0?Y.setAngle(A):O!==0&&Y.setRotation(O),Y.setScale(L,b),Y.setTexture(m,T),Y.setOrigin(D,I),Y.setBlendMode(k),X&&(this._eraseMode=!0),W?this.batchGameObject(Y,P,E):this.draw(Y,P,E),X&&(this._eraseMode=!1),this},erase:function(m,T,P){return this._eraseMode=!0,this.draw(m,T,P),this._eraseMode=!1,this},draw:function(m,T,P,E,M){return this.beginDraw(),this.batchDraw(m,T,P,E,M),this.endDraw(),this},drawFrame:function(m,T,P,E,M,w){return this.beginDraw(),this.batchDrawFrame(m,T,P,E,M,w),this.endDraw(),this},repeat:function(m,T,P,E,M,w,R,A,O){if(P===void 0&&(P=0),E===void 0&&(E=0),M===void 0&&(M=this.width),w===void 0&&(w=this.height),R===void 0&&(R=1),A===void 0&&(A=16777215),O===void 0&&(O=!1),m instanceof n?T=m:T=this.manager.getFrame(m,T),!T)return this;var F=this.manager.resetStamp(R,A);F.setFrame(T),F.setOrigin(0);var L=T.width,b=T.height;M=Math.floor(M),w=Math.floor(w);var D=Math.ceil(M/L),I=Math.ceil(w/b),k=D*L-M,X=I*b-w;k>0&&(k=L-k),X>0&&(X=b-X),P<0&&(D+=Math.ceil(Math.abs(P)/L)),E<0&&(I+=Math.ceil(Math.abs(E)/b));var W=P,Y=E,N=!1,V=this.manager.stampCrop.setTo(0,0,L,b);O||this.beginDraw();for(var G=0;G<I;G++){if(Y+b<0){Y+=b;continue}for(var B=0;B<D;B++){if(N=!1,W+L<0){W+=L;continue}else W<0&&(N=!0,V.width=L+W,V.x=L-V.width);Y<0&&(N=!0,V.height=b+Y,V.y=b-V.height),k>0&&B===D-1&&(N=!0,V.width=k),X>0&&G===I-1&&(N=!0,V.height=X),N&&F.setCrop(V),this.batchGameObject(F,W,Y),F.isCropped=!1,V.setTo(0,0,L,b),W+=L}W=P,Y+=b}return O||this.endDraw(),this},beginDraw:function(){if(!this.isDrawing){var m=this.camera,T=this.renderer,P=this.renderTarget;m.preRender(),P?T.beginCapture(P.width,P.height):T.setContext(this.context),this.isDrawing=!0}return this},batchDraw:function(m,T,P,E,M){return Array.isArray(m)||(m=[m]),this.batchList(m,T,P,E,M),this},batchDrawFrame:function(m,T,P,E,M,w){P===void 0&&(P=0),E===void 0&&(E=0),M===void 0&&(M=1),w===void 0&&(w=16777215);var R=this.manager.getFrame(m,T);return R&&(this.renderTarget?this.pipeline.batchTextureFrame(R,P,E,w,M,this.camera.matrix,null):this.batchTextureFrame(R,P,E,M,w)),this},endDraw:function(m){if(m===void 0&&(m=this._eraseMode),this.isDrawing){var T=this.renderer,P=this.renderTarget;if(P){var E=T.endCapture(),M=T.pipelines.setUtility();M.blitFrame(E,P,1,!1,!1,m,this.isSpriteTexture),T.resetScissor(),T.resetViewport()}else T.setContext();this.dirty=!0,this.isDrawing=!1}return this},batchList:function(m,T,P,E,M){var w=m.length;if(w!==0)for(var R=0;R<w;R++){var A=m[R];!A||A===this||(A.renderWebGL||A.renderCanvas?this.batchGameObject(A,T,P):A.isParent||A.list?this.batchGroup(A.getChildren(),T,P):typeof A=="string"?this.batchTextureFrameKey(A,null,T,P,E,M):A instanceof n?this.batchTextureFrame(A,T,P,E,M):Array.isArray(A)&&this.batchList(A,T,P,E,M))}},batchGroup:function(m,T,P){T===void 0&&(T=0),P===void 0&&(P=0);for(var E=0;E<m.length;E++){var M=m[E];M.willRender(this.camera)&&this.batchGameObject(M,M.x+T,M.y+P)}},batchGameObject:function(m,T,P){T===void 0&&(T=m.x),P===void 0&&(P=m.y);var E=m.x,M=m.y,w=this.camera,R=this.renderer,A=this._eraseMode,O=m.mask;if(m.setPosition(T,P),this.canvas){if(A){var F=m.blendMode;m.blendMode=h.ERASE}O&&O.preRenderCanvas(R,m,w),m.renderCanvas(R,m,w,null),O&&O.postRenderCanvas(R,m,w),A&&(m.blendMode=F)}else R&&(O&&O.preRenderWebGL(R,m,w),A||R.setBlendMode(m.blendMode),m.renderWebGL(R,m,w),O&&O.postRenderWebGL(R,w,this.renderTarget));m.setPosition(E,M)},batchTextureFrameKey:function(m,T,P,E,M,w){var R=this.manager.getFrame(m,T);R&&this.batchTextureFrame(R,P,E,M,w)},batchTextureFrame:function(m,T,P,E,M){T===void 0&&(T=0),P===void 0&&(P=0),E===void 0&&(E=1),M===void 0&&(M=16777215);var w=this.camera.matrix,R=this.renderTarget;if(R)this.pipeline.batchTextureFrame(m,T,P,M,E,w,null);else{var A=this.context,O=m.canvasData,F=m.source.image;A.save(),A.globalCompositeOperation=this._eraseMode?"destination-out":"source-over",A.globalAlpha=E,w.setToContext(A),O.width>0&&O.height>0&&A.drawImage(F,O.x,O.y,O.width,O.height,T,P,O.width,O.height),A.restore()}},snapshotArea:function(m,T,P,E,M,w,R){return this.renderTarget?this.renderer.snapshotFramebuffer(this.renderTarget.framebuffer,this.width,this.height,M,!1,m,T,P,E,w,R):this.renderer.snapshotCanvas(this.canvas,M,!1,m,T,P,E,w,R),this},snapshot:function(m,T,P){return this.snapshotArea(0,0,this.width,this.height,m,T,P)},snapshotPixel:function(m,T,P){return this.snapshotArea(m,T,1,1,P,"pixel")},getWebGLTexture:function(){if(this.renderTarget)return this.renderTarget.texture},renderWebGL:function(m,T,P,E){var M=this.manager.resetStamp();M.setTexture(this),M.setOrigin(0),M.renderWebGL(m,M,P,E)},renderCanvas:function(){},destroy:function(){var m=this.manager.stamp;m&&m.texture===this&&this.manager.resetStamp(),v.prototype.destroy.call(this),f.remove(this.canvas),this.renderTarget&&this.renderTarget.destroy(),this.camera.destroy(),this.canvas=null,this.context=null,this.renderer=null}});r.exports=g},4327:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(45319),f=i(79291),l=new h({initialize:function(n,d,c,u,v,p,g){this.texture=n,this.name=d,this.source=n.source[c],this.sourceIndex=c,this.cutX,this.cutY,this.cutWidth,this.cutHeight,this.x=0,this.y=0,this.width,this.height,this.halfWidth,this.halfHeight,this.centerX,this.centerY,this.pivotX=0,this.pivotY=0,this.customPivot=!1,this.rotated=!1,this.autoRound=-1,this.customData={},this.u0=0,this.v0=0,this.u1=0,this.v1=0,this.data={cut:{x:0,y:0,w:0,h:0,r:0,b:0},trim:!1,sourceSize:{w:0,h:0},spriteSourceSize:{x:0,y:0,w:0,h:0,r:0,b:0},radius:0,drawImage:{x:0,y:0,width:0,height:0},is3Slice:!1,scale9:!1,scale9Borders:{x:0,y:0,w:0,h:0}},this.setSize(p,g,u,v)},setCutPosition:function(a,n){return a===void 0&&(a=0),n===void 0&&(n=0),this.cutX=a,this.cutY=n,this.updateUVs()},setCutSize:function(a,n){return this.cutWidth=a,this.cutHeight=n,this.updateUVs()},setSize:function(a,n,d,c){d===void 0&&(d=0),c===void 0&&(c=0),this.setCutPosition(d,c),this.setCutSize(a,n),this.width=a,this.height=n,this.halfWidth=Math.floor(a*.5),this.halfHeight=Math.floor(n*.5),this.centerX=Math.floor(a/2),this.centerY=Math.floor(n/2);var u=this.data,v=u.cut;v.x=d,v.y=c,v.w=a,v.h=n,v.r=d+a,v.b=c+n,u.sourceSize.w=a,u.sourceSize.h=n,u.spriteSourceSize.w=a,u.spriteSourceSize.h=n,u.radius=.5*Math.sqrt(a*a+n*n);var p=u.drawImage;return p.x=d,p.y=c,p.width=a,p.height=n,this.updateUVs()},setTrim:function(a,n,d,c,u,v){var p=this.data,g=p.spriteSourceSize;return p.trim=!0,p.sourceSize.w=a,p.sourceSize.h=n,g.x=d,g.y=c,g.w=u,g.h=v,g.r=d+u,g.b=c+v,this.x=d,this.y=c,this.width=u,this.height=v,this.halfWidth=u*.5,this.halfHeight=v*.5,this.centerX=Math.floor(u/2),this.centerY=Math.floor(v/2),this.updateUVs()},setScale9:function(a,n,d,c){var u=this.data;return u.scale9=!0,u.is3Slice=n===0&&c===this.height,u.scale9Borders.x=a,u.scale9Borders.y=n,u.scale9Borders.w=d,u.scale9Borders.h=c,this},setCropUVs:function(a,n,d,c,u,v,p){var g=this.cutX,m=this.cutY,T=this.cutWidth,P=this.cutHeight,E=this.realWidth,M=this.realHeight;n=x(n,0,E),d=x(d,0,M),c=x(c,0,E-n),u=x(u,0,M-d);var w=g+n,R=m+d,A=c,O=u,F=this.data;if(F.trim){var L=F.spriteSourceSize;c=x(c,0,L.x+T-n),u=x(u,0,L.y+P-d);var b=n+c,D=d+u,I=!(L.r<n||L.b<d||L.x>b||L.y>D);if(I){var k=Math.max(L.x,n),X=Math.max(L.y,d),W=Math.min(L.r,b)-k,Y=Math.min(L.b,D)-X;A=W,O=Y,v?w=g+(T-(k-L.x)-W):w=g+(k-L.x),p?R=m+(P-(X-L.y)-Y):R=m+(X-L.y),n=k,d=X,c=W,u=Y}else w=0,R=0,A=0,O=0}else v&&(w=g+(T-n-c)),p&&(R=m+(P-d-u));var N=this.source.width,V=this.source.height;return a.u0=Math.max(0,w/N),a.v0=Math.max(0,R/V),a.u1=Math.min(1,(w+A)/N),a.v1=Math.min(1,(R+O)/V),a.x=n,a.y=d,a.cx=w,a.cy=R,a.cw=A,a.ch=O,a.width=c,a.height=u,a.flipX=v,a.flipY=p,a},updateCropUVs:function(a,n,d){return this.setCropUVs(a,a.x,a.y,a.width,a.height,n,d)},setUVs:function(a,n,d,c,u,v){var p=this.data.drawImage;return p.width=a,p.height=n,this.u0=d,this.v0=c,this.u1=u,this.v1=v,this},updateUVs:function(){var a=this.cutX,n=this.cutY,d=this.cutWidth,c=this.cutHeight,u=this.data.drawImage;u.width=d,u.height=c;var v=this.source.width,p=this.source.height;return this.u0=a/v,this.v0=n/p,this.u1=(a+d)/v,this.v1=(n+c)/p,this},updateUVsInverted:function(){var a=this.source.width,n=this.source.height;return this.u0=(this.cutX+this.cutHeight)/a,this.v0=this.cutY/n,this.u1=this.cutX/a,this.v1=(this.cutY+this.cutWidth)/n,this},clone:function(){var a=new l(this.texture,this.name,this.sourceIndex);return a.cutX=this.cutX,a.cutY=this.cutY,a.cutWidth=this.cutWidth,a.cutHeight=this.cutHeight,a.x=this.x,a.y=this.y,a.width=this.width,a.height=this.height,a.halfWidth=this.halfWidth,a.halfHeight=this.halfHeight,a.centerX=this.centerX,a.centerY=this.centerY,a.rotated=this.rotated,a.data=f(!0,a.data,this.data),a.updateUVs(),a},destroy:function(){this.texture=null,this.source=null,this.customData=null,this.data=null},glTexture:{get:function(){return this.source.glTexture}},realWidth:{get:function(){return this.data.sourceSize.w}},realHeight:{get:function(){return this.data.sourceSize.h}},radius:{get:function(){return this.data.radius}},trimmed:{get:function(){return this.data.trim}},scale9:{get:function(){return this.data.scale9}},is3Slice:{get:function(){return this.data.is3Slice}},canvasData:{get:function(){return this.data.drawImage}}});r.exports=l},79237:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(4327),f=i(11876),l='Texture "%s" has no frame "%s"',a=new h({initialize:function(d,c,u,v,p){Array.isArray(u)||(u=[u]),this.manager=d,this.key=c,this.source=[],this.dataSource=[],this.frames={},this.customData={},this.firstFrame="__BASE",this.frameTotal=0;for(var g=0;g<u.length;g++)this.source.push(new f(this,u[g],v,p))},add:function(n,d,c,u,v,p){if(this.has(n))return null;var g=new x(this,n,d,c,u,v,p);return this.frames[n]=g,this.firstFrame==="__BASE"&&(this.firstFrame=n),this.frameTotal++,g},remove:function(n){if(this.has(n)){var d=this.get(n);return d.destroy(),delete this.frames[n],!0}return!1},has:function(n){return this.frames.hasOwnProperty(n)},get:function(n){n||(n=this.firstFrame);var d=this.frames[n];return d||(console.warn(l,this.key,n),d=this.frames[this.firstFrame]),d},getTextureSourceIndex:function(n){for(var d=0;d<this.source.length;d++)if(this.source[d]===n)return d;return-1},getFramesFromTextureSource:function(n,d){d===void 0&&(d=!1);var c=[];for(var u in this.frames)if(!(u==="__BASE"&&!d)){var v=this.frames[u];v.sourceIndex===n&&c.push(v)}return c},getFrameBounds:function(n){n===void 0&&(n=0);for(var d=this.getFramesFromTextureSource(n,!0),c=d[0],u=c.cutX,v=c.cutY,p=c.cutX+c.cutWidth,g=c.cutY+c.cutHeight,m=1;m<d.length;m++){var T=d[m];T.cutX<u&&(u=T.cutX),T.cutY<v&&(v=T.cutY),T.cutX+T.cutWidth>p&&(p=T.cutX+T.cutWidth),T.cutY+T.cutHeight>g&&(g=T.cutY+T.cutHeight)}return{x:u,y:v,width:p-u,height:g-v}},getFrameNames:function(n){n===void 0&&(n=!1);var d=Object.keys(this.frames);if(!n){var c=d.indexOf("__BASE");c!==-1&&d.splice(c,1)}return d},getSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var d=this.frames[n];return d?d.source.image:(console.warn(l,this.key,n),this.frames.__BASE.source.image)},getDataSourceImage:function(n){(n==null||this.frameTotal===1)&&(n="__BASE");var d=this.frames[n],c;return d?c=d.sourceIndex:(console.warn(l,this.key,n),c=this.frames.__BASE.sourceIndex),this.dataSource[c].image},setDataSource:function(n){Array.isArray(n)||(n=[n]);for(var d=0;d<n.length;d++){var c=this.source[d];this.dataSource.push(new f(this,n[d],c.width,c.height))}},setFilter:function(n){var d;for(d=0;d<this.source.length;d++)this.source[d].setFilter(n);for(d=0;d<this.dataSource.length;d++)this.dataSource[d].setFilter(n)},destroy:function(){var n,d=this.source,c=this.dataSource;for(n=0;n<d.length;n++)d[n]&&d[n].destroy();for(n=0;n<c.length;n++)c[n]&&c[n].destroy();for(var u in this.frames){var v=this.frames[u];v&&v.destroy()}this.source=[],this.dataSource=[],this.frames={},this.manager.removeKey(this.key),this.manager=null}});r.exports=a},17130:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x=i(57382),f=i(83419),l=i(40987),a=i(8054),n=i(81320),d=i(50792),c=i(69442),u=i(4327),v=i(8443),p=i(99584),g=i(35154),m=i(88571),T=i(41212),P=i(61309),E=i(87841),M=i(79237),w=new f({Extends:d,initialize:function(A){d.call(this),this.game=A,this.name="TextureManager",this.list={},this._tempCanvas=h.create2D(this),this._tempContext=this._tempCanvas.getContext("2d",{willReadFrequently:!0}),this._pending=0,this.stamp,this.stampCrop=new E,this.silentWarnings=!1,A.events.once(v.BOOT,this.boot,this)},boot:function(){this._pending=3,this.on(c.LOAD,this.updatePending,this),this.on(c.ERROR,this.updatePending,this);var R=this.game.config;R.defaultImage!==null&&this.addBase64("__DEFAULT",R.defaultImage),R.missingImage!==null&&this.addBase64("__MISSING",R.missingImage),R.whiteImage!==null&&this.addBase64("__WHITE",R.whiteImage),this.game.renderer&&this.game.renderer.gl&&this.addUint8Array("__NORMAL",new Uint8Array([127,127,255,255]),1,1),this.game.events.once(v.DESTROY,this.destroy,this),this.game.events.once(v.SYSTEM_READY,function(A){this.stamp=new m(A).setOrigin(0)},this)},updatePending:function(){this._pending--,this._pending===0&&(this.off(c.LOAD),this.off(c.ERROR),this.emit(c.READY))},checkKey:function(R){return!R||typeof R!="string"||this.exists(R)?(this.silentWarnings||console.error("Texture key already in use: "+R),!1):!0},remove:function(R){if(typeof R=="string")if(this.exists(R))R=this.get(R);else return this.silentWarnings||console.warn("No texture found matching key: "+R),this;var A=R.key;return this.list.hasOwnProperty(A)&&(R.destroy(),this.emit(c.REMOVE,A),this.emit(c.REMOVE_KEY+A)),this},removeKey:function(R){return this.list.hasOwnProperty(R)&&delete this.list[R],this},addBase64:function(R,A){if(this.checkKey(R)){var O=this,F=new Image;F.onerror=function(){O.emit(c.ERROR,R)},F.onload=function(){var L=O.create(R,F);L&&(P.Image(L,0),O.emit(c.ADD,R,L),O.emit(c.ADD_KEY+R,L),O.emit(c.LOAD,R,L))},F.src=A}return this},getBase64:function(R,A,O,F){O===void 0&&(O="image/png"),F===void 0&&(F=.92);var L="",b=this.getFrame(R,A);if(b&&(b.source.isRenderTexture||b.source.isGLTexture))this.silentWarnings||console.warn("Cannot getBase64 from WebGL Texture");else if(b){var D=b.canvasData,I=h.create2D(this,D.width,D.height),k=I.getContext("2d",{willReadFrequently:!0});D.width>0&&D.height>0&&k.drawImage(b.source.image,D.x,D.y,D.width,D.height,0,0,D.width,D.height),L=I.toDataURL(O,F),h.remove(I)}return L},addImage:function(R,A,O){var F=null;return this.checkKey(R)&&(F=this.create(R,A),P.Image(F,0),O&&F.setDataSource(O),this.emit(c.ADD,R,F),this.emit(c.ADD_KEY+R,F)),F},addGLTexture:function(R,A){var O=null;if(this.checkKey(R)){var F=A.width,L=A.height;O=this.create(R,A,F,L),O.add("__BASE",0,0,0,F,L),this.emit(c.ADD,R,O),this.emit(c.ADD_KEY+R,O)}return O},addCompressedTexture:function(R,A,O){var F=null;if(this.checkKey(R)){if(F=this.create(R,A),F.add("__BASE",0,0,0,A.width,A.height),O){var L=function(D,I,k){Array.isArray(k.textures)||Array.isArray(k.frames)?P.JSONArray(D,I,k):P.JSONHash(D,I,k)};if(Array.isArray(O))for(var b=0;b<O.length;b++)L(F,b,O[b]);else L(F,0,O)}this.emit(c.ADD,R,F),this.emit(c.ADD_KEY+R,F)}return F},addRenderTexture:function(R,A){var O=null;return this.checkKey(R)&&(O=this.create(R,A),O.add("__BASE",0,0,0,A.width,A.height),this.emit(c.ADD,R,O),this.emit(c.ADD_KEY+R,O)),O},generate:function(R,A){if(this.checkKey(R)){var O=h.create(this,1,1);return A.canvas=O,p(A),this.addCanvas(R,O)}else return null},createCanvas:function(R,A,O){if(A===void 0&&(A=256),O===void 0&&(O=256),this.checkKey(R)){var F=h.create(this,A,O,a.CANVAS,!0);return this.addCanvas(R,F)}return null},addCanvas:function(R,A,O){O===void 0&&(O=!1);var F=null;return O?F=new x(this,R,A,A.width,A.height):this.checkKey(R)&&(F=new x(this,R,A,A.width,A.height),this.list[R]=F,this.emit(c.ADD,R,F),this.emit(c.ADD_KEY+R,F)),F},addDynamicTexture:function(R,A,O){var F=null;return typeof R=="string"&&!this.exists(R)?F=new n(this,R,A,O):(F=R,R=F.key),this.checkKey(R)?(this.list[R]=F,this.emit(c.ADD,R,F),this.emit(c.ADD_KEY+R,F)):F=null,F},addAtlas:function(R,A,O,F){return Array.isArray(O.textures)||Array.isArray(O.frames)?this.addAtlasJSONArray(R,A,O,F):this.addAtlasJSONHash(R,A,O,F)},addAtlasJSONArray:function(R,A,O,F){var L=null;if(A instanceof M?(R=A.key,L=A):this.checkKey(R)&&(L=this.create(R,A)),L){if(Array.isArray(O))for(var b=O.length===1,D=0;D<L.source.length;D++){var I=b?O[0]:O[D];P.JSONArray(L,D,I)}else P.JSONArray(L,0,O);F&&L.setDataSource(F),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)}return L},addAtlasJSONHash:function(R,A,O,F){var L=null;if(A instanceof M?(R=A.key,L=A):this.checkKey(R)&&(L=this.create(R,A)),L){if(Array.isArray(O))for(var b=0;b<O.length;b++)P.JSONHash(L,b,O[b]);else P.JSONHash(L,0,O);F&&L.setDataSource(F),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)}return L},addAtlasXML:function(R,A,O,F){var L=null;return A instanceof M?(R=A.key,L=A):this.checkKey(R)&&(L=this.create(R,A)),L&&(P.AtlasXML(L,0,O),F&&L.setDataSource(F),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)),L},addUnityAtlas:function(R,A,O,F){var L=null;return A instanceof M?(R=A.key,L=A):this.checkKey(R)&&(L=this.create(R,A)),L&&(P.UnityYAML(L,0,O),F&&L.setDataSource(F),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)),L},addSpriteSheet:function(R,A,O,F){var L=null;if(A instanceof M?(R=A.key,L=A):this.checkKey(R)&&(L=this.create(R,A)),L){var b=L.source[0].width,D=L.source[0].height;P.SpriteSheet(L,0,0,0,b,D,O),F&&L.setDataSource(F),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L)}return L},addSpriteSheetFromAtlas:function(R,A){if(!this.checkKey(R))return null;var O=g(A,"atlas",null),F=g(A,"frame",null);if(!(!O||!F)){var L=this.get(O),b=L.get(F);if(b){var D=b.source.image;D||(D=b.source.glTexture);var I=this.create(R,D);return b.trimmed?P.SpriteSheetFromAtlas(I,b,A):P.SpriteSheet(I,0,b.cutX,b.cutY,b.cutWidth,b.cutHeight,A),this.emit(c.ADD,R,I),this.emit(c.ADD_KEY+R,I),I}}},addUint8Array:function(R,A,O,F){if(!this.checkKey(R)||A.length/4!==O*F)return null;var L=this.create(R,A,O,F);return L.add("__BASE",0,0,0,O,F),this.emit(c.ADD,R,L),this.emit(c.ADD_KEY+R,L),L},create:function(R,A,O,F){var L=null;return this.checkKey(R)&&(L=new M(this,R,A,O,F),this.list[R]=L),L},exists:function(R){return this.list.hasOwnProperty(R)},get:function(R){return R===void 0&&(R="__DEFAULT"),this.list[R]?this.list[R]:R instanceof M?R:R instanceof u?R.texture:this.list.__MISSING},cloneFrame:function(R,A){if(this.list[R])return this.list[R].get(A).clone()},getFrame:function(R,A){if(this.list[R])return this.list[R].get(A)},parseFrame:function(R){if(R){if(typeof R=="string")return this.getFrame(R);if(Array.isArray(R)&&R.length===2)return this.getFrame(R[0],R[1]);if(T(R))return this.getFrame(R.key,R.frame);if(R instanceof M)return R.get();if(R instanceof u)return R}else return},getTextureKeys:function(){var R=[];for(var A in this.list)A!=="__DEFAULT"&&A!=="__MISSING"&&A!=="__WHITE"&&A!=="__NORMAL"&&R.push(A);return R},getPixel:function(R,A,O,F){var L=this.getFrame(O,F);if(L){R-=L.x,A-=L.y;var b=L.data.cut;if(R+=b.x,A+=b.y,R>=b.x&&R<b.r&&A>=b.y&&A<b.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(L.source.image,R,A,1,1,0,0,1,1);var I=D.getImageData(0,0,1,1);return new l(I.data[0],I.data[1],I.data[2],I.data[3])}}return null},getPixelAlpha:function(R,A,O,F){var L=this.getFrame(O,F);if(L){R-=L.x,A-=L.y;var b=L.data.cut;if(R+=b.x,A+=b.y,R>=b.x&&R<b.r&&A>=b.y&&A<b.b){var D=this._tempContext;D.clearRect(0,0,1,1),D.drawImage(L.source.image,R,A,1,1,0,0,1,1);var I=D.getImageData(0,0,1,1);return I.data[3]}}return null},setTexture:function(R,A,O){return this.list[A]&&(R.texture=this.list[A],R.frame=R.texture.get(O)),R},renameTexture:function(R,A){var O=this.get(R);return O&&R!==A?(O.key=A,this.list[A]=O,delete this.list[R],!0):!1},each:function(R,A){for(var O=[null],F=1;F<arguments.length;F++)O.push(arguments[F]);for(var L in this.list)O[0]=this.list[L],R.apply(A,O)},resetStamp:function(R,A){R===void 0&&(R=1),A===void 0&&(A=16777215);var O=this.stamp;return O.setCrop(),O.setPosition(0),O.setAngle(0),O.setScale(1),O.setAlpha(R),O.setTint(A),O.setTexture("__WHITE"),O},destroy:function(){for(var R in this.list)this.list[R].destroy();this.list={},this.stamp.destroy(),this.game=null,this.stamp=null,h.remove(this._tempCanvas)}});r.exports=w},11876:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(27919),x=i(83419),f=i(50030),l=i(29795),a=i(82751),n=new x({initialize:function(c,u,v,p,g){g===void 0&&(g=!1);var m=c.manager.game;this.renderer=m.renderer,this.texture=c,this.source=u,this.image=u.compressed?null:u,this.compressionAlgorithm=u.compressed?u.format:null,this.resolution=1,this.width=v||u.naturalWidth||u.videoWidth||u.width||0,this.height=p||u.naturalHeight||u.videoHeight||u.height||0,this.scaleMode=l.DEFAULT,this.isCanvas=u instanceof HTMLCanvasElement,this.isVideo=window.hasOwnProperty("HTMLVideoElement")&&u instanceof HTMLVideoElement,this.isRenderTexture=u.type==="RenderTexture"||u.type==="DynamicTexture",this.isGLTexture=u instanceof a,this.isPowerOf2=f(this.width,this.height),this.glTexture=null,this.flipY=g,this.init(m)},init:function(d){var c=this.renderer;if(c){var u=this.source;if(c.gl){var v=this.image,p=this.flipY,g=this.width,m=this.height,T=this.scaleMode;this.isCanvas?this.glTexture=c.createCanvasTexture(v,!1,p):this.isVideo?this.glTexture=c.createVideoTexture(v,!1,p):this.isRenderTexture?this.glTexture=c.createTextureFromSource(null,g,m,T):this.isGLTexture?this.glTexture=u:this.compressionAlgorithm?this.glTexture=c.createTextureFromSource(u,void 0,void 0,T):u instanceof Uint8Array?this.glTexture=c.createUint8ArrayTexture(u,g,m,T):this.glTexture=c.createTextureFromSource(v,g,m,T)}else this.isRenderTexture&&(this.image=u.canvas)}d.config.antialias||this.setFilter(1)},setFilter:function(d){this.renderer&&this.renderer.gl&&this.renderer.setTextureFilter(this.glTexture,d),this.scaleMode=d},setFlipY:function(d){return d===void 0&&(d=!0),d===this.flipY?this:(this.flipY=d,this.update(),this)},update:function(){var d=this.renderer,c=this.image,u=this.flipY,v=d.gl;v&&this.isCanvas?d.updateCanvasTexture(c,this.glTexture,u):v&&this.isVideo&&d.updateVideoTexture(c,this.glTexture,u)},destroy:function(){this.glTexture&&this.renderer.deleteTexture(this.glTexture),this.isCanvas&&h.remove(this.image),this.renderer=null,this.texture=null,this.source=null,this.image=null,this.glTexture=null}});r.exports=n},19673:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={LINEAR:0,NEAREST:1};r.exports=C},44538:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture"},63486:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="addtexture-"},94851:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onerror"},29099:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="onload"},8678:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="ready"},86415:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture"},30879:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="removetexture-"},69442:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ADD:i(44538),ADD_KEY:i(63486),ERROR:i(94851),LOAD:i(29099),READY:i(8678),REMOVE:i(86415),REMOVE_KEY:i(30879)}},27458:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),x=i(19673),f={CanvasTexture:i(57382),DynamicTexture:i(81320),Events:i(69442),FilterMode:x,Frame:i(4327),Parsers:i(61309),Texture:i(79237),TextureManager:i(17130),TextureSource:i(11876)};f=h(!1,f,x),r.exports=f},89905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(!x.getElementsByTagName("TextureAtlas")){console.warn("Invalid Texture Atlas XML given");return}var f=i.source[h];i.add("__BASE",h,0,0,f.width,f.height);for(var l=x.getElementsByTagName("SubTexture"),a,n=0;n<l.length;n++){var d=l[n].attributes,c=d.name.value,u=parseInt(d.x.value,10),v=parseInt(d.y.value,10),p=parseInt(d.width.value,10),g=parseInt(d.height.value,10);if(a=i.add(c,h,u,v,p,g),d.frameX){var m=Math.abs(parseInt(d.frameX.value,10)),T=Math.abs(parseInt(d.frameY.value,10)),P=parseInt(d.frameWidth.value,10),E=parseInt(d.frameHeight.value,10);a.setTrim(p,g,m,T,P,E)}}return i};r.exports=C},72893:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.source[h];return i.add("__BASE",h,0,0,x.width,x.height),i};r.exports=C},4832:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.source[h];return i.add("__BASE",h,0,0,x.width,x.height),i};r.exports=C},78566:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),x=function(f,l,a){if(!a.frames&&!a.textures){console.warn("Invalid Texture Atlas JSON Array");return}var n=f.source[l];f.add("__BASE",l,0,0,n.width,n.height);for(var d=Array.isArray(a.textures)?a.textures[l].frames:a.frames,c,u=0;u<d.length;u++){var v=d[u];if(c=f.add(v.filename,l,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+v.filename);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=h(v)}for(var g in a)g!=="frames"&&(Array.isArray(a[g])?f.customData[g]=a[g].slice(0):f.customData[g]=a[g]);return f};r.exports=x},39711:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),x=function(f,l,a){if(!a.frames){console.warn("Invalid Texture Atlas JSON Hash given, missing 'frames' Object");return}var n=f.source[l];f.add("__BASE",l,0,0,n.width,n.height);var d=a.frames,c;for(var u in d)if(d.hasOwnProperty(u)){var v=d[u];if(c=f.add(u,l,v.frame.x,v.frame.y,v.frame.w,v.frame.h),!c){console.warn("Invalid atlas json, frame already exists: "+u);continue}v.trimmed&&c.setTrim(v.sourceSize.w,v.sourceSize.h,v.spriteSourceSize.x,v.spriteSourceSize.y,v.spriteSourceSize.w,v.spriteSourceSize.h),v.rotated&&(c.rotated=!0,c.updateUVsInverted());var p=v.anchor||v.pivot;p&&(c.customPivot=!0,c.pivotX=p.x,c.pivotY=p.y),v.scale9Borders&&c.setScale9(v.scale9Borders.x,v.scale9Borders.y,v.scale9Borders.w,v.scale9Borders.h),c.customData=h(v)}for(var g in a)g!=="frames"&&(Array.isArray(a[g])?f.customData[g]=a[g].slice(0):f.customData[g]=a[g]);return f};r.exports=x},31403:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=[171,75,84,88,32,49,49,187,13,10,26,10],x,f=new Uint8Array(i,0,12);for(x=0;x<f.length;x++)if(f[x]!==h[x]){console.warn("KTXParser - Invalid file format");return}var l=Uint32Array.BYTES_PER_ELEMENT,a=new DataView(i,12,13*l),n=a.getUint32(0,!0)===67305985,d=a.getUint32(1*l,n);if(d!==0){console.warn("KTXParser - Only compressed formats supported");return}var c=a.getUint32(4*l,n),u=a.getUint32(6*l,n),v=a.getUint32(7*l,n),p=Math.max(1,a.getUint32(11*l,n)),g=a.getUint32(12*l,n),m=new Array(p),T=12+13*4+g,P=u,E=v;for(x=0;x<p;x++){var M=new Int32Array(i,T,1)[0];T+=4,m[x]={data:new Uint8Array(i,T,M),width:P,height:E},P=Math.max(1,P>>1),E=Math.max(1,E>>1),T+=M}return{mipmaps:m,width:u,height:v,internalFormat:c,compressed:!0,generateMipmap:!1}};r.exports=C},82038:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(A,O,F,L,b,D,I){return I===void 0&&(I=16),Math.floor((A+F)/b)*Math.floor((O+L)/D)*I}function i(A,O){return A=Math.max(A,16),O=Math.max(O,8),A*O/4}function h(A,O){return A=Math.max(A,8),O=Math.max(O,8),A*O/2}function x(A,O){return Math.ceil(A/4)*Math.ceil(O/4)*16}function f(A,O){return C(A,O,3,3,4,4,8)}function l(A,O){return C(A,O,3,3,4,4)}function a(A,O){return C(A,O,4,3,5,4)}function n(A,O){return C(A,O,4,4,5,5)}function d(A,O){return C(A,O,5,4,6,5)}function c(A,O){return C(A,O,5,5,6,6)}function u(A,O){return C(A,O,7,4,8,5)}function v(A,O){return C(A,O,7,5,8,6)}function p(A,O){return C(A,O,7,7,8,8)}function g(A,O){return C(A,O,9,4,10,5)}function m(A,O){return C(A,O,9,5,10,6)}function T(A,O){return C(A,O,9,7,10,8)}function P(A,O){return C(A,O,9,9,10,10)}function E(A,O){return C(A,O,11,9,12,10)}function M(A,O){return C(A,O,11,11,12,12)}var w={0:{sizeFunc:i,glFormat:[35841]},1:{sizeFunc:i,glFormat:[35843]},2:{sizeFunc:h,glFormat:[35840]},3:{sizeFunc:h,glFormat:[35842]},6:{sizeFunc:f,glFormat:[36196]},7:{sizeFunc:f,glFormat:[33776,35916]},8:{sizeFunc:l,glFormat:[33777,35917]},9:{sizeFunc:l,glFormat:[33778,35918]},11:{sizeFunc:l,glFormat:[33779,35919]},14:{sizeFunc:x,glFormat:[36494,36495]},15:{sizeFunc:x,glFormat:[36492,36493]},22:{sizeFunc:f,glFormat:[37492,37493]},23:{sizeFunc:l,glFormat:[37496,37497]},24:{sizeFunc:f,glFormat:[37494,37495]},25:{sizeFunc:f,glFormat:[37488]},26:{sizeFunc:l,glFormat:[37490]},27:{sizeFunc:l,glFormat:[37808,37840]},28:{sizeFunc:a,glFormat:[37809,37841]},29:{sizeFunc:n,glFormat:[37810,37842]},30:{sizeFunc:d,glFormat:[37811,37843]},31:{sizeFunc:c,glFormat:[37812,37844]},32:{sizeFunc:u,glFormat:[37813,37845]},33:{sizeFunc:v,glFormat:[37814,37846]},34:{sizeFunc:p,glFormat:[37815,37847]},35:{sizeFunc:g,glFormat:[37816,37848]},36:{sizeFunc:m,glFormat:[37817,37849]},37:{sizeFunc:T,glFormat:[37818,37850]},38:{sizeFunc:P,glFormat:[37819,37851]},39:{sizeFunc:E,glFormat:[37820,37852]},40:{sizeFunc:M,glFormat:[37821,37853]}},R=function(A){for(var O=new Uint32Array(A,0,13),F=O[0],L=F===55727696,b=L?O[2]:O[3],D=O[4],I=w[b].glFormat[D],k=w[b].sizeFunc,X=O[11],W=O[7],Y=O[6],N=52+O[12],V=new Uint8Array(A,N),G=new Array(X),B=0,z=W,U=Y,H=0;H<X;H++){var $=k(z,U);G[H]={data:new Uint8Array(V.buffer,V.byteOffset+B,$),width:z,height:U},z=Math.max(1,z>>1),U=Math.max(1,U>>1),B+=$}return{mipmaps:G,width:W,height:Y,internalFormat:I,compressed:!0,generateMipmap:!1}};r.exports=R},75549:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=function(f,l,a,n,d,c,u){var v=h(u,"frameWidth",null),p=h(u,"frameHeight",v);if(v===null)throw new Error("TextureManager.SpriteSheet: Invalid frameWidth given.");var g=f.source[l];f.add("__BASE",l,0,0,g.width,g.height);var m=h(u,"startFrame",0),T=h(u,"endFrame",-1),P=h(u,"margin",0),E=h(u,"spacing",0),M=Math.floor((d-P+E)/(v+E)),w=Math.floor((c-P+E)/(p+E)),R=M*w;R===0&&console.warn("SpriteSheet frame dimensions will result in zero frames for texture:",f.key),(m>R||m<-R)&&(m=0),m<0&&(m=R+m),(T===-1||T>R||T<m)&&(T=R);for(var A=P,O=P,F=0,L=0,b=0,D=0;D<R;D++){F=0,L=0;var I=A+v,k=O+p;I>d&&(F=I-d),k>c&&(L=k-c),D>=m&&D<=T&&(f.add(b,l,a+A,n+O,v-F,p-L),b++),A+=v+E,A+v>d&&(A=P,O+=p+E)}return f};r.exports=x},47534:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=function(f,l,a){var n=h(a,"frameWidth",null),d=h(a,"frameHeight",n);if(!n)throw new Error("TextureManager.SpriteSheetFromAtlas: Invalid frameWidth given.");var c=f.source[0];f.add("__BASE",0,0,0,c.width,c.height),h(a,"startFrame",0),h(a,"endFrame",-1);for(var u=h(a,"margin",0),v=h(a,"spacing",0),p=l.cutX,g=l.cutY,m=l.cutWidth,T=l.cutHeight,P=l.realWidth,E=l.realHeight,M=Math.floor((P-u+v)/(n+v)),w=Math.floor((E-u+v)/(d+v)),R=l.x,A=n-R,O=n-(P-m-R),F=l.y,L=d-F,b=d-(E-T-F),D,I=u,k=u,X=0,W=0,Y=0;Y<w;Y++){for(var N=Y===0,V=Y===w-1,G=0;G<M;G++){var B=G===0,z=G===M-1;if(D=f.add(X,W,p+I,g+k,n,d),B||N||z||V){var U=B?R:0,H=N?F:0,$=0,K=0;B&&($+=n-A),z&&($+=n-O),N&&(K+=d-L),V&&(K+=d-b);var Z=n-$,J=d-K;D.cutWidth=Z,D.cutHeight=J,D.setTrim(n,d,U,H,Z,J)}I+=v,B?I+=A:z?I+=O:I+=n,X++}I=u,k+=v,N?k+=L:V?k+=b:k+=d}return f};r.exports=x},86147:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=0,i=function(x,f,l,a){var n=C-a.y-a.height;x.add(l,f,a.x,n,a.width,a.height)},h=function(x,f,l){var a=x.source[f];x.add("__BASE",f,0,0,a.width,a.height),C=a.height;for(var n=l.split(`
`),d=/^[ ]*(- )*(\w+)+[: ]+(.*)/,c="",u="",v={x:0,y:0,width:0,height:0},p=0;p<n.length;p++){var g=n[p].match(d);if(g){var m=g[1]==="- ",T=g[2],P=g[3];if(m&&(u!==c&&(i(x,f,u,v),c=u),v={x:0,y:0,width:0,height:0}),T==="name"){u=P;continue}switch(T){case"x":case"y":case"width":case"height":v[T]=parseInt(P,10);break}}}return u!==c&&i(x,f,u,v),x};r.exports=h},55222:(r,C,i)=>{/**
 * @author       Ben Richards <benjamindrichards@gmail.com>
 * @copyright    2024 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(50030),x=function(c){for(var u=c.mipmaps,v=1;v<u.length;v++){var p=u[v].width,g=u[v].height;if(!h(p,g))return console.warn("Mip level "+v+" is not a power-of-two size: "+p+"x"+g),!1}var m=d[c.internalFormat];return m?m(c):(console.warn("No format checker found for internal format "+c.internalFormat+". Assuming valid."),!0)};function f(c){for(var u=c.mipmaps,v=0;v<u.length;v++){var p=u[v].width,g=u[v].height;if((p<<v)%4!==0||(g<<v)%4!==0)return console.warn("BPTC, RGTC, and S3TC dimensions must be a multiple of 4 pixels, and each successive mip level must be half the size of the previous level, rounded down. Mip level "+v+" is "+p+"x"+g),!1}return!0}function l(){return!0}function a(c){var u=c.mipmaps,v=u[0];return h(v.width,v.height)?!0:(console.warn("PVRTC base dimensions must be power of two. Base level is "+v.width+"x"+v.height),!1)}function n(c){var u=c.mipmaps,v=u[0];return v.width%4!==0||v.height%4!==0?(console.warn("S3TC SRGB base dimensions must be a multiple of 4 pixels. Base level is "+v.width+"x"+v.height+" pixels"),!1):!0}var d={37488:l,37489:l,37490:l,37491:l,37492:l,37493:l,37494:l,37495:l,37496:l,37497:l,36196:l,37808:l,37809:l,37810:l,37811:l,37812:l,37813:l,37814:l,37815:l,37816:l,37817:l,37818:l,37819:l,37820:l,37821:l,37840:l,37841:l,37842:l,37843:l,37844:l,37845:l,37846:l,37847:l,37848:l,37849:l,37850:l,37851:l,37852:l,37853:l,36492:f,36493:f,36494:f,36495:f,36283:f,36284:f,36285:f,36286:f,35840:a,35841:a,35842:a,35843:a,33776:f,33777:f,33778:f,33779:f,35916:n,35917:n,35918:n,35919:n};r.exports=x},61309:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AtlasXML:i(89905),Canvas:i(72893),Image:i(4832),JSONArray:i(78566),JSONHash:i(39711),KTXParser:i(31403),PVRParser:i(82038),SpriteSheet:i(75549),SpriteSheetFromAtlas:i(47534),UnityYAML:i(86147)}},80341:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CSV:0,TILED_JSON:1,ARRAY_2D:2,WELTMEISTER:3}},16536:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l,a,n,d,c,u,v){(n===void 0||n<=0)&&(n=32),(d===void 0||d<=0)&&(d=32),c===void 0&&(c=0),u===void 0&&(u=0),this.name=l,this.firstgid=a|0,this.imageWidth=n|0,this.imageHeight=d|0,this.imageMargin=c|0,this.imageSpacing=u|0,this.properties=v||{},this.images=[],this.total=0},containsImageIndex:function(f){return f>=this.firstgid&&f<this.firstgid+this.total},addImage:function(f,l,a,n){return this.images.push({gid:f,image:l,width:a,height:n}),this.total++,this}});r.exports=x},27462:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2021 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=new h({initialize:function(l){if(this.gids=[],l!==void 0)for(var a=0;a<l.length;++a)for(var n=l[a],d=0;d<n.total;++d)this.gids[n.firstgid+d]=n;this._gids=this.gids},enabled:{get:function(){return!!this.gids},set:function(f){this.gids=f?this._gids:void 0}},getTypeIncludingTile:function(f){if(f.type!==void 0&&f.type!=="")return f.type;if(!(!this.gids||f.gid===void 0)){var l=this.gids[f.gid];if(l){var a=l.getTileData(f.gid);if(a)return a.type}}},setTextureAndFrame:function(f,l,a,n){if(l===null&&this.gids&&n.gid!==void 0){var d=this.gids[n.gid];d&&(l===null&&d.image!==void 0&&(l=d.image.key),a===null&&(a=n.gid-d.firstgid),f.scene.textures.getFrame(l,a)||(l=null,a=null))}f.setTexture(l,a)},setPropertiesFromTiledObject:function(f,l){if(this.gids!==void 0&&l.gid!==void 0){var a=this.gids[l.gid];a!==void 0&&this.setFromJSON(f,a.getTileProperties(l.gid))}this.setFromJSON(f,l.properties)},setFromJSON:function(f,l){if(l){if(Array.isArray(l)){for(var a=0;a<l.length;a++){var n=l[a];f[n.name]!==void 0?f[n.name]=n.value:f.setData(n.name,n.value)}return}for(var d in l)f[d]!==void 0?f[d]=l[d]:f.setData(d,l[d])}}});r.exports=x},31989:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),x=i(87010),f=i(46177),l=i(49075),a=function(n,d,c,u,v,p,g,m){c===void 0&&(c=32),u===void 0&&(u=32),v===void 0&&(v=10),p===void 0&&(p=10),m===void 0&&(m=!1);var T=null;if(Array.isArray(g)){var P=d!==void 0?d:"map";T=f(P,h.ARRAY_2D,g,c,u,m)}else if(d!==void 0){var E=n.cache.tilemap.get(d);E?T=f(d,E.format,E.data,c,u,m):console.warn("No map data found for key "+d)}return T===null&&(T=new x({tileWidth:c,tileHeight:u,width:v,height:p})),new l(n,T)};r.exports=a},23029:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(31401),f=i(91907),l=i(62644),a=i(93232),n=new h({Mixins:[x.AlphaSingle,x.Flip,x.Visible],initialize:function(c,u,v,p,g,m,T,P){this.layer=c,this.index=u,this.x=v,this.y=p,this.width=g,this.height=m,this.right,this.bottom,this.baseWidth=T!==void 0?T:g,this.baseHeight=P!==void 0?P:m,this.pixelX=0,this.pixelY=0,this.updatePixelXY(),this.properties={},this.rotation=0,this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceLeft=!1,this.faceRight=!1,this.faceTop=!1,this.faceBottom=!1,this.collisionCallback=void 0,this.collisionCallbackContext=this,this.tint=16777215,this.tintFill=!1,this.physics={}},containsPoint:function(d,c){return!(d<this.pixelX||c<this.pixelY||d>this.right||c>this.bottom)},copy:function(d){return this.index=d.index,this.alpha=d.alpha,this.properties=l(d.properties),this.visible=d.visible,this.setFlip(d.flipX,d.flipY),this.tint=d.tint,this.rotation=d.rotation,this.collideUp=d.collideUp,this.collideDown=d.collideDown,this.collideLeft=d.collideLeft,this.collideRight=d.collideRight,this.collisionCallback=d.collisionCallback,this.collisionCallbackContext=d.collisionCallbackContext,this},getCollisionGroup:function(){return this.tileset?this.tileset.getTileCollisionGroup(this.index):null},getTileData:function(){return this.tileset?this.tileset.getTileData(this.index):null},getLeft:function(d){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,d);return u.x}return this.x*this.baseWidth},getRight:function(d){var c=this.tilemapLayer;return c?this.getLeft(d)+this.width*c.scaleX:this.getLeft(d)+this.width},getTop:function(d){var c=this.tilemapLayer;if(c){var u=c.tileToWorldXY(this.x,this.y,void 0,d);return u.y}return this.y*this.baseWidth-(this.height-this.baseHeight)},getBottom:function(d){var c=this.tilemapLayer;return c?this.getTop(d)+this.height*c.scaleY:this.getTop(d)+this.height},getBounds:function(d,c){return c===void 0&&(c=new a),c.x=this.getLeft(d),c.y=this.getTop(d),c.width=this.getRight(d)-c.x,c.height=this.getBottom(d)-c.y,c},getCenterX:function(d){return(this.getLeft(d)+this.getRight(d))/2},getCenterY:function(d){return(this.getTop(d)+this.getBottom(d))/2},intersects:function(d,c,u,v){return!(u<=this.pixelX||v<=this.pixelY||d>=this.right||c>=this.bottom)},isInteresting:function(d,c){return d&&c?this.canCollide||this.hasInterestingFace:d?this.collides:c?this.hasInterestingFace:!1},resetCollision:function(d){if(d===void 0&&(d=!0),this.collideLeft=!1,this.collideRight=!1,this.collideUp=!1,this.collideDown=!1,this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,d){var c=this.tilemapLayer;c&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},resetFaces:function(){return this.faceTop=!1,this.faceBottom=!1,this.faceLeft=!1,this.faceRight=!1,this},setCollision:function(d,c,u,v,p){if(c===void 0&&(c=d),u===void 0&&(u=d),v===void 0&&(v=d),p===void 0&&(p=!0),this.collideLeft=d,this.collideRight=c,this.collideUp=u,this.collideDown=v,this.faceLeft=d,this.faceRight=c,this.faceTop=u,this.faceBottom=v,p){var g=this.tilemapLayer;g&&this.tilemapLayer.calculateFacesAt(this.x,this.y)}return this},setCollisionCallback:function(d,c){return d===null?(this.collisionCallback=void 0,this.collisionCallbackContext=void 0):(this.collisionCallback=d,this.collisionCallbackContext=c),this},setSize:function(d,c,u,v){return d!==void 0&&(this.width=d),c!==void 0&&(this.height=c),u!==void 0&&(this.baseWidth=u),v!==void 0&&(this.baseHeight=v),this.updatePixelXY(),this},updatePixelXY:function(){var d=this.layer.orientation;if(d===f.ORTHOGONAL)this.pixelX=this.x*this.baseWidth,this.pixelY=this.y*this.baseHeight;else if(d===f.ISOMETRIC)this.pixelX=(this.x-this.y)*this.baseWidth*.5,this.pixelY=(this.x+this.y)*this.baseHeight*.5;else if(d===f.STAGGERED)this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2),this.pixelY=this.y*(this.baseHeight/2);else if(d===f.HEXAGONAL){var c=this.layer.staggerAxis,u=this.layer.staggerIndex,v=this.layer.hexSideLength,p,g;c==="y"?(g=(this.baseHeight-v)/2+v,u==="odd"?this.pixelX=this.x*this.baseWidth+this.y%2*(this.baseWidth/2):this.pixelX=this.x*this.baseWidth-this.y%2*(this.baseWidth/2),this.pixelY=this.y*g):c==="x"&&(p=(this.baseWidth-v)/2+v,this.pixelX=this.x*p,u==="odd"?this.pixelY=this.y*this.baseHeight+this.x%2*(this.baseHeight/2):this.pixelY=this.y*this.baseHeight-this.x%2*(this.baseHeight/2))}return this.right=this.pixelX+this.baseWidth,this.bottom=this.pixelY+this.baseHeight,this},destroy:function(){this.collisionCallback=void 0,this.collisionCallbackContext=void 0,this.properties=void 0},canCollide:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown||this.collisionCallback!==void 0}},collides:{get:function(){return this.collideLeft||this.collideRight||this.collideUp||this.collideDown}},hasInterestingFace:{get:function(){return this.faceTop||this.faceBottom||this.faceLeft||this.faceRight}},tileset:{get:function(){var d=this.layer.tilemapLayer;if(d){var c=d.gidMap[this.index];if(c)return c}return null}},tilemapLayer:{get:function(){return this.layer.tilemapLayer}},tilemap:{get:function(){var d=this.tilemapLayer;return d?d.tilemap:null}}});r.exports=n},49075:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(84101),x=i(83419),f=i(39506),l=i(80341),a=i(95540),n=i(14977),d=i(27462),c=i(91907),u=i(36305),v=i(19133),p=i(68287),g=i(23029),m=i(81086),T=i(20442),P=i(33629),E=new x({initialize:function(w,R){this.scene=w,this.tileWidth=R.tileWidth,this.tileHeight=R.tileHeight,this.width=R.width,this.height=R.height,this.orientation=R.orientation,this.renderOrder=R.renderOrder,this.format=R.format,this.version=R.version,this.properties=R.properties,this.widthInPixels=R.widthInPixels,this.heightInPixels=R.heightInPixels,this.imageCollections=R.imageCollections,this.images=R.images,this.layers=R.layers,this.tiles=R.tiles,this.tilesets=R.tilesets,this.objects=R.objects,this.currentLayerIndex=0,this.hexSideLength=R.hexSideLength;var A=this.orientation;this._convert={WorldToTileXY:m.GetWorldToTileXYFunction(A),WorldToTileX:m.GetWorldToTileXFunction(A),WorldToTileY:m.GetWorldToTileYFunction(A),TileToWorldXY:m.GetTileToWorldXYFunction(A),TileToWorldX:m.GetTileToWorldXFunction(A),TileToWorldY:m.GetTileToWorldYFunction(A),GetTileCorners:m.GetTileCornersFunction(A)}},setRenderOrder:function(M){var w=["right-down","left-down","right-up","left-up"];return typeof M=="number"&&(M=w[M]),w.indexOf(M)>-1&&(this.renderOrder=M),this},addTilesetImage:function(M,w,R,A,O,F,L,b){if(M===void 0)return null;w==null&&(w=M);var D=this.scene.sys.textures;if(!D.exists(w))return console.warn('Texture key "%s" not found',w),null;var I=D.get(w),k=this.getTilesetIndex(M);if(k===null&&this.format===l.TILED_JSON)return console.warn('Tilemap has no tileset "%s". Its tilesets are %o',M,this.tilesets),null;var X=this.tilesets[k];return X?((R||A)&&X.setTileSize(R,A),(O||F)&&X.setSpacing(O,F),X.setImage(I),X):(R===void 0&&(R=this.tileWidth),A===void 0&&(A=this.tileHeight),O===void 0&&(O=0),F===void 0&&(F=0),L===void 0&&(L=0),b===void 0&&(b={x:0,y:0}),X=new P(M,L,R,A,O,F,void 0,void 0,b),X.setImage(I),this.tilesets.push(X),this.tiles=h(this),X)},copy:function(M,w,R,A,O,F,L,b){return b=this.getLayer(b),b!==null?(m.Copy(M,w,R,A,O,F,L,b),this):null},createBlankLayer:function(M,w,R,A,O,F,L,b){R===void 0&&(R=0),A===void 0&&(A=0),O===void 0&&(O=this.width),F===void 0&&(F=this.height),L===void 0&&(L=this.tileWidth),b===void 0&&(b=this.tileHeight);var D=this.getLayerIndex(M);if(D!==null)return console.warn("Invalid Tilemap Layer ID: "+M),null;for(var I=new n({name:M,tileWidth:L,tileHeight:b,width:O,height:F,orientation:this.orientation,hexSideLength:this.hexSideLength}),k,X=0;X<F;X++){k=[];for(var W=0;W<O;W++)k.push(new g(I,-1,W,X,L,b,this.tileWidth,this.tileHeight));I.data.push(k)}this.layers.push(I),this.currentLayerIndex=this.layers.length-1;var Y=new T(this.scene,this,this.currentLayerIndex,w,R,A);return Y.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(Y),Y},createLayer:function(M,w,R,A){var O=this.getLayerIndex(M);if(O===null)return console.warn("Invalid Tilemap Layer ID: "+M),typeof M=="string"&&console.warn("Valid tilelayer names: %o",this.getTileLayerNames()),null;var F=this.layers[O];if(F.tilemapLayer)return console.warn("Tilemap Layer ID already exists:"+M),null;this.currentLayerIndex=O,R===void 0&&(R=F.x),A===void 0&&(A=F.y);var L=new T(this.scene,this,O,w,R,A);return L.setRenderOrder(this.renderOrder),this.scene.sys.displayList.add(L),L},createFromObjects:function(M,w,R){R===void 0&&(R=!0);var A=[],O=this.getObjectLayer(M);if(!O)return console.warn("createFromObjects: Invalid objectLayerName given: "+M),A;var F=new d(R?this.tilesets:void 0);Array.isArray(w)||(w=[w]);for(var L=O.objects,b=0;b<w.length;b++){var D=w[b],I=a(D,"id",null),k=a(D,"gid",null),X=a(D,"name",null),W=a(D,"type",null);F.enabled=!a(D,"ignoreTileset",null);for(var Y,N=[],V=0;V<L.length;V++)Y=L[V],(I===null&&k===null&&X===null&&W===null||I!==null&&Y.id===I||k!==null&&Y.gid===k||X!==null&&Y.name===X||W!==null&&F.getTypeIncludingTile(Y)===W)&&N.push(Y);for(var G=a(D,"classType",p),B=a(D,"scene",this.scene),z=a(D,"container",null),U=a(D,"key",null),H=a(D,"frame",null),$=0;$<N.length;$++){Y=N[$];var K=new G(B);if(K.setName(Y.name),K.setPosition(Y.x,Y.y),F.setTextureAndFrame(K,U,H,Y),Y.width&&(K.displayWidth=Y.width),Y.height&&(K.displayHeight=Y.height),this.orientation===c.ISOMETRIC){var Z=this.tileWidth/this.tileHeight,J={x:K.x-K.y,y:(K.x+K.y)/Z};K.x=J.x,K.y=J.y}var Q={x:K.originX*Y.width,y:(K.originY-(Y.gid?1:0))*Y.height};if(Y.rotation){var j=f(Y.rotation);u(Q,j),K.rotation=j}K.x+=Q.x,K.y+=Q.y,(Y.flippedHorizontal!==void 0||Y.flippedVertical!==void 0)&&K.setFlip(Y.flippedHorizontal,Y.flippedVertical),Y.visible||(K.visible=!1),F.setPropertiesFromTiledObject(K,Y),z?z.add(K):B.add.existing(K),A.push(K)}}return A},createFromTiles:function(M,w,R,A,O,F){return F=this.getLayer(F),F===null?null:m.CreateFromTiles(M,w,R,A,O,F)},fill:function(M,w,R,A,O,F,L){return F===void 0&&(F=!0),L=this.getLayer(L),L===null?null:(m.Fill(M,w,R,A,O,F,L),this)},filterObjects:function(M,w,R){if(typeof M=="string"){var A=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+A),null}return M.objects.filter(w,R)},filterTiles:function(M,w,R,A,O,F,L,b){return b=this.getLayer(b),b===null?null:m.FilterTiles(M,w,R,A,O,F,L,b)},findByIndex:function(M,w,R,A){return A=this.getLayer(A),A===null?null:m.FindByIndex(M,w,R,A)},findObject:function(M,w,R){if(typeof M=="string"){var A=M;if(M=this.getObjectLayer(M),!M)return console.warn("No object layer found with the name: "+A),null}return M.objects.find(w,R)||null},findTile:function(M,w,R,A,O,F,L,b){return b=this.getLayer(b),b===null?null:m.FindTile(M,w,R,A,O,F,L,b)},forEachTile:function(M,w,R,A,O,F,L,b){return b=this.getLayer(b),b===null?null:(m.ForEachTile(M,w,R,A,O,F,L,b),this)},getImageIndex:function(M){return this.getIndex(this.images,M)},getImageLayerNames:function(){return!this.images||!Array.isArray(this.images)?[]:this.images.map(function(M){return M.name})},getIndex:function(M,w){for(var R=0;R<M.length;R++)if(M[R].name===w)return R;return null},getLayer:function(M){var w=this.getLayerIndex(M);return w!==null?this.layers[w]:null},getObjectLayer:function(M){var w=this.getIndex(this.objects,M);return w!==null?this.objects[w]:null},getObjectLayerNames:function(){return!this.objects||!Array.isArray(this.objects)?[]:this.objects.map(function(M){return M.name})},getLayerIndex:function(M){return M===void 0?this.currentLayerIndex:typeof M=="string"?this.getLayerIndexByName(M):typeof M=="number"&&M<this.layers.length?M:M instanceof T&&M.tilemap===this?M.layerIndex:null},getLayerIndexByName:function(M){return this.getIndex(this.layers,M)},getTileAt:function(M,w,R,A){return A=this.getLayer(A),A===null?null:m.GetTileAt(M,w,R,A)},getTileAtWorldXY:function(M,w,R,A,O){return O=this.getLayer(O),O===null?null:m.GetTileAtWorldXY(M,w,R,A,O)},getTileLayerNames:function(){return!this.layers||!Array.isArray(this.layers)?[]:this.layers.map(function(M){return M.name})},getTilesWithin:function(M,w,R,A,O,F){return F=this.getLayer(F),F===null?null:m.GetTilesWithin(M,w,R,A,O,F)},getTilesWithinShape:function(M,w,R,A){return A=this.getLayer(A),A===null?null:m.GetTilesWithinShape(M,w,R,A)},getTilesWithinWorldXY:function(M,w,R,A,O,F,L){return L=this.getLayer(L),L===null?null:m.GetTilesWithinWorldXY(M,w,R,A,O,F,L)},getTileset:function(M){var w=this.getIndex(this.tilesets,M);return w!==null?this.tilesets[w]:null},getTilesetIndex:function(M){return this.getIndex(this.tilesets,M)},hasTileAt:function(M,w,R){return R=this.getLayer(R),R===null?null:m.HasTileAt(M,w,R)},hasTileAtWorldXY:function(M,w,R,A){return A=this.getLayer(A),A===null?null:m.HasTileAtWorldXY(M,w,R,A)},layer:{get:function(){return this.layers[this.currentLayerIndex]},set:function(M){this.setLayer(M)}},putTileAt:function(M,w,R,A,O){return A===void 0&&(A=!0),O=this.getLayer(O),O===null?null:m.PutTileAt(M,w,R,A,O)},putTileAtWorldXY:function(M,w,R,A,O,F){return A===void 0&&(A=!0),F=this.getLayer(F),F===null?null:m.PutTileAtWorldXY(M,w,R,A,O,F)},putTilesAt:function(M,w,R,A,O){return A===void 0&&(A=!0),O=this.getLayer(O),O===null?null:(m.PutTilesAt(M,w,R,A,O),this)},randomize:function(M,w,R,A,O,F){return F=this.getLayer(F),F===null?null:(m.Randomize(M,w,R,A,O,F),this)},calculateFacesAt:function(M,w,R){return R=this.getLayer(R),R===null?null:(m.CalculateFacesAt(M,w,R),this)},calculateFacesWithin:function(M,w,R,A,O){return O=this.getLayer(O),O===null?null:(m.CalculateFacesWithin(M,w,R,A,O),this)},removeLayer:function(M){var w=this.getLayerIndex(M);if(w!==null){v(this.layers,w);for(var R=w;R<this.layers.length;R++)this.layers[R].tilemapLayer&&this.layers[R].tilemapLayer.layerIndex--;return this.currentLayerIndex===w&&(this.currentLayerIndex=0),this}else return null},destroyLayer:function(M){var w=this.getLayerIndex(M);return w!==null?(M=this.layers[w],M.tilemapLayer.destroy(),v(this.layers,w),this.currentLayerIndex===w&&(this.currentLayerIndex=0),this):null},removeAllLayers:function(){for(var M=this.layers,w=0;w<M.length;w++)M[w].tilemapLayer&&M[w].tilemapLayer.destroy(!1);return M.length=0,this.currentLayerIndex=0,this},removeTile:function(M,w,R){w===void 0&&(w=-1),R===void 0&&(R=!0);var A=[];Array.isArray(M)||(M=[M]);for(var O=0;O<M.length;O++){var F=M[O];A.push(this.removeTileAt(F.x,F.y,!0,R,F.tilemapLayer)),w>-1&&this.putTileAt(w,F.x,F.y,R,F.tilemapLayer)}return A},removeTileAt:function(M,w,R,A,O){return R===void 0&&(R=!0),A===void 0&&(A=!0),O=this.getLayer(O),O===null?null:m.RemoveTileAt(M,w,R,A,O)},removeTileAtWorldXY:function(M,w,R,A,O,F){return R===void 0&&(R=!0),A===void 0&&(A=!0),F=this.getLayer(F),F===null?null:m.RemoveTileAtWorldXY(M,w,R,A,O,F)},renderDebug:function(M,w,R){return R=this.getLayer(R),R===null?null:(this.orientation===c.ORTHOGONAL&&m.RenderDebug(M,w,R),this)},renderDebugFull:function(M,w){for(var R=this.layers,A=0;A<R.length;A++)m.RenderDebug(M,w,R[A]);return this},replaceByIndex:function(M,w,R,A,O,F,L){return L=this.getLayer(L),L===null?null:(m.ReplaceByIndex(M,w,R,A,O,F,L),this)},setCollision:function(M,w,R,A,O){return w===void 0&&(w=!0),R===void 0&&(R=!0),O===void 0&&(O=!0),A=this.getLayer(A),A===null?null:(m.SetCollision(M,w,R,A,O),this)},setCollisionBetween:function(M,w,R,A,O){return R===void 0&&(R=!0),A===void 0&&(A=!0),O=this.getLayer(O),O===null?null:(m.SetCollisionBetween(M,w,R,A,O),this)},setCollisionByProperty:function(M,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionByProperty(M,w,R,A),this)},setCollisionByExclusion:function(M,w,R,A){return w===void 0&&(w=!0),R===void 0&&(R=!0),A=this.getLayer(A),A===null?null:(m.SetCollisionByExclusion(M,w,R,A),this)},setCollisionFromCollisionGroup:function(M,w,R){return M===void 0&&(M=!0),w===void 0&&(w=!0),R=this.getLayer(R),R===null?null:(m.SetCollisionFromCollisionGroup(M,w,R),this)},setTileIndexCallback:function(M,w,R,A){return A=this.getLayer(A),A===null?null:(m.SetTileIndexCallback(M,w,R,A),this)},setTileLocationCallback:function(M,w,R,A,O,F,L){return L=this.getLayer(L),L===null?null:(m.SetTileLocationCallback(M,w,R,A,O,F,L),this)},setLayer:function(M){var w=this.getLayerIndex(M);return w!==null&&(this.currentLayerIndex=w),this},setBaseTileSize:function(M,w){this.tileWidth=M,this.tileHeight=w,this.widthInPixels=this.width*M,this.heightInPixels=this.height*w;for(var R=0;R<this.layers.length;R++){this.layers[R].baseTileWidth=M,this.layers[R].baseTileHeight=w;for(var A=this.layers[R].data,O=this.layers[R].width,F=this.layers[R].height,L=0;L<F;L++)for(var b=0;b<O;b++){var D=A[L][b];D!==null&&D.setSize(void 0,void 0,M,w)}}return this},setLayerTileSize:function(M,w,R){if(R=this.getLayer(R),R===null)return this;R.tileWidth=M,R.tileHeight=w;for(var A=R.data,O=R.width,F=R.height,L=0;L<F;L++)for(var b=0;b<O;b++){var D=A[L][b];D!==null&&D.setSize(M,w)}return this},shuffle:function(M,w,R,A,O){return O=this.getLayer(O),O===null?null:(m.Shuffle(M,w,R,A,O),this)},swapByIndex:function(M,w,R,A,O,F,L){return L=this.getLayer(L),L===null?null:(m.SwapByIndex(M,w,R,A,O,F,L),this)},tileToWorldX:function(M,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldX(M,w,R)},tileToWorldY:function(M,w,R){return R=this.getLayer(R),R===null?null:this._convert.TileToWorldY(M,w,R)},tileToWorldXY:function(M,w,R,A,O){return O=this.getLayer(O),O===null?null:this._convert.TileToWorldXY(M,w,R,A,O)},getTileCorners:function(M,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.GetTileCorners(M,w,R,A)},weightedRandomize:function(M,w,R,A,O,F){return F=this.getLayer(F),F===null?null:(m.WeightedRandomize(w,R,A,O,M,F),this)},worldToTileX:function(M,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileX(M,w,R,A)},worldToTileY:function(M,w,R,A){return A=this.getLayer(A),A===null?null:this._convert.WorldToTileY(M,w,R,A)},worldToTileXY:function(M,w,R,A,O,F){return F=this.getLayer(F),F===null?null:this._convert.WorldToTileXY(M,w,R,A,O,F)},destroy:function(){this.removeAllLayers(),this.tiles.length=0,this.tilesets.length=0,this.objects.length=0,this.scene=null}});r.exports=E},45939:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(44603),x=i(31989);h.register("tilemap",function(f){var l=f!==void 0?f:{};return x(this.scene,l.key,l.tileWidth,l.tileHeight,l.width,l.height,l.data,l.insertNull)})},46029:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(39429),x=i(31989);h.register("tilemap",function(f,l,a,n,d,c,u){return f===null&&(f=void 0),l===null&&(l=void 0),a===null&&(a=void 0),n===null&&(n=void 0),d===null&&(d=void 0),x(this.scene,f,l,a,n,d,c,u)})},20442:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(78389),f=i(31401),l=i(95643),a=i(81086),n=i(19218),d=i(26099),c=new h({Extends:l,Mixins:[f.Alpha,f.BlendMode,f.ComputedSize,f.Depth,f.Flip,f.GetBounds,f.Mask,f.Origin,f.Pipeline,f.PostPipeline,f.Transform,f.Visible,f.ScrollFactor,x,n],initialize:function(v,p,g,m,T,P){l.call(this,v,"TilemapLayer"),this.isTilemap=!0,this.tilemap=p,this.layerIndex=g,this.layer=p.layers[g],this.layer.tilemapLayer=this,this.tileset=[],this.tilesDrawn=0,this.tilesTotal=this.layer.width*this.layer.height,this.culledTiles=[],this.skipCull=!1,this.cullPaddingX=1,this.cullPaddingY=1,this.cullCallback=a.GetCullTilesFunction(this.layer.orientation),this._renderOrder=0,this.gidMap=[],this.tempVec=new d,this.collisionCategory=1,this.collisionMask=1,this.setTilesets(m),this.setAlpha(this.layer.alpha),this.setPosition(T,P),this.setOrigin(0,0),this.setSize(p.tileWidth*this.layer.width,p.tileHeight*this.layer.height),this.initPipeline(),this.initPostPipeline(!1)},setTilesets:function(u){var v=[],p=[],g=this.tilemap;Array.isArray(u)||(u=[u]);for(var m=0;m<u.length;m++){var T=u[m];if(typeof T=="string"&&(T=g.getTileset(T)),T){p.push(T);for(var P=T.firstgid,E=0;E<T.total;E++)v[P+E]=T}}this.gidMap=v,this.tileset=p},setRenderOrder:function(u){var v=["right-down","left-down","right-up","left-up"];return typeof u=="string"&&(u=v.indexOf(u)),u>=0&&u<4&&(this._renderOrder=u),this},calculateFacesAt:function(u,v){return a.CalculateFacesAt(u,v,this.layer),this},calculateFacesWithin:function(u,v,p,g){return a.CalculateFacesWithin(u,v,p,g,this.layer),this},createFromTiles:function(u,v,p,g,m){return a.CreateFromTiles(u,v,p,g,m,this.layer)},cull:function(u){return this.cullCallback(this.layer,u,this.culledTiles,this._renderOrder)},copy:function(u,v,p,g,m,T,P){return a.Copy(u,v,p,g,m,T,P,this.layer),this},fill:function(u,v,p,g,m,T){return a.Fill(u,v,p,g,m,T,this.layer),this},filterTiles:function(u,v,p,g,m,T,P){return a.FilterTiles(u,v,p,g,m,T,P,this.layer)},findByIndex:function(u,v,p){return a.FindByIndex(u,v,p,this.layer)},findTile:function(u,v,p,g,m,T,P){return a.FindTile(u,v,p,g,m,T,P,this.layer)},forEachTile:function(u,v,p,g,m,T,P){return a.ForEachTile(u,v,p,g,m,T,P,this.layer),this},setTint:function(u,v,p,g,m,T){u===void 0&&(u=16777215);var P=function(E){E.tint=u,E.tintFill=!1};return this.forEachTile(P,this,v,p,g,m,T)},setTintFill:function(u,v,p,g,m,T){u===void 0&&(u=16777215);var P=function(E){E.tint=u,E.tintFill=!0};return this.forEachTile(P,this,v,p,g,m,T)},getTileAt:function(u,v,p){return a.GetTileAt(u,v,p,this.layer)},getTileAtWorldXY:function(u,v,p,g){return a.GetTileAtWorldXY(u,v,p,g,this.layer)},getIsoTileAtWorldXY:function(u,v,p,g,m){p===void 0&&(p=!0);var T=this.tempVec;return a.IsometricWorldToTileXY(u,v,!0,T,m,this.layer,p),this.getTileAt(T.x,T.y,g)},getTilesWithin:function(u,v,p,g,m){return a.GetTilesWithin(u,v,p,g,m,this.layer)},getTilesWithinShape:function(u,v,p){return a.GetTilesWithinShape(u,v,p,this.layer)},getTilesWithinWorldXY:function(u,v,p,g,m,T){return a.GetTilesWithinWorldXY(u,v,p,g,m,T,this.layer)},hasTileAt:function(u,v){return a.HasTileAt(u,v,this.layer)},hasTileAtWorldXY:function(u,v,p){return a.HasTileAtWorldXY(u,v,p,this.layer)},putTileAt:function(u,v,p,g){return a.PutTileAt(u,v,p,g,this.layer)},putTileAtWorldXY:function(u,v,p,g,m){return a.PutTileAtWorldXY(u,v,p,g,m,this.layer)},putTilesAt:function(u,v,p,g){return a.PutTilesAt(u,v,p,g,this.layer),this},randomize:function(u,v,p,g,m){return a.Randomize(u,v,p,g,m,this.layer),this},removeTileAt:function(u,v,p,g){return a.RemoveTileAt(u,v,p,g,this.layer)},removeTileAtWorldXY:function(u,v,p,g,m){return a.RemoveTileAtWorldXY(u,v,p,g,m,this.layer)},renderDebug:function(u,v){return a.RenderDebug(u,v,this.layer),this},replaceByIndex:function(u,v,p,g,m,T){return a.ReplaceByIndex(u,v,p,g,m,T,this.layer),this},setSkipCull:function(u){return u===void 0&&(u=!0),this.skipCull=u,this},setCullPadding:function(u,v){return u===void 0&&(u=1),v===void 0&&(v=1),this.cullPaddingX=u,this.cullPaddingY=v,this},setCollision:function(u,v,p,g){return a.SetCollision(u,v,p,this.layer,g),this},setCollisionBetween:function(u,v,p,g){return a.SetCollisionBetween(u,v,p,g,this.layer),this},setCollisionByProperty:function(u,v,p){return a.SetCollisionByProperty(u,v,p,this.layer),this},setCollisionByExclusion:function(u,v,p){return a.SetCollisionByExclusion(u,v,p,this.layer),this},setCollisionFromCollisionGroup:function(u,v){return a.SetCollisionFromCollisionGroup(u,v,this.layer),this},setTileIndexCallback:function(u,v,p){return a.SetTileIndexCallback(u,v,p,this.layer),this},setTileLocationCallback:function(u,v,p,g,m,T){return a.SetTileLocationCallback(u,v,p,g,m,T,this.layer),this},shuffle:function(u,v,p,g){return a.Shuffle(u,v,p,g,this.layer),this},swapByIndex:function(u,v,p,g,m,T){return a.SwapByIndex(u,v,p,g,m,T,this.layer),this},tileToWorldX:function(u,v){return this.tilemap.tileToWorldX(u,v,this)},tileToWorldY:function(u,v){return this.tilemap.tileToWorldY(u,v,this)},tileToWorldXY:function(u,v,p,g){return this.tilemap.tileToWorldXY(u,v,p,g,this)},getTileCorners:function(u,v,p){return this.tilemap.getTileCorners(u,v,p,this)},weightedRandomize:function(u,v,p,g,m){return a.WeightedRandomize(v,p,g,m,u,this.layer),this},worldToTileX:function(u,v,p){return this.tilemap.worldToTileX(u,v,p,this)},worldToTileY:function(u,v,p){return this.tilemap.worldToTileY(u,v,p,this)},worldToTileXY:function(u,v,p,g,m){return this.tilemap.worldToTileXY(u,v,p,g,m,this)},destroy:function(u){u===void 0&&(u=!0),this.tilemap&&(this.layer.tilemapLayer===this&&(this.layer.tilemapLayer=void 0),u&&this.tilemap.removeLayer(this),this.tilemap=void 0,this.layer=void 0,this.culledTiles.length=0,this.cullCallback=null,this.gidMap=[],this.tileset=[],l.prototype.destroy.call(this))}});r.exports=c},16153:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61340),x=new h,f=new h,l=new h,a=function(n,d,c,u){var v=d.cull(c),p=v.length,g=c.alpha*d.alpha;if(!(p===0||g<=0)){var m=x,T=f,P=l;T.applyITRS(d.x,d.y,d.rotation,d.scaleX,d.scaleY),m.copyFrom(c.matrix);var E=n.currentContext,M=d.gidMap;E.save(),u?(m.multiplyWithOffset(u,-c.scrollX*d.scrollFactorX,-c.scrollY*d.scrollFactorY),T.e=d.x,T.f=d.y,m.multiply(T,P),P.copyToContext(E)):(T.e-=c.scrollX*d.scrollFactorX,T.f-=c.scrollY*d.scrollFactorY,T.copyToContext(E)),(!n.antialias||d.scaleX>1||d.scaleY>1)&&(E.imageSmoothingEnabled=!1);for(var w=0;w<p;w++){var R=v[w],A=M[R.index];if(A){var O=A.image.getSourceImage(),F=A.getTileTextureCoordinates(R.index),L=A.tileWidth,b=A.tileHeight;if(!(F===null||L===0||b===0)){var D=L*.5,I=b*.5;F.x+=A.tileOffset.x,F.y+=A.tileOffset.y,E.save(),E.translate(R.pixelX+D,R.pixelY+I),R.rotation!==0&&E.rotate(R.rotation),(R.flipX||R.flipY)&&E.scale(R.flipX?-1:1,R.flipY?-1:1),E.globalAlpha=g*R.alpha,E.drawImage(O,F.x,F.y,L,b,-D,-I,L,b),E.restore()}}}E.restore()}};r.exports=a},19218:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(29747),x=h,f=h;x=i(99558),f=i(16153),r.exports={renderWebGL:x,renderCanvas:f}},99558:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70554),x=function(f,l,a){var n=l.cull(a),d=n.length,c=a.alpha*l.alpha;if(!(d===0||c<=0)){var u=l.gidMap,v=f.pipelines.set(l.pipeline,l),p=h.getTintAppendFloatAlpha,g=l.scrollFactorX,m=l.scrollFactorY,T=l.x,P=l.y,E=l.scaleX,M=l.scaleY;f.pipelines.preBatch(l);for(var w=0;w<d;w++){var R=n[w],A=u[R.index];if(A){var O=A.getTileTextureCoordinates(R.index),F=A.tileWidth,L=A.tileHeight;if(!(!O||F===0||L===0)){var b=F*.5,D=L*.5,I=A.glTexture,k=v.setTexture2D(I,l),X=F,W=L,Y=O.x,N=O.y,V=A.tileOffset.x,G=A.tileOffset.y,B=p(R.tint,c*R.alpha);v.batchTexture(l,I,I.width,I.height,T+R.pixelX*E+(b*E-V),P+R.pixelY*M+(D*M-G),F,L,E,M,R.rotation,R.flipX,R.flipY,g,m,b,D,Y,N,X,W,B,B,B,B,R.tintFill,0,0,a,null,!0,k,!0)}}}f.pipelines.postBatch(l)}};r.exports=x},33629:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(26099),f=new h({initialize:function(a,n,d,c,u,v,p,g,m){(d===void 0||d<=0)&&(d=32),(c===void 0||c<=0)&&(c=32),u===void 0&&(u=0),v===void 0&&(v=0),p===void 0&&(p={}),g===void 0&&(g={}),this.name=a,this.firstgid=n,this.tileWidth=d,this.tileHeight=c,this.tileMargin=u,this.tileSpacing=v,this.tileProperties=p,this.tileData=g,this.tileOffset=new x,m!==void 0&&this.tileOffset.set(m.x,m.y),this.image=null,this.glTexture=null,this.rows=0,this.columns=0,this.total=0,this.texCoordinates=[]},getTileProperties:function(l){return this.containsTileIndex(l)?this.tileProperties[l-this.firstgid]:null},getTileData:function(l){return this.containsTileIndex(l)?this.tileData[l-this.firstgid]:null},getTileCollisionGroup:function(l){var a=this.getTileData(l);return a&&a.objectgroup?a.objectgroup:null},containsTileIndex:function(l){return l>=this.firstgid&&l<this.firstgid+this.total},getTileTextureCoordinates:function(l){return this.containsTileIndex(l)?this.texCoordinates[l-this.firstgid]:null},setImage:function(l){this.image=l;var a=l.get(),n=l.getFrameBounds();return this.glTexture=a.source.glTexture,a.width>n.width||a.height>n.height?this.updateTileData(a.width,a.height):this.updateTileData(n.width,n.height,n.x,n.y),this},setTileSize:function(l,a){return l!==void 0&&(this.tileWidth=l),a!==void 0&&(this.tileHeight=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},setSpacing:function(l,a){return l!==void 0&&(this.tileMargin=l),a!==void 0&&(this.tileSpacing=a),this.image&&this.updateTileData(this.image.source[0].width,this.image.source[0].height),this},updateTileData:function(l,a,n,d){n===void 0&&(n=0),d===void 0&&(d=0);var c=(a-this.tileMargin*2+this.tileSpacing)/(this.tileHeight+this.tileSpacing),u=(l-this.tileMargin*2+this.tileSpacing)/(this.tileWidth+this.tileSpacing);(c%1!==0||u%1!==0)&&console.warn("Image tile area not tile size multiple in: "+this.name),c=Math.floor(c),u=Math.floor(u),this.rows=c,this.columns=u,this.total=c*u,this.texCoordinates.length=0;for(var v=this.tileMargin+n,p=this.tileMargin+d,g=0;g<this.rows;g++){for(var m=0;m<this.columns;m++)this.texCoordinates.push({x:v,y:p}),v+=this.tileWidth+this.tileSpacing;v=this.tileMargin+n,p+=this.tileHeight+this.tileSpacing}return this}});r.exports=f},72023:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7423),x=function(f,l,a){var n=h(f,l,!0,a),d=h(f,l-1,!0,a),c=h(f,l+1,!0,a),u=h(f-1,l,!0,a),v=h(f+1,l,!0,a),p=n&&n.collides;return p&&(n.faceTop=!0,n.faceBottom=!0,n.faceLeft=!0,n.faceRight=!0),d&&d.collides&&(p&&(n.faceTop=!1),d.faceBottom=!p),c&&c.collides&&(p&&(n.faceBottom=!1),c.faceTop=!p),u&&u.collides&&(p&&(n.faceLeft=!1),u.faceRight=!p),v&&v.collides&&(p&&(n.faceRight=!1),v.faceLeft=!p),n&&!n.collides&&n.resetFaces(),n};r.exports=x},42573:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7423),x=i(7386),f=function(l,a,n,d,c){for(var u=null,v=null,p=null,g=null,m=x(l,a,n,d,null,c),T=0;T<m.length;T++){var P=m[T];P&&(P.collides?(u=h(P.x,P.y-1,!0,c),v=h(P.x,P.y+1,!0,c),p=h(P.x-1,P.y,!0,c),g=h(P.x+1,P.y,!0,c),P.faceTop=!(u&&u.collides),P.faceBottom=!(v&&v.collides),P.faceLeft=!(p&&p.collides),P.faceRight=!(g&&g.collides)):P.resetFaces())}};r.exports=f},33528:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=new h,f=function(l,a,n,d){var c=n.tilemapLayer,u=c.cullPaddingX,v=c.cullPaddingY,p=c.tilemap.tileToWorldXY(l,a,x,d,c);return p.x>d.worldView.x+c.scaleX*n.tileWidth*(-u-.5)&&p.x<d.worldView.right+c.scaleX*n.tileWidth*(u-.5)&&p.y>d.worldView.y+c.scaleY*n.tileHeight*(-v-1)&&p.y<d.worldView.bottom+c.scaleY*n.tileHeight*(v-.5)};r.exports=f},1785:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42573),x=i(7386),f=i(62991),l=i(23029),a=function(n,d,c,u,v,p,g,m){g===void 0&&(g=!0);var T=x(n,d,c,u,null,m),P=[];T.forEach(function(F){var L=new l(F.layer,F.index,F.x,F.y,F.width,F.height,F.baseWidth,F.baseHeight);L.copy(F),P.push(L)});for(var E=v-n,M=p-d,w=0;w<P.length;w++){var R=P[w],A=R.x+E,O=R.y+M;f(A,O,m)&&m.data[O][A]&&(R.x=A,R.y=O,R.updatePixelXY(),m.data[O][A]=R)}g&&h(v-1,p-1,c+2,u+2,m),T.length=0,P.length=0};r.exports=a},78419:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62644),x=i(7386),f=i(27987),l=function(a,n,d,c,u,v){d||(d={}),Array.isArray(a)||(a=[a]);var p=v.tilemapLayer;c||(c=p.scene),u||(u=c.cameras.main);var g=v.width,m=v.height,T=x(0,0,g,m,null,v),P=[],E,M=function(O,F,L){for(var b=0;b<L.length;b++){var D=L[b];O.hasOwnProperty(D)||(O[D]=F[D])}};for(E=0;E<T.length;E++){var w=T[E],R=h(d);if(a.indexOf(w.index)!==-1){var A=p.tileToWorldXY(w.x,w.y,void 0,u,v);R.x=A.x,R.y=A.y,M(R,w,["rotation","flipX","flipY","alpha","visible","tint"]),R.hasOwnProperty("origin")||(R.x+=w.width*.5,R.y+=w.height*.5),R.hasOwnProperty("useSpriteSheet")&&(R.key=w.tileset.image,R.frame=w.index-1),P.push(c.make.sprite(R))}}if(Array.isArray(n))for(E=0;E<a.length;E++)f(a[E],n[E],0,0,g,m,v);else if(n!==null)for(E=0;E<a.length;E++)f(a[E],n,0,0,g,m,v);return P};r.exports=l},19545:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(87841),x=i(63448),f=i(56583),l=new h,a=function(n,d){var c=n.tilemapLayer.tilemap,u=n.tilemapLayer,v=Math.floor(c.tileWidth*u.scaleX),p=Math.floor(c.tileHeight*u.scaleY),g=f(d.worldView.x-u.x,v,0,!0)-u.cullPaddingX,m=x(d.worldView.right-u.x,v,0,!0)+u.cullPaddingX,T=f(d.worldView.y-u.y,p,0,!0)-u.cullPaddingY,P=x(d.worldView.bottom-u.y,p,0,!0)+u.cullPaddingY;return l.setTo(g,T,m-g,P-T)};r.exports=a},30003:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19545),x=i(32483),f=function(l,a,n,d){n===void 0&&(n=[]),d===void 0&&(d=0),n.length=0;var c=l.tilemapLayer,u=h(l,a);return(c.skipCull||c.scrollFactorX!==1||c.scrollFactorY!==1)&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),x(l,u,d,n),n};r.exports=f},35137:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=i(42573),f=i(20576),l=function(a,n,d,c,u,v,p){for(var g=p.collideIndexes.indexOf(a)!==-1,m=h(n,d,c,u,null,p),T=0;T<m.length;T++)m[T].index=a,f(m[T],g);v&&x(n-1,d-1,c+2,u+2,p)};r.exports=l},40253:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=function(f,l,a,n,d,c,u,v){var p=h(a,n,d,c,u,v);return p.filter(f,l)};r.exports=x},52692:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h===void 0&&(h=0),x===void 0&&(x=!1);var l=0,a,n,d;if(x){for(n=f.height-1;n>=0;n--)for(a=f.width-1;a>=0;a--)if(d=f.data[n][a],d&&d.index===i){if(l===h)return d;l+=1}}else for(n=0;n<f.height;n++)for(a=0;a<f.width;a++)if(d=f.data[n][a],d&&d.index===i){if(l===h)return d;l+=1}return null};r.exports=C},66151:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=function(f,l,a,n,d,c,u,v){var p=h(a,n,d,c,u,v);return p.find(f,l)||null};r.exports=x},97560:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=function(f,l,a,n,d,c,u,v){var p=h(a,n,d,c,u,v);p.forEach(f,l)};r.exports=x},43305:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(30003),f=i(9474),l=i(14018),a=i(29747),n=i(54503),d=function(c){return c===h.ORTHOGONAL?x:c===h.HEXAGONAL?f:c===h.STAGGERED?n:c===h.ISOMETRIC?l:a};r.exports=d},7423:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62991),x=function(f,l,a,n){if(h(f,l,n)){var d=n.data[l][f]||null;return d?d.index===-1?a?d:null:d:null}else return null};r.exports=x},60540:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7423),x=i(26099),f=new x,l=function(a,n,d,c,u){return u.tilemapLayer.worldToTileXY(a,n,!0,f,c),h(f.x,f.y,d,u)};r.exports=l},55826:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n){var d=n.baseTileWidth,c=n.baseTileHeight,u=n.tilemapLayer,v=0,p=0;u&&(a||(a=u.scene.cameras.main),v=u.x+a.scrollX*(1-u.scrollFactorX),p=u.y+a.scrollY*(1-u.scrollFactorY),d*=u.scaleX,c*=u.scaleY);var g=v+f*d,m=p+l*c;return[new h(g,m),new h(g+d,m),new h(g+d,m+c),new h(g,m+c)]};r.exports=x},11758:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(27229),f=i(29747),l=i(55826),a=function(n){return n===h.ORTHOGONAL?l:n===h.ISOMETRIC?f:n===h.HEXAGONAL?x:(n===h.STAGGERED,f)};r.exports=a},39167:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(29747),f=i(97281),l=function(a){return a===h.ORTHOGONAL?f:x};r.exports=l},62e3:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(19951),f=i(14127),l=i(29747),a=i(97202),n=i(70326),d=function(c){return c===h.ORTHOGONAL?n:c===h.ISOMETRIC?f:c===h.HEXAGONAL?x:c===h.STAGGERED?a:l};r.exports=d},5984:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(29747),f=i(28054),l=i(29650),a=function(n){return n===h.ORTHOGONAL?l:n===h.STAGGERED?f:x};r.exports=a},7386:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=function(f,l,a,n,d,c){f===void 0&&(f=0),l===void 0&&(l=0),a===void 0&&(a=c.width),n===void 0&&(n=c.height),d||(d={});var u=h(d,"isNotEmpty",!1),v=h(d,"isColliding",!1),p=h(d,"hasInterestingFace",!1);f<0&&(a+=f,f=0),l<0&&(n+=l,l=0),f+a>c.width&&(a=Math.max(c.width-f,0)),l+n>c.height&&(n=Math.max(c.height-l,0));for(var g=[],m=l;m<l+n;m++)for(var T=f;T<f+a;T++){var P=c.data[m][T];if(P!==null){if(u&&P.index===-1||v&&!P.collides||p&&!P.hasInterestingFace)continue;g.push(P)}}return g};r.exports=x},91141:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(55738),x=i(7386),f=i(91865),l=i(29747),a=i(26099),n=i(91907),d=function(g,m){return f.RectangleToTriangle(m,g)},c=new a,u=new a,v=new a,p=function(g,m,T,P){if(P.orientation!==n.ORTHOGONAL)return console.warn("GetTilesWithinShape only works with orthogonal tilemaps"),[];if(g===void 0)return[];var E=l;g instanceof h.Circle?E=f.CircleToRectangle:g instanceof h.Rectangle?E=f.RectangleToRectangle:g instanceof h.Triangle?E=d:g instanceof h.Line&&(E=f.LineToRectangle),P.tilemapLayer.worldToTileXY(g.left,g.top,!0,u,T);var M=u.x,w=u.y;P.tilemapLayer.worldToTileXY(g.right,g.bottom,!1,v,T);var R=Math.ceil(v.x),A=Math.ceil(v.y),O=Math.max(R-M,1),F=Math.max(A-w,1),L=x(M,w,O,F,m,P),b=P.tileWidth,D=P.tileHeight;P.tilemapLayer&&(b*=P.tilemapLayer.scaleX,D*=P.tilemapLayer.scaleY);for(var I=[],k=new h.Rectangle(0,0,b,D),X=0;X<L.length;X++){var W=L[X];P.tilemapLayer.tileToWorldXY(W.x,W.y,c,T),k.x=c.x,k.y=c.y,E(g,k)&&I.push(W)}return I};r.exports=p},96523:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=i(26099),f=new x,l=new x,a=function(n,d,c,u,v,p,g){var m=g.tilemapLayer.tilemap._convert.WorldToTileXY;m(n,d,!0,f,p,g);var T=f.x,P=f.y;m(n+c,d+u,!1,l,p,g);var E=Math.ceil(l.x),M=Math.ceil(l.y);return h(T,P,E-T,M-P,v,g)};r.exports=a},96113:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(20242),f=i(10095),l=function(a){return a===h.ORTHOGONAL?f:x};r.exports=l},16926:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(86625),f=i(96897),l=i(29747),a=i(15108),n=i(85896),d=function(c){return c===h.ORTHOGONAL?n:c===h.ISOMETRIC?f:c===h.HEXAGONAL?x:c===h.STAGGERED?a:l};r.exports=d},55762:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=i(20242),f=i(51900),l=i(63288),a=function(n){return n===h.ORTHOGONAL?l:n===h.STAGGERED?f:x};r.exports=a},45091:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62991),x=function(f,l,a){if(h(f,l,a)){var n=a.data[l][f];return n!==null&&n.index>-1}else return!1};r.exports=x},24152:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(45091),x=i(26099),f=new x,l=function(a,n,d,c){c.tilemapLayer.worldToTileXY(a,n,!0,f,d);var u=f.x,v=f.y;return h(u,v,c)};r.exports=l},90454:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63448),x=i(56583),f=function(l,a){var n=l.tilemapLayer.tilemap,d=l.tilemapLayer,c=Math.floor(n.tileWidth*d.scaleX),u=Math.floor(n.tileHeight*d.scaleY),v=l.hexSideLength,p,g,m,T;if(l.staggerAxis==="y"){var P=(u-v)/2+v;p=x(a.worldView.x-d.x,c,0,!0)-d.cullPaddingX,g=h(a.worldView.right-d.x,c,0,!0)+d.cullPaddingX,m=x(a.worldView.y-d.y,P,0,!0)-d.cullPaddingY,T=h(a.worldView.bottom-d.y,P,0,!0)+d.cullPaddingY}else{var E=(c-v)/2+v;p=x(a.worldView.x-d.x,E,0,!0)-d.cullPaddingX,g=h(a.worldView.right-d.x,E,0,!0)+d.cullPaddingX,m=x(a.worldView.y-d.y,u,0,!0)-d.cullPaddingY,T=h(a.worldView.bottom-d.y,u,0,!0)+d.cullPaddingY}return{left:p,right:g,top:m,bottom:T}};r.exports=f},9474:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(90454),x=i(32483),f=function(l,a,n,d){n===void 0&&(n=[]),d===void 0&&(d=0),n.length=0;var c=l.tilemapLayer,u=h(l,a);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),x(l,u,d,n),n};r.exports=f},27229:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19951),x=i(26099),f=new x,l=function(a,n,d,c){var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(u*=p.scaleX,v*=p.scaleY);var g=h(a,n,f,d,c),m=[],T=.5773502691896257,P,E;c.staggerAxis==="y"?(P=T*u,E=v/2):(P=u/2,E=T*v);for(var M=0;M<6;M++){var w=2*Math.PI*(.5-M)/6;m.push(new x(g.x+P*Math.cos(w),g.y+E*Math.sin(w)))}return m};r.exports=l},19951:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d){a||(a=new h);var c=d.baseTileWidth,u=d.baseTileHeight,v=d.tilemapLayer,p=0,g=0;v&&(n||(n=v.scene.cameras.main),p=v.x+n.scrollX*(1-v.scrollFactorX),g=v.y+n.scrollY*(1-v.scrollFactorY),c*=v.scaleX,u*=v.scaleY);var m=c/2,T=u/2,P,E,M=d.staggerAxis,w=d.staggerIndex;return M==="y"?(P=p+c*f+c,E=g+1.5*l*T+T,l%2===0&&(w==="odd"?P-=m:P+=m)):M==="x"&&w==="odd"&&(P=p+1.5*f*m+m,E=g+u*f+u,f%2===0&&(w==="odd"?E-=T:E+=T)),a.set(P,E)};r.exports=x},86625:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d,c){n||(n=new h);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(d||(d=p.scene.cameras.main),f=f-(p.x+d.scrollX*(1-p.scrollFactorX)),l=l-(p.y+d.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,v*=p.scaleY);var g=.5773502691896257,m=-.3333333333333333,T=0,P=.6666666666666666,E=u/2,M=v/2,w,R,A,O,F;c.staggerAxis==="y"?(w=(f-E)/(g*u),R=(l-M)/M,A=g*w+m*R,O=T*w+P*R):(w=(f-E)/E,R=(l-M)/(g*v),A=m*w+g*R,O=P*w+T*R),F=-A-O;var L=Math.round(A),b=Math.round(O),D=Math.round(F),I=Math.abs(L-A),k=Math.abs(b-O),X=Math.abs(D-F);I>k&&I>X?L=-b-D:k>X&&(b=-L-D);var W,Y=b;return c.staggerIndex==="odd"?W=Y%2===0?b/2+L:b/2+L-.5:W=Y%2===0?b/2+L:b/2+L+.5,n.set(W,Y)};r.exports=x},62991:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i>=0&&i<x.width&&h>=0&&h<x.height};r.exports=C},14018:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33528),x=function(f,l,a,n){a===void 0&&(a=[]),n===void 0&&(n=0),a.length=0;var d=f.tilemapLayer,c=f.data,u=f.width,v=f.height,p=d.skipCull,g=0,m=u,T=0,P=v,E,M,w;if(n===0)for(M=T;M<P;M++)for(E=g;E<m;E++)w=c[M][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!h(E,M,f,l)||a.push(w));else if(n===1)for(M=T;M<P;M++)for(E=m;E>=g;E--)w=c[M][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!h(E,M,f,l)||a.push(w));else if(n===2)for(M=P;M>=T;M--)for(E=g;E<m;E++)w=c[M][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!h(E,M,f,l)||a.push(w));else if(n===3)for(M=P;M>=T;M--)for(E=m;E>=g;E--)w=c[M][E],!(!w||w.index===-1||!w.visible||w.alpha===0)&&(!p&&!h(E,M,f,l)||a.push(w));return d.tilesDrawn=a.length,d.tilesTotal=u*v,a};r.exports=x},14127:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d){a||(a=new h);var c=d.baseTileWidth,u=d.baseTileHeight,v=d.tilemapLayer,p=0,g=0;v&&(n||(n=v.scene.cameras.main),p=v.x+n.scrollX*(1-v.scrollFactorX),c*=v.scaleX,g=v.y+n.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var m=p+(f-l)*(c/2),T=g+(f+l)*(u/2);return a.set(m,T)};r.exports=x},96897:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d,c,u){n||(n=new h);var v=c.baseTileWidth,p=c.baseTileHeight,g=c.tilemapLayer;g&&(d||(d=g.scene.cameras.main),l=l-(g.y+d.scrollY*(1-g.scrollFactorY)),p*=g.scaleY,f=f-(g.x+d.scrollX*(1-g.scrollFactorX)),v*=g.scaleX);var m=v/2,T=p/2;f=f-m,u||(l=l-p);var P=.5*(f/m+l/T),E=.5*(-f/m+l/T);return a&&(P=Math.floor(P),E=Math.floor(E)),n.set(P,E)};r.exports=x},71558:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23029),x=i(62991),f=i(72023),l=i(20576),a=function(n,d,c,u,v){if(u===void 0&&(u=!0),!x(d,c,v))return null;var p,g=v.data[c][d],m=g&&g.collides;n instanceof h?(v.data[c][d]===null&&(v.data[c][d]=new h(v,n.index,d,c,v.tileWidth,v.tileHeight)),v.data[c][d].copy(n)):(p=n,v.data[c][d]===null?v.data[c][d]=new h(v,p,d,c,v.tileWidth,v.tileHeight):v.data[c][d].index=p);var T=v.data[c][d],P=v.collideIndexes.indexOf(T.index)!==-1;if(p=n instanceof h?n.index:n,p===-1)T.width=v.tileWidth,T.height=v.tileHeight;else{var E=v.tilemapLayer.tilemap,M=E.tiles,w=M[p][2],R=E.tilesets[w];T.width=R.tileWidth,T.height=R.tileHeight}return l(T,P),u&&m!==T.collides&&f(d,c,v),T};r.exports=a},26303:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(71558),x=i(26099),f=new x,l=function(a,n,d,c,u,v){return v.tilemapLayer.worldToTileXY(n,d,!0,f,u,v),h(a,f.x,f.y,c,v)};r.exports=l},14051:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(42573),x=i(71558),f=function(l,a,n,d,c){if(d===void 0&&(d=!0),!Array.isArray(l))return null;Array.isArray(l[0])||(l=[l]);for(var u=l.length,v=l[0].length,p=0;p<u;p++)for(var g=0;g<v;g++){var m=l[p][g];x(m,a+g,n+p,!1,c)}d&&h(a-1,n-1,v+2,u+2,c)};r.exports=f},77389:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=i(26546),f=function(l,a,n,d,c,u){var v,p=h(l,a,n,d,{},u);if(!c)for(c=[],v=0;v<p.length;v++)c.indexOf(p[v].index)===-1&&c.push(p[v].index);for(v=0;v<p.length;v++)p[v].index=x(c)};r.exports=f},63557:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(23029),x=i(62991),f=i(72023),l=function(a,n,d,c,u){if(d===void 0&&(d=!0),c===void 0&&(c=!0),!x(a,n,u))return null;var v=u.data[n][a];if(v)u.data[n][a]=d?null:new h(u,-1,a,n,u.tileWidth,u.tileHeight);else return null;return c&&v&&v.collides&&f(a,n,u),v};r.exports=l},94178:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63557),x=i(26099),f=new x,l=function(a,n,d,c,u,v){return v.tilemapLayer.worldToTileXY(a,n,!0,f,u,v),h(f.x,f.y,d,c,v)};r.exports=l},15533:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=i(3956),f=new x(105,210,231,150),l=new x(243,134,48,200),a=new x(40,39,37,150),n=function(d,c,u){c===void 0&&(c={});var v=c.tileColor!==void 0?c.tileColor:f,p=c.collidingTileColor!==void 0?c.collidingTileColor:l,g=c.faceColor!==void 0?c.faceColor:a,m=h(0,0,u.width,u.height,null,u);d.translateCanvas(u.tilemapLayer.x,u.tilemapLayer.y),d.scaleCanvas(u.tilemapLayer.scaleX,u.tilemapLayer.scaleY);for(var T=0;T<m.length;T++){var P=m[T],E=P.tileset?P.tileset.tileOffset:{x:0,y:0},M=P.width,w=P.height,R=P.pixelX-E.x,A=P.pixelY-E.y,O=P.collides?p:v;O!==null&&(d.fillStyle(O.color,O.alpha/255),d.fillRect(R,A,M,w)),R+=1,A+=1,M-=2,w-=2,g!==null&&(d.lineStyle(1,g.color,g.alpha/255),P.faceTop&&d.lineBetween(R,A,R+M,A),P.faceRight&&d.lineBetween(R+M,A,R+M,A+w),P.faceBottom&&d.lineBetween(R,A+w,R+M,A+w),P.faceLeft&&d.lineBetween(R,A,R,A+w))}};r.exports=n},27987:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=function(f,l,a,n,d,c,u){for(var v=h(a,n,d,c,null,u),p=0;p<v.length;p++)v[p]&&v[p].index===f&&(v[p].index=l)};r.exports=x},32483:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=i.data,a=i.width,n=i.height,d=i.tilemapLayer,c=Math.max(0,h.left),u=Math.min(a,h.right),v=Math.max(0,h.top),p=Math.min(n,h.bottom),g,m,T;if(x===0)for(m=v;m<p;m++)for(g=c;l[m]&&g<u;g++)T=l[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);else if(x===1)for(m=v;m<p;m++)for(g=u;l[m]&&g>=c;g--)T=l[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);else if(x===2)for(m=p;m>=v;m--)for(g=c;l[m]&&g<u;g++)T=l[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);else if(x===3)for(m=p;m>=v;m--)for(g=u;l[m]&&g>=c;g--)T=l[m][g],!(!T||T.index===-1||!T.visible||T.alpha===0)&&f.push(T);return d.tilesDrawn=f.length,d.tilesTotal=a*n,f};r.exports=C},57068:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),x=i(42573),f=i(9589),l=function(a,n,d,c,u){n===void 0&&(n=!0),d===void 0&&(d=!0),u===void 0&&(u=!0),Array.isArray(a)||(a=[a]);for(var v=0;v<a.length;v++)f(a[v],n,c);if(u)for(var p=0;p<c.height;p++)for(var g=0;g<c.width;g++){var m=c.data[p][g];m&&a.indexOf(m.index)!==-1&&h(m,n)}d&&x(0,0,c.width,c.height,c)};r.exports=l},37266:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),x=i(42573),f=i(9589),l=function(a,n,d,c,u,v){if(d===void 0&&(d=!0),c===void 0&&(c=!0),v===void 0&&(v=!0),!(a>n)){for(var p=a;p<=n;p++)f(p,d,u);if(v)for(var g=0;g<u.height;g++)for(var m=0;m<u.width;m++){var T=u.data[g][m];T&&T.index>=a&&T.index<=n&&h(T,d)}c&&x(0,0,u.width,u.height,u)}};r.exports=l},75661:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),x=i(42573),f=i(9589),l=function(a,n,d,c){n===void 0&&(n=!0),d===void 0&&(d=!0),Array.isArray(a)||(a=[a]);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var p=c.data[u][v];p&&a.indexOf(p.index)===-1&&(h(p,n),f(p.index,n,c))}d&&x(0,0,c.width,c.height,c)};r.exports=l},64740:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),x=i(42573),f=i(97022),l=function(a,n,d,c){n===void 0&&(n=!0),d===void 0&&(d=!0);for(var u=0;u<c.height;u++)for(var v=0;v<c.width;v++){var p=c.data[u][v];if(p){for(var g in a)if(f(p.properties,g)){var m=a[g];Array.isArray(m)||(m=[m]);for(var T=0;T<m.length;T++)p.properties[g]===m[T]&&h(p,n)}}}d&&x(0,0,c.width,c.height,c)};r.exports=l},63307:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(20576),x=i(42573),f=function(l,a,n){l===void 0&&(l=!0),a===void 0&&(a=!0);for(var d=0;d<n.height;d++)for(var c=0;c<n.width;c++){var u=n.data[d][c];if(u){var v=u.getCollisionGroup();v&&v.objects&&v.objects.length>0&&h(u,l)}}a&&x(0,0,n.width,n.height,n)};r.exports=f},9589:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=x.collideIndexes.indexOf(i);h&&f===-1?x.collideIndexes.push(i):!h&&f!==-1&&x.collideIndexes.splice(f,1)};r.exports=C},20576:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h?i.setCollision(!0,!0,!0,!0,!1):i.resetCollision(!1)};r.exports=C},79583:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){if(typeof i=="number")f.callbacks[i]=h!==null?{callback:h,callbackContext:x}:void 0;else for(var l=0,a=i.length;l<a;l++)f.callbacks[i[l]]=h!==null?{callback:h,callbackContext:x}:void 0};r.exports=C},93254:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=function(f,l,a,n,d,c,u){for(var v=h(f,l,a,n,null,u),p=0;p<v.length;p++)v[p].setCollisionCallback(d,c)};r.exports=x},32903:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=i(33680),f=function(l,a,n,d,c){var u=h(l,a,n,d,null,c),v=u.map(function(g){return g.index});x(v);for(var p=0;p<u.length;p++)u[p].index=v[p]};r.exports=f},61325:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(63448),x=i(56583),f=function(l,a){var n=l.tilemapLayer.tilemap,d=l.tilemapLayer,c=Math.floor(n.tileWidth*d.scaleX),u=Math.floor(n.tileHeight*d.scaleY),v=x(a.worldView.x-d.x,c,0,!0)-d.cullPaddingX,p=h(a.worldView.right-d.x,c,0,!0)+d.cullPaddingX,g=x(a.worldView.y-d.y,u/2,0,!0)-d.cullPaddingY,m=h(a.worldView.bottom-d.y,u/2,0,!0)+d.cullPaddingY;return{left:v,right:p,top:g,bottom:m}};r.exports=f},54503:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(61325),x=i(32483),f=function(l,a,n,d){n===void 0&&(n=[]),d===void 0&&(d=0),n.length=0;var c=l.tilemapLayer,u=h(l,a);return c.skipCull&&c.scrollFactorX===1&&c.scrollFactorY===1&&(u.left=0,u.right=l.width,u.top=0,u.bottom=l.height),x(l,u,d,n),n};r.exports=f},97202:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d){a||(a=new h);var c=d.baseTileWidth,u=d.baseTileHeight,v=d.tilemapLayer,p=0,g=0;v&&(n||(n=v.scene.cameras.main),p=v.x+n.scrollX*(1-v.scrollFactorX),c*=v.scaleX,g=v.y+n.scrollY*(1-v.scrollFactorY),u*=v.scaleY);var m=p+f*c+l%2*(c/2),T=g+l*(u/2);return a.set(m,T)};r.exports=x},28054:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=x.baseTileHeight,l=x.tilemapLayer,a=0;return l&&(h===void 0&&(h=l.scene.cameras.main),a=l.y+h.scrollY*(1-l.scrollFactorY),f*=l.scaleY),a+i*(f/2)+f};r.exports=C},15108:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d,c){n||(n=new h);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(d||(d=p.scene.cameras.main),l=l-(p.y+d.scrollY*(1-p.scrollFactorY)),v*=p.scaleY,f=f-(p.x+d.scrollX*(1-p.scrollFactorX)),u*=p.scaleX);var g=a?Math.floor(l/(v/2)):l/(v/2),m=a?Math.floor((f+g%2*.5*u)/u):(f+g%2*.5*u)/u;return n.set(m,g)};r.exports=x},51900:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=f.baseTileHeight,a=f.tilemapLayer;return a&&(x||(x=a.scene.cameras.main),i=i-(a.y+x.scrollY*(1-a.scrollFactorY)),l*=a.scaleY),h?Math.floor(i/(l/2)):i/(l/2)};r.exports=C},86560:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=function(f,l,a,n,d,c,u){for(var v=h(a,n,d,c,null,u),p=0;p<v.length;p++)v[p]&&(v[p].index===f?v[p].index=l:v[p].index===l&&(v[p].index=f))};r.exports=x},97281:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=x.baseTileWidth,l=x.tilemapLayer,a=0;return l&&(h||(h=l.scene.cameras.main),a=l.x+h.scrollX*(1-l.scrollFactorX),f*=l.scaleX),a+i*f};r.exports=C},70326:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97281),x=i(29650),f=i(26099),l=function(a,n,d,c,u){return d||(d=new f(0,0)),d.x=h(a,c,u),d.y=x(n,c,u),d};r.exports=l},29650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=x.baseTileHeight,l=x.tilemapLayer,a=0;return l&&(h||(h=l.scene.cameras.main),a=l.y+h.scrollY*(1-l.scrollFactorY),f*=l.scaleY),a+i*f};r.exports=C},77366:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(7386),x=i(75508),f=function(l,a,n,d,c,u){if(c){var v,p=h(l,a,n,d,null,u),g=0;for(v=0;v<c.length;v++)g+=c[v].weight;if(!(g<=0))for(v=0;v<p.length;v++){for(var m=x.RND.frac()*g,T=0,P=-1,E=0;E<c.length;E++)if(T+=c[E].weight,m<=T){var M=c[E].index;P=Array.isArray(M)?M[Math.floor(x.RND.frac()*M.length)]:M;break}p[v].index=P}}};r.exports=f},10095:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85896),x=i(26099),f=new x,l=function(a,n,d,c){return h(a,0,n,f,d,c),f.x};r.exports=l},85896:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(26099),x=function(f,l,a,n,d,c){a===void 0&&(a=!0),n||(n=new h);var u=c.baseTileWidth,v=c.baseTileHeight,p=c.tilemapLayer;p&&(d||(d=p.scene.cameras.main),f=f-(p.x+d.scrollX*(1-p.scrollFactorX)),l=l-(p.y+d.scrollY*(1-p.scrollFactorY)),u*=p.scaleX,v*=p.scaleY);var g=f/u,m=l/v;return a&&(g=Math.floor(g),m=Math.floor(m)),n.set(g,m)};r.exports=x},63288:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(85896),x=i(26099),f=new x,l=function(a,n,d,c){return h(0,a,n,f,d,c),f.y};r.exports=l},81086:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CalculateFacesAt:i(72023),CalculateFacesWithin:i(42573),CheckIsoBounds:i(33528),Copy:i(1785),CreateFromTiles:i(78419),CullBounds:i(19545),CullTiles:i(30003),Fill:i(35137),FilterTiles:i(40253),FindByIndex:i(52692),FindTile:i(66151),ForEachTile:i(97560),GetCullTilesFunction:i(43305),GetTileAt:i(7423),GetTileAtWorldXY:i(60540),GetTileCorners:i(55826),GetTileCornersFunction:i(11758),GetTilesWithin:i(7386),GetTilesWithinShape:i(91141),GetTilesWithinWorldXY:i(96523),GetTileToWorldXFunction:i(39167),GetTileToWorldXYFunction:i(62e3),GetTileToWorldYFunction:i(5984),GetWorldToTileXFunction:i(96113),GetWorldToTileXYFunction:i(16926),GetWorldToTileYFunction:i(55762),HasTileAt:i(45091),HasTileAtWorldXY:i(24152),HexagonalCullBounds:i(90454),HexagonalCullTiles:i(9474),HexagonalGetTileCorners:i(27229),HexagonalTileToWorldXY:i(19951),HexagonalWorldToTileXY:i(86625),IsInLayerBounds:i(62991),IsometricCullTiles:i(14018),IsometricTileToWorldXY:i(14127),IsometricWorldToTileXY:i(96897),PutTileAt:i(71558),PutTileAtWorldXY:i(26303),PutTilesAt:i(14051),Randomize:i(77389),RemoveTileAt:i(63557),RemoveTileAtWorldXY:i(94178),RenderDebug:i(15533),ReplaceByIndex:i(27987),RunCull:i(32483),SetCollision:i(57068),SetCollisionBetween:i(37266),SetCollisionByExclusion:i(75661),SetCollisionByProperty:i(64740),SetCollisionFromCollisionGroup:i(63307),SetLayerCollisionIndex:i(9589),SetTileCollision:i(20576),SetTileIndexCallback:i(79583),SetTileLocationCallback:i(93254),Shuffle:i(32903),StaggeredCullBounds:i(61325),StaggeredCullTiles:i(54503),StaggeredTileToWorldXY:i(97202),StaggeredTileToWorldY:i(28054),StaggeredWorldToTileXY:i(15108),StaggeredWorldToTileY:i(51900),SwapByIndex:i(86560),TileToWorldX:i(97281),TileToWorldXY:i(70326),TileToWorldY:i(29650),WeightedRandomize:i(77366),WorldToTileX:i(10095),WorldToTileXY:i(85896),WorldToTileY:i(63288)}},91907:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ORTHOGONAL:0,ISOMETRIC:1,STAGGERED:2,HEXAGONAL:3}},21829:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={ORIENTATION:i(91907)};r.exports=h},62501:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),x=i(21829),f={Components:i(81086),Parsers:i(57442),Formats:i(80341),ImageCollection:i(16536),ParseToTilemap:i(31989),Tile:i(23029),Tilemap:i(49075),TilemapCreator:i(45939),TilemapFactory:i(46029),Tileset:i(33629),TilemapLayer:i(20442),Orientation:i(91907),LayerData:i(14977),MapData:i(87010),ObjectLayer:i(48700)};f=h(!1,f,x.ORIENTATION),r.exports=f},14977:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(91907),f=i(95540),l=new h({initialize:function(n){n===void 0&&(n={}),this.name=f(n,"name","layer"),this.id=f(n,"id",0),this.x=f(n,"x",0),this.y=f(n,"y",0),this.width=f(n,"width",0),this.height=f(n,"height",0),this.tileWidth=f(n,"tileWidth",0),this.tileHeight=f(n,"tileHeight",0),this.baseTileWidth=f(n,"baseTileWidth",this.tileWidth),this.baseTileHeight=f(n,"baseTileHeight",this.tileHeight),this.orientation=f(n,"orientation",x.ORTHOGONAL),this.widthInPixels=f(n,"widthInPixels",this.width*this.baseTileWidth),this.heightInPixels=f(n,"heightInPixels",this.height*this.baseTileHeight),this.alpha=f(n,"alpha",1),this.visible=f(n,"visible",!0),this.properties=f(n,"properties",[]),this.indexes=f(n,"indexes",[]),this.collideIndexes=f(n,"collideIndexes",[]),this.callbacks=f(n,"callbacks",[]),this.bodies=f(n,"bodies",[]),this.data=f(n,"data",[]),this.tilemapLayer=f(n,"tilemapLayer",null),this.hexSideLength=f(n,"hexSideLength",0),this.staggerAxis=f(n,"staggerAxis","y"),this.staggerIndex=f(n,"staggerIndex","odd")}});r.exports=l},87010:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(91907),f=i(95540),l=new h({initialize:function(n){n===void 0&&(n={}),this.name=f(n,"name","map"),this.width=f(n,"width",0),this.height=f(n,"height",0),this.infinite=f(n,"infinite",!1),this.tileWidth=f(n,"tileWidth",0),this.tileHeight=f(n,"tileHeight",0),this.widthInPixels=f(n,"widthInPixels",this.width*this.tileWidth),this.heightInPixels=f(n,"heightInPixels",this.height*this.tileHeight),this.format=f(n,"format",null),this.orientation=f(n,"orientation",x.ORTHOGONAL),this.renderOrder=f(n,"renderOrder","right-down"),this.version=f(n,"version","1"),this.properties=f(n,"properties",{}),this.layers=f(n,"layers",[]),this.images=f(n,"images",[]),this.objects=f(n,"objects",[]),Array.isArray(this.objects)||(this.objects=[]),this.collision=f(n,"collision",{}),this.tilesets=f(n,"tilesets",[]),this.imageCollections=f(n,"imageCollections",[]),this.tiles=f(n,"tiles",[]),this.hexSideLength=f(n,"hexSideLength",0),this.staggerAxis=f(n,"staggerAxis","y"),this.staggerIndex=f(n,"staggerIndex","odd")}});r.exports=l},48700:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=new h({initialize:function(a){a===void 0&&(a={}),this.name=x(a,"name","object layer"),this.id=x(a,"id",0),this.opacity=x(a,"opacity",1),this.properties=x(a,"properties",{}),this.propertyTypes=x(a,"propertytypes",{}),this.type=x(a,"type","objectgroup"),this.visible=x(a,"visible",!0),this.objects=x(a,"objects",[]),Array.isArray(this.objects)||(this.objects=[])}});r.exports=f},6641:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(91907),x=function(f){return f=f.toLowerCase(),f==="isometric"?h.ISOMETRIC:f==="staggered"?h.STAGGERED:f==="hexagonal"?h.HEXAGONAL:h.ORTHOGONAL};r.exports=x},46177:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),x=i(2342),f=i(82593),l=i(46594),a=i(87021),n=function(d,c,u,v,p,g){var m;switch(c){case h.ARRAY_2D:m=x(d,u,v,p,g);break;case h.CSV:m=f(d,u,v,p,g);break;case h.TILED_JSON:m=l(d,u,g);break;case h.WELTMEISTER:m=a(d,u,g);break;default:console.warn("Unrecognized tilemap data format: "+c),m=null}return m};r.exports=n},2342:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),x=i(14977),f=i(87010),l=i(23029),a=function(n,d,c,u,v){for(var p=new x({tileWidth:c,tileHeight:u}),g=new f({name:n,tileWidth:c,tileHeight:u,format:h.ARRAY_2D,layers:[p]}),m=[],T=d.length,P=0,E=0;E<d.length;E++){m[E]=[];for(var M=d[E],w=0;w<M.length;w++){var R=parseInt(M[w],10);isNaN(R)||R===-1?m[E][w]=v?null:new l(p,-1,w,E,c,u):m[E][w]=new l(p,R,w,E,c,u)}P===0&&(P=M.length)}return g.width=p.width=P,g.height=p.height=T,g.widthInPixels=p.widthInPixels=P*c,g.heightInPixels=p.heightInPixels=T*u,p.data=m,g};r.exports=a},82593:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),x=i(2342),f=function(l,a,n,d,c){var u=a.trim().split(`
`).map(function(p){return p.split(",")}),v=x(l,u,n,d,c);return v.format=h.CSV,v};r.exports=f},6656:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(14977),x=i(23029),f=function(l,a){for(var n=[],d=0;d<l.layer.length;d++){for(var c=l.layer[d],u=new h({name:c.name,width:c.width,height:c.height,tileWidth:c.tilesize,tileHeight:c.tilesize,visible:c.visible===1}),v=[],p=[],g=0;g<c.data.length;g++){for(var m=0;m<c.data[g].length;m++){var T=c.data[g][m]-1,P;T>-1?P=new x(u,T,m,g,c.tilesize,c.tilesize):P=a?null:new x(u,-1,m,g,c.tilesize,c.tilesize),v.push(P)}p.push(v),v=[]}u.data=p,n.push(u)}return n};r.exports=f},96483:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33629),x=function(f){for(var l=[],a=[],n=0;n<f.layer.length;n++){var d=f.layer[n],c=d.tilesetName;c!==""&&a.indexOf(c)===-1&&(a.push(c),l.push(new h(c,0,d.tilesize,d.tilesize,0,0)))}return l};r.exports=x},87021:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(80341),x=i(87010),f=i(6656),l=i(96483),a=function(n,d,c){if(d.layer.length===0)return console.warn("No layers found in the Weltmeister map: "+n),null;for(var u=0,v=0,p=0;p<d.layer.length;p++)d.layer[p].width>u&&(u=d.layer[p].width),d.layer[p].height>v&&(v=d.layer[p].height);var g=new x({width:u,height:v,name:n,tileWidth:d.layer[0].tilesize,tileHeight:d.layer[0].tilesize,format:h.WELTMEISTER});return g.layers=f(d,c),g.tilesets=l(d),g};r.exports=a},52833:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ParseTileLayers:i(6656),ParseTilesets:i(96483),ParseWeltmeister:i(87021)}},57442:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={FromOrientationString:i(6641),Parse:i(46177),Parse2DArray:i(2342),ParseCSV:i(82593),Impact:i(52833),Tiled:i(96761)}},51233:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(79291),x=function(f){for(var l,a,n,d,c,u=0;u<f.layers.length;u++){l=f.layers[u],d=null;for(var v=0;v<l.data.length;v++){c=l.data[v];for(var p=0;p<c.length;p++)a=c[p],!(a===null||a.index<0)&&(n=f.tiles[a.index][2],d=f.tilesets[n],a.width=d.tileWidth,a.height=d.tileHeight,d.tileProperties&&d.tileProperties[a.index-d.firstgid]&&(a.properties=h(a.properties,d.tileProperties[a.index-d.firstgid])))}}};r.exports=x},41868:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){for(var h=window.atob(i),x=h.length,f=new Array(x/4),l=0;l<x;l+=4)f[l/4]=(h.charCodeAt(l)|h.charCodeAt(l+1)<<8|h.charCodeAt(l+2)<<16|h.charCodeAt(l+3)<<24)>>>0;return f};r.exports=C},84101:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33629),x=function(f){var l,a,n=[];for(l=0;l<f.imageCollections.length;l++)for(var d=f.imageCollections[l],c=d.images,u=0;u<c.length;u++){var v=c[u],p={x:0,y:v.height-f.tileHeight};a=new h(v.image,v.gid,v.width,v.height,0,0,null,null,p),a.updateTileData(v.width,v.height),f.tilesets.push(a)}for(l=0;l<f.tilesets.length;l++){a=f.tilesets[l];for(var g=a.tileMargin,m=a.tileMargin,T=0,P=0,E=0,M=a.firstgid;M<a.firstgid+a.total&&(n[M]=[g,m,l],g+=a.tileWidth+a.tileSpacing,T++,!(T===a.total||(P++,P===a.columns&&(g=a.tileMargin,m+=a.tileHeight+a.tileSpacing,P=0,E++,E===a.rows))));M++);}return n};r.exports=x},79677:(r,C,i)=>{/**
 * @author       Seth Berrier <berriers@uwstout.edu>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=function(f,l,a){if(!l)return{i:0,layers:f.layers,name:"",opacity:1,visible:!0,x:0,y:0};var n=l.x+h(l,"startx",0)*f.tilewidth+h(l,"offsetx",0),d=l.y+h(l,"starty",0)*f.tileheight+h(l,"offsety",0);return{i:0,layers:l.layers,name:a.name+l.name+"/",opacity:a.opacity*l.opacity,visible:a.visible&&l.visible,x:a.x+n,y:a.y+d}};r.exports=x},29920:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=2147483648,i=1073741824,h=536870912,x=function(f){var l=!!(f&C),a=!!(f&i),n=!!(f&h);f=f&536870911;var d=0,c=!1;return l&&a&&n?(d=Math.PI/2,c=!0):l&&a&&!n?(d=Math.PI,c=!1):l&&!a&&n?(d=Math.PI/2,c=!1):l&&!a&&!n?(d=0,c=!0):!l&&a&&n?(d=3*Math.PI/2,c=!1):!l&&a&&!n?(d=Math.PI,c=!0):!l&&!a&&n?(d=3*Math.PI/2,c=!0):!l&&!a&&!n&&(d=0,c=!1),{gid:f,flippedHorizontal:l,flippedVertical:a,flippedAntiDiagonal:n,rotation:d,flipped:c}};r.exports=x},12635:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=i(79677),f=function(l){for(var a=[],n=[],d=x(l);d.i<d.layers.length||n.length>0;){if(d.i>=d.layers.length){if(n.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}d=n.pop();continue}var c=d.layers[d.i];if(d.i++,c.type!=="imagelayer"){if(c.type==="group"){var u=x(l,c,d);n.push(d),d=u}continue}var v=h(c,"offsetx",0)+h(c,"startx",0),p=h(c,"offsety",0)+h(c,"starty",0);a.push({name:d.name+c.name,image:c.image,x:d.x+v+c.x,y:d.y+p+c.y,alpha:d.opacity*c.opacity,visible:d.visible&&c.visible,properties:h(c,"properties",{})})}return a};r.exports=f},46594:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(51233),x=i(84101),f=i(91907),l=i(62644),a=i(80341),n=i(6641),d=i(87010),c=i(12635),u=i(22611),v=i(28200),p=i(24619),g=function(m,T,P){var E=l(T),M=new d({width:E.width,height:E.height,name:m,tileWidth:E.tilewidth,tileHeight:E.tileheight,orientation:n(E.orientation),format:a.TILED_JSON,version:E.version,properties:E.properties,renderOrder:E.renderorder,infinite:E.infinite});if(M.orientation===f.HEXAGONAL)if(M.hexSideLength=E.hexsidelength,M.staggerAxis=E.staggeraxis,M.staggerIndex=E.staggerindex,M.staggerAxis==="y"){var w=(M.tileHeight-M.hexSideLength)/2;M.widthInPixels=M.tileWidth*(M.width+.5),M.heightInPixels=M.height*(M.hexSideLength+w)+w}else{var R=(M.tileWidth-M.hexSideLength)/2;M.widthInPixels=M.width*(M.hexSideLength+R)+R,M.heightInPixels=M.tileHeight*(M.height+.5)}M.layers=v(E,P),M.images=c(E);var A=p(E);return M.tilesets=A.tilesets,M.imageCollections=A.imageCollections,M.objects=u(E),M.tiles=x(M),h(M),M};r.exports=g},52205:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(18254),x=i(29920),f=function(n){return{x:n.x,y:n.y}},l=["id","name","type","rotation","properties","visible","x","y","width","height"],a=function(n,d,c){d===void 0&&(d=0),c===void 0&&(c=0);var u=h(n,l);if(u.x+=d,u.y+=c,n.gid){var v=x(n.gid);u.gid=v.gid,u.flippedHorizontal=v.flippedHorizontal,u.flippedVertical=v.flippedVertical,u.flippedAntiDiagonal=v.flippedAntiDiagonal}else n.polyline?u.polyline=n.polyline.map(f):n.polygon?u.polygon=n.polygon.map(f):n.ellipse?u.ellipse=n.ellipse:n.text?u.text=n.text:n.point?u.point=!0:u.rectangle=!0;return u};r.exports=a},22611:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95540),x=i(52205),f=i(48700),l=i(79677),a=function(n){for(var d=[],c=[],u=l(n);u.i<u.layers.length||c.length>0;){if(u.i>=u.layers.length){if(c.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}u=c.pop();continue}var v=u.layers[u.i];if(u.i++,v.opacity*=u.opacity,v.visible=u.visible&&v.visible,v.type!=="objectgroup"){if(v.type==="group"){var p=l(n,v,u);c.push(u),u=p}continue}v.name=u.name+v.name;for(var g=u.x+h(v,"startx",0)+h(v,"offsetx",0),m=u.y+h(v,"starty",0)+h(v,"offsety",0),T=[],P=0;P<v.objects.length;P++){var E=x(v.objects[P],g,m);T.push(E)}var M=new f(v);M.objects=T,d.push(M)}return d};r.exports=a},28200:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41868),x=i(91907),f=i(79677),l=i(6641),a=i(95540),n=i(14977),d=i(29920),c=i(23029),u=function(v,p){for(var g=a(v,"infinite",!1),m=[],T=[],P=f(v);P.i<P.layers.length||T.length>0;){if(P.i>=P.layers.length){if(T.length<1){console.warn("TilemapParser.parseTiledJSON - Invalid layer group hierarchy");break}P=T.pop();continue}var E=P.layers[P.i];if(P.i++,E.type!=="tilelayer"){if(E.type==="group"){var M=f(v,E,P);T.push(P),P=M}continue}if(E.compression){console.warn("TilemapParser.parseTiledJSON - Layer compression is unsupported, skipping layer '"+E.name+"'");continue}else if(E.encoding&&E.encoding==="base64"){if(E.chunks)for(var w=0;w<E.chunks.length;w++)E.chunks[w].data=h(E.chunks[w].data);E.data&&(E.data=h(E.data)),delete E.encoding}var R,A,O,F,L,b,D=[],I=0;if(g){var k=a(E,"startx",0)+E.x,X=a(E,"starty",0)+E.y;R=new n({name:P.name+E.name,id:E.id,x:P.x+a(E,"offsetx",0)+k*v.tilewidth,y:P.y+a(E,"offsety",0)+X*v.tileheight,width:E.width,height:E.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*E.opacity,visible:P.visible&&E.visible,properties:a(E,"properties",[]),orientation:l(v.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=v.hexsidelength,R.staggerAxis=v.staggeraxis,R.staggerIndex=v.staggerindex,R.staggerAxis==="y"?(L=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+L)+L):(b=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+b)+b,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var W=0;W<E.height;W++){D[W]=[null];for(var Y=0;Y<E.width;Y++)D[W][Y]=null}for(W=0,J=E.chunks.length;W<J;W++)for(var N=E.chunks[W],V=N.x-k,G=N.y-X,B=0,z=0,U=N.data.length;z<U;z++){var H=I+V,$=B+G;A=d(N.data[z]),A.gid>0?(O=new c(R,A.gid,H,$,v.tilewidth,v.tileheight),O.rotation=A.rotation,O.flipX=A.flipped,D[$][H]=O):(F=p?null:new c(R,-1,H,$,v.tilewidth,v.tileheight),D[$][H]=F),I++,I===N.width&&(B++,I=0)}}else{R=new n({name:P.name+E.name,id:E.id,x:P.x+a(E,"offsetx",0)+E.x,y:P.y+a(E,"offsety",0)+E.y,width:E.width,height:E.height,tileWidth:v.tilewidth,tileHeight:v.tileheight,alpha:P.opacity*E.opacity,visible:P.visible&&E.visible,properties:a(E,"properties",[]),orientation:l(v.orientation)}),R.orientation===x.HEXAGONAL&&(R.hexSideLength=v.hexsidelength,R.staggerAxis=v.staggeraxis,R.staggerIndex=v.staggerindex,R.staggerAxis==="y"?(L=(R.tileHeight-R.hexSideLength)/2,R.widthInPixels=R.tileWidth*(R.width+.5),R.heightInPixels=R.height*(R.hexSideLength+L)+L):(b=(R.tileWidth-R.hexSideLength)/2,R.widthInPixels=R.width*(R.hexSideLength+b)+b,R.heightInPixels=R.tileHeight*(R.height+.5)));for(var K=[],Z=0,J=E.data.length;Z<J;Z++)A=d(E.data[Z]),A.gid>0?(O=new c(R,A.gid,I,D.length,v.tilewidth,v.tileheight),O.rotation=A.rotation,O.flipX=A.flipped,K.push(O)):(F=p?null:new c(R,-1,I,D.length,v.tilewidth,v.tileheight),K.push(F)),I++,I===E.width&&(D.push(K),I=0,K=[])}R.data=D,m.push(R)}return m};r.exports=u},24619:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(33629),x=i(16536),f=i(52205),l=i(57880),a=function(n){for(var d=[],c=[],u=null,v,p=0;p<n.tilesets.length;p++){var g=n.tilesets[p];if(g.source)console.warn("External tilesets unsupported. Use Embed Tileset and re-export");else if(g.image){var m=new h(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,void 0,void 0,g.tileoffset);if(n.version>1){var T=void 0,P=void 0;if(Array.isArray(g.tiles)){T=T||{},P=P||{};for(var E=0;E<g.tiles.length;E++){var M=g.tiles[E];if(M.properties){var w={};M.properties.forEach(function(W){w[W.name]=W.value}),P[M.id]=w}if(M.objectgroup&&((T[M.id]||(T[M.id]={})).objectgroup=M.objectgroup,M.objectgroup.objects)){var R=M.objectgroup.objects.map(function(W){return f(W)});T[M.id].objectgroup.objects=R}M.animation&&((T[M.id]||(T[M.id]={})).animation=M.animation),M.type&&((T[M.id]||(T[M.id]={})).type=M.type)}}Array.isArray(g.wangsets)&&(T=T||{},P=P||{},l(g.wangsets,T)),T&&(m.tileData=T,m.tileProperties=P)}else if(g.tileproperties&&(m.tileProperties=g.tileproperties),g.tiles){m.tileData=g.tiles;for(v in m.tileData){var A=m.tileData[v].objectgroup;if(A&&A.objects){var O=A.objects.map(function(W){return f(W)});m.tileData[v].objectgroup.objects=O}}}m.updateTileData(g.imagewidth,g.imageheight),d.push(m)}else{var F=new x(g.name,g.firstgid,g.tilewidth,g.tileheight,g.margin,g.spacing,g.properties),L=0;for(E=0;E<g.tiles.length;E++){M=g.tiles[E];var b=M.image,D=parseInt(M.id,10),I=g.firstgid+D,k=M.imagewidth,X=M.imageheight;F.addImage(I,b,k,X),L=Math.max(D,L)}F.maxId=L,c.push(F)}u&&(u.lastgid=g.firstgid-1),u=g}return{tilesets:d,imageCollections:c}};r.exports=a},57880:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){for(var x=0;x<i.length;x++){var f=i[x],l=x;if(f.name&&f.name!==""&&(l=f.name),Array.isArray(f.wangtiles)&&f.wangtiles.length>0){var a={},n={},d,c,u;if(Array.isArray(f.edgecolors))for(d=0;d<f.edgecolors.length;d++)u=1+d,c=f.edgecolors[d],c.name!==""&&(a[u]=c.name);if(Array.isArray(f.cornercolors))for(d=0;d<f.cornercolors.length;d++)u=1+d,c=f.cornercolors[d],c.name!==""&&(n[u]=c.name);if(Array.isArray(f.colors))for(d=0;d<f.colors.length;d++)c=f.colors[d],u=1+d,c.name!==""&&(a[u]=n[u]=c.name);for(var v=[a,n,a,n,a,n,a,n],p=0;p<f.wangtiles.length;p++){var g=f.wangtiles[p],m=h[g.tileid]||(h[g.tileid]={});m=m.wangid||(m.wangid={});for(var T=[],P=0;P<Math.min(v.length,g.wangid.length);P++){if(c=g.wangid[P],c===0){T.push(void 0);continue}var E=v[P][c];if(E!==void 0){T.push(E);continue}T.push(c)}m[l]=T}}}};r.exports=C},96761:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={AssignTileProperties:i(51233),Base64Decode:i(41868),BuildTilesetIndex:i(84101),CreateGroupLayer:i(79677),ParseGID:i(29920),ParseImageLayers:i(12635),ParseJSONTiled:i(46594),ParseObject:i(52205),ParseObjectLayers:i(22611),ParseTileLayers:i(28200),ParseTilesets:i(24619)}},33385:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(37277),f=i(44594),l=i(94880),a=i(72905),n=new h({initialize:function(c){this.scene=c,this.systems=c.sys,this.now=0,this.startTime=0,this.timeScale=1,this.paused=!1,this._active=[],this._pendingInsertion=[],this._pendingRemoval=[],c.sys.events.once(f.BOOT,this.boot,this),c.sys.events.on(f.START,this.start,this)},boot:function(){this.now=this.systems.game.loop.time,this.systems.events.once(f.DESTROY,this.destroy,this)},start:function(){this.startTime=this.systems.game.loop.time;var d=this.systems.events;d.on(f.PRE_UPDATE,this.preUpdate,this),d.on(f.UPDATE,this.update,this),d.once(f.SHUTDOWN,this.shutdown,this)},addEvent:function(d){var c;if(d instanceof l){if(c=d,this.removeEvent(c),c.elapsed=c.startAt,c.hasDispatched=!1,c.repeatCount=c.repeat===-1||c.loop?999999999999:c.repeat,c.delay<=0&&c.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay")}else c=new l(d);return this._pendingInsertion.push(c),c},delayedCall:function(d,c,u,v){return this.addEvent({delay:d,callback:c,args:u,callbackScope:v})},clearPendingEvents:function(){return this._pendingInsertion=[],this},removeEvent:function(d){Array.isArray(d)||(d=[d]);for(var c=0;c<d.length;c++){var u=d[c];a(this._pendingRemoval,u),a(this._pendingInsertion,u),a(this._active,u)}return this},removeAllEvents:function(){return this._pendingRemoval=this._pendingRemoval.concat(this._active),this},preUpdate:function(){var d=this._pendingRemoval.length,c=this._pendingInsertion.length;if(!(d===0&&c===0)){var u,v;for(u=0;u<d;u++){v=this._pendingRemoval[u];var p=this._active.indexOf(v);p>-1&&this._active.splice(p,1),v.destroy()}for(u=0;u<c;u++)v=this._pendingInsertion[u],this._active.push(v);this._pendingRemoval.length=0,this._pendingInsertion.length=0}},update:function(d,c){if(this.now=d,!this.paused){c*=this.timeScale;for(var u=0;u<this._active.length;u++){var v=this._active[u];if(!v.paused&&(v.elapsed+=c*v.timeScale,v.elapsed>=v.delay)){var p=v.elapsed-v.delay;if(v.elapsed=v.delay,!v.hasDispatched&&v.callback&&(v.hasDispatched=!0,v.callback.apply(v.callbackScope,v.args)),v.repeatCount>0){if(v.repeatCount--,p>=v.delay)for(;p>=v.delay&&v.repeatCount>0;)v.callback&&v.callback.apply(v.callbackScope,v.args),p-=v.delay,v.repeatCount--;v.elapsed=p,v.hasDispatched=!1}else v.hasDispatched&&this._pendingRemoval.push(v)}}}},shutdown:function(){var d;for(d=0;d<this._pendingInsertion.length;d++)this._pendingInsertion[d].destroy();for(d=0;d<this._active.length;d++)this._active[d].destroy();for(d=0;d<this._pendingRemoval.length;d++)this._pendingRemoval[d].destroy();this._active.length=0,this._pendingRemoval.length=0,this._pendingInsertion.length=0;var c=this.systems.events;c.off(f.PRE_UPDATE,this.preUpdate,this),c.off(f.UPDATE,this.update,this),c.off(f.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.scene.sys.events.off(f.START,this.start,this),this.scene=null,this.systems=null}});x.register("Clock",n,"time"),r.exports=n},96120:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(39429),l=i(95540),a=i(44594),n=i(89809),d=new h({Extends:x,initialize:function(u,v){x.call(this),this.scene=u,this.systems=u.sys,this.elapsed=0,this.timeScale=1,this.paused=!0,this.complete=!1,this.totalComplete=0,this.loop=0,this.iteration=0,this.events=[];var p=this.systems.events;p.on(a.PRE_UPDATE,this.preUpdate,this),p.on(a.UPDATE,this.update,this),p.once(a.SHUTDOWN,this.destroy,this),v&&this.add(v)},preUpdate:function(c,u){this.paused||(this.elapsed+=u*this.timeScale)},update:function(){if(!(this.paused||this.complete)){var c,u=this.events,v=!1,p=this.systems,g;for(c=0;c<u.length;c++){var m=u[c];if(!m.complete&&m.time<=this.elapsed){if(m.complete=!0,this.totalComplete++,g=m.target?m.target:this,m.if&&!m.if.call(g,m))continue;if(m.once&&(v=!0),m.set&&m.target)for(var T in m.set)m.target[T]=m.set[T];this.iteration&&m.repeat++,m.loop&&m.repeat&&m.loop.call(g),m.tween&&(m.tweenInstance=p.tweens.add(m.tween)),m.sound&&(typeof m.sound=="string"?p.sound.play(m.sound):p.sound.play(m.sound.key,m.sound.config)),m.event&&this.emit(m.event,g),m.run&&m.run.call(g),m.stop&&this.stop()}}if(v)for(c=0;c<u.length;c++)u[c].complete&&u[c].once&&(u.splice(c,1),c--);this.totalComplete>=u.length&&(this.loop!==0&&(this.loop===-1||this.loop>this.iteration)?(this.iteration++,this.reset(!0)):this.complete=!0),this.complete&&this.emit(n.COMPLETE,this)}},play:function(c){return c===void 0&&(c=!0),this.paused=!1,this.complete=!1,this.totalComplete=0,c&&this.reset(),this},pause:function(){this.paused=!0;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!0)}return this},repeat:function(c){return(c===void 0||c===!0)&&(c=-1),c===!1&&(c=0),this.loop=c,this},resume:function(){this.paused=!1;for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&(v.tweenInstance.paused=!1)}return this},stop:function(){return this.paused=!0,this.complete=!0,this},reset:function(c){c===void 0&&(c=!1),this.elapsed=0,c||(this.iteration=0);for(var u=this.events,v=0;v<u.length;v++){var p=u[v];p.complete=!1,c||(p.repeat=0),p.tweenInstance&&p.tweenInstance.stop()}return this.play(!1)},add:function(c){Array.isArray(c)||(c=[c]);var u=this.events,v=0;u.length>0&&(v=u[u.length-1].time);for(var p=0;p<c.length;p++){var g=c[p],m=l(g,"at",0),T=l(g,"in",null);T!==null&&(m=this.elapsed+T);var P=l(g,"from",null);P!==null&&(m=v+P),u.push({complete:!1,time:m,repeat:0,if:l(g,"if",null),run:l(g,"run",null),loop:l(g,"loop",null),event:l(g,"event",null),target:l(g,"target",null),set:l(g,"set",null),tween:l(g,"tween",null),sound:l(g,"sound",null),once:l(g,"once",!1),stop:l(g,"stop",!1)}),v=m}return this.complete=!1,this},clear:function(){for(var c=this.events,u=0;u<c.length;u++){var v=c[u];v.tweenInstance&&v.tweenInstance.stop()}return c=[],this.elapsed=0,this.paused=!0,this},isPlaying:function(){return!this.paused&&!this.complete},getProgress:function(){var c=Math.min(this.totalComplete,this.events.length);return c/this.events.length},destroy:function(){var c=this.systems.events;c.off(a.PRE_UPDATE,this.preUpdate,this),c.off(a.UPDATE,this.update,this),c.off(a.SHUTDOWN,this.destroy,this),this.clear(),this.scene=null,this.systems=null}});f.register("timeline",function(c){return new d(this.scene,c)}),r.exports=d},94880:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(95540),f=new h({initialize:function(a){this.delay=0,this.repeat=0,this.repeatCount=0,this.loop=!1,this.callback,this.callbackScope,this.args,this.timeScale=1,this.startAt=0,this.elapsed=0,this.paused=!1,this.hasDispatched=!1,this.reset(a)},reset:function(l){if(this.delay=x(l,"delay",0),this.repeat=x(l,"repeat",0),this.loop=x(l,"loop",!1),this.callback=x(l,"callback",void 0),this.callbackScope=x(l,"callbackScope",this),this.args=x(l,"args",[]),this.timeScale=x(l,"timeScale",1),this.startAt=x(l,"startAt",0),this.paused=x(l,"paused",!1),this.elapsed=this.startAt,this.hasDispatched=!1,this.repeatCount=this.repeat===-1||this.loop?999999999999:this.repeat,this.delay<=0&&this.repeatCount>0)throw new Error("TimerEvent infinite loop created via zero delay");return this},getProgress:function(){return this.elapsed/this.delay},getOverallProgress:function(){if(this.repeat>0){var l=this.delay+this.delay*this.repeat,a=this.elapsed+this.delay*(this.repeat-this.repeatCount);return a/l}else return this.getProgress()},getRepeatCount:function(){return this.repeatCount},getElapsed:function(){return this.elapsed},getElapsedSeconds:function(){return this.elapsed*.001},getRemaining:function(){return this.delay-this.elapsed},getRemainingSeconds:function(){return this.getRemaining()*.001},getOverallRemaining:function(){return this.delay*(1+this.repeatCount)-this.elapsed},getOverallRemainingSeconds:function(){return this.getOverallRemaining()*.001},remove:function(l){l===void 0&&(l=!1),this.elapsed=this.delay,this.hasDispatched=!l,this.repeatCount=0},destroy:function(){this.callback=void 0,this.callbackScope=void 0,this.args=[]}});r.exports=f},35945:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},89809:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={COMPLETE:i(35945)}},90291:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clock:i(33385),Events:i(89809),Timeline:i(96120),TimerEvent:i(94880)}},40382:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(72905),x=i(83419),f=i(43491),l=i(88032),a=i(37277),n=i(44594),d=i(93109),c=i(86081),u=i(8357),v=i(43960),p=i(26012),g=new x({initialize:function(T){this.scene=T,this.events=T.sys.events,this.timeScale=1,this.paused=!1,this.processing=!1,this.tweens=[],this.time=0,this.startTime=0,this.nextTime=0,this.prevTime=0,this.maxLag=500,this.lagSkip=33,this.gap=1e3/240,this.events.once(n.BOOT,this.boot,this),this.events.on(n.START,this.start,this)},boot:function(){this.events.once(n.DESTROY,this.destroy,this)},start:function(){this.timeScale=1,this.paused=!1,this.startTime=Date.now(),this.prevTime=this.startTime,this.nextTime=this.gap,this.events.on(n.UPDATE,this.update,this),this.events.once(n.SHUTDOWN,this.shutdown,this)},create:function(m){Array.isArray(m)||(m=[m]);for(var T=[],P=0;P<m.length;P++){var E=m[P];E instanceof c||E instanceof v?T.push(E):Array.isArray(E.tweens)?T.push(p(this,E)):T.push(u(this,E))}return T.length===1?T[0]:T},add:function(m){var T=m,P=this.tweens;return T instanceof c||T instanceof v||(Array.isArray(T.tweens)?T=p(this,T):T=u(this,T)),P.push(T.reset()),T},addMultiple:function(m){for(var T,P=[],E=this.tweens,M=0;M<m.length;M++)T=m[M],T instanceof c||T instanceof v||(Array.isArray(T.tweens)?T=p(this,T):T=u(this,T)),E.push(T.reset()),P.push(T);return P},chain:function(m){var T=p(this,m);return this.tweens.push(T.init()),T},getChainedTweens:function(m){return m.getChainedTweens()},has:function(m){return this.tweens.indexOf(m)>-1},existing:function(m){return this.has(m)||this.tweens.push(m.reset()),this},addCounter:function(m){var T=l(this,m);return this.tweens.push(T.reset()),T},stagger:function(m,T){return d(m,T)},setLagSmooth:function(m,T){return m===void 0&&(m=1/1e-8),T===void 0&&(T=0),this.maxLag=m,this.lagSkip=Math.min(T,this.maxLag),this},setFps:function(m){return m===void 0&&(m=240),this.gap=1e3/m,this.nextTime=this.time*1e3+this.gap,this},getDelta:function(m){var T=Date.now()-this.prevTime;T>this.maxLag&&(this.startTime+=T-this.lagSkip),this.prevTime+=T;var P=this.prevTime-this.startTime,E=P-this.nextTime,M=P-this.time*1e3;return E>0||m?(P/=1e3,this.time=P,this.nextTime+=E+(E>=this.gap?4:this.gap-E)):M=0,M},tick:function(){return this.step(!0),this},update:function(){this.paused||this.step(!1)},step:function(m){m===void 0&&(m=!1);var T=this.getDelta(m);if(!(T<=0)){this.processing=!0;var P,E,M=[],w=this.tweens;for(P=0;P<w.length;P++)E=w[P],E.update(T)&&M.push(E);var R=M.length;if(R&&w.length>0){for(P=0;P<R;P++){E=M[P];var A=w.indexOf(E);A>-1&&(E.isPendingRemove()||E.isDestroyed())&&(w.splice(A,1),E.destroy())}M.length=0}this.processing=!1}},remove:function(m){return this.processing?m.setPendingRemoveState():(h(this.tweens,m),m.setRemovedState()),this},reset:function(m){return this.existing(m),m.seek(),m.setActiveState(),this},makeActive:function(m){return this.existing(m),m.setActiveState(),this},each:function(m,T){var P,E=[null];for(P=1;P<arguments.length;P++)E.push(arguments[P]);return this.tweens.forEach(function(M){E[0]=M,m.apply(T,E)}),this},getTweens:function(){return this.tweens.slice()},getTweensOf:function(m){var T=[],P=this.tweens;Array.isArray(m)?m=f(m):m=[m];for(var E=m.length,M=0;M<P.length;M++)for(var w=P[M],R=0;R<E;R++)!w.isDestroyed()&&w.hasTarget(m[R])&&T.push(w);return T},getGlobalTimeScale:function(){return this.timeScale},setGlobalTimeScale:function(m){return this.timeScale=m,this},isTweening:function(m){for(var T=this.tweens,P,E=0;E<T.length;E++)if(P=T[E],P.isPlaying()&&P.hasTarget(m))return!0;return!1},killAll:function(){for(var m=this.processing?this.getTweens():this.tweens,T=0;T<m.length;T++)m[T].destroy();return this.processing||(m.length=0),this},killTweensOf:function(m){for(var T=this.getTweensOf(m),P=0;P<T.length;P++)T[P].destroy();return this},pauseAll:function(){return this.paused=!0,this},resumeAll:function(){return this.paused=!1,this},shutdown:function(){this.killAll(),this.tweens=[],this.events.off(n.UPDATE,this.update,this),this.events.off(n.SHUTDOWN,this.shutdown,this)},destroy:function(){this.shutdown(),this.events.off(n.START,this.start,this),this.scene=null,this.events=null}});a.register("TweenManager",g,"tweens"),r.exports=g},57355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){return i&&i.hasOwnProperty(h)?i[h]:x};r.exports=C},6113:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(62640),x=i(35355),f=function(l,a){var n=h.Power0;if(typeof l=="string")if(h.hasOwnProperty(l))n=h[l];else{var d="";if(l.indexOf(".")){d=l.substring(l.indexOf(".")+1);var c=d.toLowerCase();c==="in"?d="easeIn":c==="out"?d="easeOut":c==="inout"&&(d="easeInOut")}l=x(l.substring(0,l.indexOf(".")+1)+d),h.hasOwnProperty(l)&&(n=h[l])}else typeof l=="function"&&(n=l);if(!a)return n;var u=a.slice(0);return u.unshift(0),function(v){return u[0]=v,n.apply(this,u)}};r.exports=f},91389:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(89318),x=i(77259),f=i(28392),l={bezier:h,catmull:x,catmullrom:x,linear:f},a=function(n){if(n===null)return null;var d=l.linear;return typeof n=="string"?l.hasOwnProperty(n)&&(d=l[n]):typeof n=="function"&&(d=n),d};r.exports=a},55292:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f;if(i.hasOwnProperty(h)){var l=typeof i[h];l==="function"?f=function(a,n,d,c,u,v){return i[h](a,n,d,c,u,v)}:f=function(){return i[h]}}else typeof x=="function"?f=x:f=function(){return x};return f};r.exports=C},82985:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(81076),x=function(f){var l,a=[];if(f.hasOwnProperty("props"))for(l in f.props)l.substring(0,1)!=="_"&&a.push({key:l,value:f.props[l]});else for(l in f)h.indexOf(l)===-1&&l.substring(0,1)!=="_"&&a.push({key:l,value:f[l]});return a};r.exports=x},62329:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),x=function(f){var l=h(f,"targets",null);return l===null||(typeof l=="function"&&(l=l.call()),Array.isArray(l)||(l=[l])),l};r.exports=x},17777:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(30976),x=i(99472);function f(c){return!!c.getActive&&typeof c.getActive=="function"}function l(c){return!!c.getStart&&typeof c.getStart=="function"}function a(c){return!!c.getEnd&&typeof c.getEnd=="function"}function n(c){return l(c)||a(c)||f(c)}var d=function(c,u){var v,p=function(W,Y,N){return N},g=function(W,Y,N){return N},m=null,T=typeof u;if(T==="number")p=function(){return u};else if(Array.isArray(u))g=function(){return u[0]},p=function(){return u[u.length-1]};else if(T==="string"){var P=u.toLowerCase(),E=P.substring(0,6)==="random",M=P.substring(0,3)==="int";if(E||M){var w=P.indexOf("("),R=P.indexOf(")"),A=P.indexOf(",");if(w&&R&&A){var O=parseFloat(P.substring(w+1,A)),F=parseFloat(P.substring(A+1,R));E?p=function(){return x(O,F)}:p=function(){return h(O,F)}}else throw new Error("invalid random() format")}else{P=P[0];var L=parseFloat(u.substr(2));switch(P){case"+":p=function(W,Y,N){return N+L};break;case"-":p=function(W,Y,N){return N-L};break;case"*":p=function(W,Y,N){return N*L};break;case"/":p=function(W,Y,N){return N/L};break;default:p=function(){return parseFloat(u)}}}}else if(T==="function")p=u;else if(T==="object")if(n(u))f(u)&&(m=u.getActive),a(u)&&(p=u.getEnd),l(u)&&(g=u.getStart);else if(u.hasOwnProperty("value"))v=d(c,u.value);else{var b=u.hasOwnProperty("to"),D=u.hasOwnProperty("from"),I=u.hasOwnProperty("start");if(b&&(D||I)){if(v=d(c,u.to),I){var k=d(c,u.start);v.getActive=k.getEnd}if(D){var X=d(c,u.from);v.getStart=X.getEnd}}}return v||(v={getActive:m,getEnd:p,getStart:g}),v};r.exports=d},88032:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),x=i(69902),f=i(23568),l=i(57355),a=i(6113),n=i(95540),d=i(55292),c=i(35154),u=i(17777),v=i(269),p=i(86081),g=function(m,T,P){if(T instanceof p)return T.parent=m,T;P===void 0?P=x:P=v(x,P);var E=n(T,"from",0),M=n(T,"to",1),w=[{value:E}],R=n(T,"delay",P.delay),A=n(T,"easeParams",P.easeParams),O=n(T,"ease",P.ease),F=u("value",M),L=new p(m,w),b=L.add(0,"value",F.getEnd,F.getStart,F.getActive,a(n(T,"ease",O),n(T,"easeParams",A)),d(T,"delay",R),n(T,"duration",P.duration),l(T,"yoyo",P.yoyo),n(T,"hold",P.hold),n(T,"repeat",P.repeat),n(T,"repeatDelay",P.repeatDelay),!1,!1);b.start=E,b.current=E,L.completeDelay=f(T,"completeDelay",0),L.loop=Math.round(f(T,"loop",0)),L.loopDelay=Math.round(f(T,"loopDelay",0)),L.paused=l(T,"paused",!1),L.persist=l(T,"persist",!1),L.isNumberTween=!0,L.callbackScope=c(T,"callbackScope",L);for(var D=h.TYPES,I=0;I<D.length;I++){var k=D[I],X=c(T,k,!1);if(X){var W=c(T,k+"Params",[]);L.setCallback(k,X,W)}}return L};r.exports=g},93109:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(6113),x=i(35154),f=i(36383),l=function(a,n){n===void 0&&(n={});var d,c=x(n,"start",0),u=x(n,"ease",null),v=x(n,"grid",null),p=x(n,"from",0),g=p==="first",m=p==="center",T=p==="last",P=typeof p=="number",E=Array.isArray(a),M=parseFloat(E?a[0]:a),w=E?parseFloat(a[1]):0,R=Math.max(M,w);if(E&&(c+=M),v){var A=v[0],O=v[1],F=0,L=0,b=0,D=0,I=[];T?(F=A-1,L=O-1):P?(F=p%A,L=Math.floor(p/A)):m&&(F=(A-1)/2,L=(O-1)/2);for(var k=f.MIN_SAFE_INTEGER,X=0;X<O;X++){I[X]=[];for(var W=0;W<A;W++){b=F-W,D=L-X;var Y=Math.sqrt(b*b+D*D);Y>k&&(k=Y),I[X][W]=Y}}}var N=u?h(u):null;return v?d=function(V,G,B,z){var U=0,H=z%A,$=Math.floor(z/A);H>=0&&H<A&&$>=0&&$<O&&(U=I[$][H]);var K;if(E){var Z=w-M;N?K=U/k*Z*N(U/k):K=U/k*Z}else N?K=U*M*N(U/k):K=U*M;return K+c}:d=function(V,G,B,z,U){U--;var H;g?H=z:m?H=Math.abs(U/2-z):T?H=U-z:P&&(H=Math.abs(p-z));var $;if(E){var K;m?K=(w-M)/U*(H*2):K=(w-M)/U*H,N?$=K*N(H/U):$=K}else N?$=U*R*N(H/U):$=H*M;return $+c},d};r.exports=l},8357:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),x=i(69902),f=i(23568),l=i(57355),a=i(6113),n=i(95540),d=i(91389),c=i(55292),u=i(82985),v=i(62329),p=i(35154),g=i(17777),m=i(269),T=i(86081),P=function(E,M,w){if(M instanceof T)return M.parent=E,M;w===void 0?w=x:w=m(x,w);var R=v(M);!R&&w.targets&&(R=w.targets);for(var A=u(M),O=n(M,"delay",w.delay),F=n(M,"duration",w.duration),L=n(M,"easeParams",w.easeParams),b=n(M,"ease",w.ease),D=n(M,"hold",w.hold),I=n(M,"repeat",w.repeat),k=n(M,"repeatDelay",w.repeatDelay),X=l(M,"yoyo",w.yoyo),W=l(M,"flipX",w.flipX),Y=l(M,"flipY",w.flipY),N=n(M,"interpolation",w.interpolation),V=function(j,tt,it,q){if(it==="texture"){var ht=q,ot=void 0;Array.isArray(q)?(ht=q[0],ot=q[1]):q.hasOwnProperty("value")?(ht=q.value,Array.isArray(q.value)?(ht=q.value[0],ot=q.value[1]):typeof q.value=="string"&&(ht=q.value)):typeof q=="string"&&(ht=q),j.addFrame(tt,ht,ot,c(q,"delay",O),n(q,"duration",F),n(q,"hold",D),n(q,"repeat",I),n(q,"repeatDelay",k),l(q,"flipX",W),l(q,"flipY",Y))}else{var lt=g(it,q),_=d(n(q,"interpolation",N));j.add(tt,it,lt.getEnd,lt.getStart,lt.getActive,a(n(q,"ease",b),n(q,"easeParams",L)),c(q,"delay",O),n(q,"duration",F),l(q,"yoyo",X),n(q,"hold",D),n(q,"repeat",I),n(q,"repeatDelay",k),l(q,"flipX",W),l(q,"flipY",Y),_,_?q:null)}},G=new T(E,R),B=0;B<A.length;B++)for(var z=A[B].key,U=A[B].value,H=0;H<R.length;H++)z==="scale"&&!R[H].hasOwnProperty("scale")?(V(G,H,"scaleX",U),V(G,H,"scaleY",U)):V(G,H,z,U);G.completeDelay=f(M,"completeDelay",0),G.loop=Math.round(f(M,"loop",0)),G.loopDelay=Math.round(f(M,"loopDelay",0)),G.paused=l(M,"paused",!1),G.persist=l(M,"persist",!1),G.callbackScope=n(M,"callbackScope",G);for(var $=h.TYPES,K=0;K<$.length;K++){var Z=$[K],J=p(M,Z,!1);if(J){var Q=p(M,Z+"Params",[]);G.setCallback(Z,J,Q)}}return G};r.exports=P},26012:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),x=i(23568),f=i(57355),l=i(62329),a=i(35154),n=i(8357),d=i(43960),c=function(u,v){if(v instanceof d)return v.parent=u,v;var p=new d(u);p.startDelay=a(v,"delay",0),p.completeDelay=x(v,"completeDelay",0),p.loop=Math.round(x(v,"loop",a(v,"repeat",0))),p.loopDelay=Math.round(x(v,"loopDelay",a(v,"repeatDelay",0))),p.paused=f(v,"paused",!1),p.persist=f(v,"persist",!1),p.callbackScope=a(v,"callbackScope",p);var g,m=h.TYPES;for(g=0;g<m.length;g++){var T=m[g],P=a(v,T,!1);if(P){var E=a(v,T+"Params",[]);p.setCallback(T,P,E)}}var M=a(v,"tweens",null);if(Array.isArray(M)){var w=[],R=l(v),A=void 0;for(R&&(A={targets:R}),g=0;g<M.length;g++)w.push(n(p,M[g],A));p.add(w)}return p};r.exports=c},30231:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={GetBoolean:i(57355),GetEaseFunction:i(6113),GetInterpolationFunction:i(91389),GetNewValue:i(55292),GetProps:i(82985),GetTargets:i(62329),GetValueOp:i(17777),NumberTweenBuilder:i(88032),StaggerBuilder:i(93109),TweenBuilder:i(8357)}},73685:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="active"},98540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="complete"},67233:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="loop"},2859:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="pause"},98336:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="repeat"},25764:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="resume"},32193:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="start"},84371:r=>{/**
 * @author       samme
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="stop"},70766:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="update"},55659:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports="yoyo"},842:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={TWEEN_ACTIVE:i(73685),TWEEN_COMPLETE:i(98540),TWEEN_LOOP:i(67233),TWEEN_PAUSE:i(2859),TWEEN_RESUME:i(25764),TWEEN_REPEAT:i(98336),TWEEN_START:i(32193),TWEEN_STOP:i(84371),TWEEN_UPDATE:i(70766),TWEEN_YOYO:i(55659)}},43066:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h={States:i(86353),Builders:i(30231),Events:i(842),TweenManager:i(40382),Tween:i(86081),TweenData:i(48177),TweenFrameData:i(42220),BaseTween:i(70402),TweenChain:i(43960)};r.exports=h},70402:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(50792),f=i(842),l=i(86353),a=new h({Extends:x,initialize:function(d){x.call(this),this.parent=d,this.data=[],this.totalData=0,this.startDelay=0,this.hasStarted=!1,this.timeScale=1,this.loop=0,this.loopDelay=0,this.loopCounter=0,this.completeDelay=0,this.countdown=0,this.state=l.PENDING,this.paused=!1,this.callbacks={onActive:null,onComplete:null,onLoop:null,onPause:null,onRepeat:null,onResume:null,onStart:null,onStop:null,onUpdate:null,onYoyo:null},this.callbackScope,this.persist=!1},setTimeScale:function(n){return this.timeScale=n,this},getTimeScale:function(){return this.timeScale},isPlaying:function(){return!this.paused&&this.isActive()},isPaused:function(){return this.paused},pause:function(){return this.paused||(this.paused=!0,this.dispatchEvent(f.TWEEN_PAUSE,"onPause")),this},resume:function(){return this.paused&&(this.paused=!1,this.dispatchEvent(f.TWEEN_RESUME,"onResume")),this},makeActive:function(){this.parent.makeActive(this),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")},onCompleteHandler:function(){this.setPendingRemoveState(),this.dispatchEvent(f.TWEEN_COMPLETE,"onComplete")},complete:function(n){return n===void 0&&(n=0),n?(this.setCompleteDelayState(),this.countdown=n):this.onCompleteHandler(),this},completeAfterLoop:function(n){return n===void 0&&(n=0),this.loopCounter>n&&(this.loopCounter=n),this},remove:function(){return this.parent&&this.parent.remove(this),this},stop:function(){return this.parent&&!this.isRemoved()&&!this.isPendingRemove()&&!this.isDestroyed()&&(this.dispatchEvent(f.TWEEN_STOP,"onStop"),this.setPendingRemoveState()),this},updateLoopCountdown:function(n){this.countdown-=n,this.countdown<=0&&(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"))},updateStartCountdown:function(n){return this.countdown-=n,this.countdown<=0&&(this.hasStarted=!0,this.setActiveState(),this.dispatchEvent(f.TWEEN_START,"onStart"),n=0),n},updateCompleteDelay:function(n){this.countdown-=n,this.countdown<=0&&this.onCompleteHandler()},setCallback:function(n,d,c){return c===void 0&&(c=[]),this.callbacks.hasOwnProperty(n)&&(this.callbacks[n]={func:d,params:c}),this},setPendingState:function(){this.state=l.PENDING},setActiveState:function(){this.state=l.ACTIVE,this.hasStarted=!1},setLoopDelayState:function(){this.state=l.LOOP_DELAY},setCompleteDelayState:function(){this.state=l.COMPLETE_DELAY},setStartDelayState:function(){this.state=l.START_DELAY,this.countdown=this.startDelay,this.hasStarted=!1},setPendingRemoveState:function(){this.state=l.PENDING_REMOVE},setRemovedState:function(){this.state=l.REMOVED},setFinishedState:function(){this.state=l.FINISHED},setDestroyedState:function(){this.state=l.DESTROYED},isPending:function(){return this.state===l.PENDING},isActive:function(){return this.state===l.ACTIVE},isLoopDelayed:function(){return this.state===l.LOOP_DELAY},isCompleteDelayed:function(){return this.state===l.COMPLETE_DELAY},isStartDelayed:function(){return this.state===l.START_DELAY},isPendingRemove:function(){return this.state===l.PENDING_REMOVE},isRemoved:function(){return this.state===l.REMOVED},isFinished:function(){return this.state===l.FINISHED},isDestroyed:function(){return this.state===l.DESTROYED},destroy:function(){this.data&&this.data.forEach(function(n){n.destroy()}),this.removeAllListeners(),this.callbacks=null,this.data=null,this.parent=null,this.setDestroyedState()}});a.TYPES=["onActive","onComplete","onLoop","onPause","onRepeat","onResume","onStart","onStop","onUpdate","onYoyo"],r.exports=a},95042:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(83419),x=i(842),f=i(86353),l=new h({initialize:function(n,d,c,u,v,p,g,m,T,P){this.tween=n,this.targetIndex=d,this.duration=u<=0?.01:u,this.totalDuration=0,this.delay=0,this.getDelay=c,this.yoyo=v,this.hold=p,this.repeat=g,this.repeatDelay=m,this.repeatCounter=0,this.flipX=T,this.flipY=P,this.progress=0,this.elapsed=0,this.state=0,this.isCountdown=!1},getTarget:function(){return this.tween.targets[this.targetIndex]},setTargetValue:function(a){a===void 0&&(a=this.current),this.tween.targets[this.targetIndex][this.key]=a},setCreatedState:function(){this.state=f.CREATED,this.isCountdown=!1},setDelayState:function(){this.state=f.DELAY,this.isCountdown=!0},setPendingRenderState:function(){this.state=f.PENDING_RENDER,this.isCountdown=!1},setPlayingForwardState:function(){this.state=f.PLAYING_FORWARD,this.isCountdown=!1},setPlayingBackwardState:function(){this.state=f.PLAYING_BACKWARD,this.isCountdown=!1},setHoldState:function(){this.state=f.HOLD_DELAY,this.isCountdown=!0},setRepeatState:function(){this.state=f.REPEAT_DELAY,this.isCountdown=!0},setCompleteState:function(){this.state=f.COMPLETE,this.isCountdown=!1},isCreated:function(){return this.state===f.CREATED},isDelayed:function(){return this.state===f.DELAY},isPendingRender:function(){return this.state===f.PENDING_RENDER},isPlayingForward:function(){return this.state===f.PLAYING_FORWARD},isPlayingBackward:function(){return this.state===f.PLAYING_BACKWARD},isHolding:function(){return this.state===f.HOLD_DELAY},isRepeating:function(){return this.state===f.REPEAT_DELAY},isComplete:function(){return this.state===f.COMPLETE},setStateFromEnd:function(a){this.yoyo?this.onRepeat(a,!0,!0):this.repeatCounter>0?this.onRepeat(a,!0,!1):this.setCompleteState()},setStateFromStart:function(a){this.repeatCounter>0?this.onRepeat(a,!1):this.setCompleteState()},reset:function(){var a=this.tween,n=a.totalTargets,d=this.targetIndex,c=a.targets[d],u=this.key;this.progress=0,this.elapsed=0,this.delay=this.getDelay(c,u,0,d,n,a),this.repeatCounter=this.repeat===-1?f.MAX:this.repeat,this.setPendingRenderState();var v=this.duration+this.hold;this.yoyo&&(v+=this.duration);var p=v+this.repeatDelay;this.totalDuration=this.delay+v,this.repeat===-1?(this.totalDuration+=p*f.MAX,a.isInfinite=!0):this.repeat>0&&(this.totalDuration+=p*this.repeat),this.totalDuration>a.duration&&(a.duration=this.totalDuration),this.delay<a.startDelay&&(a.startDelay=this.delay),this.delay>0&&(this.elapsed=this.delay,this.setDelayState())},onRepeat:function(a,n,d){var c=this.tween,u=c.totalTargets,v=this.targetIndex,p=c.targets[v],g=this.key,m=g!=="texture";if(this.elapsed=a,this.progress=a/this.duration,this.flipX&&p.toggleFlipX(),this.flipY&&p.toggleFlipY(),m&&(n||d)&&(this.start=this.getStartValue(p,g,this.start,v,u,c)),d){this.setPlayingBackwardState(),this.dispatchEvent(x.TWEEN_YOYO,"onYoyo");return}this.repeatCounter--,m&&(this.end=this.getEndValue(p,g,this.start,v,u,c)),this.repeatDelay>0?(this.elapsed=this.repeatDelay-a,m&&(this.current=this.start,p[g]=this.current),this.setRepeatState()):(this.setPlayingForwardState(),this.dispatchEvent(x.TWEEN_REPEAT,"onRepeat"))},destroy:function(){this.tween=null,this.getDelay=null,this.setCompleteState()}});r.exports=l},69902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={targets:null,delay:0,duration:1e3,ease:"Power0",easeParams:null,hold:0,repeat:0,repeatDelay:0,yoyo:!1,flipX:!1,flipY:!1,persist:!1,interpolation:null};r.exports=C},81076:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports=["callbackScope","completeDelay","delay","duration","ease","easeParams","flipX","flipY","hold","interpolation","loop","loopDelay","onActive","onActiveParams","onComplete","onCompleteParams","onLoop","onLoopParams","onPause","onPauseParams","onRepeat","onRepeatParams","onResume","onResumeParams","onStart","onStartParams","onStop","onStopParams","onUpdate","onUpdateParams","onYoyo","onYoyoParams","paused","persist","props","repeat","repeatDelay","targets","yoyo"]},86081:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(70402),x=i(83419),f=i(842),l=i(44603),a=i(39429),n=i(36383),d=i(86353),c=i(48177),u=i(42220),v=new x({Extends:h,initialize:function(g,m){h.call(this,g),this.targets=m,this.totalTargets=m.length,this.isSeeking=!1,this.isInfinite=!1,this.elapsed=0,this.totalElapsed=0,this.duration=0,this.progress=0,this.totalDuration=0,this.totalProgress=0,this.isNumberTween=!1},add:function(p,g,m,T,P,E,M,w,R,A,O,F,L,b,D,I){var k=new c(this,p,g,m,T,P,E,M,w,R,A,O,F,L,b,D,I);return this.totalData=this.data.push(k),k},addFrame:function(p,g,m,T,P,E,M,w,R,A){var O=new u(this,p,g,m,T,P,E,M,w,R,A);return this.totalData=this.data.push(O),O},getValue:function(p){p===void 0&&(p=0);var g=null;return this.data&&(g=this.data[p].current),g},hasTarget:function(p){return this.targets&&this.targets.indexOf(p)!==-1},updateTo:function(p,g,m){if(m===void 0&&(m=!1),p!=="texture")for(var T=0;T<this.totalData;T++){var P=this.data[T];P.key===p&&(P.isPlayingForward()||P.isPlayingBackward())&&(P.end=g,m&&(P.start=P.current))}return this},restart:function(){switch(this.state){case d.REMOVED:case d.FINISHED:this.seek(),this.parent.makeActive(this);break;case d.PENDING:case d.PENDING_REMOVE:this.parent.reset(this);break;case d.DESTROYED:console.warn("Cannot restart destroyed Tween",this);break;default:this.seek();break}return this.paused=!1,this.hasStarted=!1,this},nextState:function(){if(this.loopCounter>0)this.elapsed=0,this.progress=0,this.loopCounter--,this.initTweenData(!0),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(f.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},onCompleteHandler:function(){this.progress=1,this.totalProgress=1,h.prototype.onCompleteHandler.call(this)},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed Tween",this),this):((this.isPendingRemove()||this.isFinished())&&this.seek(),this.paused=!1,this.setActiveState(),this)},seek:function(p,g,m){if(p===void 0&&(p=0),g===void 0&&(g=16.6),m===void 0&&(m=!1),this.isDestroyed())return console.warn("Cannot seek destroyed Tween",this),this;m||(this.isSeeking=!0),this.reset(!0),this.initTweenData(!0),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive");var T=this.paused;if(this.paused=!1,p>0){for(var P=Math.floor(p/g),E=p-P*g,M=0;M<P;M++)this.update(g);E>0&&this.update(E)}return this.paused=T,this.isSeeking=!1,this},initTweenData:function(p){p===void 0&&(p=!1),this.duration=0,this.startDelay=n.MAX_SAFE_INTEGER;for(var g=this.data,m=0;m<this.totalData;m++)g[m].reset(p);this.duration=Math.max(this.duration,.01);var T=this.duration,P=this.completeDelay,E=this.loopCounter,M=this.loopDelay;E>0?this.totalDuration=T+P+(T+M)*E:this.totalDuration=T+P},reset:function(p){return p===void 0&&(p=!1),this.elapsed=0,this.totalElapsed=0,this.progress=0,this.totalProgress=0,this.loopCounter=this.loop,this.loop===-1&&(this.isInfinite=!0,this.loopCounter=d.MAX),p||(this.initTweenData(),this.setActiveState(),this.dispatchEvent(f.TWEEN_ACTIVE,"onActive")),this},update:function(p){if(this.isPendingRemove()||this.isDestroyed())return this.persist?(this.setFinishedState(),!1):!0;if(this.paused||this.isFinished())return!1;if(p*=this.timeScale*this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(p),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(p),!1;this.hasStarted||(this.startDelay-=p,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(f.TWEEN_START,"onStart"),p=0));var g=!1;if(this.isActive())for(var m=this.data,T=0;T<this.totalData;T++)m[T].update(p)&&(g=!0);this.elapsed+=p,this.progress=Math.min(this.elapsed/this.duration,1),this.totalElapsed+=p,this.totalProgress=Math.min(this.totalElapsed/this.totalDuration,1),g||this.nextState();var P=this.isPendingRemove();return P&&this.persist&&(this.setFinishedState(),P=!1),P},forward:function(p){return this.update(p),this},rewind:function(p){return this.update(-p),this},dispatchEvent:function(p,g){if(!this.isSeeking){if(this.emit(p,this,this.targets),!this.callbacks)return;var m=this.callbacks[g];m&&m.func.apply(this.callbackScope,[this,this.targets].concat(m.params))}},destroy:function(){h.prototype.destroy.call(this),this.targets=null}});a.register("tween",function(p){return this.scene.sys.tweens.add(p)}),l.register("tween",function(p){return this.scene.sys.tweens.create(p)}),r.exports=v},43960:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(72905),x=i(70402),f=i(83419),l=i(842),a=i(44603),n=i(39429),d=i(86353),c=new f({Extends:x,initialize:function(v){x.call(this,v),this.currentTween=null,this.currentIndex=0},init:function(){return this.loopCounter=this.loop===-1?d.MAX:this.loop,this.setCurrentTween(0),this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this},add:function(u){var v=this.parent.create(u);Array.isArray(v)||(v=[v]);for(var p=this.data,g=0;g<v.length;g++){var m=v[g];m.parent=this,p.push(m.reset())}return this.totalData=p.length,this},remove:function(u){return h(this.data,u),u.setRemovedState(),u===this.currentTween&&this.nextTween(),this.totalData=this.data.length,this},hasTarget:function(u){for(var v=this.data,p=0;p<this.totalData;p++)if(v[p].hasTarget(u))return!0;return!1},restart:function(){return this.isDestroyed()?(console.warn("Cannot restart destroyed TweenChain",this),this):(this.isRemoved()&&this.parent.makeActive(this),this.resetTweens(),this.paused=!1,this.init())},reset:function(u){return u.seek(),u.setActiveState(),this},makeActive:function(u){return u.reset(),u.setActiveState(),this},nextState:function(){if(this.loopCounter>0)this.loopCounter--,this.resetTweens(),this.loopDelay>0?(this.countdown=this.loopDelay,this.setLoopDelayState()):(this.setActiveState(),this.dispatchEvent(l.TWEEN_LOOP,"onLoop"));else if(this.completeDelay>0)this.countdown=this.completeDelay,this.setCompleteDelayState();else return this.onCompleteHandler(),!0;return!1},play:function(){return this.isDestroyed()?(console.warn("Cannot play destroyed TweenChain",this),this):((this.isPendingRemove()||this.isPending())&&this.resetTweens(),this.paused=!1,this.startDelay>0&&!this.isStartDelayed()?this.setStartDelayState():this.setActiveState(),this)},resetTweens:function(){for(var u=this.data,v=this.totalData,p=0;p<v;p++)u[p].reset(!1);this.setCurrentTween(0)},update:function(u){if(this.isPendingRemove()||this.isDestroyed())return!0;if(this.isFinished()||this.paused)return!1;if(u*=this.parent.timeScale,this.isLoopDelayed())return this.updateLoopCountdown(u),!1;if(this.isCompleteDelayed())return this.updateCompleteDelay(u),!1;this.hasStarted||(this.startDelay-=u,this.startDelay<=0&&(this.hasStarted=!0,this.dispatchEvent(l.TWEEN_START,"onStart"),u=0));var v=!1;return this.isActive()&&this.currentTween&&(this.currentTween.update(u)&&this.nextTween()&&this.nextState(),v=this.isPendingRemove(),v&&this.persist&&(this.setFinishedState(),v=!1)),v},nextTween:function(){return this.currentIndex++,this.currentIndex===this.totalData?!0:(this.setCurrentTween(this.currentIndex),!1)},setCurrentTween:function(u){this.currentIndex=u,this.currentTween=this.data[u],this.currentTween.setActiveState()},dispatchEvent:function(u,v){this.emit(u,this);var p=this.callbacks[v];p&&p.func.apply(this.callbackScope,[this].concat(p.params))},destroy:function(){x.prototype.destroy.call(this),this.currentTween=null}});n.register("tweenchain",function(u){return this.scene.sys.tweens.chain(u)}),a.register("tweenchain",function(u){return this.scene.sys.tweens.create(u)}),r.exports=c},48177:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95042),x=i(45319),f=i(83419),l=i(842),a=new f({Extends:h,initialize:function(d,c,u,v,p,g,m,T,P,E,M,w,R,A,O,F,L){h.call(this,d,c,T,P,E,M,w,R,A,O),this.key=u,this.getActiveValue=g,this.getEndValue=v,this.getStartValue=p,this.ease=m,this.start=0,this.previous=0,this.current=0,this.end=0,this.interpolation=F,this.interpolationData=L},reset:function(n){h.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex],c=this.key;n&&(d[c]=this.start),this.start=0,this.previous=0,this.current=0,this.end=0,this.getActiveValue&&(d[c]=this.getActiveValue(d,c,0))},update:function(n){var d=this.tween,c=d.totalTargets,u=this.targetIndex,v=d.targets[u],p=this.key;if(!v)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.start=this.getStartValue(v,p,v[p],u,c,d),this.end=this.getEndValue(v,p,this.start,u,c,d),this.current=this.start,v[p]=this.start,this.setPlayingForwardState(),!0;var g=this.isPlayingForward(),m=this.isPlayingBackward();if(g||m){var T=this.elapsed,P=this.duration,E=0,M=!1;T+=n,T>=P?(E=T-P,T=P,M=!0):T<0&&(T=0);var w=x(T/P,0,1);this.elapsed=T,this.progress=w,this.previous=this.current,g||(w=1-w);var R=this.ease(w);this.interpolation?this.current=this.interpolation(this.interpolationData,R):this.current=this.start+(this.end-this.start)*R,v[p]=this.current,M&&(g?(d.isNumberTween&&(this.current=this.end,v[p]=this.current),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(E)):(d.isNumberTween&&(this.current=this.start,v[p]=this.current),this.setStateFromStart(E))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,d){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key,p=this.current,g=this.previous;c.emit(n,c,v,u,p,g);var m=c.callbacks[d];m&&m.func.apply(c.callbackScope,[c,u,v,p,g].concat(m.params))}},destroy:function(){h.prototype.destroy.call(this),this.getActiveValue=null,this.getEndValue=null,this.getStartValue=null,this.ease=null}});r.exports=a},42220:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(95042),x=i(45319),f=i(83419),l=i(842),a=new f({Extends:h,initialize:function(d,c,u,v,p,g,m,T,P,E,M){h.call(this,d,c,p,g,!1,m,T,P,E,M),this.key="texture",this.startTexture=null,this.endTexture=u,this.startFrame=null,this.endFrame=v,this.yoyo=T!==0},reset:function(n){h.prototype.reset.call(this);var d=this.tween.targets[this.targetIndex];this.startTexture||(this.startTexture=d.texture.key,this.startFrame=d.frame.name),n&&d.setTexture(this.startTexture,this.startFrame)},update:function(n){var d=this.tween,c=this.targetIndex,u=d.targets[c];if(!u)return this.setCompleteState(),!1;if(this.isCountdown&&(this.elapsed-=n,this.elapsed<=0&&(this.elapsed=0,n=0,this.isDelayed()?this.setPendingRenderState():this.isRepeating()?(this.setPlayingForwardState(),this.dispatchEvent(l.TWEEN_REPEAT,"onRepeat")):this.isHolding()&&this.setStateFromEnd(0))),this.isPendingRender())return this.startTexture&&u.setTexture(this.startTexture,this.startFrame),this.setPlayingForwardState(),!0;var v=this.isPlayingForward(),p=this.isPlayingBackward();if(v||p){var g=this.elapsed,m=this.duration,T=0,P=!1;g+=n,g>=m?(T=g-m,g=m,P=!0):g<0&&(g=0);var E=x(g/m,0,1);this.elapsed=g,this.progress=E,P&&(v?(u.setTexture(this.endTexture,this.endFrame),this.hold>0?(this.elapsed=this.hold,this.setHoldState()):this.setStateFromEnd(T)):(u.setTexture(this.startTexture,this.startFrame),this.setStateFromStart(T))),this.dispatchEvent(l.TWEEN_UPDATE,"onUpdate")}return!this.isComplete()},dispatchEvent:function(n,d){var c=this.tween;if(!c.isSeeking){var u=c.targets[this.targetIndex],v=this.key;c.emit(n,c,v,u);var p=c.callbacks[d];p&&p.func.apply(c.callbackScope,[c,u,v].concat(p.params))}},destroy:function(){h.prototype.destroy.call(this),this.startTexture=null,this.endTexture=null,this.startFrame=null,this.endFrame=null}});r.exports=a},86353:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C={CREATED:0,DELAY:2,PENDING_RENDER:4,PLAYING_FORWARD:5,PLAYING_BACKWARD:6,HOLD_DELAY:7,REPEAT_DELAY:8,COMPLETE:9,PENDING:20,ACTIVE:21,LOOP_DELAY:22,COMPLETE_DELAY:23,START_DELAY:24,PENDING_REMOVE:25,REMOVED:26,FINISHED:27,DESTROYED:28,MAX:999999999999};r.exports=C},83419:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(a){return!!a.get&&typeof a.get=="function"||!!a.set&&typeof a.set=="function"}function i(a,n,d){var c=d?a[n]:Object.getOwnPropertyDescriptor(a,n);return!d&&c.value&&typeof c.value=="object"&&(c=c.value),c&&C(c)?(typeof c.enumerable>"u"&&(c.enumerable=!0),typeof c.configurable>"u"&&(c.configurable=!0),c):!1}function h(a,n){var d=Object.getOwnPropertyDescriptor(a,n);return d?(d.value&&typeof d.value=="object"&&(d=d.value),d.configurable===!1):!1}function x(a,n,d,c){for(var u in n)if(n.hasOwnProperty(u)){var v=i(n,u,d);if(v!==!1){var p=c||a;if(h(p.prototype,u)){if(l.ignoreFinals)continue;throw new Error("cannot override final property '"+u+"', set Class.ignoreFinals = true to skip")}Object.defineProperty(a.prototype,u,v)}else a.prototype[u]=n[u]}}function f(a,n){if(n){Array.isArray(n)||(n=[n]);for(var d=0;d<n.length;d++)x(a,n[d].prototype||n[d])}}function l(a){a||(a={});var n,d;if(a.initialize){if(typeof a.initialize!="function")throw new Error("initialize must be a function");n=a.initialize,delete a.initialize}else if(a.Extends){var c=a.Extends;n=function(){c.apply(this,arguments)}}else n=function(){};a.Extends?(n.prototype=Object.create(a.Extends.prototype),n.prototype.constructor=n,d=a.Extends,delete a.Extends):n.prototype.constructor=n;var u=null;return a.Mixins&&(u=a.Mixins,delete a.Mixins),f(n,u),x(n,a,!0,d),n}l.extend=x,l.mixin=f,l.ignoreFinals=!1,r.exports=l},29747:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){};r.exports=C},20242:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return null};r.exports=C},71146:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l){if(l===void 0&&(l=i),x>0){var a=x-i.length;if(a<=0)return null}if(!Array.isArray(h))return i.indexOf(h)===-1?(i.push(h),f&&f.call(l,h),h):null;for(var n=h.length-1;n>=0;)i.indexOf(h[n])!==-1&&h.splice(n,1),n--;if(n=h.length,n===0)return null;x>0&&n>a&&(h.splice(a),n=a);for(var d=0;d<n;d++){var c=h[d];i.push(c),f&&f.call(l,c)}return h};r.exports=C},51067:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f,l,a){if(x===void 0&&(x=0),a===void 0&&(a=i),f>0){var n=f-i.length;if(n<=0)return null}if(!Array.isArray(h))return i.indexOf(h)===-1?(i.splice(x,0,h),l&&l.call(a,h),h):null;for(var d=h.length-1;d>=0;)i.indexOf(h[d])!==-1&&h.pop(),d--;if(d=h.length,d===0)return null;f>0&&d>n&&(h.splice(n),d=n);for(var c=d-1;c>=0;c--){var u=h[c];i.splice(x,0,u),l&&l.call(a,u)}return h};r.exports=C},66905:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.indexOf(h);return x!==-1&&x<i.length&&(i.splice(x,1),i.push(h)),h};r.exports=C},21612:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),x=function(f,l,a,n,d){n===void 0&&(n=0),d===void 0&&(d=f.length);var c=0;if(h(f,n,d))for(var u=n;u<d;u++){var v=f[u];v[l]===a&&c++}return c};r.exports=x},95428:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f,l=[null];for(f=3;f<arguments.length;f++)l.push(arguments[f]);for(f=0;f<i.length;f++)l[0]=i[f],h.apply(x,l);return i};r.exports=C},36914:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),x=function(f,l,a,n,d){if(n===void 0&&(n=0),d===void 0&&(d=f.length),h(f,n,d)){var c,u=[null];for(c=5;c<arguments.length;c++)u.push(arguments[c]);for(c=n;c<d;c++)u[0]=f[c],l.apply(a,u)}return f};r.exports=x},81957:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h.length){if(h.length===1)return h[0]}else return NaN;var f=1,l,a;if(x){if(i<h[0][x])return h[0];for(;h[f][x]<i;)f++}else for(;h[f]<i;)f++;return f>h.length&&(f=h.length),x?(l=h[f-1][x],a=h[f][x],a-i<=i-l?h[f]:h[f-1]):(l=h[f-1],a=h[f],a-i<=i-l?a:l)};r.exports=C},43491:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=[]);for(var x=0;x<i.length;x++)Array.isArray(i[x])?C(i[x],h):h.push(i[x]);return h};r.exports=C},46710:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),x=function(f,l,a,n,d){n===void 0&&(n=0),d===void 0&&(d=f.length);var c=[];if(h(f,n,d))for(var u=n;u<d;u++){var v=f[u];(!l||l&&a===void 0&&v.hasOwnProperty(l)||l&&a!==void 0&&v[l]===a)&&c.push(v)}return c};r.exports=x},58731:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),x=function(f,l,a,n,d){if(n===void 0&&(n=0),d===void 0&&(d=f.length),n!==-1){if(h(f,n,d))for(var c=n;c<d;c++){var u=f[c];if(!l||l&&a===void 0&&u.hasOwnProperty(l)||l&&a!==void 0&&u[l]===a)return u}}else if(h(f,0,d))for(var c=d;c>=0;c--){var u=f[c];if(!l||l&&a===void 0&&u.hasOwnProperty(l)||l&&a!==void 0&&u[l]===a)return u}return null};r.exports=x},26546:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){h===void 0&&(h=0),x===void 0&&(x=i.length);var f=h+Math.floor(Math.random()*x);return i[f]===void 0?null:i[f]};r.exports=C},85835:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h===x)return i;var f=i.indexOf(h),l=i.indexOf(x);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f>l||(i.splice(f,1),l=i.indexOf(x),i.splice(l+1,0,h)),i};r.exports=C},83371:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h===x)return i;var f=i.indexOf(h),l=i.indexOf(x);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return f<l||(i.splice(f,1),l===0?i.unshift(h):i.splice(l,0,h)),i};r.exports=C},70864:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.indexOf(h);if(x>0){var f=i[x-1],l=i.indexOf(f);i[x]=f,i[l]=h}return i};r.exports=C},69693:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=i.indexOf(h);if(f===-1||x<0||x>=i.length)throw new Error("Supplied index out of bounds");return f!==x&&(i.splice(f,1),i.splice(x,0,h)),h};r.exports=C},40853:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.indexOf(h);if(x!==-1&&x<i.length-1){var f=i[x+1],l=i.indexOf(f);i[x]=f,i[l]=h}return i};r.exports=C},20283:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=[],a,n=!1;if((x||f)&&(n=!0,x||(x=""),f||(f="")),h<i)for(a=i;a>=h;a--)n?l.push(x+a.toString()+f):l.push(a);else for(a=i;a<=h;a++)n?l.push(x+a.toString()+f):l.push(a);return l};r.exports=C},593:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(2284),x=function(f,l,a){f===void 0&&(f=0),l===void 0&&(l=null),a===void 0&&(a=1),l===null&&(l=f,f=0);for(var n=[],d=Math.max(h((l-f)/(a||1)),0),c=0;c<d;c++)n.push(f),f+=a;return n};r.exports=x},43886:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */function C(x,f,l){var a=x[f];x[f]=x[l],x[l]=a}function i(x,f){return x<f?-1:x>f?1:0}var h=function(x,f,l,a,n){for(l===void 0&&(l=0),a===void 0&&(a=x.length-1),n===void 0&&(n=i);a>l;){if(a-l>600){var d=a-l+1,c=f-l+1,u=Math.log(d),v=.5*Math.exp(2*u/3),p=.5*Math.sqrt(u*v*(d-v)/d)*(c-d/2<0?-1:1),g=Math.max(l,Math.floor(f-c*v/d+p)),m=Math.min(a,Math.floor(f+(d-c)*v/d+p));h(x,f,g,m,n)}var T=x[f],P=l,E=a;for(C(x,l,f),n(x[a],T)>0&&C(x,l,a);P<E;){for(C(x,P,E),P++,E--;n(x[P],T)<0;)P++;for(;n(x[E],T)>0;)E--}n(x[l],T)===0?C(x,l,E):(E++,C(x,E,a)),E<=f&&(l=E+1),f<=E&&(a=E-1)}};r.exports=h},88492:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),x=i(33680),f=function(a,n,d){for(var c=[],u=0;u<a.length;u++)for(var v=0;v<n.length;v++)for(var p=0;p<d;p++)c.push({a:a[u],b:n[v]});return c},l=function(a,n,d){var c=h(d,"max",0),u=h(d,"qty",1),v=h(d,"random",!1),p=h(d,"randomB",!1),g=h(d,"repeat",0),m=h(d,"yoyo",!1),T=[];if(p&&x(n),g===-1)if(c===0)g=0;else{var P=a.length*n.length*u;m&&(P*=2),g=Math.ceil(c/P)}for(var E=0;E<=g;E++){var M=f(a,n,u);v&&x(M),T=T.concat(M),m&&(M.reverse(),T=T.concat(M))}return c&&T.splice(c),T};r.exports=l},72905:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19133),x=function(f,l,a,n){n===void 0&&(n=f);var d;if(!Array.isArray(l))return d=f.indexOf(l),d!==-1?(h(f,d),a&&a.call(n,l),l):null;for(var c=l.length-1,u=[];c>=0;){var v=l[c];d=f.indexOf(v),d!==-1&&(h(f,d),u.push(v),a&&a.call(n,v)),c--}return u};r.exports=x},60248:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19133),x=function(f,l,a,n){if(n===void 0&&(n=f),l<0||l>f.length-1)throw new Error("Index out of bounds");var d=h(f,l);return a&&a.call(n,d),d};r.exports=x},81409:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),x=function(f,l,a,n,d){if(l===void 0&&(l=0),a===void 0&&(a=f.length),d===void 0&&(d=f),h(f,l,a)){var c=a-l,u=f.splice(l,c);if(n)for(var v=0;v<u.length;v++){var p=u[v];n.call(d,p)}return u}else return[]};r.exports=x},31856:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(19133),x=function(f,l,a){l===void 0&&(l=0),a===void 0&&(a=f.length);var n=l+Math.floor(Math.random()*a);return h(f,n)};r.exports=x},42169:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=i.indexOf(h),l=i.indexOf(x);return f!==-1&&l===-1?(i[f]=x,!0):!1};r.exports=C},86003:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=1);for(var x=null,f=0;f<h;f++)x=i.shift(),i.push(x);return x};r.exports=C},49498:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){h===void 0&&(h=1);for(var x=null,f=0;f<h;f++)x=i.pop(),i.unshift(x);return x};r.exports=C},82011:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){var l=i.length;if(h<0||h>=l||h>=x||x>l){if(f)throw new Error("Range Error: Values outside acceptable range");return!1}else return!0};r.exports=C},89545:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){var x=i.indexOf(h);return x!==-1&&x>0&&(i.splice(x,1),i.unshift(h)),h};r.exports=C},17810:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82011),x=function(f,l,a,n,d){if(n===void 0&&(n=0),d===void 0&&(d=f.length),h(f,n,d))for(var c=n;c<d;c++){var u=f[c];u.hasOwnProperty(l)&&(u[l]=a)}return f};r.exports=x},33680:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){for(var h=i.length-1;h>0;h--){var x=Math.floor(Math.random()*(h+1)),f=i[h];i[h]=i[x],i[x]=f}return i};r.exports=C},90126:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h=/\D/g;return i.sort(function(x,f){return parseInt(x.replace(h,""),10)-parseInt(f.replace(h,""),10)}),i};r.exports=C},19133:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){if(!(h>=i.length)){for(var x=i.length-1,f=i[h],l=h;l<x;l++)i[l]=i[l+1];return i.length=x,f}};r.exports=C},19186:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @author       Angry Bytes (and contributors)
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(82264);function x(n,d){return String(n).localeCompare(d)}function f(n,d){var c=n.length;if(c<=1)return n;for(var u=new Array(c),v=1;v<c;v*=2){l(n,d,v,u);var p=n;n=u,u=p}return n}function l(n,d,c,u){var v=n.length,p=0,g=c*2,m,T,P,E,M;for(m=0;m<v;m+=g)for(T=m+c,P=T+c,T>v&&(T=v),P>v&&(P=v),E=m,M=T;;)if(E<T&&M<P)d(n[E],n[M])<=0?u[p++]=n[E++]:u[p++]=n[M++];else if(E<T)u[p++]=n[E++];else if(M<P)u[p++]=n[M++];else break}var a=function(n,d){if(d===void 0&&(d=x),!n||n.length<2)return n;if(h.features.stableSort)return n.sort(d);var c=f(n,d);return c!==n&&l(c,null,n.length,n),n};r.exports=a},25630:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(h===x)return i;var f=i.indexOf(h),l=i.indexOf(x);if(f<0||l<0)throw new Error("Supplied items must be elements of the same array");return i[f]=x,i[l]=h,i};r.exports=C},37105:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Matrix:i(54915),Add:i(71146),AddAt:i(51067),BringToTop:i(66905),CountAllMatching:i(21612),Each:i(95428),EachInRange:i(36914),FindClosestInSorted:i(81957),Flatten:i(43491),GetAll:i(46710),GetFirst:i(58731),GetRandom:i(26546),MoveDown:i(70864),MoveTo:i(69693),MoveUp:i(40853),MoveAbove:i(85835),MoveBelow:i(83371),NumberArray:i(20283),NumberArrayStep:i(593),QuickSelect:i(43886),Range:i(88492),Remove:i(72905),RemoveAt:i(60248),RemoveBetween:i(81409),RemoveRandomElement:i(31856),Replace:i(42169),RotateLeft:i(86003),RotateRight:i(49498),SafeRange:i(82011),SendToBack:i(89545),SetAll:i(17810),Shuffle:i(33680),SortByDigits:i(90126),SpliceOne:i(19133),StableSort:i(19186),Swap:i(25630)}},86922:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){if(!Array.isArray(i)||!Array.isArray(i[0]))return!1;for(var h=i[0].length,x=1;x<i.length;x++)if(i[x].length!==h)return!1;return!0};r.exports=C},63362:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41836),x=i(86922),f=function(l){var a="";if(!x(l))return a;for(var n=0;n<l.length;n++){for(var d=0;d<l[n].length;d++){var c=l[n][d].toString();c!=="undefined"?a+=h(c,2):a+="?",d<l[n].length-1&&(a+=" |")}if(n<l.length-1){a+=`
`;for(var u=0;u<l[n].length;u++)a+="---",u<l[n].length-1&&(a+="+");a+=`
`}}return a};r.exports=f},92598:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.reverse()};r.exports=C},21224:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){for(var h=0;h<i.length;h++)i[h].reverse();return i};r.exports=C},98717:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37829),x=function(f){return h(f,180)};r.exports=x},44657:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37829),x=function(f,l){l===void 0&&(l=1);for(var a=0;a<l;a++)f=h(f,90);return f};r.exports=x},37829:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(86922),x=i(2429),f=function(l,a){if(a===void 0&&(a=90),!h(l))return null;if(typeof a!="string"&&(a=(a%360+360)%360),a===90||a===-270||a==="rotateLeft")l=x(l),l.reverse();else if(a===-90||a===270||a==="rotateRight")l.reverse(),l=x(l);else if(Math.abs(a)===180||a==="rotate180"){for(var n=0;n<l.length;n++)l[n].reverse();l.reverse()}return l};r.exports=f},92632:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(37829),x=function(f,l){l===void 0&&(l=1);for(var a=0;a<l;a++)f=h(f,-90);return f};r.exports=x},69512:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(86003),x=i(49498),f=function(l,a,n){if(a===void 0&&(a=0),n===void 0&&(n=0),n!==0&&(n<0?h(l,Math.abs(n)):x(l,n)),a!==0)for(var d=0;d<l.length;d++){var c=l[d];a<0?h(c,Math.abs(a)):x(c,a)}return l};r.exports=f},2429:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){for(var h=i.length,x=i[0].length,f=new Array(x),l=0;l<x;l++){f[l]=new Array(h);for(var a=h-1;a>-1;a--)f[l][a]=i[a][l]}return f};r.exports=C},54915:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={CheckMatrix:i(86922),MatrixToString:i(63362),ReverseColumns:i(92598),ReverseRows:i(21224),Rotate180:i(98717),RotateLeft:i(44657),RotateMatrix:i(37829),RotateRight:i(92632),Translate:i(69512),TransposeMatrix:i(2429)}},71334:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=function(h,x){for(var f=new Uint8Array(h),l=f.length,a=x?"data:"+x+";base64,":"",n=0;n<l;n+=3)a+=C[f[n]>>2],a+=C[(f[n]&3)<<4|f[n+1]>>4],a+=C[(f[n+1]&15)<<2|f[n+2]>>6],a+=C[f[n+2]&63];return l%3===2?a=a.substring(0,a.length-1)+"=":l%3===1&&(a=a.substring(0,a.length-2)+"=="),a};r.exports=i},53134:r=>{/**
 * @author       Niklas von Hertzen (https://github.com/niklasvh/base64-arraybuffer)
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */for(var C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=new Uint8Array(256),h=0;h<C.length;h++)i[C.charCodeAt(h)]=h;var x=function(f){f=f.substr(f.indexOf(",")+1);var l=f.length,a=l*.75,n=0,d,c,u,v;f[l-1]==="="&&(a--,f[l-2]==="="&&a--);for(var p=new ArrayBuffer(a),g=new Uint8Array(p),m=0;m<l;m+=4)d=i[f.charCodeAt(m)],c=i[f.charCodeAt(m+1)],u=i[f.charCodeAt(m+2)],v=i[f.charCodeAt(m+3)],g[n++]=d<<2|c>>4,g[n++]=(c&15)<<4|u>>2,g[n++]=(u&3)<<6|v&63;return p};r.exports=x},65839:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={ArrayBufferToBase64:i(71334),Base64ToArrayBuffer:i(53134)}},91799:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Array:i(37105),Base64:i(65839),Objects:i(1183),String:i(31749),NOOP:i(29747),NULL:i(20242)}},41786:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h={};for(var x in i)Array.isArray(i[x])?h[x]=i[x].slice(0):h[x]=i[x];return h};r.exports=C},62644:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){var h,x,f;if(typeof i!="object"||i===null)return i;h=Array.isArray(i)?[]:{};for(f in i)x=i[f],h[f]=C(x);return h};r.exports=C},79291:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41212),x=function(){var f,l,a,n,d,c,u=arguments[0]||{},v=1,p=arguments.length,g=!1;for(typeof u=="boolean"&&(g=u,u=arguments[1]||{},v=2),p===v&&(u=this,--v);v<p;v++)if((f=arguments[v])!=null)for(l in f)a=u[l],n=f[l],u!==n&&(g&&n&&(h(n)||(d=Array.isArray(n)))?(d?(d=!1,c=a&&Array.isArray(a)?a:[]):c=a&&h(a)?a:{},u[l]=x(g,c,n)):n!==void 0&&(u[l]=n));return u};r.exports=x},23568:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(75508),x=i(35154),f=function(l,a,n){var d=x(l,a,null);if(d===null)return n;if(Array.isArray(d))return h.RND.pick(d);if(typeof d=="object"){if(d.hasOwnProperty("randInt"))return h.RND.integerInRange(d.randInt[0],d.randInt[1]);if(d.hasOwnProperty("randFloat"))return h.RND.realInRange(d.randFloat[0],d.randFloat[1])}else if(typeof d=="function")return d(a);return d};r.exports=f},95540:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){var f=typeof i;return!i||f==="number"||f==="string"?x:i.hasOwnProperty(h)&&i[h]!==void 0?i[h]:x};r.exports=C},82840:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(35154),x=i(45319),f=function(l,a,n,d,c){c===void 0&&(c=n);var u=h(l,a,c);return x(u,n,d)};r.exports=f},35154:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){if(!i&&!f||typeof i=="number")return x;if(i&&i.hasOwnProperty(h))return i[h];if(f&&f.hasOwnProperty(h))return f[h];if(h.indexOf(".")!==-1){for(var l=h.split("."),a=i,n=f,d=x,c=x,u=!0,v=!0,p=0;p<l.length;p++)a&&a.hasOwnProperty(l[p])?(d=a[l[p]],a=a[l[p]]):u=!1,n&&n.hasOwnProperty(l[p])?(c=n[l[p]],n=n[l[p]]):v=!1;return u?d:v?c:x}else return x};r.exports=C},69036:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){for(var x=0;x<h.length;x++)if(!i.hasOwnProperty(h[x]))return!1;return!0};r.exports=C},1985:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){for(var x=0;x<h.length;x++)if(i.hasOwnProperty(h[x]))return!0;return!1};r.exports=C},97022:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.hasOwnProperty(h)};r.exports=C},41212:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){if(!i||typeof i!="object"||i.nodeType||i===i.window)return!1;try{if(i.constructor&&!{}.hasOwnProperty.call(i.constructor.prototype,"isPrototypeOf"))return!1}catch{return!1}return!0};r.exports=C},46975:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),x=function(f,l){var a=h(f);for(var n in l)a.hasOwnProperty(n)||(a[n]=l[n]);return a};r.exports=x},269:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(41786),x=function(f,l){var a=h(f);for(var n in l)a.hasOwnProperty(n)&&(a[n]=l[n]);return a};r.exports=x},18254:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var h=i(97022),x=function(f,l){for(var a={},n=0;n<l.length;n++){var d=l[n];h(f,d)&&(a[d]=f[d])}return a};r.exports=x},61622:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x){if(!i||typeof i=="number")return!1;if(i.hasOwnProperty(h))return i[h]=x,!0;if(h.indexOf(".")!==-1){for(var f=h.split("."),l=i,a=i,n=0;n<f.length;n++)if(l.hasOwnProperty(f[n]))a=l,l=l[f[n]];else return!1;return a[f[f.length-1]]=x,!0}return!1};r.exports=C},1183:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Clone:i(41786),DeepCopy:i(62644),Extend:i(79291),GetAdvancedValue:i(23568),GetFastValue:i(95540),GetMinMaxValue:i(82840),GetValue:i(35154),HasAll:i(69036),HasAny:i(1985),HasValue:i(97022),IsPlainObject:i(41212),Merge:i(46975),MergeRight:i(269),Pick:i(18254),SetValue:i(61622)}},27902:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return i.replace(/%([0-9]+)/g,function(x,f){return h[Number(f)-1]})};r.exports=C},41836:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h,x,f){h===void 0&&(h=0),x===void 0&&(x=" "),f===void 0&&(f=3),i=i.toString();var l=0;if(h+1>=i.length)switch(f){case 1:i=new Array(h+1-i.length).join(x)+i;break;case 3:var a=Math.ceil((l=h-i.length)/2),n=l-a;i=new Array(n+1).join(x)+i+new Array(a+1).join(x);break;default:i=i+new Array(h+1-i.length).join(x);break}return i};r.exports=C},33628:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i,h){return h===0?i.slice(1):i.slice(0,h)+i.slice(h+1)};r.exports=C},27671:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i.split("").reverse().join("")};r.exports=C},45650:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(i){var h=Math.random()*16|0,x=i==="x"?h:h&3|8;return x.toString(16)})};r.exports=C},35355:r=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var C=function(i){return i&&i[0].toUpperCase()+i.slice(1)};r.exports=C},31749:(r,C,i)=>{/**
 * @author       Richard Davey <rich@phaser.io>
 * @copyright    2013-2025 Phaser Studio Inc.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */r.exports={Format:i(27902),Pad:i(41836),RemoveAt:i(33628),Reverse:i(27671),UppercaseFirst:i(35355),UUID:i(45650)}}},o={};function y(r){var C=o[r];if(C!==void 0)return C.exports;var i=o[r]={exports:{}};return s[r](i,i.exports,y),i.exports}y.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}();var S=y(85454);return S})())}(eo)),eo.exports}var eC=tC();const rt=O0(eC);class Po extends rt.Scene{constructor(t){super({key:t})}preload(){this.input.setDefaultCursor("none"),console.log("Loading BaseScene...")}create(){jT(this)}update(t,s){}}class L0 extends Po{constructor(){super("MainMenu"),this.menuButtons=[],this.selectedIndex=0,this.buttonParticles=[],this.particleTimer=null,this.aboutUI=null}preload(){super.preload(),this.load.spritesheet("mm1",`${_t}assets/test/s21-Sheet.png`,{frameWidth:1152,frameHeight:648}),this.load.image("titleLogo",`${_t}assets/ui/logo.png`),this.load.bitmapFont("minecraft",`${_t}assets/fonts/Pixel.png`,`${_t}assets/fonts/Pixel.fnt`),this.load.image("sun",`${_t}assets/effects/sunGlow.png`)}create(){this.cameras.main.setBackgroundColor("#000").fadeIn(5e3);const{width:s,height:o}=this.sys.game.config,y=this.add.sprite(0,0,"mm1").setDisplaySize(s*1.05,o*1.2).setOrigin(.5);this.anims.create({key:"mm1_loop",frames:this.anims.generateFrameNumbers("mm1",{start:0,end:57}),frameRate:22,repeat:-1}),y.play("mm1_loop");const S=this.add.image(s*.38,-o*.25,"sun").setAlpha(.75).setScale(.4).setBlendMode("ADD").setPipeline("rexGlowFilterPipeline").setTint(16742178),r=this.add.container(s/2,o/2,[y,S]).setDepth(9);this.tweens.add({targets:r,scaleX:"+=0.20",scaleY:"+=0.08",x:"+=10",y:"-=10",duration:12e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:S,alpha:{from:.4,to:.7},scale:{from:.38,to:.43},duration:2e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});const C=this.add.rectangle(0,0,s,o,17,.45).setOrigin(0).setDepth(10);this.tweens.add({targets:C,alpha:{from:.82,to:.4},duration:2e3,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}),this.add.image(s/2,o*.28,"titleLogo").setOrigin(.5).setAlpha(.9).setScale(.6).setDepth(12);const i=this.add.bitmapText(s/2-2,o*.68,"minecraft","- Press Any Button To Continue -",20).setOrigin(.5).setAlpha(.6).setDepth(12),h=this.tweens.add({targets:i,alpha:{from:.3,to:1},duration:1200,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});this.input.keyboard.once("keydown",()=>{i.destroy(),h.stop(),this.showMainMenu(s/2,o*.68)})}showMainMenu(t,s){this.clearMenu();const o=["Begin Journey","Options","About"],y=[()=>this.startGame(),()=>this.showOptionsMenu(),()=>this.showAboutBox()];this.menuButtons=o.map((S,r)=>{const C=this.createTextButton(S,y[r]).setDepth(12);return C.setPosition(t,s+r*40).setOrigin(.5),C}),this.selectedIndex=0,this.highlightSelectedButton(!0),this.input.keyboard.on("keydown-UP",()=>this.navigateMenu(-1)),this.input.keyboard.on("keydown-W",()=>this.navigateMenu(-1)),this.input.keyboard.on("keydown-DOWN",()=>this.navigateMenu(1)),this.input.keyboard.on("keydown-S",()=>this.navigateMenu(1)),this.input.keyboard.on("keydown",S=>{var C;if(this.aboutUI||S.code!=="Enter")return;const r=this.menuButtons[this.selectedIndex];(C=r==null?void 0:r.callback)==null||C.call(r)})}showOptionsMenu(){this.clearMenu();const{width:t,height:s}=this.sys.game.config,o=t/2,y=s*.68;let S=Ya.volumeLevel??100,r=Ya.visualsState??"HIGH";const C=(l,a,n,d)=>{const c=this.add.bitmapText(0,0,"minecraft",l,25).setOrigin(1,.5).setDepth(12),u=this.add.bitmapText(0,0,"minecraft",a(),25).setOrigin(0,.5).setDepth(12),v=()=>{const g=c.width+u.width;c.x=o-g/2+c.width,u.x=o+g/2-(l==="Volume:"&&S===0?20:l==="Volume:"?35:50)};v(),c.y=u.y=y+n;const p=this.tweens.add({targets:u,alpha:{from:1,to:.3},duration:500,yoyo:!0,repeat:-1,paused:!0});return{callback:()=>{d(u,v)},setAlpha:g=>{c.setAlpha(g),u.setAlpha(g),c.setTint(g===1?16777215:8947848),u.setTint(g===1?16777215:8947848)},setTint:()=>{},destroy:()=>{c.destroy(),u.destroy(),p.stop()},value:u,tween:p}},i=C("Volume:",()=>`${S}%`,0,(l,a)=>{S=S<=0?100:S-10,Ya.volumeLevel=S,l.setText(`${S}%`),a()}),h=C("Visuals:",()=>r,40,l=>{r=r==="HIGH"?"LOW":"HIGH",Ya.visualsState=r,l.setText(r)}),x=this.createTextButton("Back",()=>this.showMainMenu(o,y)).setDepth(12);x.setPosition(o,y+80).setOrigin(.5),this.menuButtons=[i,h,x],this.selectedIndex=0,this.highlightSelectedButton(!0);const f=()=>{this.menuButtons.forEach((l,a)=>{var n,d;(n=l.tween)==null||n[a===this.selectedIndex?"resume":"pause"](),(d=l.value)==null||d.setAlpha(a===this.selectedIndex?1:.6)})};f(),["keydown-UP","keydown-W"].forEach(l=>this.input.keyboard.on(l,()=>{this.navigateMenu(-1),f()})),["keydown-DOWN","keydown-S"].forEach(l=>this.input.keyboard.on(l,()=>{this.navigateMenu(1),f()})),this.input.keyboard.on("keydown",l=>{var a;if(l.code==="Enter"){const n=this.menuButtons[this.selectedIndex];(a=n==null?void 0:n.callback)==null||a.call(n),f()}})}showAboutBox(){if(this.aboutUI)return;const{width:t,height:s}=this.sys.game.config,o=this.add.rectangle(0,0,t,s,0,.85).setOrigin(0).setDepth(99).setInteractive(),y=this.add.bitmapText(t/2,s/2,"minecraft",`Hello!
This is a game made for my gf, the most precious thing on earth to me.

**Engine**: Phaser 3
**Plugins**: RexGlowFilterPipelinePlugin, RexUIPlugin
**Development Tools**: Vite, npm
**Assets**: Custom sprite sheets, backgrounds, and Minecraft-inspired font

Enjoy your journey!`,18).setOrigin(.5).setDepth(100);this.aboutUI=[o,y];const S=()=>{o.destroy(),y.destroy(),this.input.keyboard.off("keydown",S),this.aboutUI=null};this.input.keyboard.on("keydown",S),o.on("pointerdown",S)}navigateMenu(t){this.selectedIndex=rt.Math.Wrap(this.selectedIndex+t,0,this.menuButtons.length),this.highlightSelectedButton(!0)}highlightSelectedButton(t=!1){this.menuButtons.forEach((s,o)=>{s.setAlpha(o===this.selectedIndex?1:.6),s.setTint(o===this.selectedIndex?16777215:8947848)}),this.clearButtonParticles(),this.spawnButtonParticles(this.menuButtons[this.selectedIndex],t,!0)}createTextButton(t,s){const o=this.add.bitmapText(0,0,"minecraft",t,25).setAlpha(1).setInteractive({useHandCursor:!0});return o.callback=s,o.on("pointerdown",()=>{this.aboutUI||(this.selectedIndex=this.menuButtons.indexOf(o),this.highlightSelectedButton(!0),s())}),o}spawnButtonParticles(t,s=!1,o=!1){const y=t.width;this.particleTimer&&this.particleTimer.remove();const S=(r=0)=>{[-1,1].forEach(C=>{const i=rt.Math.FloatBetween(-Math.PI/12,Math.PI/12),h=rt.Math.FloatBetween(30,50),x=t.x+C*(y/2+10),f=t.y+rt.Math.Between(-4,4),l=x+C*Math.cos(i)*h,a=f+Math.sin(i)*h,n=this.add.circle(x,f,2,16777215,.9).setDepth(11);this.tweens.add({targets:n,x:l,y:a,alpha:0,duration:1400-r,ease:"Sine.easeInOut",onComplete:()=>n.destroy()}),this.buttonParticles.push(n)})};for(let r=0;r<(s?12:6);r++)S(o?rt.Math.Between(200,1e3):0);this.particleTimer=this.time.addEvent({delay:250,loop:!0,callback:()=>S()})}clearMenu(){this.clearButtonParticles(),this.menuButtons.forEach(t=>t.destroy()),this.menuButtons=[],this.input.keyboard.removeAllListeners()}clearButtonParticles(){this.buttonParticles.forEach(t=>t.destroy()),this.buttonParticles=[],this.particleTimer&&this.particleTimer.remove()}startGame(){this.input.keyboard.removeAllListeners(),this.input.removeAllListeners(),this.menuButtons.forEach(t=>{t.removeAllListeners(),t.disableInteractive()}),this.scale.fullscreenTarget=document.getElementById("game-container"),this.scale.startFullscreen(),this.input.setDefaultCursor("none"),this.cameras.main.fadeOut(2e3,0,0,0),this.time.delayedCall(2e3,()=>this.scene.start("Intro"))}}class iC{constructor(t,s,o,y="bunny_idle"){this.scene=t,this.sprite=t.physics.add.sprite(s,o,y),this.sprite.setScale(3.5),this.sprite.setCollideWorldBounds(!0),this.name="Siva",this.health=100,this.jumpHeight=850,this.baseSpeed=100,this.maxSpeed=500,this.acceleration=400,this.deceleration=800,this.currentAppliedSpeed=0,this.lastMoveDirection=null,this.targetAnimFPSAtMaxSpeed=12,this.minMovingAnimFPS=7,this.currentState="idle",this.idleTimer=0,this.IDLE_TO_SLEEP_THRESHOLD=5e3,this.waitToSleepTimer=0,this.WAIT_BEFORE_SLEEP_DURATION=1e3,this.controls=t.input.keyboard.addKeys({left:Phaser.Input.Keyboard.KeyCodes.A,right:Phaser.Input.Keyboard.KeyCodes.D,leftArrow:Phaser.Input.Keyboard.KeyCodes.LEFT,rightArrow:Phaser.Input.Keyboard.KeyCodes.RIGHT,jump:Phaser.Input.Keyboard.KeyCodes.SPACE}),this.sprite.on("animationcomplete",S=>{if(S.key==="lieDown"&&this.currentState==="lyingDown"&&(this.currentState="waitingToSleep",this.waitToSleepTimer=this.WAIT_BEFORE_SLEEP_DURATION),S.key==="jump"&&this.currentState==="landing"){const r=this.controls.left.isDown||this.controls.leftArrow.isDown||this.controls.right.isDown||this.controls.rightArrow.isDown;this.currentState=r?"moving":"idle"}})}update(t,s){const o=s/1e3;this.handleStateTransitionsAndMovement(o),this.handleSleepTimers(s),this.processAnimations()}handleStateTransitionsAndMovement(t){const s=this.sprite.body.blocked.down,o=Phaser.Input.Keyboard.JustDown(this.controls.jump),y=this.controls.left.isDown||this.controls.leftArrow.isDown,S=this.controls.right.isDown||this.controls.rightArrow.isDown;this.currentState==="jumping"&&s&&(this.currentState="landing"),o&&s&&(this.currentState==="idle"||this.currentState==="moving")&&(this.sprite.setVelocityY(-this.jumpHeight),this.currentState="jumping");let r=null;if(y&&(r="left"),S&&(r="right"),r)this.lastMoveDirection!==r&&(this.currentAppliedSpeed=this.baseSpeed),this.currentAppliedSpeed+=this.acceleration*t,this.currentAppliedSpeed=Math.min(this.currentAppliedSpeed,this.maxSpeed),this.sprite.setVelocityX(r==="left"?-this.currentAppliedSpeed:this.currentAppliedSpeed),this.sprite.flipX=r==="left",this.lastMoveDirection=r,s&&this.currentState==="idle"&&(this.currentState="moving");else if(s&&this.currentAppliedSpeed>0){this.currentAppliedSpeed-=this.deceleration*t,this.currentAppliedSpeed=Math.max(0,this.currentAppliedSpeed);const C=this.lastMoveDirection==="left"?-1:1;this.sprite.setVelocityX(this.currentAppliedSpeed*C),this.currentAppliedSpeed===0&&this.currentState==="moving"&&(this.currentState="idle")}!y&&!S&&s&&this.currentState==="moving"&&this.sprite.body.velocity.x===0&&(this.currentState="idle"),(r||o)&&(["lyingDown","waitingToSleep","sleeping"].includes(this.currentState)&&(this.currentState="idle"),this.idleTimer=0,this.waitToSleepTimer=0)}handleSleepTimers(t){this.currentState==="idle"&&this.sprite.body.velocity.x===0?(this.idleTimer+=t,this.idleTimer>=this.IDLE_TO_SLEEP_THRESHOLD&&(this.currentState="lyingDown",this.idleTimer=0)):this.idleTimer=0,this.currentState==="waitingToSleep"&&(this.waitToSleepTimer-=t,this.waitToSleepTimer<=0&&(this.currentState="sleeping",this.waitToSleepTimer=0))}processAnimations(){var s;const t=(s=this.sprite.anims.currentAnim)==null?void 0:s.key;switch(this.currentState){case"moving":t!=="run"&&this.sprite.anims.play("run",!0);const o=this.currentAppliedSpeed/this.maxSpeed,y=this.targetAnimFPSAtMaxSpeed-this.minMovingAnimFPS,S=this.minMovingAnimFPS+o*y;this.sprite.anims.msPerFrame=1e3/S;break;case"jumping":t!=="jump"&&this.sprite.anims.play("jump",!1);break;case"landing":t!=="run"&&t!=="jump"&&this.sprite.anims.play("jump",!1);break;case"idle":t!=="idle"&&this.sprite.anims.play("idle",!0);break;case"lyingDown":t!=="lieDown"&&this.sprite.anims.play("lieDown",!1);break;case"waitingToSleep":this.sprite.anims.stop();break;case"sleeping":t!=="sleep"&&this.sprite.anims.play("sleep");break}}}const Xs=15e4,sC=500,rC=175,nC=200,aC=25200,Ml=22e3,hC=25500,Te={BASE_WIDTH:80,BASE_HEIGHT:10,Y_OFFSET:55,MAX_OPACITY_ON_GROUND:.45,MIN_OPACITY_IN_AIR:.1,MAX_SCALE_ON_GROUND:1,MIN_SCALE_IN_AIR:.3,MAX_JUMP_HEIGHT_EFFECT:150,SKEW_FACTOR:.12,MAX_SKEW:.3,WOBBLE_AMOUNT:.08};class oC{constructor(t,s,o,y){this.scene=t,this.bunny=s,this.spawnPoint=new rt.Math.Vector2(o,y),this.currentState="DORMANT",this.moveToTarget=new rt.Math.Vector2,this.moveTween=null,this.states={active:{springForce:.015,damping:.91,jitter:.1,hoverMag1:20,hoverMag2:8,hoverSpeed1:.003,hoverSpeed2:.005,followOffsetRangeX:{min:15,max:90},followOffsetRangeY:{min:-90,max:-40},repositionTimer:{min:2e3,max:4e3}},idle:{springForce:.005,damping:.94,jitter:.02,hoverMag1:4,hoverMag2:2,hoverSpeed1:.001,hoverSpeed2:.0015,followOffsetRangeX:{min:45,max:65},followOffsetRangeY:{min:15,max:0},repositionTimer:{min:5e3,max:8e3}}};const S=12952063;this.glowSprite=t.add.sprite(this.spawnPoint.x,this.spawnPoint.y,"fairy_spritesheet").setTint(S).setBlendMode(rt.BlendModes.ADD).setDepth(1e3).setAlpha(.8).setScale(1.1),this.sprite=t.add.sprite(this.spawnPoint.x,this.spawnPoint.y,"fairy_spritesheet").setScale(1).setTint(S).setBlendMode(rt.BlendModes.ADD).setDepth(1001),this.questionMark=this.scene.add.text(this.spawnPoint.x,this.spawnPoint.y-45,"?",{fontFamily:"Minecraft, monospace",fontSize:"32px",color:"#FFFFFF",align:"center",shadow:{offsetX:0,offsetY:0,color:"#FFFF00",blur:15,stroke:!1,fill:!0}}).setOrigin(.5,.8).setDepth(1002).setAlpha(0).setVisible(!1),this.interactPrompt=this.scene.add.text(this.spawnPoint.x,this.spawnPoint.y,"Press 'E' to Interact",{fontFamily:"Minecraft, monospace",fontSize:"14px",color:"#FFFFFF",align:"center",shadow:{offsetX:1,offsetY:1,color:"#000000",blur:3,fill:!0}}).setOrigin(.5,1).setDepth(1002).setAlpha(0).setVisible(!1),this.dialogueBox=this.scene.add.graphics().setDepth(1100).setVisible(!1),this.dialogueText=this.scene.add.text(0,0,"",{fontFamily:"Minecraft, monospace",fontSize:"16px",color:"#FFFFFF",wordWrap:{width:230},align:"center"}).setOrigin(.5,.5).setDepth(1101).setVisible(!1),this.isTyping=!1,this.typewriterTimer=null,this.dialogueScript=[],this.dialogueIndex=0,this.minigameActive=!1,this.minigameContainer=this.scene.add.container(0,0).setDepth(1102).setVisible(!1),this.minigameRenderTexture=this.scene.add.renderTexture(0,0,150,12).setOrigin(.5,.5),this.responseTicker=this.scene.add.graphics(),this.minigameContainer.add([this.minigameRenderTexture,this.responseTicker]),this.tickerTween=null,this.currentSuccessZoneWidth=0,this.questionMarkTween=this.scene.tweens.add({targets:this.questionMark,scale:1.2,duration:1200,ease:"Sine.easeInOut",yoyo:!0,repeat:-1,paused:!0}),this.scene.anims.create({key:"fairy_fly_anim",frames:this.scene.anims.generateFrameNumbers("fairy_spritesheet",{start:0,end:2}),frameRate:8,repeat:-1}),this.sprite.play("fairy_fly_anim"),this.glowSprite.play("fairy_fly_anim");const r=this.scene.plugins.get("rexGlowFilterPipeline");if(r){const C=r.add(this.glowSprite,{outerStrength:10,innerStrength:0,intensity:.5,glowColor:9699539});this.scene.tweens.add({targets:C,intensity:{from:.001,to:.02},outerStrength:{from:10,to:45},duration:2500,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}else console.warn("LeaderFirefly: rexGlowFilterPipeline plugin not found.");this.targetState=this.states.active,this.interpolated=JSON.parse(JSON.stringify(this.states.active)),this.interpSpeed=.025,this.hoverPhase1=0,this.hoverPhase2=0,this.vx=0,this.vy=0,this.physicsX=this.spawnPoint.x,this.physicsY=this.spawnPoint.y,this.followOffsetTimer=0,this.currentFollowOffsetX=-60,this.currentFollowOffsetY=-50,this.targetFollowOffsetX=-60,this.targetFollowOffsetY=-50,this.lastFlipX=this.bunny.sprite.flipX,this.targetRotation=0,this.randomTargetRotation=0,this.rotationTimer=0,this.rotationInterpSpeed=.05}moveTo(t,s,o=2e3,y=null){this.moveTween&&this.moveTween.isPlaying()||(this.currentState="MOVING_TO_LOCATION",this.moveToTarget.set(t,s),this.moveTween=this.scene.tweens.add({targets:this,physicsX:t,physicsY:s,duration:o,ease:"Sine.easeInOut",onComplete:()=>{this.currentState="DORMANT",this.spawnPoint.set(t,s),y&&y()}}))}activate(){this.currentState==="DORMANT"&&(this.currentState="AWAITING_INTERACTION",this.questionMark.setVisible(!0),this.interactPrompt.setVisible(!0),this.questionMarkTween.resume(),this.scene.tweens.add({targets:[this.questionMark,this.interactPrompt],alpha:1,duration:500,ease:"Power1"}))}startDialogue(t){this.currentState!=="AWAITING_INTERACTION"&&this.currentState!=="DORMANT"||!t||t.length===0||(this.currentState="DIALOGUE",this.dialogueScript=t,this.dialogueIndex=0,this.scene.tweens.add({targets:[this.questionMark,this.interactPrompt],alpha:0,duration:300,ease:"Power2",onComplete:()=>{this.questionMark.setVisible(!1).setAlpha(1),this.interactPrompt.setVisible(!1).setAlpha(1),this.questionMarkTween.pause()}}),this.dialogueBox.setVisible(!0).setAlpha(0),this.dialogueText.setVisible(!0).setAlpha(0),this._drawDialogueBox(),this.scene.tweens.add({targets:[this.dialogueBox,this.dialogueText],alpha:1,duration:400}),this._processDialogueNode(this.dialogueScript[this.dialogueIndex]))}advanceDialogue(){var t;if(this.currentState==="DIALOGUE"){if(this.isTyping){if((t=this.typewriterTimer)==null||t.remove(),this.isTyping=!1,this.dialogueText.setText(this.dialogueScript[this.dialogueIndex].text),this.dialogueScript[this.dialogueIndex].playerResponse){const s=this.dialogueScript[this.dialogueIndex].playerResponse;this._showResponseMinigame(s.difficulty)}return}if(!this.minigameActive){const s=this.dialogueScript[this.dialogueIndex];if(s.next){const o=s.next;if(o==="end"){this._endConversation(!1);return}if(o==="end_second_dialogue"){this._endConversation(!0);return}if(o==="end_final_dialogue"){this.scene._endFinalDialogue();return}const y=this.dialogueScript.find(S=>S.key===o);y?(this.dialogueIndex=this.dialogueScript.indexOf(y),this._processDialogueNode(y)):(console.warn(`Dialogue node with key "${o}" not found. Ending conversation.`),this._endConversation())}else this.dialogueIndex++,this.dialogueIndex<this.dialogueScript.length?this._processDialogueNode(this.dialogueScript[this.dialogueIndex]):this._endConversation()}}}stopResponseMinigame(){var x,f;if(!this.minigameActive)return;this.tickerTween.pause();const t=this.responseTicker.x,s=this.dialogueScript[this.dialogueIndex],o=150,y=this.currentSuccessZoneWidth,S=((f=(x=s.playerResponse)==null?void 0:x.difficulty)==null?void 0:f.barLayout)??"overlay";let r,C;S==="sideBySide"?(r=o/2-y,C=o/2):(r=-y/2,C=y/2);let i;if(t>=r&&t<=C?(console.log("Success!"),i=s.playerResponse.success):(console.log("Failure!"),i=s.playerResponse.failure),this._hideResponseMinigame(),i==="end"){this._endConversation();return}const h=this.dialogueScript.find(l=>l.key===i);h?(this.dialogueIndex=this.dialogueScript.indexOf(h),this._processDialogueNode(h)):(console.warn(`Dialogue node with key "${i}" not found. Ending conversation.`),this._endConversation())}_drawDialogueBox(){this.dialogueBox.clear();const t=250,s=70;this.dialogueBox.fillStyle(0,.7),this.dialogueBox.fillRoundedRect(-250/2,-70/2,t,s,10);const o=9055202,y=8;this.dialogueBox.fillStyle(o,1),this.dialogueBox.fillRect(-250/2,-70/2,y,y),this.dialogueBox.fillRect(t/2-y,-70/2,y,y),this.dialogueBox.fillRect(-250/2,s/2-y,y,y),this.dialogueBox.fillRect(t/2-y,s/2-y,y,y)}_processDialogueNode(t){this._startTypewriter(t.text,()=>{t.playerResponse&&this._showResponseMinigame(t.playerResponse.difficulty)})}_startTypewriter(t,s=null){this.isTyping=!0,this.dialogueText.setText("");const o=t;let y=0;this.typewriterTimer&&this.typewriterTimer.remove(),this.typewriterTimer=this.scene.time.addEvent({delay:60,callback:()=>{this.dialogueText.setText(this.dialogueText.text+o[y]),y++,y>=o.length&&(this.isTyping=!1,this.typewriterTimer.remove(),s&&s())},repeat:o.length-1})}_showResponseMinigame(t){const s=(t==null?void 0:t.barLayout)??"overlay",o=(t==null?void 0:t.speed)??300,y=(t==null?void 0:t.successZone)??40;this.currentSuccessZoneWidth=y,this.minigameActive=!0,this.minigameContainer.setVisible(!0).setAlpha(0);const S=150,r=12,C=(t==null?void 0:t.barColor)??16711680,i=(t==null?void 0:t.zoneColor)??65280,h=.65,x=2,f=0,l=this.scene.make.graphics({add:!1}),a=this.scene.make.graphics({add:!1});l.fillStyle(C,1),l.fillRect(0,0,S,r),l.lineStyle(x,f,1),l.strokeRect(0,0,S,r),a.fillStyle(i,1),a.lineStyle(x,f,1),s=="overlay"?(a.fillRect((S-y)/2,0,y,r),a.strokeRect((S-y)/2,0,y,r)):(l.clear(),l.fillStyle(C,1),l.fillRect(0,0,S-y,r),l.lineStyle(x,f,1),l.strokeRect(0,0,S-y,r),a.fillRect(S-y,0,y,r),a.strokeRect(S-y,0,y,r)),this.minigameRenderTexture.clear(),this.minigameRenderTexture.draw(l),this.minigameRenderTexture.draw(a),this.minigameRenderTexture.setAlpha(h),l.destroy(),a.destroy(),this.responseTicker.clear().fillStyle(16777215).fillRect(-1.5,-12/2-2,3,r+4),this.responseTicker.x=-150/2,this.tickerTween&&this.tickerTween.stop(),this.tickerTween=this.scene.tweens.add({targets:this.responseTicker,x:S/2,duration:o,ease:"Sine.easeInOut",yoyo:!0,repeat:-1}),this.scene.tweens.add({targets:this.minigameContainer,alpha:1,duration:200})}_hideResponseMinigame(){this.minigameActive=!1,this.tickerTween&&this.tickerTween.stop(),this.scene.tweens.add({targets:this.minigameContainer,alpha:0,duration:200,onComplete:()=>this.minigameContainer.setVisible(!1)})}_endConversation(t=!1){this.scene.tweens.add({targets:[this.dialogueBox,this.dialogueText],alpha:0,duration:300,ease:"Power2",onComplete:()=>{this.dialogueBox.setVisible(!1),this.dialogueText.setVisible(!1)}}),t?this.scene._completeSecondDialogue():(this.currentState="ACTIVE",this.startFollowing(),this.scene._unlockCameraSequence())}startFollowing(){this.scene.tweens.add({targets:[this.sprite,this.glowSprite],scale:1.5,alpha:1,duration:150,ease:"Cubic.easeOut",yoyo:!0}),this.lastFlipX=this.bunny.sprite.flipX;const t=this.bunny.sprite.flipX?1:-1,s=this.states.active;this.targetFollowOffsetX=rt.Math.FloatBetween(s.followOffsetRangeX.min,s.followOffsetRangeX.max)*t,this.targetFollowOffsetY=rt.Math.FloatBetween(s.followOffsetRangeY.min,s.followOffsetRangeY.max),this.currentFollowOffsetX=this.targetFollowOffsetX,this.currentFollowOffsetY=this.targetFollowOffsetY}setIdleState(t){this.currentState==="ACTIVE"&&(this.targetState=t?this.states.idle:this.states.active)}updatePhysics(t){if(this.currentState==="MOVING_TO_LOCATION"||this.currentState!=="ACTIVE")return;const s=this.targetState;for(const o in this.interpolated)typeof this.interpolated[o]=="number"&&typeof s[o]=="number"&&(this.interpolated[o]=rt.Math.Linear(this.interpolated[o],s[o],this.interpSpeed));this._updateFollowOffset(t,s),this._applySpringPhysics()}updateVisuals(t,s){this.hoverPhase1+=this.states.idle.hoverSpeed1*s*2,this.hoverPhase2+=this.states.idle.hoverSpeed2*s*2;let o,y,S;if(this.currentState==="DORMANT"||this.currentState==="MOVING_TO_LOCATION"?(o=Math.sin(this.hoverPhase1)*this.states.idle.hoverMag1+Math.sin(this.hoverPhase2)*this.states.idle.hoverMag2,y=this.currentState==="MOVING_TO_LOCATION"?this.physicsX:this.spawnPoint.x,S=this.currentState==="MOVING_TO_LOCATION"?this.physicsY:this.spawnPoint.y,this.sprite.flipX=!0):this.currentState==="AWAITING_INTERACTION"||this.currentState==="DIALOGUE"?(o=Math.sin(this.hoverPhase1)*this.states.idle.hoverMag1+Math.sin(this.hoverPhase2)*this.states.idle.hoverMag2,y=this.spawnPoint.x,S=this.spawnPoint.y,this.sprite.flipX=this.bunny.sprite.x<this.sprite.x):(o=Math.sin(this.hoverPhase1)*this.interpolated.hoverMag1+Math.sin(this.hoverPhase2)*this.interpolated.hoverMag2,y=this.physicsX,S=this.physicsY,this.sprite.flipX=this.bunny.sprite.flipX),this.sprite.x=y,this.sprite.y=S+o,this.glowSprite.x=this.sprite.x,this.glowSprite.y=this.sprite.y,this.glowSprite.flipX=this.sprite.flipX,this.questionMark.visible&&(this.questionMark.x=this.sprite.x,this.questionMark.y=this.sprite.y-45,this.interactPrompt.x=this.sprite.x,this.interactPrompt.y=this.sprite.y-20),this.dialogueBox.visible){const r=this.sprite.y-85;this.dialogueBox.setPosition(this.sprite.x,r),this.dialogueText.setPosition(this.sprite.x,r),this.minigameContainer.setPosition(this.sprite.x,r+55)}this._updateRotation(s)}_updateFollowOffset(t,s){if(this.bunny.sprite.flipX!==this.lastFlipX&&(this.targetFollowOffsetX*=-1,this.currentFollowOffsetX*=-1),this.lastFlipX=this.bunny.sprite.flipX,this.followOffsetTimer-=t,this.followOffsetTimer<=0){const y=this.bunny.sprite.flipX?1:-1;this.targetFollowOffsetX=rt.Math.FloatBetween(s.followOffsetRangeX.min,s.followOffsetRangeX.max)*y,this.targetFollowOffsetY=rt.Math.FloatBetween(s.followOffsetRangeY.min,s.followOffsetRangeY.max),this.followOffsetTimer=rt.Math.Between(s.repositionTimer.min,s.repositionTimer.max)}}_applySpringPhysics(){let o=!0;Math.abs(this.currentFollowOffsetX-this.targetFollowOffsetX)>2&&(this.currentFollowOffsetX=rt.Math.Linear(this.currentFollowOffsetX,this.targetFollowOffsetX,.02),o=!1),Math.abs(this.currentFollowOffsetY-this.targetFollowOffsetY)>2&&(this.currentFollowOffsetY=rt.Math.Linear(this.currentFollowOffsetY,this.targetFollowOffsetY,.02),o=!1);let y=this.bunny.sprite.x+this.currentFollowOffsetX,S=this.bunny.sprite.y+this.currentFollowOffsetY;if(o){const h=this.interpolated.jitter*20;y+=rt.Math.FloatBetween(-h,h),S+=rt.Math.FloatBetween(-h,h)}const r=y-this.physicsX,C=S-this.physicsY;this.vx+=r*this.interpolated.springForce,this.vy+=C*this.interpolated.springForce,this.vx*=this.interpolated.damping,this.vy*=this.interpolated.damping;const i=this.interpolated.jitter;this.vx+=rt.Math.FloatBetween(-i,i),this.vy+=rt.Math.FloatBetween(-i,i),this.physicsX+=this.vx,this.physicsY+=this.vy}_updateRotation(t){this.rotationTimer-=t,this.rotationTimer<=0&&(this.randomTargetRotation=rt.Math.DegToRad(rt.Math.FloatBetween(-12,12)),this.rotationTimer=rt.Math.Between(400,1e3));let s=this.currentState==="ACTIVE"?rt.Math.Clamp(this.vx*.08,-.5,.5):0;this.targetRotation=this.randomTargetRotation+s,this.sprite.rotation=rt.Math.Linear(this.sprite.rotation,this.targetRotation,this.rotationInterpSpeed),this.glowSprite.rotation=this.sprite.rotation}}class b0 extends Po{constructor(){super("World1"),this.bunny=null,this.leaderFirefly=null,this.fireflies=[],this.dustGroup=null,this.sky=null,this.mountainsBackground=null,this.background=null,this.ground=null,this.stillTimer=0,this.previousBunnyX=0,this.groundPreviousCameraX=0,this.physicsAccumulator=0,this.physicsTimestep=1e3/60,this.bunnyShadow=null,this.bunnyFloorY=0,this.wasOnFloor=!1,this.landingSquashAmount=0,this.shadowWobbleProgress=0,this.isWorldLocked=!1,this.isCameraUnlocking=!1,this.blackOverlay=null,this.secondDialogueTriggered=!1,this.hasCompletedSecondDialogue=!1,this.isMinigameActive=!1,this.minigameScore=0,this.minigameScoreText=null,this.boxGroup=null,this.boxSpawnTimer=null,this.cursors=null,this.lucyStartDialogue=[{key:"start_0",text:"HE-HEY!! You... You aren't supposed to be here you know..."},{key:"ask_mood12",text:"You outsiders keep barging into our dreamscape like you own this place, are you lost or something?",playerResponse:{success:"mood_good1",failure:"mood_bad1",difficulty:{speed:500,successZone:95}}},{key:"mood_good1",text:"Well I'm sorry, I didn't mean to sound so rude, if you really are lost.",next:"start_1"},{key:"mood_bad1",text:"Then be on your way already, if you know your way around here",next:"start_1"},{key:"start_1",text:"Another one of your outsiders friends passed by here not long ago, come to think of it..."},{key:"start_32s1",text:"He did mention if I were to see a bunny shaped dreamer passing by here I sould relay something to her"},{key:"ask_mood",text:"Are you the one he was talking about? His dreamshape was that of a black crow if that helps you.",playerResponse:{success:"mood_good",failure:"mood_bad",difficulty:{speed:1400,successZone:40}}},{key:"mood_good",text:"He said he has a Birthday gift for you, I'll take you to it if you want to.",next:"ask_follow"},{key:"mood_bad",text:"Well, I don't really want to hold on to the gift he left anyway, so I might as well give it to you",next:"ask_follow"},{key:"ask_follow",text:"Shall we go together?",playerResponse:{success:"follow_yes",failure:"follow_no",difficulty:{speed:3e3,successZone:75,barLayout:"sideBySide"}}},{key:"follow_yes",text:"Wonderful! Let's see what secrets we can uncover.",next:"end"},{key:"follow_no",text:"I understand. I will still light your path from a distance. Be safe.",next:"end"}],this.lucySecondDialogue=[{key:"second_0",text:"???"},{key:"second_1",text:"Oh right it looks like whoever was dreaming this place up ran out of ideas."},{key:"second_2",text:"Listen, I know I said I was going to take you there but the truth is I had it with me all along. "},{key:"second_3",text:"I get incredibly lonely here, so I just wanted to have some company for a little bit.  "},{key:"second_4",text:"My name is Lucy by the way.  "},{key:"second_44343",text:"I'll tell you where your gift is, but can we spend a little time more together please"},{key:"second_44343",text:"Let's play one game, one game I promise, I'll dream it up right now..."},{key:"ask_follo3232w",text:"Just jump over those obstacles 5 times, and I'll reveal to you what your Crow friend has told me.",playerResponse:{success:"follow_yes",failure:"follow_no",difficulty:{speed:3e3,successZone:75,barLayout:"sideBySide"}}},{key:"follow_yes",text:"Wonderful! Let's begin!",next:"end_second_dialogue"},{key:"follow_no",text:"You got no choice anyway haha!",next:"end_second_dialogue"}],this.lucyFinalDialogue=[{key:"final_0",text:"That wasn't so hard now was it?"},{key:"final_1",text:"I suppose I could just throw a bunch of other unfinished games and challenges at you..."},{key:"final_2",text:"What do you say? Do you want to see your Birthday Present now?",playerResponse:{success:"follow_yes",failure:"follow_no",difficulty:{speed:200,successZone:5}}},{key:"follow_yes",text:"Wonderful! Let's see what secrets we can uncover.",next:"final_3"},{key:"follow_no",text:"Oh? Well if you say so, I guess it'll just stay hidden in that case",next:"final_3"},{key:"final_3",text:"I'll tell you what, let's play another game..."},{key:"final_4",text:"I won't tell you where your gift is, but I'll show you the way to it, deal?",playerResponse:{success:"follow_yes1",failure:"follow_no2",difficulty:{speed:2500,successZone:95}}},{key:"follow_yes1",text:"Great, let's start",next:"final_44"},{key:"follow_no2",text:"Oh? Well if you say so, I guess it'll just stay hidden in that case",next:"final_44"},{key:"final_44",text:"You will find your Birthday Gift at..."},{key:"final_5",text:"The coldest and most frozen place in this house.",next:"end_final_dialogue"}]}preload(){console.log("Loading World1..."),qT(this),this.load.image("mountainsBackground",`${_t}assets/test/World1/MountainsBackground.png`),this.load.image("background",`${_t}assets/test/World1/Background.png`),this.load.image("ground",`${_t}assets/test/World1/Ground.png`),this.load.image("sky",`${_t}assets/test/World1/Sky.png`),this.load.image("boulders",`${_t}assets/objects/Boulder.png`),this.load.spritesheet("fairy_spritesheet",`${_t}assets/characters/fairySprite.png`,{frameWidth:32,frameHeight:32})}create(){this.cameras.main.fadeIn(6e3,0,0,0).roundPixels=!0,this.dustGroup=this.add.group(),super.create();const t=this.game.config.height;this.physics.world.setBounds(0,0,Xs,t),this.cameras.main.setBounds(0,0,Xs,t),this._createBackgroundLayers(),this._createFadeOverlay(),this._createPlayerAndFollowers(),this._createGroundAndColliders(),this._initShadow(),this.boxGroup=this.physics.add.group(),this.minigameScoreText=this.add.text(this.scale.width/2,50,"Score: 0",{fontFamily:"Minecraft, monospace",fontSize:"32px",color:"#FFFFFF",shadow:{offsetX:2,offsetY:2,color:"#000000",blur:5,fill:!0}}).setOrigin(.5).setScrollFactor(0).setDepth(2e3).setVisible(!1),this.input.keyboard.on("keydown-E",this._handleInteraction,this),this.cursors=this.input.keyboard.createCursorKeys()}update(t,s){if(!(!this.bunny||!this.bunny.sprite||!this.bunny.sprite.body)){if(this.leaderFirefly&&(this.leaderFirefly.currentState==="DIALOGUE"||this.leaderFirefly.currentState==="AWAITING_INTERACTION")&&this.bunny.idleTimer!==void 0&&(this.bunny.idleTimer=0),this._checkFireflyActivation(),this._checkForSecondEncounter(),this._updateWorldLock(),this._updateBunnyIdleState(s),this._spawnRunDust(),this.isMinigameActive?this._updateObstacleMinigame():this.bunny.update(t,s),this.isWorldLocked&&!this.isMinigameActive){const o=this.cameras.main,y=this.bunny.sprite,S=y.displayWidth/2,r=o.worldView.x+S,C=o.worldView.x+o.width-S;y.x=rt.Math.Clamp(y.x,r,C)}for(this.physicsAccumulator+=s;this.physicsAccumulator>=this.physicsTimestep;)this.leaderFirefly.updatePhysics(this.physicsTimestep),this.physicsAccumulator-=this.physicsTimestep;this.leaderFirefly.updateVisuals(t,s),this._updateRegularFireflies(s),this._updateBunnyShadow(),this._updateGroundParallax(),this.sky.tilePositionX+=.25,this._updateBackgroundFade()}}_createBackgroundLayers(){this.sky=this.add.tileSprite(0,0,Xs,this.scale.height,"sky").setOrigin(0,0).setScrollFactor(.2).setDepth(0).setTilePosition(0,300),this.mountainsBackground=this.add.tileSprite(0,0,Xs,this.scale.height,"mountainsBackground").setOrigin(0,0).setScrollFactor(.15).setDepth(1).setTilePosition(0,280),this.background=this.add.tileSprite(0,0,Xs,this.scale.height,"background").setOrigin(0,0).setScrollFactor(.35).setDepth(2).setTilePosition(0,300),this.tweens.add({targets:this.background,scaleY:1.002,duration:1555,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}_createFadeOverlay(){this.blackOverlay=this.add.graphics().fillStyle(0).fillRect(0,0,this.scale.width,this.scale.height).setScrollFactor(0).setDepth(4.5).setAlpha(0)}_updateBackgroundFade(){const t=this.bunny.sprite.x;let s=0;t>Ml&&(s=rt.Math.Clamp((t-Ml)/(hC-Ml),0,1)),this.blackOverlay.setAlpha(s)}_createPlayerAndFollowers(){this.bunny=new iC(this,100,435,"bunny_idle"),this.bunny.sprite.setTint(14665958).setDepth(5),this.cameras.main.startFollow(this.bunny.sprite),this.textures.get("bunny_run").setFilter(rt.Textures.FilterMode.NEAREST),this.leaderFirefly=new oC(this,this.bunny,11e3,375),this._spawnRegularFireflies()}_checkFireflyActivation(){this.leaderFirefly&&this.leaderFirefly.currentState==="DORMANT"&&!this.secondDialogueTriggered&&rt.Math.Distance.Between(this.bunny.sprite.x,this.bunny.sprite.y,this.leaderFirefly.spawnPoint.x,this.leaderFirefly.spawnPoint.y)<rC&&this.leaderFirefly.activate()}_checkForSecondEncounter(){if(this.leaderFirefly.currentState==="ACTIVE"&&!this.secondDialogueTriggered&&this.bunny.sprite.x>aC){this.secondDialogueTriggered=!0,this.isWorldLocked=!0,this.cameras.main.stopFollow();const t=this.bunny.sprite.x+150;this.leaderFirefly.moveTo(t,375,250,()=>{this.leaderFirefly.activate()})}}_completeSecondDialogue(){console.log("Second dialogue completed!"),this.hasCompletedSecondDialogue=!0,this._startObstacleMinigame()}_startObstacleMinigame(){console.log("Starting obstacle minigame!"),this.isMinigameActive=!0,this.minigameScore=0,this.minigameScoreText.setText("Score: 0").setVisible(!0),this.isWorldLocked=!0,this.cameras.main.startFollow(this.bunny.sprite),this.boxSpawnTimer=this.time.addEvent({delay:2500,callback:this._spawnObstacleBox,callbackScope:this,loop:!0}),this.physics.add.overlap(this.bunny.sprite,this.boxGroup,(t,s)=>{s.active&&(s.destroy(),this.minigameScore=0,this.minigameScoreText.setText("Score: 0"),this.bunny.sprite.setTintFill(16711680),this.time.delayedCall(200,()=>{this.bunny.sprite.clearTint(),this.bunny.sprite.setTint(14665958)}))})}_spawnObstacleBox(){const t=this.cameras.main.scrollX+this.scale.width+100,s=this.scale.height-40,o=this.add.rectangle(t,s,40,40,16777215).setOrigin(.5,1);o.setDepth(5),this.boxGroup.add(o),o.body.setAllowGravity(!1),o.body.setVelocityX(-350),o.body.setImmovable(!0),o.setData("scored",!1)}_updateObstacleMinigame(){this.bunny.sprite.body.setVelocityX(200),this.bunny.sprite.flipX=!1,this.bunny.sprite.anims.play("run",!0),rt.Input.Keyboard.JustDown(this.cursors.space)&&this.bunny.sprite.body.onFloor()&&this.bunny.sprite.body.setVelocityY(-850),this.boxGroup.getChildren().forEach(t=>{if(!t.active)return;const s=this.bunny.sprite;if(!t.getData("scored")&&t.x<s.x&&!s.body.onFloor()&&(this.minigameScore++,this.minigameScoreText.setText(`Score: ${this.minigameScore}`),t.setData("scored",!0),this.minigameScore>=5)){this._endObstacleMinigame();return}t.x<this.cameras.main.scrollX-100&&t.destroy()})}_endObstacleMinigame(){if(!this.isMinigameActive)return;console.log("Minigame ended!"),this.isMinigameActive=!1,this.isWorldLocked=!1,this.bunny.sprite.body.setVelocityX(0),this.minigameScoreText.setVisible(!1),this.boxSpawnTimer&&(this.boxSpawnTimer.remove(!1),this.boxSpawnTimer=null),this.boxGroup.clear(!0,!0);const t=this.bunny.sprite.x+150;this.leaderFirefly.moveTo(t,375,250,()=>{this.leaderFirefly.activate()})}_endFinalDialogue(){this.leaderFirefly.currentState="ACTIVE",this.leaderFirefly.startFollowing(),this._unlockCameraSequence(),this.tweens.add({targets:[this.leaderFirefly.dialogueBox,this.leaderFirefly.dialogueText],alpha:0,duration:300,ease:"Power2",onComplete:()=>{this.leaderFirefly.dialogueBox.setVisible(!1),this.leaderFirefly.dialogueText.setVisible(!1)}})}_updateWorldLock(){if(this.isWorldLocked||this.isCameraUnlocking||!this.leaderFirefly||this.isMinigameActive)return;(this.leaderFirefly.currentState==="AWAITING_INTERACTION"||this.leaderFirefly.currentState==="DIALOGUE")&&this.bunny.sprite.x>this.leaderFirefly.spawnPoint.x+100&&(this.isWorldLocked=!0,this.cameras.main.stopFollow())}_handleInteraction(){if(!this.leaderFirefly||this.isMinigameActive)return;const t=this.leaderFirefly.currentState;if(!(rt.Math.Distance.Between(this.bunny.sprite.x,this.bunny.sprite.y,this.leaderFirefly.sprite.x,this.leaderFirefly.sprite.y)>nC&&t!=="DIALOGUE"))switch(t){case"AWAITING_INTERACTION":this.hasCompletedSecondDialogue?this.leaderFirefly.startDialogue(this.lucyFinalDialogue):this.secondDialogueTriggered?this.leaderFirefly.startDialogue(this.lucySecondDialogue):this.leaderFirefly.startDialogue(this.lucyStartDialogue);break;case"DIALOGUE":this.leaderFirefly.minigameActive?this.leaderFirefly.stopResponseMinigame():this.leaderFirefly.advanceDialogue();break}}_unlockCameraSequence(){if(this.isCameraUnlocking||this.isMinigameActive)return;this.isWorldLocked=!1,this.isCameraUnlocking=!0;const t=this.cameras.main;t.stopFollow();let s={value:0};const o=t.scrollX;this.tweens.add({targets:s,value:1,duration:800,ease:"Sine.easeInOut",onUpdate:()=>{const y=this.bunny.sprite.x-t.width/2;t.scrollX=Math.round(rt.Math.Interpolation.Linear([o,y],s.value))},onComplete:()=>{this.isCameraUnlocking=!1,t.startFollow(this.bunny.sprite)}})}_createGroundAndColliders(){this.ground=this.add.tileSprite(0,0,Xs+1e5,this.scale.height,"ground").setOrigin(0,0).setScrollFactor(0).setDepth(3).setTilePosition(0,300),this.groundPreviousCameraX=this.cameras.main.scrollX;const t=this.add.rectangle(0,this.scale.height-10,Xs,40).setOrigin(0,0).setVisible(!1);this.physics.add.existing(t,!0),this.physics.add.collider(this.bunny.sprite,t)}_initShadow(){this.bunnyFloorY=this.bunny.sprite.y,this.wasOnFloor=this.bunny.sprite.body?this.bunny.sprite.body.onFloor():!0,this.bunnyShadow=this.add.graphics().fillStyle(0,Te.MAX_OPACITY_ON_GROUND).fillEllipse(0,0,Te.BASE_WIDTH,Te.BASE_HEIGHT).setDepth(this.bunny.sprite.depth-1),this.tweens.add({targets:this,shadowWobbleProgress:1,duration:1200,ease:"Sine.easeInOut",yoyo:!0,repeat:-1})}_updateBunnyIdleState(t){if(this.leaderFirefly.currentState==="ACTIVE"&&!this.isMinigameActive){const s=this.bunny.sprite.x;this.stillTimer=Math.abs(s-this.previousBunnyX)>1?0:this.stillTimer+t,this.previousBunnyX=s,this.leaderFirefly.setIdleState(this.stillTimer>sC)}}_spawnRunDust(){if(this.bunny.sprite.body.onFloor()&&Math.abs(this.bunny.sprite.body.velocity.x)>100&&rt.Math.Between(0,6)===0){const t=this.add.graphics({x:this.bunny.sprite.x+(this.bunny.sprite.flipX?-5:5),y:this.bunny.sprite.y+this.bunny.sprite.displayHeight/2-5}).fillStyle(10320751,.35).fillEllipse(0,0,10,6).setDepth(this.bunny.sprite.depth-.5);this.dustGroup.add(t),this.tweens.add({targets:t,alpha:0,y:t.y+4,scaleX:2.1,scaleY:1.1,duration:600,ease:"Quad.easeOut",onComplete:()=>t.destroy()})}}_updateBunnyShadow(){this.bunnyShadow.x=this.bunny.sprite.x+2,this.bunnyShadow.y=this.bunnyFloorY+Te.Y_OFFSET;const t=this.bunny.sprite.body.onFloor(),s=Math.max(0,this.bunnyFloorY-this.bunny.sprite.y),o=rt.Math.Clamp(s/Te.MAX_JUMP_HEIGHT_EFFECT,0,1);let y,S;const r=this.bunny.sprite.body.velocity.x*Te.SKEW_FACTOR*.001,C=rt.Math.Clamp(r,-.3,Te.MAX_SKEW);t?(y=Te.MAX_OPACITY_ON_GROUND,S=Te.MAX_SCALE_ON_GROUND,this.wasOnFloor||(this.tweens.killTweensOf(this,"landingSquashAmount"),this.landingSquashAmount=1,this.tweens.add({targets:this,landingSquashAmount:0,duration:180,ease:"Cubic.easeOut"}))):(y=Te.MAX_OPACITY_ON_GROUND-o*(Te.MAX_OPACITY_ON_GROUND-Te.MIN_OPACITY_IN_AIR),S=Te.MAX_SCALE_ON_GROUND-o*(Te.MAX_SCALE_ON_GROUND-Te.MIN_SCALE_IN_AIR),this.landingSquashAmount=0);const i=1+(this.shadowWobbleProgress-.5)*2*Te.WOBBLE_AMOUNT,h=S*(1+this.landingSquashAmount*.25),x=S*(1-this.landingSquashAmount*.25)*i;this.bunnyShadow.setScale(h,x).setAlpha(y).setRotation(C),this.wasOnFloor=t}_updateGroundParallax(){const t=this.cameras.main.scrollX,s=t-this.groundPreviousCameraX;this.groundPreviousCameraX=t;const o=.6,S=(this.bunny.currentAppliedSpeed!==void 0?Math.max(0,this.bunny.currentAppliedSpeed):0)/4e3,r=rt.Math.Clamp(o+S,o,1),C=s*r;this.ground.tilePositionX+=C}_weightedCenterRandom(t,s,o,y=2){const S=Math.random(),r=Math.pow(S,y),C=Math.random()<.5?-1:1,i=(s-o)*r*C;return rt.Math.Clamp(o+i,t,s)}_spawnRegularFireflies(){for(let y=0;y<350;y++){const S=this._weightedCenterRandom(500,3e4,15250,2.5),r=rt.Math.Between(100,this.scale.height-100),C=rt.Math.FloatBetween(2,5),i=rt.Math.FloatBetween(.5,.8),h=rt.Display.Color.GetColor(255,rt.Math.Between(230,255),rt.Math.Between(100,180)),x=this.add.ellipse(S,r,C,C,h,i).setBlendMode(rt.BlendModes.ADD).setDepth(1e3);this.fireflies.push({sprite:x,size:C,vx:rt.Math.FloatBetween(-.3,.3),vy:rt.Math.FloatBetween(-.3,.3),targetVX:rt.Math.FloatBetween(-.5,.5),targetVY:rt.Math.FloatBetween(-.5,.5),timer:rt.Math.Between(1e3,3e3),lastChange:0,pulseSpeed:rt.Math.FloatBetween(.002,.008),scatterDistance:rt.Math.Between(80,120),scatterStrength:rt.Math.FloatBetween(.4,1.6)})}}_updateRegularFireflies(t){this.fireflies.forEach(s=>{const o=s.sprite,y=o.x-this.bunny.sprite.x,S=o.y-this.bunny.sprite.y,r=Math.sqrt(y*y+S*S);if(s.vx=rt.Math.Linear(s.vx,s.targetVX,.01),s.vy=rt.Math.Linear(s.vy,s.targetVY,.01),o.x+=s.vx+rt.Math.FloatBetween(-.03,.03)*(4-s.size),o.y+=s.vy+rt.Math.FloatBetween(-.03,.03)*(4-s.size),o.y=rt.Math.Clamp(o.y,-5,this.scale.height-75),s.lastChange+=t,s.lastChange>=s.timer&&(s.targetVX=rt.Math.FloatBetween(-.5,.5),s.targetVY=rt.Math.FloatBetween(-.5,.5),s.timer=rt.Math.Between(1e3,3e3),s.lastChange=0),r<s.scatterDistance){const C=(s.scatterDistance-r)/s.scatterDistance;s.vx+=y/r*s.scatterStrength*C,s.vy+=S/r*s.scatterStrength*C,o.setScale(1.6)}o.setScale(rt.Math.Linear(o.scaleX,1,.1)),r<200?(o.alpha=rt.Math.Clamp(o.alpha+.05,.6,2.5),o.fillColor=16777060):(o.alpha=rt.Math.Clamp(o.alpha-.003,.5,1),o.fillColor=16762980),o.alpha+=s.pulseSpeed*rt.Math.FloatBetween(.2,1.2),(o.alpha>1.2||o.alpha<.5)&&(s.pulseSpeed*=-1)})}}class F0 extends Po{constructor(){super("World2")}preload(){console.log("Loading World2...")}create(){super.create(),this.add.text(50,50,"Welcome to World 2! lololool",{fontSize:"24px",fill:"#fff"})}update(t,s){}}class D0 extends Po{constructor(){super("Intro"),this.transitioning=!1,this.html5Video=null,this.skipOverlay=null,this.showSkipCall=null,this.sKey=null}preload(){}create(){this.time.delayedCall(3e3,this.startIntro,[],this)}startIntro(){const t=document.getElementById("game-container"),s=document.createElement("video");s.id="introVideo",s.src=`${_t}assets/test/IntroAlt.mp4`,s.autoplay=!0,s.playsInline=!0,Object.assign(s.style,{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxWidth:"100%",maxHeight:"100%",width:"auto",height:"auto",background:"black",zIndex:"10"}),t.appendChild(s),this.html5Video=s,s.onended=()=>this.performTransitionToWorld1(),s.onerror=()=>this.performTransitionToWorld1();const o=document.createElement("div");o.id="skipOverlay",o.innerText="Press [S] to Skip Intro",Object.assign(o.style,{position:"absolute",fontSize:"20px",fontFamily:"Minecraft, monospace",color:"#fff",backgroundColor:"rgba(0, 0, 0, 0.6)",padding:"8px 14px",opacity:"0",transition:"opacity 0.5s ease-in-out",cursor:"pointer",zIndex:"20",textShadow:"2px 2px 0 #000",pointerEvents:"none"}),t.appendChild(o),this.skipOverlay=o,Object.assign(o.style,{bottom:"200px",left:"30px"}),this.sKey=this.input.keyboard.addKey(rt.Input.Keyboard.KeyCodes.S),this.sKey.once("down",()=>this.performTransitionToWorld1()),this.showSkipCall=this.time.delayedCall(25e3,()=>{this.transitioning||!this.skipOverlay||(this.skipOverlay.style.opacity="1",this.skipOverlay.style.pointerEvents="auto",this.skipOverlay.style.animation="pulseGlow 1.5s infinite ease-in-out",setTimeout(()=>{!this.skipOverlay||this.transitioning||(this.skipOverlay.style.opacity="0",this.skipOverlay.style.pointerEvents="none",this.skipOverlay.style.animation="none")},7e3))}),o.onclick=()=>this.performTransitionToWorld1()}update(){}performTransitionToWorld1(){this.transitioning||(this.transitioning=!0,this.html5Video&&(this.html5Video.pause(),this.html5Video.src="",this.html5Video.load(),this.html5Video.onended=null,this.html5Video.onerror=null,this.html5Video.remove(),this.html5Video=null),this.showSkipCall&&this.showSkipCall.remove(),this.skipOverlay&&(this.skipOverlay.remove(),this.skipOverlay=null),this.sKey&&(this.input.keyboard.removeKey(this.sKey.keyCode),this.sKey=null),this.scene.start("World1"))}}class I0 extends rt.Scene{constructor(){super("LoadingScene"),this.dotIndex=0}preload(){console.log("Loading LoadingScene..."),this.input.setDefaultCursor("none"),this.load.bitmapFont("minecraft",`${_t}assets/fonts/Pixel.png`,`${_t}/assets/fonts/Pixel.fnt`)}create(){this.symbols=[];const{width:t,height:s}=this.scale;this.add.rectangle(0,0,t,s,16777215).setOrigin(0),this.createFloatingDots(80,t,s),this.createFloatySymbols(320,t,s);const o=400,y=30,S=(t-o)/2,r=s/2-y/2;this.add.rectangle(S-1,r-1,o+2,y+2,6710886).setOrigin(0),this.add.rectangle(S,r,o,y,12303291).setOrigin(0);const C=this.add.bitmapText(t/2,r-18,"minecraft","L O A D I N G",24).setOrigin(.5).setTint(0).setAlpha(1),i=this.add.bitmapText(t/2+C.width/2+5,C.y,"minecraft",".",24).setOrigin(0,.5).setTintFill(6710886),h=this.add.bitmapText(t/2+C.width/2+5,C.y,"minecraft",".",24).setOrigin(0,.5).setTint(0).setAlpha(1);this.time.addEvent({delay:400,loop:!0,callback:()=>{this.dotIndex=(this.dotIndex+1)%4;const v=". ".repeat(this.dotIndex);h.setText(v),i.setText(v)}}),this.tweens.add({targets:C,alpha:{from:1,to:.1},duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"}),this.tweens.add({targets:[h,i],alpha:{from:1,to:.1},duration:1e3,yoyo:!0,repeat:-1,ease:"Sine.easeInOut"});const x=20,f=2,l=f*(x-1),a=Math.floor((o-l)/x),n=(o-l)%x;let d=0;const c=5e3,u=c/x;for(let v=0;v<x;v++){const p=a+(v<n?1:0),g=v*(a+f)+Math.min(v,n),m=S+g,T=this.add.rectangle(m,r,p,y,0).setOrigin(0,0).setAlpha(0);d+=u,this.time.delayedCall(d,()=>T.setAlpha(1))}this.time.delayedCall(c+500,()=>{this.cameras.main.fadeOut(1e3,0,0,0),this.time.delayedCall(1500,()=>{this.scene.start("MainMenu"),this.symbols.forEach(v=>v.destroy())})})}createFloatingDots(t,s,o){for(let y=0;y<t;y++){const S=this.add.rectangle(rt.Math.Between(0,s),rt.Math.Between(0,o),rt.Math.Between(2,4),rt.Math.Between(2,4),0).setAlpha(rt.Math.FloatBetween(.3,.6));this.tweens.add({targets:S,y:S.y+rt.Math.Between(-20,20),x:S.x+rt.Math.Between(-20,20),duration:rt.Math.Between(3e3,6e3),yoyo:!0,repeat:-1,ease:"Sine.easeInOut"})}}createFloatySymbols(t,s,o){for(let y=0;y<t;y++){const S=this.add.bitmapText(rt.Math.Between(0,s),rt.Math.Between(0,o),"minecraft",rt.Math.RND.pick(["*","+","~","x","#","@","%","^",":",";"]),8).setAlpha(rt.Math.FloatBetween(.1,.3)).setTint(0);this.symbols.push(S),this.tweens.add({targets:S,x:S.x+rt.Math.Between(-30,30),y:S.y+rt.Math.Between(-20,20),alpha:{from:.1,to:.6},duration:rt.Math.Between(4e3,6e3),yoyo:!0,repeat:-1,delay:rt.Math.Between(0,2e3),ease:"Sine.easeInOut"})}}}const lC=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;

// Scene buffer
uniform sampler2D uMainSampler; 
varying vec2 outTexCoord;

// Effect parameters
uniform float intensity;

void main() {
  vec4 front = texture2D(uMainSampler, outTexCoord);
  vec4 sum = vec4(0);
  for(int xx = -4; xx <= 4; xx++) {
    for(int yy = -3; yy <= 3; yy++) {
      float dist = sqrt(float(xx*xx) + float(yy*yy));
      float factor = 0.0;
      if (dist == 0.0) {
        factor = 2.0;
      } else {
        factor = 2.0/abs(float(dist));
      }
      sum += texture2D(uMainSampler, outTexCoord + vec2(xx, yy) * 0.002) * factor;
    }
  }
  
  gl_FragColor = mix(front, sum, intensity);
}
`,uC=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,dC=Phaser.Utils.Objects.GetValue;class B0 extends uC{constructor(t){super({name:"rexGlowFilterPostFx",game:t,renderTarget:!0,fragShader:lC}),this.intensity=0}resetFromJSON(t){return this.setIntensity(dC(t,"intensity",0)),this}onPreRender(){this.set1f("intensity",this.intensity)}setIntensity(t){return this.intensity=t,this}}const fC=Phaser.Game;var Pc=function(e){return e instanceof fC};const cC=Phaser.Scene;var ur=function(e){return e instanceof cC},fr=function(e){if(e==null||typeof e!="object")return null;if(Pc(e))return e;if(Pc(e.game))return e.game;if(ur(e))return e.sys.game;if(ur(e.scene))return e.scene.sys.game},G0=function(e,t,s){fr(e).renderer.pipelines.addPostPipeline(t,s)},N0=function(e,t,s){s===void 0&&(s={}),e.setPostPipeline(t);var o=e.postPipelines[e.postPipelines.length-1];return o.resetFromJSON(s),s.name&&(o.name=s.name),o};const Ec=Phaser.Utils.Array.SpliceOne;var k0=function(e,t,s){if(s===void 0)for(var o=e.postPipelines,y=o.length-1;y>=0;y--){var S=o[y];S instanceof t&&(S.destroy(),Ec(o,y))}else for(var o=e.postPipelines,y=0,r=o.length;y<r;y++){var S=o[y];S instanceof t&&S.name===s&&(S.destroy(),Ec(o,y))}e.hasPostPipeline=e.postPipelines.length>0},vC=function(e,t,s){if(s===void 0){for(var o=[],y=e.postPipelines,S=0,r=y.length;S<r;S++){var C=y[S];C instanceof t&&o.push(C)}return o}else for(var y=e.postPipelines,S=0,r=y.length;S<r;S++){var C=y[S];if(C instanceof t&&C.name===s)return C}};class pC extends Phaser.Plugins.BasePlugin{setPostPipelineClass(t,s){return this.PostFxPipelineClass=t,this.postFxPipelineName=s,this}start(){var t=this.game.events;t.once("destroy",this.destroy,this),G0(this.game,this.postFxPipelineName,this.PostFxPipelineClass)}add(t,s){return N0(t,this.PostFxPipelineClass,s)}remove(t,s){return k0(t,this.PostFxPipelineClass,s),this}get(t,s){return vC(t,this.PostFxPipelineClass,s)}}var V0=function(e){return e==null||e===""||e.length===0},gC=function(e,t,s){var o=e;if(!V0(t)){typeof t=="string"&&(t=t.split("."));for(var y,S=0,r=t.length;S<r;S++){if(y=t[S],o[y]==null||typeof o[y]!="object"){var C;S===r-1?C={}:C={},o[y]=C}o=o[y]}}return o},et=function(e,t,s,o){if(o===void 0&&(o="."),typeof e=="object"){if(V0(t)){if(s==null)return;typeof s=="object"&&(e=s)}else{typeof t=="string"&&(t=t.split(o));var y=t.pop(),S=gC(e,t);S[y]=s}return e}};class mC extends pC{constructor(t){super(t),this.setPostPipelineClass(B0,"rexGlowFilterPostFx")}}et(window,"RexPlugins.Pipelines.GlowFilterPostFx",B0);class st{constructor(t){this.scene=t,t.events.once("destroy",this.destroy,this)}destroy(){this.scene=null}static register(t,s){st.prototype[t]=s}}var xC=function(e){return e===void 0&&(e=yC),this.getFrameNameCallback=e,this},yC=function(e,t,s){return s==="__BASE"?`${e},${t}`:`${s}:${e},${t}`};function ce(e){if(e===null||typeof e!="object")return e;if(Array.isArray(e))return e.map(s=>ce(s));if(e instanceof Date)return new Date(e);if(e instanceof RegExp)return new RegExp(e);if(Object.getPrototypeOf(e)!==Object.prototype)return e;const t={};for(let s in e)e.hasOwnProperty(s)&&(t[s]=ce(e[s]));return t}var TC=function(e,t,s,o){Array.isArray(t)&&(o=s,s=t,t=void 0),t==null&&(t="__BASE"),typeof s=="number"&&arguments.length>=6?(s=[arguments[2],void 0,arguments[3]],o=[arguments[4],void 0,arguments[5]]):s===void 0&&o===void 0&&this.columns.data!==void 0&&this.rows.data!==void 0?(s=this.columns.data,o=this.rows.data):(s=ce(s),o=ce(o)),this.textureKey=e,this.baseFrameName=t,this.columns.data=s,this.columns.count=s?s.length:0,this.columns.stretch=0,this.columns.minWidth=0,this.columns.scale=1,this.rows.data=o,this.rows.count=o?o.length:0,this.rows.stretch=0,this.rows.minHeight=0,this.rows.scale=1;var y=this.scene.sys.textures.get(e);if(!y)return this.clear(),this;if(!s||!o)return this.clear(),this;for(var S=y.get(t),r=S.width,C=0,i=0,h=s.length;i<h;i++)s[i]===void 0?C++:typeof s[i]=="number"?r-=s[i]:r-=s[i].width;for(var x=C>0?r/C:0,f=S.height,l=0,i=0,h=o.length;i<h;i++)o[i]===void 0?l++:typeof o[i]=="number"?f-=o[i]:f-=o[i].width;for(var a=l?f/l:0,n,d,c,u,v,p=0,g=0,m=0,T=o.length;m<T;m++){o[m]===void 0&&(o[m]=a),typeof o[m]=="number"&&(o[m]={height:o[m],stretch:m%2}),n=o[m],c=n.height,this.rows.stretch+=n.stretch|0,this.rows.minHeight+=n.stretch>0?0:c,p=0;for(var i=0,P=s.length;i<P;i++){if(s[i]===void 0&&(s[i]=x),typeof s[i]=="number"&&(s[i]={width:s[i],stretch:i%2}),d=s[i],u=d.width,m===0&&(this.columns.stretch+=d.stretch|0,this.columns.minWidth+=d.stretch>0?0:u),u>=1&&c>=1){v=this.getFrameNameCallback(i,m,t);var E=typeof v;(E==="string"||E==="number")&&y.add(v,0,p+S.cutX,g+S.cutY,u,c)}p+=u}g+=c}return this.updateTexture(),this},CC=function(){if(this.clear(),this.textureKey===void 0)return this;var e=this.scene.sys.textures.get(this.textureKey);if(!e)return this;var t=this.columns.minWidth*this.maxFixedPartScaleX,s=this.rows.minHeight*this.maxFixedPartScaleY,o=this.width-t,y=this.height-s,S=o>=0?this.maxFixedPartScaleX:this.width/t,r=y>=0?this.maxFixedPartScaleY:this.height/s;if(this.preserveRatio){var C=Math.min(S,r);if(S>C){var i=(S-C)*t;o>=0?o+=i:o=i,S=C}if(r>C){var h=(r-C)*s;y>=0?y+=h:y=h,r=C}}this.columns.scale=S,this.rows.scale=r;var x;o>0?x=this.columns.stretch>0?o/this.columns.stretch:0:x=0;var f;y>0?f=this.rows.stretch>0?y/this.rows.stretch:0:f=0;var l,a,n,d,c,u=0,v=0,p;this._beginDraw();for(var g=0,m=this.rows.count;g<m;g++){n=this.rows.data[g],c=n.stretch===0?n.height*r:f*n.stretch,u=0;for(var T=0,P=this.columns.count;T<P;T++)a=this.columns.data[T],d=a.stretch===0?a.width*S:x*a.stretch,l=this.getFrameNameCallback(T,g,this.baseFrameName),e.has(l)&&d>0&&c>0&&(n.stretch===0&&a.stretch===0||this.getStretchMode(T,g)===0?p=0:p=1,p===0?this._drawImage(this.textureKey,l,u,v,d,c):this._drawTileSprite(this.textureKey,l,u,v,d,c)),u+=d;v+=c}this._endDraw()};const SC=Phaser.Utils.Objects.IsPlainObject,Mc=Phaser.Utils.Objects.GetValue;var PC=function(e){return SC(e)?(this.stretchMode.edge=wl(Mc(e,"edge",0)),this.stretchMode.internal=wl(Mc(e,"internal",0))):(e=wl(e),this.stretchMode.edge=e,this.stretchMode.internal=e),this},wl=function(e){return typeof e=="string"&&(e=EC[e]),e};const EC={scale:0,repeat:1};var MC=function(e,t){return e===0||e===this.columns.count-1||t===0||t===this.rows.count-1},wC=function(e,t){return MC.call(this,e,t)?this.stretchMode.edge:this.stretchMode.internal},RC=function(e){return e==null&&(e=!0),this.preserveRatio=e,this},AC=function(e,t){return t===void 0&&(t=e),this.maxFixedPartScaleX=e,this.maxFixedPartScaleY=t,this},ae=function(){};const OC={_beginDraw:ae,_drawImage:ae,_drawTileSprite:ae,_endDraw:ae,setGetFrameNameCallback:xC,setBaseTexture:TC,updateTexture:CC,setStretchMode:PC,getStretchMode:wC,setPreserveRatio:RC,setMaxFixedPartScale:AC},xn=Phaser.Utils.Objects.IsPlainObject,Pt=Phaser.Utils.Objects.GetValue;var z0=function(e,t){class s extends e{constructor(y,S,r,C,i,h,x,f,l,a){if(xn(S)?(a=S,S=Pt(a,"x",0),r=Pt(a,"y",0),C=Pt(a,"width",1),i=Pt(a,"height",1),h=Pt(a,"key",void 0),x=Pt(a,"baseFrame",void 0),f=Pt(a,"columns",void 0),l=Pt(a,"rows",void 0)):xn(C)?(a=C,C=Pt(a,"width",1),i=Pt(a,"height",1),h=Pt(a,"key",void 0),x=Pt(a,"baseFrame",void 0),f=Pt(a,"columns",void 0),l=Pt(a,"rows",void 0)):xn(h)?(a=h,h=Pt(a,"key",void 0),x=Pt(a,"baseFrame",void 0),f=Pt(a,"columns",void 0),l=Pt(a,"rows",void 0)):xn(x)?(a=x,x=Pt(a,"baseFrame",void 0),f=Pt(a,"columns",void 0),l=Pt(a,"rows",void 0)):Array.isArray(x)?(a=l,l=f,f=x,x=Pt(a,"baseFrame",void 0)):xn(f)&&(a=f,f=Pt(a,"columns",void 0),l=Pt(a,"rows",void 0)),x===void 0&&(x=Pt(a,"frame",void 0)),f===void 0){var n=Pt(a,"leftWidth",void 0),d=Pt(a,"rightWidth",void 0);n!==void 0&&d!==void 0&&(f=[n,void 0,d])}if(l===void 0){var c=Pt(a,"topHeight",void 0),u=Pt(a,"bottomHeight",void 0);c!==void 0&&u!==void 0&&(l=[c,void 0,u])}super(y),this.type=t,this.setPosition(S,r).setSize(C,i).setOrigin(.5,.5),this.columns={},this.rows={},this.stretchMode={},this._tileSprite=void 0,this._image=void 0,this.setGetFrameNameCallback(Pt(a,"getFrameNameCallback",void 0)),this.setStretchMode(Pt(a,"stretchMode",0)),this.setPreserveRatio(Pt(a,"preserveRatio",!0));var v=Pt(a,"maxFixedPartScale",1),p=Pt(a,"maxFixedPartScaleX",v),g=Pt(a,"maxFixedPartScaleY",void 0);this.setMaxFixedPartScale(p,g),this.setBaseTexture(h,x,f,l)}get minWidth(){return this.columns.minWidth}get minHeight(){return this.rows.minHeight}get fixedPartScaleX(){return this.columns.scale}get fixedPartScaleY(){return this.rows.scale}resize(y,S){return this.width===y&&this.height===S?this:(super.resize?super.resize(y,S):super.setSize(y,S),this.updateTexture(),this)}get leftWidth(){return this.columns.data[0]}get rightWidth(){return this.columns.data[this.columns.count-1]}get topHeight(){return this.rows.data[0]}get bottomHeight(){return this.rows.data[this.rows.count-1]}}return Object.assign(s.prototype,OC),s};const LC=Phaser.GameObjects;var rs=void 0,X0=function(e,t){if(rs||(rs={},fr(e).events.once("destroy",function(){for(var o in rs)rs[o].destroy();rs=void 0})),!rs.hasOwnProperty(t)){var s=fr(e).scene.systemScene,e=new LC[t](s);e.setOrigin(0),rs[t]=e}return rs[t]},bC=function(e,t,s,o,y,S){var r=X0(this,"Image").setTexture(e,t).setDisplaySize(y,S);this.draw(r,s,o)},FC=function(e,t,s,o,y,S){var r=X0(this,"TileSprite").setTexture(e,t).setSize(y,S);this.draw(r,s,o)};const DC=Phaser.GameObjects.RenderTexture;let Eo=class extends z0(DC,"rexNinePatch"){};var IC={_drawImage:bC,_drawTileSprite:FC};Object.assign(Eo.prototype,IC);st.register("ninePatch",function(e,t,s,o,y,S,r,C){var i=new Eo(this.scene,e,t,s,o,y,S,r,C);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.NinePatch",Eo);const BC=Phaser.GameObjects.GetCalcMatrix;var GC=function(e,t,s,o){var y=t.getRenderList();if(y.length!==0){s.addToRenderList(t);var S=e.pipelines.set(t.pipeline),r=t.frame.glTexture,C=S.setGameObject(t),i=s.roundPixels,h=BC(t,s,o),x=S.calcMatrix.copyFrom(h.calc),f=t._displayOriginX,l=t._displayOriginY,a=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var n=0,d=y.length;n<d;n++)y[n].webglRender(S,x,a,f,l,r,C,i);e.pipelines.postBatch(t)}};const NC=Phaser.Renderer.Canvas.SetTransform;var kC=function(e,t,s,o){var y=e.currentContext,S=t.getRenderList();if(!(S.length===0||!NC(e,y,t,s,o))){s.addToRenderList(t);var r=s.roundPixels,C=-t._displayOriginX,i=-t._displayOriginY;y.translate(C,i);for(var h=0,x=S.length;h<x;h++)S[h].canvasRender(y,C,i,r);y.restore()}};const VC={renderWebGL:GC,renderCanvas:kC};var zC=function(e,t){return this.texture=this.scene.sys.textures.get(e),this.frame=this.texture.get(t),this},wc=function(e,t){if(this.width===e&&this.height===t)return this;this.width=e,this.height=t,this.updateDisplayOrigin();var s=this.input;return s&&!s.customHitArea&&(s.hitArea.width=e,s.hitArea.height=t),this},XC=function(e){return this.lastAppendedChildren.length=0,Array.isArray(e)?(this.children.add(e),this.lastAppendedChildren.push(...e)):(this.children.add(e),this.lastAppendedChildren.push(e)),this};const YC=Phaser.Utils.Array.Remove;var WC=function(e){return this.poolManager&&this.poolManager.free(e),YC(this.children.list,e),this.lastAppendedChildren.length=0,this.dirty=!0,this},Rc=function(){return this.poolManager&&this.poolManager.freeMultiple(this.children.list),this.children.list.length=0,this.lastAppendedChildren.length=0,this.dirty=!0,this},UC=function(){return this.lastAppendedChildren},HC=function(){return this.children.list};const $C={setTint(e){return this.tint=e,this.tintFill=!1,this},setTintFill(e){return this.tint=e,this.tintFill=!0,this},clearTint(){return this.setTint(16777215),this}};var Y0={setTexture:zC,resize:wc,setSize:wc,addChild:XC,removeChild:WC,removeChildren:Rc,clear:Rc,getLastAppendedChildren:UC,getChildren:HC};Object.assign(Y0,$C);class Di{constructor(){this.items=[]}destroy(){this.clear(),this.items=void 0}pop(){return this.items.length>0?this.items.pop():null}push(t){return this.items.push(t),this}pushMultiple(t){return this.items.push.apply(this.items,t),t.length=0,this}clear(){return this.items.length=0,this}}const KC=Phaser.Utils.Objects.GetValue;var ZC={};let JC=class{constructor(t){this.pools=KC(t,"pools",ZC)}destroy(){this.pools=void 0}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new Di),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,o=t.length;s<o;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}};const QC=60;var Ac=!1,Mo=function(e){if(!Ac){e===void 0&&(e=QC);var t=Phaser.VERSION.split("."),s=parseInt(t[0]);if(s===3){var o=parseInt(t[1]);o<e&&console.error(`Minimum supported version : ${s}.${o}`)}else console.error(`Can't supported version : ${s}`);Ac=!0}};Mo();const jC=Phaser.GameObjects.GameObject,qC=Phaser.Utils.Objects.IsPlainObject,yn=Phaser.Utils.Objects.GetValue,_C=Phaser.Structs.List,tS=Phaser.Utils.Array.StableSort;class W0 extends jC{constructor(t,s,o,y,S,r){qC(s)&&(r=s,s=yn(r,"x",0),o=yn(r,"y",0),y=yn(r,"texture"),S=yn(r,"frame")),s===void 0&&(s=0),o===void 0&&(o=0),super(t,"rexBlitter"),this.children=new _C,this.renderList=[],this.displayListDirty=!1,this.lastAppendedChildren=[];var C=yn(r,"reuseBob",!0);this.poolManager=C?new JC(r):void 0,this.setTexture(y,S),this.setPosition(s,o),this.setOrigin(0,0),this.clearTint(),this.initPipeline(),this.initPostPipeline()}preDestroy(){this.removeChildren(),this.children.destroy(),this.renderList.length=0,this.poolManager&&this.poolManager.destroy()}getRenderList(){if(this.displayListDirty){this.renderList.length=0;for(var t=!1,s=this.children.list,o=0,y=s.length;o<y;o++){var S=s[o];eS(S)&&(this.renderList.push(S),t||(t=S.depth!==0))}t&&tS(this.renderList,iS),this.displayListDirty=!1}return this.renderList}}var eS=function(e){return e.active&&e.visible&&e.alpha>0},iS=function(e,t){return e._depth-t._depth};const Ke=Phaser.GameObjects.Components;Phaser.Class.mixin(W0,[Ke.Alpha,Ke.BlendMode,Ke.ComputedSize,Ke.Depth,Ke.GetBounds,Ke.Mask,Ke.Origin,Ke.Pipeline,Ke.PostPipeline,Ke.ScrollFactor,Ke.Transform,Ke.Visible,VC,Y0]);const U0="image";var Ot=function(e,t,s){if(!e||typeof e=="number")return s;if(typeof t=="string"){if(e.hasOwnProperty(t))return e[t];if(t.indexOf(".")!==-1)t=t.split(".");else return s}for(var o=t,y=e,S=s,r=0;r<o.length;r++)if(t=o[r],y.hasOwnProperty(t))S=y[t],y=S;else{S=s;break}return S},ws=function(e){if(typeof e!="object"||e===null)return e;if(Array.isArray(e))e.length=0;else for(var t in e)delete e[t];return e};const wo={enableData(){return this.data===void 0&&(this.data={}),this},setData(e,t){if(this.enableData(),arguments.length===1){var s=e;for(e in s)this.data[e]=s[e]}else this.data[e]=t;return this},getData(e,t){return this.enableData(),e===void 0?this.data:Ot(this.data,e,t)},incData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)+t),this},mulData(e,t,s){return s===void 0&&(s=0),this.enableData(),this.setData(e,this.getData(e,s)*t),this},clearData(){return this.data&&ws(this.data),this}};let H0=class{constructor(t,s){this.type=s,this.data=void 0,this.setParent(t).reset().setActive()}destroy(){this.parent&&this.parent.removeChild(this)}setParent(t){return this.parent=t,this}setDisplayListDirty(t){return t&&this.parent&&(this.parent.displayListDirty=!0),this}get active(){return this._active}set active(t){this.setDisplayListDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}reset(){this.clearData()}onFree(){this.reset().setActive(!1).setParent()}};Object.assign(H0.prototype,wo);const sS=Phaser.Math.DegToRad,rS=Phaser.Math.RadToDeg,Pr=Phaser.Utils.Objects.GetValue;let nS=class extends H0{get visible(){return this._visible}set visible(t){this.setDisplayListDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDisplayListDirty(!!this._alpha!=!!t),this._alpha=t}setAlpha(t){return this.alpha=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setRotation(t){return this.rotation=t,this}get angle(){return rS(this.rotation)}set angle(t){this.rotation=sS(t)}setAngle(t){return this.angle=t,this}setScaleX(t){return this.scaleX=t,this}get width(){return this._width}set width(t){this._width=t}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}setScaleY(t){return this.scaleY=t,this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get height(){return this._height}set height(t){this._height=t}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}get displayWidth(){return this._width*this.scaleX}set displayWidth(t){this.scaleX=t/this._width}setDisplayWidth(t,s){return s===void 0&&(s=!1),this.displayWidth=t,s&&(this.scaleY=this.scaleX),this}get displayHeight(){return this._height*this.scaleY}set displayHeight(t){this.scaleY=t/this._height}setDisplayHeight(t,s){return s===void 0&&(s=!1),this.displayHeight=t,s&&(this.scaleX=this.scaleY),this}setOriginX(t){return this.originX=t,this._displayOriginX=this.width*t,this}setOriginY(t){return this.originY=t,this._displayOriginY=this.height*t,this}setOrigin(t,s){return s===void 0&&(s=t),this.setOriginX(t).setOriginY(s),this}get depth(){return this._depth}set depth(t){this.setDisplayListDirty(this._depth!=t),this._depth=t}setDepth(t){return t===void 0&&(t=0),this.depth=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=Pr(t,"width",void 0),o=Pr(t,"height",void 0),y=Pr(t,"scale",void 0),S=Pr(t,"scaleX",y),r=Pr(t,"scaleY",y);s!==void 0?o===void 0&&r===void 0?this.setWidth(s,!0):this.setWidth(s):S!==void 0?this.setScaleX(S):t.hasOwnProperty("displayWidth")&&this.setDisplayWidth(t.displayWidth),o!==void 0?s===void 0&&S===void 0?this.setHeight(o,!0):this.setHeight(o):r!==void 0?this.setScaleY(r):t.hasOwnProperty("displayHeight")&&this.setDisplayHeight(t.displayHeight);var C=Pr(t,"origin",void 0);return C!==void 0?this.setOrigin(C):(t.hasOwnProperty("originX")&&this.setOriginX(t.originX),t.hasOwnProperty("originY")&&this.setOriginY(t.originY)),t.hasOwnProperty("depth")&&this.setDepth(t.depth),this}reset(){return super.reset(),this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setOrigin(0).setDepth(0),this}webglRender(t,s,o,y,S,r,C,i){}canvasRender(t,s,o,y){}};const aS=Phaser.GameObjects.Components.TransformMatrix,hS=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;var Wa=new aS,oS=function(e,t,s,o,y,S,r,C){var i=this.frame;if(i){var h=this._width,x=this._height,f=h*this.originX,l=x*this.originY,a=this.x-o,n=this.y-y,d,c,u,v,p,g,m,T;if(this.isCropped){var P=this._crop;(P.flipX!==this.flipX||P.flipY!==this.flipY)&&i.updateCropUVs(P,this.flipX,this.flipY),d=P.u0,c=P.v0,u=P.u1,v=P.v1,m=P.width,T=P.height,p=P.x,g=P.y}else d=this.frame.u0,c=this.frame.v0,u=this.frame.u1,v=this.frame.v1,m=h,T=x,p=0,g=0;var E=1,M=1;this.flipX&&(a+=h-f*2,E=-1),this.flipY&&(n+=x-l*2,M=-1),Wa.applyITRS(a,n,this.rotation,this.scaleX*E,this.scaleY*M),t.multiply(Wa,Wa);var w=-f+p,R=-l+g,A=w+m,O=R+T,F=Wa.setQuad(w,R,A,O,C),L=hS(this.tint,this.alpha*s);e.batchQuad(this.parent,F[0],F[1],F[2],F[3],F[4],F[5],F[6],F[7],d,c,u,v,L,L,L,L,this.tintFill,S,r)}},lS=function(e,t,s,o){var y=this.frame;if(y){e.save();var S=this._width,r=this._height,C=S*this.originX,i=r*this.originY,h=this.x-C,x=this.y-i,f,l,a,n;if(this.isCropped){var d=this._crop;(d.flipX!==this.flipX||d.flipY!==this.flipY)&&y.updateCropUVs(d,this.flipX,this.flipY),a=d.cw,n=d.ch,f=d.cx,l=d.cy}else a=y.cutWidth,n=y.cutHeight,f=y.cutX,l=y.cutY;var c=1,u=1;this.flipX&&(h+=S,c=-1),this.flipY&&(x+=r,u=-1);var v=y.source.resolution,p=a/v,g=n/v;o&&(h=Math.floor(h+.5),x=Math.floor(x+.5),p+=.5,g+=.5),e.translate(h,x),e.rotate(this.rotation),e.scale(this.scaleX*c,this.scaleY*u),e.drawImage(y.source.image,f,l,a,n,0,0,p,g),e.restore()}};const uS=Phaser.Utils.Objects.IsPlainObject;let $0=class extends nS{constructor(t,s){super(t,U0),this._crop=dS(),this.setFrame(s)}get width(){return this._width}set width(t){}get height(){return this._height}set height(t){}setFrame(t){return arguments.length>0&&!uS(t)&&(t=this.parent.texture.get(t)),this.frame=t,t?(this._width=t.realWidth,this._height=t.realHeight):(this._width=0,this._height=0),this}setFlipX(t){return t===void 0&&(t=!0),this.flipX=t,this}setFlipY(t){return t===void 0&&(t=!0),this.flipY=t,this}resetFlip(){return this.flipX=!1,this.flipY=!1,this}get tint(){return this._tint===void 0?this.parent.tint:this._tint}set tint(t){this._tint=t}setTint(t){return this.tint=t,this.tintFill=!1,this}setTintFill(t){return this.tint=t,this.tintFill=!0,this}clearTint(){return this.setTint(16777215),this}resetTint(){return this.tint=void 0,this.tintFill=void 0,this}get tintFill(){return this._tintFill===void 0?this.parent.tintFill:this._tintFill}set tintFill(t){this._tintFill=t}setCrop(t,s,o,y){return t===void 0?(this.isCropped=!1,this):this.frame?t===0&&s===0&&o===this._width&&y===this._height?(this.isCropped=!1,this):(this.frame.setCropUVs(this._crop,t,s,o,y,this.flipX,this.flipY),this.isCropped=!0,this):this}reset(){return super.reset(),this.resetFlip().resetTint().setFrame().setCrop(),this}modifyPorperties(t){return t?(t.hasOwnProperty("width")&&(t.displayWidth=t.width,delete t.width),t.hasOwnProperty("height")&&(t.displayHeight=t.height,delete t.height),t.hasOwnProperty("frame")&&this.setFrame(t.frame),super.modifyPorperties(t),t.hasOwnProperty("flipX")&&this.setFlipX(t.flipX),t.hasOwnProperty("flipY")&&this.setFlipY(t.flipY),t.hasOwnProperty("tint")&&this.setTint(t.tint),t.hasOwnProperty("tintFill")&&this.setTintFill(t.tintFill),this):this}};var dS=function(e){return e===void 0&&(e={}),e.u0=0,e.v0=0,e.u1=0,e.v1=0,e.x=0,e.y=0,e.width=0,e.height=0,e.flipX=!1,e.flipY=!1,e.cx=0,e.cy=0,e.cw=0,e.ch=0,e},fS={webglRender:oS,canvasRender:lS};Object.assign($0.prototype,fS);var K0=function(e,t){typeof t=="string"&&(t={frame:t});var s=e.poolManager?e.poolManager.allocate(U0):null;return s===null?s=new $0(e):s.setParent(e).setActive(),s.modifyPorperties(t),e.addChild(s),s},cS=function(e,t,s,o,y,S){K0(this,{frame:t,x:s,y:o,width:y,height:S})},vS=function(e,t,s,o,y,S){var r=this.texture.get(t),C=r.width,i=r.height,h=y%C,x=S%i;h===0&&(h=C),x===0&&(x=i);for(var f=Math.ceil(y/C),l=Math.ceil(S/i),a=f-1,n=l-1,d=0;d<f;d++)for(var c=0;c<l;c++){let p=K0(this,{frame:t,x:s+d*C,y:o+c*i});var u=d===a?h:C,v=c===n?x:i;(u!==C||v!==i)&&p.setCrop(0,0,u,v)}};const pS={_drawImage:cS,_drawTileSprite:vS};class Fd extends z0(W0,"rexNinePatch2"){setBaseTexture(t,s,o,y){return this.setTexture(t,s),super.setBaseTexture(t,s,o,y),this}}Object.assign(Fd.prototype,pS);st.register("ninePatch2",function(e,t,s,o,y,S,r,C){var i=new Fd(this.scene,e,t,s,o,y,S,r,C);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.NinePatch2",Fd);var gS=Phaser.Renderer.WebGL.Utils,Z0=function(e,t,s,o,y,S){for(var r=gS.getTintAppendFloatAlpha(s.fillColor,s.fillAlpha*o),C=s.pathData,i=s.pathIndexes,h=0;h<i.length;h+=3){var x=i[h]*2,f=i[h+1]*2,l=i[h+2]*2,a=C[x+0]-y,n=C[x+1]-S,d=C[f+0]-y,c=C[f+1]-S,u=C[l+0]-y,v=C[l+1]-S,p=t.getX(a,n),g=t.getY(a,n),m=t.getX(d,c),T=t.getY(d,c),P=t.getX(u,v),E=t.getY(u,v);e.batchTri(s,p,g,m,T,P,E,0,0,1,1,r,r,r,2)}},mS=Phaser.Renderer.WebGL.Utils,Ro=function(e,t,s,o,y){var S=e.strokeTint,r=mS.getTintAppendFloatAlpha(t.strokeColor,t.strokeAlpha*s);S.TL=r,S.TR=r,S.BL=r,S.BR=r;var C=t.pathData,i=C.length-1,h=t.lineWidth,x=h/2,f=C[0]-o,l=C[1]-y;t.closePath||(i-=2);for(var a=2;a<i;a+=2){var n=C[a]-o,d=C[a+1]-y;e.batchLine(f,l,n,d,x,x,h,a-2,t.closePath?a===i-1:!1),f=n,l=d}};const xS=Phaser.GameObjects.GetCalcMatrix;var yS=function(e,t,s,o){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=xS(t,s,o),r=y.calcMatrix.copyFrom(S.calc),C=t._displayOriginX,i=t._displayOriginY,h=s.alpha*t.alpha;e.pipelines.preBatch(t),t.isFilled&&Z0(y,r,t,h,C,i),t.isStroked&&Ro(y,t,h,C,i),e.pipelines.postBatch(t)},ua=function(e,t,s,o){var y=t.fillColor,S=t.fillAlpha,r=(y&16711680)>>>16,C=(y&65280)>>>8,i=y&255;e.fillStyle="rgba("+r+","+C+","+i+","+S+")"},da=function(e,t,s,o){var y=t.strokeColor,S=t.strokeAlpha,r=(y&16711680)>>>16,C=(y&65280)>>>8,i=y&255;e.strokeStyle="rgba("+r+","+C+","+i+","+S+")",e.lineWidth=t.lineWidth};const TS=Phaser.Renderer.Canvas.SetTransform;var CS=function(e,t,s,o){t.dirty&&(t.updateData(),t.dirty=!1),s.addToRenderList(t);var y=e.currentContext;if(TS(e,y,t,s,o)){var S=t._displayOriginX,r=t._displayOriginY,C=t.pathData,i=C.length-1,h=C[0]-S,x=C[1]-r;y.beginPath(),y.moveTo(h,x),t.closePath||(i-=2);for(var f=2;f<i;f+=2){var l=C[f]-S,a=C[f+1]-r;y.lineTo(l,a)}y.closePath(),t.isFilled&&(ua(y,t),y.fill()),t.isStroked&&(da(y,t),y.stroke()),y.restore()}};const SS={renderWebGL:yS,renderCanvas:CS},PS=Phaser.GameObjects.Shape;class Dd extends PS{get fillColor(){return this._fillColor}set fillColor(t){this._fillColor=t,this.isFilled=t!=null&&this._fillAlpha>0}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this._fillAlpha=t,this.isFilled=t>0&&this._fillColor!=null}setFillStyle(t,s){return s===void 0&&(s=1),this.fillColor=t,this.fillAlpha=s,this}get strokeColor(){return this._strokeColor}set strokeColor(t){this._strokeColor=t,this.isStroked=t!=null&&this._strokeAlpha>0&&this._lineWidth>0}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this._strokeAlpha=t,this.isStroked=t>0&&this._strokeColor!=null&&this._lineWidth>0}get lineWidth(){return this._lineWidth}set lineWidth(t){this._lineWidth=t,this.isStroked=t>0&&this._strokeColor!=null}setStrokeStyle(t,s,o){return o===void 0&&(o=1),this.lineWidth=t,this.strokeColor=s,this.strokeAlpha=o,this}updateData(){return this}get width(){return this.geom.width}set width(t){this.resize(t,this.height)}get height(){return this.geom.height}set height(t){this.resize(this.width,t)}setSize(t,s){var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=t,o.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}}Object.assign(Dd.prototype,SS);const ys=Phaser.Utils.Objects.GetValue;let Id=class{constructor(t,s,o,y,S){t===void 0&&(t=0),s===void 0&&(s=t),o===void 0&&(o=0),y===void 0&&(y=0),S===void 0&&(S=0),this.cornerRadius={},this._width=0,this._height=0,this.setTo(t,s,o,y,S)}setTo(t,s,o,y,S){return this.setPosition(t,s),this.setRadius(S),this.setSize(o,y),this}setPosition(t,s){return this.x=t,this.y=s,this}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setSize(t,s){return this.width=t,this.height=s,this}get minWidth(){var t=this.cornerRadius;return Math.max(t.tl.x+t.tr.x,t.bl.x+t.br.x)}get minHeight(){var t=this.cornerRadius;return Math.max(t.tl.y+t.bl.y,t.tr.y+t.br.y)}get width(){return this._width}set width(t){t==null&&(t=0),this._width=Math.max(t,this.minWidth)}get height(){return this._height}set height(t){t==null&&(t=0),this._height=Math.max(t,this.minHeight)}get radius(){var t=this.cornerRadius;return Math.max(t.tl.x,t.tl.y,t.tr.x,t.tr.y,t.bl.x,t.bl.y,t.br.x,t.br.y)}set radius(t){var s,o;typeof t=="number"?(s=t,o=t):(s=ys(t,"x",0),o=ys(t,"y",0));var y=this.cornerRadius;y.tl=Ua(ys(t,"tl",void 0),s,o),y.tr=Ua(ys(t,"tr",void 0),s,o),y.bl=Ua(ys(t,"bl",void 0),s,o),y.br=Ua(ys(t,"br",void 0),s,o)}get radiusTL(){var t=this.cornerRadius.tl;return Math.max(t.x,t.y)}set radiusTL(t){Ha(this.cornerRadius.tl,t)}get radiusTR(){var t=this.cornerRadius.tr;return Math.max(t.x,t.y)}set radiusTR(t){Ha(this.cornerRadius.tr,t)}get radiusBL(){var t=this.cornerRadius.bl;return Math.max(t.x,t.y)}set radiusBL(t){Ha(this.cornerRadius.bl,t)}get radiusBR(){var t=this.cornerRadius.br;return Math.max(t.x,t.y)}set radiusBR(t){Ha(this.cornerRadius.br,t)}};var Ua=function(e,t,s){return e===void 0?e={x:t,y:s}:typeof e=="number"&&(e={x:e,y:e}),J0(e),e},Ha=function(e,t){typeof t=="number"?(e.x=t,e.y=t):(e.x=ys(t,"x",0),e.y=ys(t,"y",0)),J0(e)},J0=function(e){e.convex=e.x>=0||e.y>=0,e.x=Math.abs(e.x),e.y=Math.abs(e.y)},Vt=function(e){return e.x>0&&e.y>0},le=function(e,t,s){var o=s.length;if(o>=2){var y=s[o-2],S=s[o-1];if(e===y&&t===S)return s}return s.push(e,t),s};const Oc=Phaser.Math.DegToRad;var ue=function(e,t,s,o,y,S,r,C,i){r&&S>y?S-=360:!r&&S<y&&(S+=360);var h=S-y,x=Oc(h)/C;y=Oc(y);for(var f=0;f<=C;f++){var l=y+x*f,a=e+s*Math.cos(l),n=t+o*Math.sin(l);le(a,n,i)}return i};const ES=Phaser.Utils.Objects.IsPlainObject,Lc=Phaser.Utils.Objects.GetValue,MS=Phaser.Geom.Polygon.Earcut;let pr=class extends Dd{constructor(t,s,o,y,S,r,C,i){var h,x,f,l;if(ES(s)){var a=s;s=a.x,o=a.y,y=a.width,S=a.height,r=a.radius,C=a.color,i=a.alpha,h=a.strokeColor,x=a.strokeAlpha,f=a.strokeWidth,l=a.shape}s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=y),r===void 0&&(r=0),l===void 0&&(l=0);var n=new Id;if(super(t,"rexRoundRectangleShape",n),this.setShapeType(l),this.shapeType===0){var d=Lc(r,"radius",r);n.setTo(0,0,y,S,d)}else{var d={x:y/2,y:S/2};n.setTo(0,0,y,S,d)}this.setIteration(Lc(r,"iteration",void 0)),this.setPosition(s,o),this.setFillStyle(C,i),f===void 0&&(f=2),this.setStrokeStyle(f,h,x),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,s=this.pathData;s.length=0;var o=t.width,y=t.height,S=t.cornerRadius,r,C=this.iteration+1;if(r=S.tl,Vt(r))if(r.convex){var i=r.x,h=r.y;ue(i,h,r.x,r.y,180,270,!1,C,s)}else{var i=0,h=0;ue(i,h,r.x,r.y,90,0,!0,C,s)}else le(0,0,s);if(r=S.tr,Vt(r))if(r.convex){var i=o-r.x,h=r.y;ue(i,h,r.x,r.y,270,360,!1,C,s)}else{var i=o,h=0;ue(i,h,r.x,r.y,180,90,!0,C,s)}else le(o,0,s);if(r=S.br,Vt(r))if(r.convex){var i=o-r.x,h=y-r.y;ue(i,h,r.x,r.y,0,90,!1,C,s)}else{var i=o,h=y;ue(i,h,r.x,r.y,270,180,!0,C,s)}else le(o,y,s);if(r=S.bl,Vt(r))if(r.convex){var i=r.x,h=y-r.y;ue(i,h,r.x,r.y,90,180,!1,C,s)}else{var i=0,h=y;ue(i,h,r.x,r.y,360,270,!0,C,s)}else le(0,y,s);return s.push(s[0],s[1]),this.pathIndexes=MS(s),this}setShapeType(t){return typeof t=="string"&&(t=wS[t]),this.shapeType=t,this}setSize(t,s){return s===void 0&&(s=t),this.geom.width===t&&this.geom.height===s?this:(this.geom.setSize(t,s),this.shapeType===1&&this.setRadius({x:t/2,y:s/2}),this.updateDisplayOrigin(),this.dirty=!0,super.setSize(t,s),this)}get radius(){return this.geom.radius}set radius(t){this.geom.setRadius(t),this.updateDisplayOrigin(),this.dirty=!0}get radiusTL(){return this.geom.radiusTL}set radiusTL(t){this.geom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.geom.radiusTR}set radiusTR(t){this.geom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.geom.radiusBL}set radiusBL(t){this.geom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.geom.radiusBR}set radiusBR(t){this.geom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.geom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}};const wS={rectangle:0,circle:1};st.register("roundRectangle",function(e,t,s,o,y,S,r){var C=new pr(this.scene,e,t,s,o,y,S,r);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.RoundRectangle",pr);const RS=Phaser.Renderer.WebGL.Utils;var AS=function(e,t,s,o){if(t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)){s.addToRenderList(t);var y=t.frame,S=y.width,r=y.height,C=RS.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),h=i.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,y.glTexture,S,r,t.x,t.y,S/t.resolution,r/t.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,C(t.tintTopLeft,s.alpha*t._alphaTL),C(t.tintTopRight,s.alpha*t._alphaTR),C(t.tintBottomLeft,s.alpha*t._alphaBL),C(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,o,!1,h),e.pipelines.postBatch(t)}},OS=function(e,t,s,o){t.dirty&&(t.updateTexture(),t.dirty=!1),!(t.width===0||t.height===0)&&(s.addToRenderList(t),e.batchSprite(t,t.frame,s,o))};const LS={renderWebGL:AS,renderCanvas:OS},bS=Phaser.Display.Color,FS={clear(){return this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},fill(e){return this.context.fillStyle=e,this.context.fillRect(0,0,this.canvas.width,this.canvas.height),this.dirty=!0,this},drawFrame(e,t,s,o,y,S,r,C,i,h){var x=this.scene.sys.textures.getFrame(e,t);if(!x)return this;var f=x.cutWidth,l=x.cutHeight;s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=f),S===void 0&&(S=l),r===void 0&&(r=0),C===void 0&&(C=0),i===void 0&&(i=f),h===void 0&&(h=l);var a=x.cutX+r,n=x.cutY+C;return this.context.drawImage(x.source.image,a,n,i,h,s,o,y,S),this.dirty=!0,this},getDataURL(e,t){return this.canvas.toDataURL(e,t)},getPixel(e,t,s){s===void 0&&(s=new bS);var o=this.context.getImageData(e,t,1,1);return s.setTo(o.data[0],o.data[1],o.data[2],o.data[3]),s},setPixel(e,t,s,o,y,S){if(typeof s!="number"){var r=s;s=r.red,o=r.green,y=r.blue,S=r.alpha}S===void 0&&(S=s!==0||o!==0||y!==0?255:0);var C=this.context.createImageData(1,1);return C.data[0]=s,C.data[1]=o,C.data[2]=y,C.data[3]=S,this.context.putImageData(C,e,t),this.dirty=!0,this}};var Q0=function(e,t,s,o,y,S,r){var C=e.sys.textures,i=e.renderer;o===void 0&&(o=0),y===void 0&&(y=0),S===void 0&&(S=t.width),r===void 0&&(r=t.height);var h;C.exists(s)?h=C.get(s):h=C.createCanvas(s,S,r);var x=h.getSourceImage();x.width!==S&&(x.width=S),x.height!==r&&(x.height=r);var f=x.getContext("2d",{willReadFrequently:!0});f.clearRect(0,0,S,r),f.drawImage(t,o,y,S,r),i.gl&&h&&i.canvasToTexture(x,h.source[0].glTexture,!0,0)};const DS={updateTexture(e,t){if(e){var s=this.resolution;s!==1&&(this.context.save(),this.context.scale(s,s)),t?e.call(t,this.canvas,this.context):e(this.canvas,this.context),s!==1&&this.context.restore()}(this.canvas.width!==this.frame.width||this.canvas.height!==this.frame.height)&&this.frame.setSize(this.canvas.width,this.canvas.height),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(this.canvas,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"Canvas Game Object"}),this.dirty=!1;var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=this.width,o.hitArea.height=this.height),this},generateTexture(e,t,s,o,y){var S=this.canvas;return o===void 0?o=S.width:o*=this.resolution,y===void 0?y=S.height:y*=this.resolution,Q0(this.scene,S,e,t,s,o,y),this},loadTexture(e,t){var s=this.scene.sys.textures.getFrame(e,t);return s?(this.width!==s.cutWidth||this.height!==s.cutHeight?this.setSize(s.cutWidth,s.cutHeight):this.clear(),this.drawFrame(e,t),this.dirty=!0,this):this}};Mo();const bc=Phaser.Display.Canvas.CanvasPool,IS=Phaser.GameObjects.GameObject,BS=Phaser.Utils.String.UUID;let Fs=class extends IS{constructor(t,s,o,y,S,r){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=1),r===void 0&&(r=1),super(t,"rexCanvas"),this.renderer=t.sys.game.renderer,this._width=y,this._height=S,this.resolution=r,y=Math.max(Math.ceil(y*this.resolution),1),S=Math.max(Math.ceil(S*this.resolution),1),this.canvas=bc.create(this,y,S),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this.dirty=!1,this.setPosition(s,o),this.setOrigin(.5,.5),this.initPipeline(),this.initPostPipeline(!0),this._crop=this.resetCropObject(),this._textureKey=BS(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null),this.dirty=!0}preDestroy(){bc.remove(this.canvas),this.canvas=null,this.context=null;var t=this.texture;t&&t.destroy()}setResolution(t){if(this.resolution===t)return this;this.resolution=t;var s=Math.max(Math.ceil(this.width*t),1),o=Math.max(Math.ceil(this.height*t),1);return this.canvas.width=s,this.canvas.height=o,this.frame.source.resolution=t,this.dirty=!0,this}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setCanvasSize(t,s){return this._width===t&&this._height===s?this:(this._width=t,this._height=s,this.updateDisplayOrigin(),t=Math.max(Math.ceil(t*this.resolution),1),s=Math.max(Math.ceil(s*this.resolution),1),this.canvas.width=t,this.canvas.height=s,this.frame.setSize(t,s),this.dirty=!0,this)}setSize(t,s){return this.setCanvasSize(t,s),this}get displayWidth(){return this.scaleX*this._width}set displayWidth(t){this.scaleX=t/this._width}get displayHeight(){return this.scaleY*this._height}set displayHeight(t){this.scaleY=t/this._height}setDisplaySize(t,s){return this.displayWidth=t,this.displayHeight=s,this}getCanvas(t){return t||(this.dirty=!0),this.canvas}getContext(t){return t||(this.dirty=!0),this.context}needRedraw(){return this.dirty=!0,this}resize(t,s){return this.setSize(t,s),this}};const be=Phaser.GameObjects.Components;Phaser.Class.mixin(Fs,[be.Alpha,be.BlendMode,be.Crop,be.Depth,be.Flip,be.GetBounds,be.Mask,be.Origin,be.Pipeline,be.PostPipeline,be.ScrollFactor,be.Tint,be.Transform,be.Visible,LS,FS,DS]);const GS=Phaser.Utils.String.Pad;var gt=function(e,t,s){if(e==null)return e;switch(typeof e){case"string":return e;case"number":return`#${GS(Math.floor(e).toString(16),6,"0",1)}`;case"function":return e(t,s);case"object":return e.hasOwnProperty("r")?e.hasOwnProperty("a")?`rgba(${e.r},${e.g},${e.b},${e.a})`:`rgb(${e.r},${e.g},${e.b})`:e.hasOwnProperty("h")?e.hasOwnProperty("a")?`hsla(${e.h},${e.s},${e.l},${e.a})`:`hsl(${e.h},${e.s},${e.l})`:e;default:return e}};const Fc=Phaser.Math.DegToRad;var j0=function(e,t,s,o,y,S,r){var C=new Id(t,s,o,y,S),i=C.minWidth,h=C.minHeight,x=o>=i?1:o/i,f=y>=h?1:y/h,l=C.cornerRadius,a,n,d,c,u,v,p;e.save(),e.beginPath(),e.translate(t,s),a=l.tl,Ka(a)?(n=a.x*x,d=a.y*f,$a(a)?(c=n,u=d,ns(e,c,u,n,d,180,270,!1,r)):(c=0,u=0,ns(e,c,u,n,d,90,0,!0,r)),v=0,p=d):(e.lineTo(0,0),v=0,p=0),a=l.tr,Ka(a)?(n=a.x*x,d=a.y*f,$a(a)?(c=o-n,u=d,ns(e,c,u,n,d,270,360,!1,r)):(c=o,u=0,ns(e,c,u,n,d,180,90,!0,r))):e.lineTo(o,0),a=l.br,Ka(a)?(n=a.x*x,d=a.y*f,$a(a)?(c=o-n,u=y-d,ns(e,c,u,n,d,0,90,!1,r)):(c=o,u=y,ns(e,c,u,n,d,270,180,!0,r))):e.lineTo(o,y),a=l.bl,Ka(a)?(n=a.x*x,d=a.y*f,$a(a)?(c=n,u=y-d,ns(e,c,u,n,d,90,180,!1,r)):(c=0,u=y,ns(e,c,u,n,d,360,270,!0,r))):e.lineTo(0,y),e.lineTo(v,p),e.closePath(),e.restore()},$a=function(e){return!e.hasOwnProperty("convex")||e.convex},Ka=function(e){return e.x>0&&e.y>0},ns=function(e,t,s,o,y,S,r,C,i){if(C&&r>S?r-=360:!C&&r<S&&(r+=360),S=Fc(S),r=Fc(r),i==null)e.ellipse(t,s,o,y,0,S,r,C);else{i+=1;for(var h,x,f,l=(r-S)/i,a=0;a<=i;a++)f=S+l*a,h=t+o*Math.cos(f),x=s+y*Math.sin(f),e.lineTo(h,x)}},NS=function(e,t,s,o,y,S,r,C,i,h,x,f,l){if(j0(t,s,o,y,S,r,l),C!=null){if(x!=null){var a;f?a=t.createLinearGradient(0,0,y,0):a=t.createLinearGradient(0,0,0,S),a.addColorStop(0,C),a.addColorStop(1,x),C=a}t.fillStyle=C,t.fill()}i!=null&&h>0&&(t.strokeStyle=i,t.lineWidth=h,t.stroke())},Bd=function(e,t,s,o,y,S,r,C){if(!(t==null&&s==null)){var i=e.canvas.width,h=e.canvas.height;s==null&&(o=0);var x=o/2;i=Math.max(1,i-o),h=Math.max(1,h-o),NS(e.canvas,e.context,x,x,i,h,y,t,s,o,S,r,C)}},kS=function(){Bd(this,this.fillStyle,this.strokeStyle,this.lineWidth,this.radius,this.fillColor2,this.isHorizontalGradient,this.iteration)};const Dc=Phaser.Utils.Objects.GetValue;let q0=class extends Fs{constructor(t,s,o,y,S,r,C,i,h,x,f,l){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=y),r===void 0&&(r=0),l===void 0&&(l=1),super(t,s,o,y,S,l),this.type="rexRoundRectangleCanvas";var a=Dc(r,"radius",r),n=Dc(r,"iteration",void 0);this.setRadius(a),this.setIteration(n),this.setFillStyle(C,x,f),this.setStrokeStyle(i,h)}get radius(){return this._radius}set radius(t){this.dirty|=this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this}get iteration(){return this._iteration}set iteration(t){this.dirty|=this._iteration!=t,this._iteration=t}setIteration(t){return this.iteration=t,this}get fillStyle(){return this._fillStyle}set fillStyle(t){t=gt(t,this.canvas,this.context),this.dirty|=this._fillStyle!=t,this._fillStyle=t}get fillColor2(){return this._fillColor2}set fillColor2(t){t=gt(t,this.canvas,this.context),this.dirty|=this._fillColor2!=t,this._fillColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setFillStyle(t,s,o){return o===void 0&&(o=!0),this.fillStyle=t,this.fillColor2=s,this.isHorizontalGradient=o,this}get strokeStyle(){return this._strokeStyle}set strokeStyle(t){t=gt(t,this.canvas,this.context),this.dirty|=this._strokeStyle!=t,this._strokeStyle=t}get lineWidth(){return this._lineWidth}set lineWidth(t){this.dirty|=this._lineWidth!=t,this._lineWidth=t}setStrokeStyle(t,s){return this.strokeStyle=t,this.lineWidth=s,this}updateTexture(){return super.updateTexture(function(){this.clear(),kS.call(this)},this),this}};st.register("roundRectangleCanvas",function(e,t,s,o,y,S,r,C,i,h){var x=new q0(this.scene,e,t,s,o,y,S,r,C,i,h);return this.scene.add.existing(x),x});et(window,"RexPlugins.UI.RoundRectangleCanvas",q0);var wt=function(e,t){if(!e)return!1;if(e.hasOwnProperty(t))return!0;for(;e;){if(Object.getOwnPropertyDescriptor(e,t))return!0;e=e.__proto__}return!1},as=function(e,t,s){!t||wt(e,`${t}X`)||(Object.defineProperty(e,`${t}X`,{get:function(){return s.x},set:function(o){s.x=o,e.dirty=!0}}),Object.defineProperty(e,`${t}Y`,{get:function(){return s.y},set:function(o){s.y=o,e.dirty=!0}}),Object.defineProperty(e,`${t}T`,{get:function(){return s.t},set:function(o){s.t=o,e.dirty=!0}}))};const VS={setTLPosition(e,t){return this.geom.setTLPosition(e,t),this.dirty=!0,this},setTRPosition(e,t){return this.geom.setTRPosition(e,t),this.dirty=!0,this},setBLPosition(e,t){return this.geom.setBLPosition(e,t),this.dirty=!0,this},setBRPosition(e,t){return this.geom.setBRPosition(e,t),this.dirty=!0,this},resetCornerPosition(){return this.geom.resetCornerPosition(),this.dirty=!0,this},insertTopSidePoint(e,t,s,o){var y=this.geom.topSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,C=y.length;r<C;r++)S=y[r],this.geom.insertTopSidePoint(S.t,S.x,S.y),as(this,S.key,y[y.length-1]);else this.geom.insertTopSidePoint(e,t,s),as(this,o,y[y.length-1]);return this.dirty=!0,this},insertRightSidePoint(e,t,s,o){var y=this.geom.rightSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,C=y.length;r<C;r++)S=y[r],this.geom.insertRightSidePoint(S.t,S.x,S.y),as(this,S.key,y[y.length-1]);else this.geom.insertRightSidePoint(e,t,s),as(this,o,y[y.length-1]);return this.dirty=!0,this},insertBottomSidePoint(e,t,s,o){var y=this.geom.bottomSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,C=y.length;r<C;r++)S=y[r],this.geom.insertBottomSidePoint(S.t,S.x,S.y),as(this,S.key,y[y.length-1]);else this.geom.insertBottomSidePoint(e,t,s),as(this,o,y[y.length-1]);return this.dirty=!0,this},insertLeftSidePoint(e,t,s,o){var y=this.geom.leftSidePoints;if(Array.isArray(e))for(var y=e,S,r=0,C=y.length;r<C;r++)S=y[r],this.geom.insertLeftSidePoint(S.t,S.x,S.y),as(this,S.key,y[y.length-1]);else this.geom.insertLeftSidePoint(e,t,s),as(this,o,y[y.length-1]);return this.dirty=!0,this},clearTopSidePoints(){return this.geom.clearTopSidePoints(),this.dirty=!0,this},clearRightSidePoints(){return this.geom.clearRightSidePoints(),this.dirty=!0,this},clearBottomSidePoints(){return this.geom.clearBottomSidePoints(),this.dirty=!0,this},clearLeftSidePoints(){return this.geom.clearLeftSidePoints(),this.dirty=!0,this},clearAllSidesPoints(){return this.geom.clearAllSidesPoints(),this.dirty=!0,this}};class zS{constructor(t,s,o,y){t===void 0&&(t=0),s===void 0&&(s=t),o===void 0&&(o=0),y===void 0&&(y=0),this.setTo(t,s,o,y),this.tlx=0,this.tly=0,this.trx=0,this.try=0,this.blx=0,this.bly=0,this.brx=0,this.bry=0,this.topSidePoints=[],this.rightSidePoints=[],this.bottomSidePoints=[],this.leftSidePoints=[]}setTo(t,s,o,y){return this.setPosition(t,s),this.setSize(o,y),this}setPosition(t,s){return this.x=t,this.y=s,this}setSize(t,s){return this.width=t,this.height=s,this}setTLPosition(t,s){return this.tlx=t,this.tly=s,this}setTRPosition(t,s){return this.trx=t,this.try=s,this}setBLPosition(t,s){return this.blx=t,this.bly=s,this}setBRPosition(t,s){return this.brx=t,this.bry=s,this}resetCornerPosition(){return this.setTLPosition(0,0).setTRPosition(0,0).setBLPosition(0,0).setBRPosition(0,0),this}insertTopSidePoint(t,s,o){return Za(this.topSidePoints,t,s,o),this}insertRightSidePoint(t,s,o){return Za(this.rightSidePoints,t,s,o),this}insertBottomSidePoint(t,s,o){return Za(this.bottomSidePoints,t,s,o),this}insertLeftSidePoint(t,s,o){return Za(this.leftSidePoints,t,s,o),this}clearTopSidePoints(){return this.topSidePoints.length=0,this}clearRightSidePoints(){return this.rightSidePoints.length=0,this}clearBottomSidePoints(){return this.bottomSidePoints.length=0,this}clearLeftSidePoints(){return this.leftSidePoints.length=0,this}clearAllSidesPoints(){return this.clearTopSidePoints().clearRightSidePoints().clearBottomSidePoints().clearLeftSidePoints(),this}}var Za=function(e,t,s,o){if(typeof t!="number"){var y=t;t=y.t,s=y.x,o=y.y}e.push({t,x:s,y:o})};const XS=Phaser.Utils.Objects.IsPlainObject,Ze=Phaser.Utils.Objects.GetValue,hs=Phaser.Math.Linear,YS=Phaser.Geom.Polygon.Earcut;class Gd extends Dd{constructor(t,s,o,y,S,r,C){var i,h,x;if(XS(s)){var f=s;s=f.x,o=f.y,y=f.width,S=f.height,r=f.color,C=f.alpha,i=f.strokeColor,h=f.strokeAlpha,x=f.strokeWidth}s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=y);var l=new zS;super(t,"rexQuadShape",l),l.setTo(0,0,y,S),this.setPosition(s,o),this.setFillStyle(r,C),i!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,i,h),this.setTLPosition(Ze(f,"tlx",0),Ze(f,"tly",0)).setTRPosition(Ze(f,"trx",0),Ze(f,"try",0)).setBLPosition(Ze(f,"blx",0),Ze(f,"bly",0)).setBRPosition(Ze(f,"brx",0),Ze(f,"bry",0));var a=Ze(f,"leftSidePoints");a&&this.insertLeftSidePoint(a);var n=Ze(f,"topSidePoints");n&&this.insertTopSidePoint(n);var d=Ze(f,"rightSidePoints");d&&this.insertRightSidePoint(d);var c=Ze(f,"bottomSidePoints");c&&this.insertBottomSidePoint(c),this.updateDisplayOrigin(),this.dirty=!0}updateData(){var t=this.geom,s=this.pathData;s.length=0;var o=t.width,y=t.height,S=0+t.tlx,r=0+t.tly,C=o+t.trx,i=0+t.try,h=o+t.brx,x=y+t.bry,f=0+t.blx,l=y+t.bly,a=t.topSidePoints,n=t.rightSidePoints,d=t.bottomSidePoints,c=t.leftSidePoints;le(S,r,s),Ja(a);for(var u=0,v=a.length;u<v;u++){var p=a[u],g=hs(S,C,p.t)+p.x,m=hs(r,i,p.t)+p.y;le(g,m,s)}le(C,i,s),Ja(n);for(var u=0,v=n.length;u<v;u++){var p=n[u],g=hs(C,h,p.t)+p.x,m=hs(i,x,p.t)+p.y;le(g,m,s)}le(h,x,s),Ja(d);for(var u=d.length-1;u>=0;u--){var p=d[u],g=hs(f,h,p.t)+p.x,m=hs(l,x,p.t)+p.y;le(g,m,s)}le(f,l,s),Ja(c);for(var u=c.length-1;u>=0;u--){var p=c[u],g=hs(S,f,p.t)+p.x,m=hs(r,l,p.t)+p.y;le(g,m,s)}return s.push(s[0],s[1]),this.pathIndexes=YS(s),this}get tlx(){return this.geom.tlx}set tlx(t){this.geom.tlx=t,this.dirty=!0}get tly(){return this.geom.tly}set tly(t){this.geom.tly=t,this.dirty=!0}get trx(){return this.geom.trx}set trx(t){this.geom.trx=t,this.dirty=!0}get try(){return this.geom.try}set try(t){this.geom.try=t,this.dirty=!0}get blx(){return this.geom.blx}set blx(t){this.geom.blx=t,this.dirty=!0}get bly(){return this.geom.bly}set bly(t){this.geom.bly=t,this.dirty=!0}get brx(){return this.geom.brx}set brx(t){this.geom.brx=t,this.dirty=!0}get bry(){return this.geom.bry}set bry(t){this.geom.bry=t,this.dirty=!0}get leftSidePoints(){return this.geom.leftSidePoints}get topSidePoints(){return this.geom.topSidePoints}get bottomSidePoints(){return this.geom.bottomSidePoints}get rightSidePoints(){return this.geom.rightSidePoints}}var Ja=function(e){e.length<=1||e.sort(function(t,s){return t.t-s.t})};Object.assign(Gd.prototype,VS);st.register("QuadShape",function(e,t,s,o,y,S){var r=new Gd(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.QuadShape",Gd);var WS=Phaser.Renderer.WebGL.Utils,US=function(e,t,s,o){if(!(t.width===0||t.height===0)){s.addToRenderList(t);var y=t.frame,S=y.width,r=y.height,C=WS.getTintAppendFloatAlpha,i=e.pipelines.set(t.pipeline,t),h=i.setTexture2D(y.glTexture,t);e.pipelines.preBatch(t),i.batchTexture(t,y.glTexture,S,r,t.x,t.y,S/t.style.resolution,r/t.style.resolution,t.scaleX,t.scaleY,t.rotation,t.flipX,t.flipY,t.scrollFactorX,t.scrollFactorY,t.displayOriginX,t.displayOriginY,0,0,S,r,C(t.tintTopLeft,s.alpha*t._alphaTL),C(t.tintTopRight,s.alpha*t._alphaTR),C(t.tintBottomLeft,s.alpha*t._alphaBL),C(t.tintBottomRight,s.alpha*t._alphaBR),t.tintFill,0,0,s,o,!1,h),e.pipelines.postBatch(t)}},HS=function(e,t,s,o){t.width===0||t.height===0||(s.addToRenderList(t),e.batchSprite(t,t.frame,s,o))};const $S={renderWebGL:US,renderCanvas:HS},Rl=Phaser.Display.Canvas.CanvasPool;var KS=function(e,t,s){s===void 0&&(s={});var o=Rl.create(this),y=o.getContext("2d",{willReadFrequently:!0});e.syncFont(o,y);var S=y.measureText(t),r=Math.ceil(S.width*e.baselineX),C=r,i=2*C;if(C=C*e.baselineY|0,o.width=r,o.height=i,y.fillStyle="#f00",y.fillRect(0,0,r,i),y.font=e._font,y.textBaseline="alphabetic",y.fillStyle="#000",y.fillText(e.testString,0,C),s.left=0,r===0||i===0||!y.getImageData(0,0,r,i))return Rl.remove(o),s;for(var h=y.getImageData(0,0,r,i).data,x=!1,f=0;f<r;f++){for(var l=0;l<i;l++){var a=(l*r+f)*4;if(h[a]!==255){s.left=f,x=!0;break}}if(x)break}return Rl.remove(o),s};Mo();const ZS=Phaser.GameObjects.GameObject;class _0 extends ZS{setStyle(t){return this.style.setStyle(t)}setFont(t){return this.style.setFont(t)}setFontFamily(t){return this.style.setFontFamily(t)}setFontSize(t){return this.style.setFontSize(t)}setFontStyle(t){return this.style.setFontStyle(t)}setTestString(t){return this.style.setTestString(t)}setFixedSize(t,s){return this.style.setFixedSize(t,s)}setBackgroundColor(t,s,o){return this.style.setBackgroundColor(t,s,o)}setBackgroundStrokeColor(t,s){return this.style.setBackgroundStrokeColor(t,s)}setBackgroundCornerRadius(t,s){return this.style.setBackgroundCornerRadius(t,s)}setFill(t){return this.style.setFill(t)}setColor(t){return this.style.setColor(t)}setStroke(t,s){return this.style.setStroke(t,s)}setShadow(t,s,o,y,S,r){return this.style.setShadow(t,s,o,y,S,r)}setShadowOffset(t,s){return this.style.setShadowOffset(t,s)}setShadowColor(t){return this.style.setShadowColor(t)}setShadowBlur(t){return this.style.setShadowBlur(t)}setShadowStroke(t){return this.style.setShadowStroke(t)}setShadowFill(t){return this.style.setShadowFill(t)}setUnderline(t,s,o){return this.style.setUnderline(t,s,o)}setUnderlineColor(t){return this.style.setUnderlineColor(t)}setUnderlineThickness(t){return this.style.setUnderlineThickness(t)}setUnderlineOffset(t){return this.style.setUnderlineOffset(t)}setStrikethrough(t,s,o){return this.style.setStrikethrough(t,s,o)}setStrikethroughColor(t){return this.style.setStrikethroughColor(t)}setStrikethroughThickness(t){return this.style.setStrikethroughThickness(t)}setStrikethroughOffset(t){return this.style.setStrikethroughOffset(t)}setWrapMode(t){return this.style.setWrapMode(t)}setWrapWidth(t){return this.style.setWrapWidth(t)}setWordWrapWidth(t){return this.style.setWrapWidth(t)}setAlign(t){return this.style.setHAlign(t)}setHAlign(t){return this.style.setHAlign(t)}setVAlign(t){return this.style.setVAlign(t)}get lineSpacing(){return this.style.lineSpacing}set lineSpacing(t){this.style.lineSpacing=t}setLineSpacing(t){return this.style.lineSpacing=t,this.updateText(!0),this}setXOffset(t){return this.style.setXOffset(t)}setMaxLines(t){return this.style.setMaxLines(t)}setResolution(t){return this.style.setResolution(t)}getTextMetrics(){return this.style.getTextMetrics()}setTextMetrics(t,s){return this.style.setTextMetrics(t,s)}measureTextMargins(t,s){return KS(this.style,t,s)}}const Re=Phaser.GameObjects.Components;Phaser.Class.mixin(_0,[Re.Alpha,Re.BlendMode,Re.ComputedSize,Re.Crop,Re.Depth,Re.Flip,Re.GetBounds,Re.Mask,Re.Origin,Re.Pipeline,Re.PostPipeline,Re.ScrollFactor,Re.Tint,Re.Transform,Re.Visible,$S]);var JS={backgroundColor:["backgroundColor",null,gt],backgroundColor2:["backgroundColor2",null,gt],backgroundHorizontalGradient:["backgroundHorizontalGradient",!0,null],backgroundStrokeColor:["backgroundStrokeColor",null,gt],backgroundStrokeLineWidth:["backgroundStrokeLineWidth",2,null],backgroundCornerRadius:["backgroundCornerRadius",0,null],backgroundCornerIteration:["backgroundCornerIteration",null,null],fontFamily:["fontFamily","Courier",null],fontSize:["fontSize","16px",null],fontStyle:["fontStyle","",null],color:["color","#fff",gt],stroke:["stroke","#fff",gt],strokeThickness:["strokeThickness",0,null],shadowOffsetX:["shadow.offsetX",0,null],shadowOffsetY:["shadow.offsetY",0,null],shadowColor:["shadow.color","#000",gt],shadowBlur:["shadow.blur",0,null],shadowStroke:["shadow.stroke",!1,null],shadowFill:["shadow.fill",!1,null],underlineColor:["underline.color","#000",gt],underlineThickness:["underline.thickness",0,null],underlineOffset:["underline.offset",0,null],strikethroughColor:["strikethrough.color","#000",gt],strikethroughThickness:["strikethrough.thickness",0,null],strikethroughOffset:["strikethrough.offset",0,null],halign:["halign","left",null],valign:["valign","top",null],maxLines:["maxLines",0,null],fixedWidth:["fixedWidth",0,null],fixedHeight:["fixedHeight",0,null],resolution:["resolution",0,null],lineSpacing:["lineSpacing",0,null],xOffset:["xOffset",0,null],rtl:["rtl",!1,null],testString:["testString","|MÃ‰qgy",null],baselineX:["baselineX",1.2,null],baselineY:["baselineY",1.4,null],wrapMode:["wrap.mode",0,null],wrapWidth:["wrap.width",0,null],wrapCallback:["wrap.callback",null],wrapCallbackScope:["wrap.callbackScope",null]};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2018 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */const Qa=Phaser.Display.Canvas.CanvasPool;var Ic=function(e){var t=Qa.create(this),s=t.getContext("2d",{willReadFrequently:!0});e.syncFont(t,s);var o=s.measureText(e.testString);if("actualBoundingBoxAscent"in o){var y=o.actualBoundingBoxAscent,S=o.actualBoundingBoxDescent,h={ascent:y,descent:S,fontSize:y+S};return Qa.remove(t),h}var r=Math.ceil(o.width*e.baselineX),C=r,i=2*C;C=C*e.baselineY|0,t.width=r,t.height=i,s.fillStyle="#f00",s.fillRect(0,0,r,i),s.font=e._font,s.textBaseline="alphabetic",s.fillStyle="#000",s.fillText(e.testString,0,C);var h={ascent:0,descent:0,fontSize:0};if(!s.getImageData(0,0,r,i))return h.ascent=C,h.descent=C+6,h.fontSize=h.ascent+h.descent,Qa.remove(t),h;var x=s.getImageData(0,0,r,i).data,f=x.length,l=r*4,a,n,d=0,c=!1;for(a=0;a<C;a++){for(n=0;n<l;n+=4)if(x[d+n]!==255){c=!0;break}if(!c)d+=l;else break}for(h.ascent=C-a,d=f-l,c=!1,a=i;a>C;a--){for(n=0;n<l;n+=4)if(x[d+n]!==255){c=!0;break}if(!c)d-=l;else break}return h.descent=a-C,h.fontSize=h.ascent+h.descent,Qa.remove(t),h},te={NO_NEWLINE:0,RAW_NEWLINE:1,WRAPPED_NEWLINE:2,NO_WRAP:0,WORD_WRAP:1,CHAR_WRAP:2,MIX_WRAP:3,SPLITREGEXP:/(?:\r\n|\r|\n)/};const oo={none:te.NO_WRAP,word:te.WORD_WRAP,char:te.CHAR_WRAP,character:te.CHAR_WRAP,mix:te.MIX_WRAP},QS=Phaser.Utils.Objects.GetAdvancedValue,Ne=Phaser.Utils.Objects.GetValue;let Nd=class{constructor(t,s,o){this.parent=t,o===void 0&&(o=JS),this.propertyMap=o,this.backgroundColor,this.backgroundColor2,this.backgroundHorizontalGradient,this.backgroundStrokeColor,this.backgroundStrokeLineWidth,this.backgroundCornerRadius,this.backgroundCornerIteration,this.fontFamily,this.fontSize,this.fontStyle,this.color,this.stroke,this.strokeThickness,this.shadowOffsetX,this.shadowOffsetY,this.shadowColor,this.shadowBlur,this.shadowStroke,this.shadowFill,this.underlineColor,this.underlineThickness,this.underlineOffset,this.strikethroughColor,this.strikethroughThickness,this.strikethroughOffset,this.halign,this.valign,this.maxLines,this.fixedWidth,this.fixedHeight,this.resolution,this.xOffset,this.rtl,this.testString,this.baselineX,this.baselineY,this.wrapMode,this.wrapWidth,this.wrapCallback,this.wrapCallbackScope,this._font,this.setStyle(s,!1,!0)}get isWrapFitMode(){return this.fixedWidth>0&&this.wrapMode!==te.NO_WRAP&&this.wrapWidth===0}setStyle(t,s,o){if(s===void 0&&(s=!0),o===void 0&&(o=!1),t&&t.hasOwnProperty("wordWrap")){var y=t.wordWrap;y.hasOwnProperty("width")&&(t.wrap={mode:"word",width:y.width})}if(t&&t.hasOwnProperty("wrap")){var S=t.wrap;if(S.hasOwnProperty("mode")){var r=S.mode;typeof r=="string"&&(S.mode=oo[r])}else S.hasOwnProperty("width")&&(S.mode=1)}t&&t.rtl&&o&&!t.hasOwnProperty("halign")&&(t.halign="right"),t&&t.hasOwnProperty("fontSize")&&typeof t.fontSize=="number"&&(t.fontSize=t.fontSize.toString()+"px");var C=this.propertyMap;for(var i in C){var h=C[i],x=h[0],f=o?h[1]:this[i],l=h[2];if(i==="wrapCallback"||i==="wrapCallbackScope")this[i]=Ne(t,x,f);else{var a=QS(t,x,f);l&&(a=l(a)),this[i]=a}}var n=Ne(t,"font",null);n===null?this._font=this.fontStyle+" "+this.fontSize+" "+this.fontFamily:this._font=n;var d=Ne(t,"fill",null);d!==null&&(this.color=gt(d));var c=Ne(t,"metrics",!1);return c?this.metrics={ascent:Ne(c,"ascent",0),descent:Ne(c,"descent",0),fontSize:Ne(c,"fontSize",0)}:(s||!this.metrics)&&(this.metrics=Ic(this)),s?this.parent.updateText():this.parent}syncFont(t,s){s.font=this._font}syncStyle(t,s){s.textBaseline="alphabetic",s.fillStyle=this.color,s.strokeStyle=this.stroke,s.lineWidth=this.strokeThickness,s.lineCap="round",s.lineJoin="round"}syncShadow(t,s){s?(t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowColor=this.shadowColor,t.shadowBlur=this.shadowBlur):(t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowColor=0,t.shadowBlur=0)}update(t){return t&&(this._font=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim(),this.metrics=Ic(this)),this.parent.updateText(t)}buildFont(){var t=`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`.trim();return t!==this._font&&(this._font=t),this}setFont(t){return typeof t=="string"?(this.fontFamily=t,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ne(t,"fontFamily","Courier"),this.fontSize=Ne(t,"fontSize","16px"),this.fontStyle=Ne(t,"fontStyle","")),this.update(!0)}setFontFamily(t){return this.fontFamily=t,this.update(!0)}setFontStyle(t){return this.fontStyle=t,this.update(!0)}setFontSize(t){return typeof t=="number"&&(t=t.toString()+"px"),this.fontSize=t,this.update(!0)}setTestString(t){return this.testString=t,this.update(!0)}setFixedSize(t,s){return this.fixedWidth=t,this.fixedHeight=s,t&&(this.parent.width=t),s&&(this.parent.height=s),this.update(this.isWrapFitMode)}setResolution(t){return this.resolution=t,this.update(!1)}setXOffset(t){return this.xOffset=t,this.update(!1)}setBackgroundColor(t,s,o){return o===void 0&&(o=!0),this.backgroundColor=gt(t,this.parent.canvas,this.parent.context),this.backgroundColor2=gt(s,this.parent.canvas,this.parent.context),this.backgroundHorizontalGradient=o,this.update(!1)}setBackgroundStrokeColor(t,s){return this.backgroundStrokeColor=gt(t,this.parent.canvas,this.parent.context),this.backgroundStrokeLineWidth=s,this.update(!1)}setBackgroundCornerRadius(t,s){return this.backgroundCornerRadius=t,this.backgroundCornerIteration=s,this.update(!1)}setFill(t){return this.color=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setColor(t){return this.color=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStroke(t,s){return t===void 0?this.strokeThickness=0:(s===void 0&&(s=this.strokeThickness),this.stroke=gt(t,this.parent.canvas,this.parent.context),this.strokeThickness=s),this.update(!0)}setShadow(t,s,o,y,S,r){return t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o="#000"),y===void 0&&(y=0),S===void 0&&(S=!1),r===void 0&&(r=!0),this.shadowOffsetX=t,this.shadowOffsetY=s,this.shadowColor=gt(o,this.parent.canvas,this.parent.context),this.shadowBlur=y,this.shadowStroke=S,this.shadowFill=r,this.update(!1)}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=t),this.shadowOffsetX=t,this.shadowOffsetY=s,this.update(!1)}setShadowColor(t){return t===void 0&&(t="#000"),this.shadowColor=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setShadowBlur(t){return t===void 0&&(t=0),this.shadowBlur=t,this.update(!1)}setShadowStroke(t){return this.shadowStroke=t,this.update(!1)}setShadowFill(t){return this.shadowFill=t,this.update(!1)}setUnderline(t,s,o){return t===void 0&&(t="#000"),s===void 0&&(s=0),o===void 0&&(o=0),this.underlineColor=gt(t,this.parent.canvas,this.parent.context),this.underlineThickness=s,this.underlineOffset=o,this.update(!1)}setUnderlineColor(t){return t===void 0&&(t="#000"),this.underlineColor=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setUnderlineThickness(t){return t===void 0&&(t=0),this.underlineThickness=t,this.update(!1)}setUnderlineOffset(t){return t===void 0&&(t=0),this.underlineOffset=t,this.update(!1)}setStrikethrough(t,s,o){return t===void 0&&(t="#000"),s===void 0&&(s=0),o===void 0&&(o=0),this.strikethroughColor=gt(t,this.parent.canvas,this.parent.context),this.strikethroughThickness=s,this.strikethroughOffset=o,this.update(!1)}setStrikethroughColor(t){return t===void 0&&(t="#000"),this.strikethroughColor=gt(t,this.parent.canvas,this.parent.context),this.update(!1)}setStrikethroughThickness(t){return t===void 0&&(t=0),this.strikethroughThickness=t,this.update(!1)}setStrikethroughOffset(t){return t===void 0&&(t=0),this.strikethroughOffset=t,this.update(!1)}setWrapMode(t){return typeof t=="string"&&(t=oo[t.toLowerCase()]||0),this.wrapMode=t,this.update(!0)}setWrapWidth(t){return this.wrapWidth=t,this.update(!1)}setAlign(t,s){return t===void 0&&(t="left"),s===void 0&&(s="top"),this.halign=t,this.valign=s,this.update(!1)}setHAlign(t){return t===void 0&&(t="left"),this.halign=t,this.update(!1)}setVAlign(t){return t===void 0&&(t="top"),this.valign=t,this.update(!1)}setMaxLines(t){return t===void 0&&(t=0),this.maxLines=t,this.update(!1)}getTextMetrics(){var t=this.metrics;return{ascent:t.ascent,descent:t.descent,fontSize:t.fontSize}}setTextMetrics(t,s){return this.metrics.ascent=t.ascent,this.metrics.descent=t.descent,this.metrics.fontSize=t.fontSize,s&&(typeof s=="string"?(this.fontFamily=s,this.fontSize="",this.fontStyle=""):(this.fontFamily=Ne(s,"fontFamily",this.fontFamily),this.fontSize=Ne(s,"fontSize",this.fontSize),this.fontStyle=Ne(s,"fontStyle",this.fontStyle))),this.parent.updateText(!0)}get lineHeight(){return this.metrics.fontSize+this.parent.lineSpacing}toJSON(){var t={},s=this.propertyMap;for(var o in s)t[o]=this[o];return t.metrics=this.getTextMetrics(),t}destroy(){this.parent=void 0}};var sn=function(e){return e==null?e="":Array.isArray(e)?e=e.join(`
`):typeof e=="number"&&(e=e.toString()),e};const jS={draw(e,t,s,o){var y=this.penManager;this.hitAreaManager.clear();var S=this.context;S.save();var r=this.defaultStyle;this.clear(),Bd(this,r.backgroundColor,r.backgroundStrokeColor,r.backgroundStrokeLineWidth,r.backgroundCornerRadius,r.backgroundColor2,r.backgroundHorizontalGradient,r.backgroundCornerIteration),e+=this.startXOffset,t+=this.startYOffset;var C=r.halign,i=r.valign,h,x=r.lineHeight,f=y.lines,l=f.length,a=r.maxLines,n,d,c;a>0&&l>a?(n=a,i==="center"?d=Math.floor((l-n)/2):i==="bottom"?d=l-n:d=0):(n=l,d=0),c=d+n;var u,v,p=this.rtl,g=p?this.parent.width:void 0;i==="center"?v=Math.max((o-n*x)/2,0):i==="bottom"?v=Math.max(o-n*x-2,0):v=0,v+=t;for(var m=d;m<c;m++)if(h=y.getLineWidth(m),h!==0){for(var T=f[m],P=T.length,E=C,M=0;M<P;M++){var w=T[M].prop.align;if(w!==void 0){E=w;break}}E==="center"?u=(s-h)/2:E==="right"?u=p?0:s-h:u=p?s-h:0,u+=e;for(var M=0;M<P;M++)this.drawPen(T[M],u,v,g)}S.restore()},drawPen(e,t,s,o){t+=e.x,s+=e.y+(e.prop.y||0),o!==void 0&&(t=o-t);var y=this.canvas,S=this.context;S.save();var r=this.parser.propToContextStyle(this.defaultStyle,e.prop);if(r.bgcolor!==null&&e.width>0){var C=this.defaultStyle.metrics,i=s-C.ascent,h=C.fontSize;this.drawRectangle(t,i,e.width,h,r.bgcolor,r)}if(r.underlineThickness>0&&e.width>0){var x=s+r.underlineOffset-r.underlineThickness/2;this.drawLine(t,x,e.width,r.underlineThickness,r.underlineColor,r)}if(e.isTextPen&&(r.buildFont(),r.syncFont(y,S),r.syncStyle(y,S),this.drawText(t,s,e.text,r)),e.isImagePen&&this.drawImage(t,s,e.prop.img,e.prop.color,r),r.strikethroughThickness>0&&e.width>0){var x=s+r.strikethroughOffset-r.strikethroughThickness/2;this.drawLine(t,x,e.width,r.strikethroughThickness,r.strikethroughColor,r)}if(S.restore(),e.hasAreaMarker&&e.width>0){var f,l=e.prop.area;if(l)f={key:l};else{var a=e.prop.url;f={key:`url:${a}`,url:a}}this.hitAreaManager.add(t,s-this.startYOffset,e.width,this.defaultStyle.lineHeight,f)}},clear(){var e=this.canvas;this.context.clearRect(0,0,e.width,e.height)},drawRectangle(e,t,s,o,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;r.fillStyle=y,r.fillRect(e,t,s,o)},drawLine(e,t,s,o,y,S){this.autoRound&&(e=Math.round(e),t=Math.round(t));var r=this.context;S.syncShadow(r,S.shadowStroke);var C=r.lineCap;r.lineCap="butt",r.strokeStyle=y,r.lineWidth=o,r.beginPath(),r.moveTo(e,t),r.lineTo(e+s,t),r.stroke(),r.lineCap=C},drawText(e,t,s,o){this.autoRound&&(e=Math.round(e),t=Math.round(t));var y=this.context;o.stroke&&o.stroke!=="none"&&o.strokeThickness>0&&(o.syncShadow(y,o.shadowStroke),y.strokeText(s,e,t)),o.color&&o.color!=="none"&&(o.syncShadow(y,o.shadowFill),y.fillText(s,e,t))},drawImage(e,t,s,o,y){t-=this.startYOffset,this.parent.imageManager.draw(s,this.context,e,t,o,this.autoRound)}},Ys=Phaser.Utils.Objects.GetValue,qS=te.NO_NEWLINE,Bc=te.RAW_NEWLINE;class _S{constructor(t){this.prop={},this.resetFromJSON(t)}resetFromJSON(t){this.text=Ys(t,"text",""),this.x=Ys(t,"x",0),this.y=Ys(t,"y",0),this.width=Ys(t,"width",0);var s=Ys(t,"prop",null);s===null&&(s={}),this.prop=s,this.newLineMode=Ys(t,"newLineMode",0),this.startIndex=Ys(t,"startIndex",0)}get plainText(){var t=this.text;return this.newLineMode===Bc&&(t+=`
`),t}get wrapText(){var t=this.text;return this.newLineMode!==qS&&(t+=`
`),t}get rawTextLength(){var t=this.text.length;return this.newLineMode===Bc&&(t+=1),t}get endIndex(){return this.startIndex+this.rawTextLength}get lastX(){return this.x+this.width}get isTextPen(){return this.text!==""}get isImagePen(){return!!this.prop.img}get hasAreaMarker(){return!!this.prop.area||!!this.prop.url}}var mi=function(e,t){var s=Array.isArray(e);if(t===void 0?t=s?[]:{}:ws(t),s){t.length=e.length;for(var o=0,y=e.length;o<y;o++)t[o]=e[o]}else for(var S in e)t[S]=e[S];return t};const Gc=Phaser.Utils.Objects.GetFastValue,Nc=te.NO_NEWLINE,t1=te.WRAPPED_NEWLINE;class kd{constructor(t){this.pens=[],this.lines=[],this.maxLinesWidth=void 0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.tagToText=Gc(t,"tagToText",ae),this.tagToTextScope=Gc(t,"tagToTextScope",void 0)}destroy(){this.clear(),this.tagToText=void 0,this.tagToTextScope=void 0}clear(){for(var t=0,s=this.lines.length;t<s;t++)this.lines[t].length=0;this.pensPool.pushMultiple(this.pens),this.linesPool.pushMultiple(this.lines),this.maxLinesWidth=void 0}addTextPen(t,s,o,y,S,r){var C=this.pensPool.pop();return C==null&&(C=new _S),Ws.text=t,Ws.x=s,Ws.y=o,Ws.width=y,Ws.prop=S,Ws.newLineMode=r,C.resetFromJSON(Ws),this.addPen(C),this}addImagePen(t,s,o,y){return this.addTextPen("",t,s,o,y,Nc),this}addNewLinePen(){var t=this.lastPen,s=t?t.lastX:0,o=t?t.y:0,y=t?mi(t.prop):null;return this.addTextPen("",s,o,0,y,t1),this}addPen(t){var s=this.lastPen;s==null?t.startIndex=0:t.startIndex=s.endIndex,this.pens.push(t);var o=this.lastLine;o==null&&(o=this.linesPool.pop()||[],this.lines.push(o)),o.push(t),t.newLineMode!==Nc&&(o=this.linesPool.pop()||[],this.lines.push(o)),this.maxLinesWidth=void 0}clone(t){t==null&&(t=new kd),t.clear();for(var s=0,o=this.lines.length;s<o;s++)for(var y=this.lines[s],S=0,r=y.length;S<r;S++){var C=y[S];t.addPen(C.text,C.x,C.y,C.width,mi(C.prop),C.newLineMode)}return t}get lastPen(){return this.pens[this.pens.length-1]}get lastLine(){return this.lines[this.lines.length-1]}getLineStartIndex(t){if(t>=this.lines.length)return this.getLineEndIndex(t);var s=this.lines[t];return s&&s[0]?s[0].startIndex:0}getLineEndIndex(t){t>=this.lines.length&&(t=this.lines.length-1);var s,o=!1,y;for(s=t;s>=0&&(y=this.lines[s],o=y!=null&&y.length>0,!o);s--);if(!o)return 0;var S=y[y.length-1];return S.endIndex}getLineWidth(t){var s=this.lines[t];if(!s)return 0;var o=s[s.length-1];if(o==null)return 0;var y=o.lastX;return y}getMaxLineWidth(){if(this.maxLinesWidth!==void 0)return this.maxLinesWidth;for(var t,s=0,o=0,y=this.lines.length;o<y;o++)t=this.getLineWidth(o),t>s&&(s=t);return this.maxLinesWidth=s,s}getLineWidths(){for(var t=[],s=0,o=this.lines.length;s<o;s++)t.push(this.getLineWidth(s));return t}get linesCount(){return this.lines.length}get plainText(){for(var t="",s=this.pens,o=0,y=s.length;o<y;o++)t+=s[o].plainText;return t}get rawTextLength(){for(var t=0,s=this.pens,o=0,y=this.pens.length;o<y;o++)t+=s[o].rawTextLength;return t}getSliceTagText(t,s,o){var y=this.lastPen;if(y==null)return"";var S=y.endIndex;(t===void 0||t===0)&&(t=-1),(s===void 0||s===S)&&(s=S+1),o===void 0&&(o=!1);for(var r="",C,i,h,x,f,l,a,n=0,d=this.pens.length;n<d&&(C=this.pens[n],x=C.endIndex,!(!(x<=t)&&(C=this.pens[n],i=o?C.wrapText:C.plainText,l=C.prop,h=C.startIndex,f=h>=t&&x<=s,f||(i=i.substring(t-h,s-h)),this.tagToTextScope?r+=this.tagToText.call(this.tagToTextScope,i,l,a):r+=this.tagToText(i,l,a),a=l,x>=s)));n++);return r}get length(){return this.lines.length}set length(t){this.clear()}}var Ws={};const e1=Phaser.Geom.Rectangle;var kc=new Di;class i1{constructor(){this.hitAreas=[]}destroy(){this.clear()}clear(){for(var t=0,s=this.hitAreas.length;t<s;t++)this.hitAreas[t].data=null;return kc.pushMultiple(this.hitAreas),this}add(t,s,o,y,S){S===void 0&&(S={});var r=kc.pop();return r===null?r=new e1(t,s,o,y):r.setTo(t,s,o,y),r.data=S,this.hitAreas.push(r),this}getFirst(t,s){for(var o=0,y=this.hitAreas.length;o<y;o++){var S=this.hitAreas[o];if(S.contains(t,s))return S}return null}getByKey(t){for(var s=0,o=this.hitAreas.length;s<o;s++){var y=this.hitAreas[s];if(y.data.key===t)return y}return null}drawBounds(t,s,o){s===void 0&&(s=16777215),o&&t.save().translateCanvas(o.x,o.y).rotateCanvas(o.rotation).scaleCanvas(o.scaleX,o.scaleY);for(var y=0,S=this.hitAreas.length;y<S;y++){var r=this.hitAreas[y];t.lineStyle(1,s).strokeRect(r.x,r.y,r.width,r.height)}return o&&t.restore(),this}}var s1=function(){this.parent.on("pointerdown",r1,this).on("pointerup",n1,this).on("pointermove",Al,this).on("pointerover",Al,this).on("pointerout",function(e,t){Al.call(this,e,null,null,t)},this)},r1=function(e,t,s,o){var y=this.hitAreaManager.getFirst(t,s);if(y!==null){var S=y.data.key;rn.call(this,"areadown",S,e,t,s,o),y.data&&(y.data.isDown=!0)}},n1=function(e,t,s,o){var y=this.hitAreaManager.getFirst(t,s);if(y!==null){var S=y.data.key;if(rn.call(this,"areaup",S,e,t,s,o),!!y.data){if(y.data.isDown){if(rn.call(this,"areaclick",S,e,t,s,o),!y.data)return;var r=y.data.url;r&&window.open(r,"_blank")}y.data.isDown=!1}}},Al=function(e,t,s,o){if(t===null){if(this.lastHitAreaKey!==null){rn.call(this,"areaout",this.lastHitAreaKey,e,t,s,o);var y=this.hitAreaManager.getByKey(this.lastHitAreaKey);y&&y.data&&(y.data.isDown=!1),this.lastHitAreaKey=null}return}var y=this.hitAreaManager.getFirst(t,s),S=y?y.data.key:null;if(this.lastHitAreaKey!==S){if(this.lastHitAreaKey!==null){rn.call(this,"areaout",this.lastHitAreaKey,e,t,s,o);var r=this.hitAreaManager.getByKey(this.lastHitAreaKey);r&&(this.urlTagCursorStyle&&Vc(this.scene,r,""),r.data.isDown=!1)}S!==null&&(rn.call(this,"areaover",S,e,t,s,o),y.data&&this.urlTagCursorStyle&&Vc(this.scene,y,this.urlTagCursorStyle)),this.lastHitAreaKey=S}},rn=function(e,t,s,o,y,S){this.parent.emit(`${e}-${t}`,s,o,y,S),this.parent.emit(e,t,s,o,y,S)},Vc=function(e,t,s){!t||!t.data||!t.data.url||(e.input.manager.canvas.style.cursor=s)};const zc=Phaser.GameObjects.Components.TransformMatrix,a1=Phaser.Math.TransformXY;var tm=function(e,t,s,o,y){o===void 0&&(o=e.scene.cameras.main),y===void 0?y={}:y===!0&&(y=h1);var S=o.scrollX,r=o.scrollY,C=t+S*e.scrollFactorX-S,i=s+r*e.scrollFactorY-r;return e.parentContainer?(ja===void 0&&(ja=new zc,Xc=new zc),e.getWorldTransformMatrix(ja,Xc),ja.applyInverse(C,i,y)):a1(C,i,e.x,e.y,e.rotation,e.scaleX,e.scaleY,y),y.x+=e.displayOriginX,y.y+=e.displayOriginY,y},ja,Xc,h1={},o1=function(e,t,s){var o=tm(this.parent,e,t,s,!0),y=this.hitAreaManager.getFirst(o.x,o.y);if(y!==null)return y.data.key},l1=/^[\x00-\x7F]+$/,_n=function(e){return l1.test(e)};const u1=te.NO_NEWLINE,d1=te.RAW_NEWLINE,Ol=te.WRAPPED_NEWLINE,Yc=te.NO_WRAP,f1=te.WORD_WRAP,em=te.CHAR_WRAP,c1=te.SPLITREGEXP;var im=function(e,t,s,o,y,S){o<=0&&(s=Yc);var r=[];if(!e||!e.length)return r;for(var C=s===Yc,i=e.split(c1),h,x,f,l=0,a=i.length;l<a;l++){if(h=i[l],f=l===a-1?u1:d1,C){var n=t.measureText(h).width;r.push(S.getLine(h,n,f));continue}if(x=l===0?o-y:o,h.length<=100){var n=t.measureText(h).width;if(n<=x){r.push(S.getLine(h,n,f));continue}}for(var d=v1(h,s),c,u,v="",p=0,g,m=0,T=d.length;m<T;m++){if(c=d[m],u=t.measureText(c).width,u>o&&p1(c)){v!==""?r.push(S.getLine(v,p,Ol)):m===0&&y>0&&r.push(S.getLine("",0,Ol)),r.push(...im(c,t,em,o,0,S));var P=r.pop();v=P.text,p=P.width,S.freeLine(P),v===" "&&(v="",p=0);continue}g=p+u,g>x?(r.push(S.getLine(v,p,Ol)),v=c,p=u,x=o):(v+=c,p=g),m===T-1&&r.push(S.getLine(v,p,f))}}return r},v1=function(e,t){var s;switch(t){case f1:s=[],e=e.split(" ");for(var o=0,y=e.length;o<y;o++){var S=e[o];o<y-1?s.push(S+" "):S!==""&&s.push(S)}break;case em:s=e.split("");break;default:s=[],e=e.split(" ");for(var o=0,y=e.length;o<y;o++){var S=e[o];o<y-1?_n(S)?s.push(S+" "):(s.push(...S.split("")),s.push(" ")):S!==""&&(_n(S)?s.push(S):s.push(...S.split("")))}break}return s},p1=function(e){switch(e.length){case 1:return!1;case 2:return e.charAt(1)!==" ";default:return!0}};const Ll=Phaser.Utils.Objects.GetValue,g1=te.NO_WRAP,Wc=te.NO_NEWLINE,m1=te.WRAPPED_NEWLINE;class sm{constructor(t){this.parent=t.parent,this.scene=this.parent.scene,this.context=Ll(t,"context",null),this.canvas=this.context.canvas,this.parser=Ll(t,"parser",null),this.defaultStyle=Ll(t,"style",null),this.autoRound=!0,this.pensPool=t.pensPool,this.linesPool=t.linesPool,this.wrapTextLinesPool=t.wrapTextLinesPool,this.penManager=this.newPenManager(),this._tmpPenManager=null,this.hitAreaManager=new i1,this.lastHitAreaKey=null,this.urlTagCursorStyle=null}destroy(){this.parent=void 0,this.scene=void 0,this.context=void 0,this.canvas=void 0,this.parser=void 0,this.defaultStyle=void 0,this.penManager&&(this.penManager.destroy(),this.penManager=void 0),this._tmpPenManager&&(this._tmpPenManager.destroy(),this._tmpPenManager=void 0),this.hitAreaManager&&(this.hitAreaManager.destroy(),this.hitAreaManager=void 0),this.pensPool=void 0,this.linesPool=void 0,this.wrapTextLinesPool=void 0}updatePenManager(t,s,o,y,S){if(S===void 0&&(S=this.penManager),S.clear(),t==="")return S;var r=this.parent.style;if(r.isWrapFitMode){var C=this.parent.padding;o=r.fixedWidth-C.left-C.right}for(var i=this.canvas,h=this.context,x=0,f=0,l=r.wrapCallback,a=r.wrapCallbackScope,n=!0,d,c,u,v=this.parser.splitText(t),p,g,m=this.wrapTextLinesPool,T=0,P=v.length;T<P;T++)if(p=this.parser.tagTextToProp(v[T],c),d=p.plainText,c=p.prop,c.img){var E=this.imageManager.getOuterWidth(c.img);o>0&&s!==g1&&o<x+E&&(S.addNewLinePen(),f+=y,x=0),S.addImagePen(x,f,E,mi(c)),x+=E}else if(d!==""){if(h.save(),u=this.parser.propToContextStyle(this.defaultStyle,c),u.buildFont(),u.syncFont(i,h),u.syncStyle(i,h),!l)g=im(d,h,s,o,x,m);else{g=l.call(a,d,h,o,x),typeof g=="string"&&(g=g.split(`
`));for(var R,M=0,w=g.length;M<w;M++)R=g[M],typeof R=="string"?g[M]=m.getLine(R,h.measureText(R).width,M<w-1?m1:Wc):n=!1}for(var R,M=0,w=g.length;M<w;M++)R=g[M],S.addTextPen(R.text,x,f,R.width,mi(c),R.newLineMode),R.newLineMode!==Wc?(x=0,f+=y):x+=R.width;n&&m.freeLines(g),g=null,h.restore()}for(var T=0,P=this.lines.length;T<P;T++){var A=this.lines[T],O=A[A.length-1];O&&(O.width+=this.parser.getStrokeThinkness(this.defaultStyle,O.prop))}return S}get startXOffset(){return this.defaultStyle.xOffset}get startYOffset(){return this.defaultStyle.metrics.ascent}get lines(){return this.penManager.lines}get displayLinesCount(){var t=this.penManager.linesCount,s=this.defaultStyle.maxLines;return s>0&&t>s&&(t=s),t}get linesWidth(){return Math.ceil(this.penManager.getMaxLineWidth())}get linesHeight(){var t=this.displayLinesCount,s=this.defaultStyle.lineHeight*t;return t>0&&(s-=this.defaultStyle.lineSpacing),s}get imageManager(){return this.parent.imageManager}get rtl(){return this.parent.style.rtl}newPenManager(){return new kd({pensPool:this.pensPool,linesPool:this.linesPool,tagToText:this.parser.propToTagText,tagToTextScope:this.parser})}get tmpPenManager(){return this._tmpPenManager===null&&(this._tmpPenManager=this.newPenManager()),this._tmpPenManager}getPlainText(t,s,o){var y;if(t==null)y=this.penManager.plainText;else{var S=this.parser.splitText(t,1);y="";for(var r=0,C=S.length;r<C;r++)y+=S[r]}return(s!=null||o!=null)&&(s==null&&(s=0),o==null&&(o=y.length),y=y.substring(s,o)),y}getPenManager(t,s){if(t===void 0)return this.copyPenManager(s,this.penManager);s===void 0&&(s=this.newPenManager());var o=this.defaultStyle;return this.updatePenManager(t,o.wrapMode,o.wrapWidth,o.lineHeight,s),s}getText(t,s,o,y){if(t==null)return this.penManager.getSliceTagText(s,o,y);var S=this.tmpPenManager,r=this.defaultStyle;return this.updatePenManager(t,r.wrapMode,r.wrapWidth,r.lineHeight,S),S.getSliceTagText(s,o,y)}copyPenManager(t,s){return s===void 0&&(s=this.penManager),s.copy(t)}getTextWidth(t){return t===void 0&&(t=this.penManager),t.getMaxLineWidth()}getLastPen(t){return t===void 0&&(t=this.penManager),t.lastPen}}var x1={setInteractive:s1,getHitArea:o1};Object.assign(sm.prototype,jS,x1);class Uc extends Di{freeLine(t){if(t)return this.push(t),this}freeLines(t){if(t)return this.pushMultiple(t),this}getLine(t,s,o){var y=this.pop();return y===null&&(y={}),y.text=t,y.width=s,y.newLineMode=o,y}}const y1=Phaser.Utils.Objects.IsPlainObject,Er=Phaser.Utils.Objects.GetValue;var bl=function(e,t){y1(e)?(t=e,e=t.key):t===void 0&&(t={key:e}),t.hasOwnProperty("key")||(t.key=e);var s=t.key,o=t.frame,y=t.width,S=t.height;if(y===void 0||S===void 0){var r=this.textureManager.getFrame(s,o),C=r?r.cutWidth:0,i=r?r.cutHeight:0;y===void 0&&S===void 0?(y=C,S=i):y===void 0?y=C*(S/i):S===void 0&&(S=i*(y/C))}this.images[e]={key:s,frame:o,width:y,height:S,y:Er(t,"y",0),left:Er(t,"left",0),right:Er(t,"right",0),originX:Er(t,"originX",0),originY:Er(t,"originY",0),tintFill:Er(t,"tintFill",!1)}};const Hc=Phaser.Display.Canvas.CanvasPool;var rm=function(e,t,s,o,y,S,r,C){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=e.cutWidth),S===void 0&&(S=e.cutHeight),C===void 0&&(C=!1),C&&(s=Math.round(s),o=Math.round(o));var i=t.getContext("2d",{willReadFrequently:!0});if(r){var h=Hc.create(null,y,S,Phaser.CANVAS,!0),x=h.getContext("2d",{willReadFrequently:!0});x.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,0,0,y,S),x.globalCompositeOperation="source-in",x.fillStyle=r,x.fillRect(0,0,y,S),i.drawImage(h,0,0,y,S,s,o,y,S),Hc.remove(h)}else i.drawImage(e.source.image,e.cutX,e.cutY,e.cutWidth,e.cutHeight,s,o,y,S)},T1=function(e,t,s,o,y,S){var r=this.get(e);if(r){var C=this.textureManager.getFrame(r.key,r.frame),i=r.width,h=r.height;s+=r.left-r.originX*i,o+=r.y-r.originY*h,r.tintFill||(y=void 0),rm(C,t.canvas,s,o,i,h,y,S)}};class Vd{constructor(t){this.textureManager=t.sys.textures,this.images={}}destroy(){this.textureManager=void 0,this.images=void 0}add(t,s){if(typeof t=="string")bl.call(this,t,s);else if(Array.isArray(t))for(var o=t,y=0,S=o.length;y<S;y++)bl.call(this,o[y]);else{var o=t;for(var t in o)bl.call(this,t,o[t])}return this}has(t){return this.images.hasOwnProperty(t)}remove(t){return this.has(t)&&delete this.images[t],this}get(t){return this.has(t)||this.textureManager.exists(t)&&this.add(t),this.images[t]}getOuterWidth(t){var s=this.get(t);return s?s.width+s.left+s.right:0}getFrame(t){var s=this.get(t);return s?this.textureManager.getFrame(s.key,s.frame):void 0}hasTexture(t){return!!this.getFrame(t)}}var C1={draw:T1};Object.assign(Vd.prototype,C1);var nm=function(e,t){!e&&e!==0&&(e=""),t===void 0&&(t=!0),Array.isArray(e)&&(e=e.join(`
`));var s;return t?s=`${this.text}
${e}`:s=`${this.text}${e}`,s!=this.text&&this.setText(s),this};const S1=Phaser.Utils.Objects.IsPlainObject,$c=Phaser.DOM.AddToDOM,Kc=Phaser.Display.Canvas.CanvasPool,P1=Phaser.GameObjects.GameObject,Fe=Phaser.Utils.Objects.GetValue,E1=Phaser.DOM.RemoveFromDOM,M1=te.SPLITREGEXP,w1=Phaser.Utils.String.UUID;var Mr=null,Fl=null,Dl=null;class zd extends _0{constructor(t,s,o,y,S,r,C){if(S1(s)){var i=s;s=Fe(i,"x",0),o=Fe(i,"y",0),y=Fe(i,"text",""),S=Fe(i,"style")}if(s===void 0&&(s=0),o===void 0&&(o=0),super(t,r),this.renderer=t.sys.game.renderer,this.setPosition(s,o),this.setOrigin(0,0),this.initPipeline(),this.initPostPipeline(!0),this.canvas=Kc.create(this),this.context=this.canvas.getContext("2d",{willReadFrequently:!0}),this._imageManager=void 0,S){if(S.hasOwnProperty("align")){var h=S.align;delete S.align,S.halign=h}S.hasOwnProperty("stroke")&&!S.hasOwnProperty("strokeThickness")&&(S.strokeThickness=1)}this.style=new Nd(this,S);var x=Fe(S,"images",void 0);x&&this.addImage(x),this.autoRound=!0,this._text=void 0,this.padding={left:0,right:0,top:0,bottom:0},this.width=1,this.height=1,this.dirty=!1,this.style.resolution===0&&(this.style.resolution=1),this._crop=this.resetCropObject(),this._textureKey=w1(),this.texture=t.sys.textures.addCanvas(this._textureKey,this.canvas),this.frame=this.texture.get(),this.frame.source.resolution=this.style.resolution,this.renderer&&this.renderer.gl&&(this.renderer.deleteTexture(this.frame.source.glTexture),this.frame.source.glTexture=null);var f=Fe(S,"sharedPool",!0),l,a,n;f?(Mr||(Mr={},Fl=new Di,Dl=new Uc,this.scene.game.events.once("destroy",function(){Mr=null,Fl=null,Dl=null})),Mr.hasOwnProperty(r)||(Mr[r]=new Di),l=Mr[r],a=Fl,n=Dl):(l=new Di,a=new Di,n=new Uc),this.canvasText=new sm({parent:this,context:this.context,parser:C,style:this.style,pensPool:l,linesPool:a,wrapTextLinesPool:n}),this.parser=C,this.initRTL(),S&&S.padding&&this.setPadding(S.padding),this.setText(y),this.setUrlTagCursorStyle(Fe(S,"urlTagCursorStyle","pointer")),Fe(S,"interactive",!1)&&this.setInteractive()}preDestroy(){E1(this.canvas),this.canvasText.destroy(),this.canvasText=void 0,this._imageManager&&(this._imageManager.destroy(),this._imageManager=void 0),Kc.remove(this.canvas);var t=this.texture;t&&t.destroy()}set text(t){this.setText(t)}get text(){return this._text}initRTL(){this.style.rtl&&(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",$c(this.canvas,this.scene.sys.canvas),this.originX=1)}setRTL(t){t===void 0&&(t=!0);var s=this.style;if(s.rtl===t)return this;if(s.rtl=t,t?(this.canvas.dir="rtl",this.context.direction="rtl",this.canvas.style.display="none",$c(this.canvas,this.scene.sys.canvas)):(this.canvas.dir="ltr",this.context.direction="ltr"),s.halign==="left"?s.halign="right":s.halign==="right"&&(s.halign="left"),this._imageManager){var o=this._imageManager.images;for(var y in o)o[y].originX=1-o[y].originX}return this}setText(t){return t=sn(t),t===this._text?this:(this._text=t,this.updateText(),this)}setPadding(t,s,o,y){if(typeof t=="object"){var S=t,r=Fe(S,"x",null);r!==null?(t=r,o=r):(t=Fe(S,"left",0),o=Fe(S,"right",t));var C=Fe(S,"y",null);C!==null?(s=C,y=C):(s=Fe(S,"top",0),y=Fe(S,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),o===void 0&&(o=t),y===void 0&&(y=s);return this.padding.left=t,this.padding.top=s,this.padding.right=o,this.padding.bottom=y,this.updateText(!1)}updateText(t){t===void 0&&(t=!0);var s=this.canvasText,o=this.style;t&&s.updatePenManager(this._text,o.wrapMode,o.wrapWidth,o.lineHeight);var y=this.padding,S,r,C=Math.ceil(s.linesWidth);o.fixedWidth===0?(this.width=C+y.left+y.right,S=C):(this.width=o.fixedWidth,S=this.width-y.left-y.right,S<C&&(S=C)),o.fixedHeight===0?(this.height=s.linesHeight+y.top+y.bottom,r=s.linesHeight):(this.height=o.fixedHeight,r=this.height-y.top-y.bottom,r<s.linesHeight&&(r=s.linesHeight));var i=this.width,h=this.height;this.updateDisplayOrigin();var x=o.resolution;i*=x,h*=x,i=Math.max(Math.ceil(i),1),h=Math.max(Math.ceil(h),1);var f=this.canvas,l=this.context;f.width!==i||f.height!==h?(f.width=i,f.height=h,this.frame.setSize(i,h)):l.clearRect(0,0,i,h),l.save(),l.scale(x,x);var a=this.style.rtl?y.right:y.left,n=y.top;s.draw(a,n,S,r),l.restore(),this.renderer&&this.renderer.gl&&(this.frame.source.glTexture=this.renderer.canvasToTexture(f,this.frame.source.glTexture,!0),this.frame.glTexture.spectorMetadata={textureKey:"BBCodeText Game Object"}),this.dirty=!0;var d=this.input;return d&&!d.customHitArea&&(d.hitArea.width=this.width,d.hitArea.height=this.height),this}toJSON(){var t=Components.ToJSON(this),s={autoRound:this.autoRound,text:this._text,style:this.style.toJSON(),resolution:this.resolution,padding:{left:this.padding.left,right:this.padding.right,top:this.padding.top,bottom:this.padding.bottom}};return t.data=s,t}setInteractive(t,s,o){var y=!!this.input;return P1.prototype.setInteractive.call(this,t,s,o),y||this.canvasText.setInteractive(),this}setUrlTagCursorStyle(t){return this.urlTagCursorStyle=t,this}get urlTagCursorStyle(){return this.canvasText.urlTagCursorStyle}set urlTagCursorStyle(t){this.canvasText.urlTagCursorStyle=t}getWrappedText(t,s,o){return typeof t=="number"&&(o=s,s=t,t=void 0),t=this.canvasText.getText(t,s,o,!0),t.split(M1)}getPlainText(t,s,o){return typeof t=="number"&&(o=s,s=t,t=void 0),this.canvasText.getPlainText(t,s,o)}getText(t,s,o,y){return typeof t=="number"&&(y=o,o=s,s=t,t=void 0),y===void 0&&(y=!1),this.canvasText.getText(t,s,o,y)}getSubString(t,s,o){return typeof t=="number"&&(o=s,s=t,t=void 0),this.getText(t,s,o)}copyPenManager(t){return this.canvasText.copyPenManager(t)}getPenManager(t,s){return this.canvasText.getPenManager(t,s)}setSize(t,s){return this.setFixedSize(t,s)}resize(t,s){return this.setFixedSize(t,s)}get imageManager(){return this._imageManager||(this._imageManager=new Vd(this.scene)),this._imageManager}addImage(t,s){return this.imageManager.add(t,s),this}drawAreaBounds(t,s){return this.canvasText.hitAreaManager.drawBounds(t,s,this),this}generateTexture(t,s,o,y,S){var r=this.canvas;return y===void 0?y=r.width:y*=this.resolution,S===void 0?S=r.height:S*=this.resolution,Q0(this.scene,r,t,s,o,y,S),this}getHitArea(t,s,o){return this.canvasText.getHitArea(t,s,o)}}var R1={appendText:nm};Object.assign(zd.prototype,R1);var A1=function(e,t){for(var s=this.tagRegex,o=[],y=0,S=!1,r=!1;;){var C=s.RE_SPLITTEXT.exec(e);if(!C)break;var i=C[0];if(r)if(s.RE_ESC_CLOSE.test(i))r=!1;else continue;else if(S)if(s.RE_RAW_CLOSE.test(i))S=!1;else continue;else s.RE_ESC_OPEN.test(i)?r=!0:s.RE_RAW_OPEN.test(i)&&(S=!0);var h=s.RE_SPLITTEXT.lastIndex,x=h-i.length;if(y<x){var f=e.substring(y,x);o.push(f)}t===void 0&&o.push(i),y=h}var l=e.length;return y<l&&o.push(e.substring(y,l)),o};const Ht=!1,kt=!0;var O1={plainText:null,prevProp:null},L1=function(e,t){var s=this.tagRegex;t==null&&(t={});var o="";if(t.img&&pt(t,Ht,"img"),t.esc)s.RE_ESC_CLOSE.test(e)?pt(t,Ht,"esc"):o=e;else if(t.raw)s.RE_RAW_CLOSE.test(e)?pt(t,Ht,"raw"):o=e;else if(s.RE_ESC_OPEN.test(e))pt(t,kt,"esc",!0);else if(s.RE_ESC_CLOSE.test(e))pt(t,Ht,"esc");else if(s.RE_RAW_OPEN.test(e))pt(t,kt,"raw",!0);else if(s.RE_RAW_CLOSE.test(e))pt(t,Ht,"raw");else if(s.RE_BLOD_OPEN.test(e))pt(t,kt,"b",!0);else if(s.RE_BLOD_CLOSE.test(e))pt(t,Ht,"b");else if(s.RE_ITALICS_OPEN.test(e))pt(t,kt,"i",!0);else if(s.RE_ITALICS_CLOSE.test(e))pt(t,Ht,"i");else if(s.RE_WEIGHT_OPEN.test(e)){var y=e.match(s.RE_WEIGHT_OPEN);pt(t,kt,"weight",y[1])}else if(s.RE_WEIGHT_CLOSE.test(e))pt(t,Ht,"weight");else if(s.RE_SIZE_OPEN.test(e)){var y=e.match(s.RE_SIZE_OPEN);pt(t,kt,"size",`${y[1]}px`)}else if(s.RE_SIZE_CLOSE.test(e))pt(t,Ht,"size");else if(s.RE_FAMILY_OPEN.test(e)){var y=e.match(s.RE_FAMILY_OPEN);pt(t,kt,"family",y[1])}else if(s.RE_FAMILY_CLOSE.test(e))pt(t,Ht,"family");else if(s.RE_COLOR_OPEN.test(e)){var y=e.match(s.RE_COLOR_OPEN);pt(t,kt,"color",y[1])}else if(s.RE_COLOR_CLOSE.test(e))pt(t,Ht,"color");else if(s.RE_UNDERLINE_OPEN.test(e))pt(t,kt,"u",!0);else if(s.RE_UNDERLINE_OPENC.test(e)){var y=e.match(s.RE_UNDERLINE_OPENC);pt(t,kt,"u",y[1])}else if(s.RE_UNDERLINE_CLOSE.test(e))pt(t,Ht,"u");else if(s.RE_STRIKETHROUGH_OPEN.test(e))pt(t,kt,"s",!0);else if(s.RE_STRIKETHROUGH_OPENC.test(e)){var y=e.match(s.RE_STRIKETHROUGH_OPENC);pt(t,kt,"s",y[1])}else if(s.RE_STRIKETHROUGH_CLOSE.test(e))pt(t,Ht,"s");else if(s.RE_SHADOW_OPEN.test(e))pt(t,kt,"shadow",!0);else if(s.RE_SHADOW_OPENC.test(e)){var y=e.match(s.RE_SHADOW_OPENC);pt(t,kt,"shadow",y[1])}else if(s.RE_SHADOW_CLOSE.test(e))pt(t,Ht,"shadow");else if(s.RE_STROKE_OPEN.test(e))pt(t,kt,"stroke",!0);else if(s.RE_STROKE_OPENC.test(e)){var y=e.match(s.RE_STROKE_OPENC);pt(t,kt,"stroke",y[1])}else if(s.RE_STROKE_CLOSE.test(e))pt(t,Ht,"stroke");else if(s.RE_BGCOLOR_OPEN.test(e)){var y=e.match(s.RE_BGCOLOR_OPEN);pt(t,kt,"bgcolor",y[1])}else if(s.RE_BGCOLOR_CLOSE.test(e))pt(t,Ht,"bgcolor");else if(s.RE_OFFSETY_OPEN.test(e)){var y=e.match(s.RE_OFFSETY_OPEN);pt(t,kt,"y",parseFloat(y[1]))}else if(s.RE_OFFSETY_CLOSE.test(e))pt(t,Ht,"y");else if(s.RE_IMAGE_OPEN.test(e)){var y=e.match(s.RE_IMAGE_OPEN);pt(t,kt,"img",y[1])}else if(s.RE_IMAGE_CLOSE.test(e))pt(t,Ht,"img");else if(s.RE_AREA_OPEN.test(e)){var y=e.match(s.RE_AREA_OPEN);pt(t,kt,"area",y[1])}else if(s.RE_AREA_CLOSE.test(e))pt(t,Ht,"area");else if(s.RE_URL_OPEN.test(e)){var y=e.match(s.RE_URL_OPEN);pt(t,kt,"url",y[1])}else if(s.RE_URL_CLOSE.test(e))pt(t,Ht,"url");else if(s.RE_ALIGN_OPEN.test(e)){var y=e.match(s.RE_ALIGN_OPEN);pt(t,kt,"align",y[1])}else if(s.RE_ALIGN_CLOSE.test(e))pt(t,Ht,"align");else if(s.RE_ID_OPEN.test(e)){var y=e.match(s.RE_ID_OPEN);pt(t,kt,"id",y[1])}else s.RE_ID_CLOSE.test(e)?pt(t,Ht,"id"):o=e;var S=O1;return S.plainText=o,S.prop=t,S},pt=function(e,t,s,o){return t===kt?e[s]=o:e.hasOwnProperty(s)&&delete e[s],e},b1=function(e,t){var s=D1;if(t.hasOwnProperty("img"))s.image=t.img;else{if(s.image=null,t.hasOwnProperty("family")?s.fontFamily=t.family:s.fontFamily=e.fontFamily,t.hasOwnProperty("size")){var o=t.size;typeof o=="number"&&(o=`${o}px`),s.fontSize=o}else s.fontSize=e.fontSize;s.fontStyle=F1(t),t.hasOwnProperty("color")?s.color=t.color:s.color=e.color,t.hasOwnProperty("stroke")?t.stroke===!0?(s.stroke=e.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=t.stroke,s.strokeThickness=e.strokeThickness):(s.stroke=e.stroke,s.strokeThickness=0)}return t.hasOwnProperty("shadow")?t.shadow===!0?(s.shadowColor=e.shadowColor,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor=t.shadow,s.shadowOffsetX=e.shadowOffsetX,s.shadowOffsetY=e.shadowOffsetY,s.shadowBlur=e.shadowBlur,s.shadowStroke=!0,s.shadowFill=!0):(s.shadowColor="#000",s.shadowOffsetX=0,s.shadowOffsetY=0,s.shadowBlur=0,s.shadowStroke=!1,s.shadowFill=!1),t.hasOwnProperty("u")?t.u===!0?(s.underlineColor=e.underlineColor,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor=t.u,s.underlineThickness=e.underlineThickness,s.underlineOffset=e.underlineOffset):(s.underlineColor="#000",s.underlineThickness=0,s.underlineOffset=0),t.hasOwnProperty("s")?t.s===!0?(s.strikethroughColor=e.strikethroughColor,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor=t.s,s.strikethroughThickness=e.strikethroughThickness,s.strikethroughOffset=e.strikethroughOffset):(s.strikethroughColor="#000",s.strikethroughThickness=0,s.strikethroughOffset=0),t.hasOwnProperty("bgcolor")?s.bgcolor=t.bgcolor:s.bgcolor=null,s},F1=function(e){var t=e.b,s=e.weight,o=e.i;return t||s||o?o?t?"bold italic":s?`${s} italic`:"italic":t?"bold":s.toString():""},D1=new Nd,I1=function(e,t,s){s==null&&(s=B1);var o=this.delimiters[0],y=this.delimiters[1],S=[];for(var r in s)t.hasOwnProperty(r)||S.push(`${o}/${r}${y}`);for(var r in t){var C=t[r];if(r!=="img"){if(s[r]===C)continue}switch(r){case"size":S.push(`${o}size=${C.replace("px","")}${y}`);break;case"color":case"weight":case"family":case"stroke":case"bgcolor":case"y":case"img":case"area":case"url":case"align":case"id":S.push(`${o}${r}=${C}${y}`);break;case"u":case"s":C===!0?S.push(`${o}${r}${y}`):S.push(`${o}${r}=${C}${y}`);break;default:S.push(`${o}${r}${y}`);break}}return S.push(e),S.join("")},B1={},an=function(e){return e.replace(G1,"\\$&").replace(N1,"\\x2d")},G1=/[|\\{}()[\]^$+*?.]/g,N1=/-/g,Zc,Jc,mt={},Xt=function(e,t,s,o){return o===void 0?`${e}${s}${t}`:`${e}${s}=(${o})${t}`},re=function(e,t,s){return`${e}/${s}${t}`},k1=function(e){return`[^${e}]+`},Il="[-.0-9]+",V1=["[a-zA-Z]+","#[0-9abcdef]+","rgba?\\(s*[.0-9]+s*(,s*[.0-9]+s*){2,3}\\)"],wr=V1.join("|"),am=function(e,t){if(t===void 0){var s=e;e=s[0],t=s[1]}if(Zc===e&&Jc===t)return!1;Zc=e,Jc=t,e=an(e),t=an(t);var o=k1(t),y="esc",S=Xt(e,t,y),r=re(e,t,y),C="raw",i=Xt(e,t,C),h=re(e,t,C),x="b",f=Xt(e,t,x),l=re(e,t,x),a="i",n=Xt(e,t,a),d=re(e,t,a),c="weight",u=Xt(e,t,c,Il),v=re(e,t,c),p="size",g=Xt(e,t,p,Il),m=re(e,t,p),T="family",P=Xt(e,t,T,o),E=re(e,t,T),M="color",w=Xt(e,t,M,wr),R=re(e,t,M),A="u",O=Xt(e,t,A),F=Xt(e,t,A,wr),L=re(e,t,A),b="s",D=Xt(e,t,b),I=Xt(e,t,b,wr),k=re(e,t,b),X="shadow",W=Xt(e,t,X),Y=Xt(e,t,X,wr),N=re(e,t,X),V="stroke",G=Xt(e,t,V),B=Xt(e,t,V,wr),z=re(e,t,V),U="bgcolor",H=Xt(e,t,U,wr),$=re(e,t,U),K="y",Z=Xt(e,t,K,Il),J=re(e,t,K),Q="img",j=Xt(e,t,Q,o),tt=re(e,t,Q),it="area",q=Xt(e,t,it,o),ht=re(e,t,it),ot="url",lt=Xt(e,t,ot,o),_=re(e,t,ot),nt="align",at=Xt(e,t,nt,o),ct=re(e,t,nt),Ct="id",Ft=Xt(e,t,Ct,o),xt=re(e,t,Ct);return mt.RE_ESC_OPEN=new RegExp(S,"i"),mt.RE_ESC_CLOSE=new RegExp(r,"i"),mt.RE_RAW_OPEN=new RegExp(i,"i"),mt.RE_RAW_CLOSE=new RegExp(h,"i"),mt.RE_BLOD_OPEN=new RegExp(f,"i"),mt.RE_BLOD_CLOSE=new RegExp(l,"i"),mt.RE_ITALICS_OPEN=new RegExp(n,"i"),mt.RE_ITALICS_CLOSE=new RegExp(d,"i"),mt.RE_WEIGHT_OPEN=new RegExp(u,"i"),mt.RE_WEIGHT_CLOSE=new RegExp(v,"i"),mt.RE_SIZE_OPEN=new RegExp(g,"i"),mt.RE_SIZE_CLOSE=new RegExp(m,"i"),mt.RE_FAMILY_OPEN=new RegExp(P,"i"),mt.RE_FAMILY_CLOSE=new RegExp(E,"i"),mt.RE_COLOR_OPEN=new RegExp(w,"i"),mt.RE_COLOR_CLOSE=new RegExp(R,"i"),mt.RE_UNDERLINE_OPEN=new RegExp(O,"i"),mt.RE_UNDERLINE_OPENC=new RegExp(F,"i"),mt.RE_UNDERLINE_CLOSE=new RegExp(L,"i"),mt.RE_STRIKETHROUGH_OPEN=new RegExp(D,"i"),mt.RE_STRIKETHROUGH_OPENC=new RegExp(I,"i"),mt.RE_STRIKETHROUGH_CLOSE=new RegExp(k,"i"),mt.RE_SHADOW_OPEN=new RegExp(W,"i"),mt.RE_SHADOW_OPENC=new RegExp(Y,"i"),mt.RE_SHADOW_CLOSE=new RegExp(N,"i"),mt.RE_STROKE_OPEN=new RegExp(G,"i"),mt.RE_STROKE_OPENC=new RegExp(B,"i"),mt.RE_STROKE_CLOSE=new RegExp(z,"i"),mt.RE_BGCOLOR_OPEN=new RegExp(H,"i"),mt.RE_BGCOLOR_CLOSE=new RegExp($,"i"),mt.RE_OFFSETY_OPEN=new RegExp(Z,"i"),mt.RE_OFFSETY_CLOSE=new RegExp(J,"i"),mt.RE_IMAGE_OPEN=new RegExp(j,"i"),mt.RE_IMAGE_CLOSE=new RegExp(tt,"i"),mt.RE_AREA_OPEN=new RegExp(q,"i"),mt.RE_AREA_CLOSE=new RegExp(ht,"i"),mt.RE_URL_OPEN=new RegExp(lt,"i"),mt.RE_URL_CLOSE=new RegExp(_,"i"),mt.RE_ALIGN_OPEN=new RegExp(at,"i"),mt.RE_ALIGN_CLOSE=new RegExp(ct,"i"),mt.RE_ID_OPEN=new RegExp(Ft,"i"),mt.RE_ID_CLOSE=new RegExp(xt,"i"),mt.RE_SPLITTEXT=new RegExp([i,h,S,r,f,l,n,d,u,v,g,m,P,E,w,R,O,F,L,D,I,k,W,Y,N,G,B,z,H,$,Z,J,j,tt,q,ht,lt,_,at,ct,Ft,xt].join("|"),"ig"),!0},Qc=function(e,t){return e!==void 0&&am(e,t),Object.assign({},mt)};const z1=Phaser.Utils.Objects.GetValue;let hm=class{constructor(t){var s=z1(t,"delimiters","[]");this.tagRegex=Qc(s),this.delimiters=s}getStrokeThinkness(t,s){var o;return s.hasOwnProperty("stroke")?o=t.strokeThickness:o=0,o}setDelimiters(t,s){return am(t,s)&&(this.tagRegex=Qc()),this}};var X1={splitText:A1,tagTextToProp:L1,propToContextStyle:b1,propToTagText:I1};Object.assign(hm.prototype,X1);class Xd extends zd{constructor(t,s,o,y,S){var r=new hm(S);super(t,s,o,y,S,"rexBBCodeText",r)}setDelimiters(t,s){return this.parser.setDelimiters(t,s),this}}st.register("BBCodeText",function(e,t,s,o){var y=new Xd(this.scene,e,t,s,o);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.BBCodeText",Xd);var Y1={plainText:null,prevProp:null},W1=new Nd;let U1=class{constructor(t){t===void 0&&(t={}),this.tags=t}addTag(t,s){this.tags[t]=s}getTag(t){return this.tags[t]}splitText(t,s){for(var o=[],y=0;;){var S=Bl.exec(t);if(!S)break;var r=S[0],C=Bl.lastIndex-r.length;if(y<C&&o.push(t.substring(y,C)),s===void 0)o.push(r);else if(s===1){if(qc.test(r)){var i=r.match(_c);o.push(i[2])}else if(tv.test(r)){var i=r.match(ev);o.push(i[2])}}y=Bl.lastIndex}var h=t.length;return y<h&&o.push(t.substring(y,h)),o}tagTextToProp(t,s){var o,y;if(qc.test(t)){var S=t.match(_c);if(S!=null){var r=S[1],C=this.tags;C.hasOwnProperty(r)?y=C[r]:y={},y._class=r,o=S[2]}}else if(tv.test(t)){var S=t.match(ev);if(S!=null){var i=S[1];y=H1(i),y._style=i,o=S[2]}}o==null&&(o=t),y==null&&(y={});var h=Y1;return h.plainText=o,h.prop=y,h}propToContextStyle(t,s){var o=W1;if(s.hasOwnProperty("img"))o.image=s.img;else{if(o.image=null,s.hasOwnProperty("family")||s.hasOwnProperty("fontFamily")||s.hasOwnProperty("font-family")){var y=s.hasOwnProperty("family")?s.family:s.hasOwnProperty("fontFamily")?s.fontFamily:s["font-family"];o.fontFamily=y}else o.fontFamily=t.fontFamily;if(s.hasOwnProperty("size")||s.hasOwnProperty("fontSize")||s.hasOwnProperty("font-size")){var S=s.hasOwnProperty("size")?s.size:s.hasOwnProperty("fontSize")?s.fontSize:s["font-size"];typeof S=="number"&&(S=`${S}px`),o.fontSize=S}else o.fontSize=t.fontSize;if(s.hasOwnProperty("style")||s.hasOwnProperty("fontStyle")||s.hasOwnProperty("font-style")){var r=s.hasOwnProperty("style")?s.style:s.hasOwnProperty("fontStyle")?s.fontStyle:s["font-style"];o.fontStyle=r}else o.fontStyle=t.fontStyle;if(s.hasOwnProperty("color")||s.hasOwnProperty("font-color")){var C=s.hasOwnProperty("color")?s.color:s["font-color"];o.color=C}else o.color=t.color;if(s.hasOwnProperty("stroke")){var i=s.stroke;o.stroke=i.hasOwnProperty("color")?i.color:t.stroke,o.strokeThickness=i.hasOwnProperty("thickness")?i.thickness:t.strokeThickness}else o.stroke=t.stroke,o.strokeThickness=t.strokeThickness}if(s.hasOwnProperty("shadow")){var h=s.shadow;o.shadowColor=h.hasOwnProperty("color")?h.color:t.shadowColor,o.shadowOffsetX=h.hasOwnProperty("offsetX")?h.offsetX:t.shadowOffsetX,o.shadowOffsetY=h.hasOwnProperty("offsetY")?h.offsetY:t.shadowOffsetY,o.shadowBlur=h.hasOwnProperty("blur")?h.blur:t.shadowBlur,o.shadowStroke=!0,o.shadowFill=!0}else o.shadowColor=t.shadowColor,o.shadowOffsetX=t.shadowOffsetX,o.shadowOffsetY=t.shadowOffsetY,o.shadowBlur=t.shadowBlur,o.shadowStroke=t.shadowStroke,o.shadowFill=t.shadowFill;if(s.hasOwnProperty("u")||s.hasOwnProperty("underline")){var x=s.hasOwnProperty("u")?s.u:s.underline;o.underlineColor=x.hasOwnProperty("color")?x.color:t.underlineColor,o.underlineThickness=x.hasOwnProperty("thickness")?x.thickness:t.underlineThickness,o.underlineOffset=x.hasOwnProperty("offset")?x.offset:t.underlineOffset}else o.underlineColor=t.underlineColor,o.underlineThickness=t.underlineThickness,o.underlineOffset=t.underlineOffset;if(s.hasOwnProperty("s")||s.hasOwnProperty("strikethrough")){var f=s.hasOwnProperty("s")?s.s:s.strikethrough;o.strikethroughColor=f.hasOwnProperty("color")?f.color:t.strikethroughColor,o.strikethroughThickness=f.hasOwnProperty("thickness")?f.thickness:t.strikethroughThickness,o.strikethroughOffset=f.hasOwnProperty("offset")?f.offset:t.strikethroughOffset}else o.strikethroughColor=t.strikethroughColor,o.strikethroughThickness=t.strikethroughThickness,o.strikethroughOffset=t.strikethroughOffset;return o}getStrokeThinkness(t,s){var o;if(s.hasOwnProperty("stroke")){var y=s.stroke;o=y.hasOwnProperty("thickness")?y.thickness:t.strokeThickness}else o=t.strokeThickness;return o}propToTagText(t,s,o){return s.hasOwnProperty("_class")?t===""&&this.isTextTag(s._class)?"":`<class='${s._class}'>${t}</class>`:s.hasOwnProperty("_style")?`<style='${s._style}'>${t}</style>`:t}destroy(){this.tags=void 0}isTextTag(t){var s=this.tags[t];return s?s.img==null:!1}};var H1=function(e){e=e.split(";");for(var t={},s,o,y,S=0,r=e.length;S<r;S++)if(s=e[S].split(":"),o=s[0],y=s[1],!(jc(o)||jc(y))){switch(o){case"stroke":var C=y.split(" "),i=C.length;y={},i>=1&&(y.color=C[0]),i>=2&&(y.thickness=parseInt(C[1].replace("px","")));break;case"shadow":var C=y.split(" "),i=C.length;y={},i>=1&&(y.color=C[0]),i>=2&&(y.offsetX=parseInt(C[1].replace("px",""))),i>=3&&(y.offsetY=parseInt(C[2].replace("px",""))),i>=4&&(y.blur=parseInt(C[3].replace("px","")));break;case"u":case"underline":case"s":case"strikethrough":var C=y.split(" "),i=C.length;y={},i>=1&&(y.color=C[0]),i>=2&&(y.thickness=parseInt(C[1].replace("px",""))),i>=3&&(y.offset=parseInt(C[2].replace("px",""))),o==="underline"?o="u":o==="strikethrough"&&(o="s");break;case"y":y=parseFloat(y);break}t[o]=y}return t},jc=function(e){return e=e.replace($1,""),e.length===0},Bl=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>|<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/g,qc=/<\s*class=/i,_c=/<\s*class=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/class\s*\>/,tv=/<\s*style=/i,ev=/<\s*style=["|']([^"|']+)["|']\s*\>([\s\S]*?)<\s*\/style\s*\>/,$1=/^\s+|\s+$/;const K1=Phaser.Utils.Objects.GetValue;class om extends zd{constructor(t,s,o,y,S){var r=K1(S,"tags",void 0),C=new U1(r);super(t,s,o,y,S,"rexTagText",C)}addTag(t,s){return this.parser.addTag(t,s),this.updateText(!0)}addTags(t){for(var s in t)this.parser.addTag(s,t[s]);return this.updateText(!0)}getTag(t){return this.parser.getTag(t)}preDestroy(){super.preDestroy(),this.parser.destroy(),this.parser=void 0}}st.register("tagText",function(e,t,s,o){var y=new om(this.scene,e,t,s,o);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.TagText",om);const qa=Phaser.Utils.Objects.GetValue;var io=function(e,t){return t===void 0?e:e[t]},Rs=function(e,t,s){e===void 0&&(e={}),t===void 0&&(t=0);var o=typeof t;return o==="string"?e[t]=s:o==="number"?(e.left=t,e.right=t,e.top=t,e.bottom=t):(e.left=qa(t,"left",0),e.right=qa(t,"right",0),e.top=qa(t,"top",0),e.bottom=qa(t,"bottom",0)),e};let Yd=class{constructor(t,s){this.setParent(t),this.type=s,this.renderable=!1,this.reset().setActive()}destroy(){this.parent.removeChild(this)}setParent(t){return this.parent=t,this}get scene(){return this.parent.scene}get canvas(){return this.parent?this.parent.canvas:null}get context(){return this.parent?this.parent.context:null}setDirty(t){return t&&this.parent&&(this.parent.dirty=!0),this}get active(){return this._active}set active(t){this.setDirty(this._active!=t),this._active=t}setActive(t){return t===void 0&&(t=!0),this.active=t,this}modifyPorperties(t){return this}onFree(){this.reset().setParent()}reset(){return this}render(){}contains(t,s){return!1}};Object.assign(Yd.prototype,wo);const Z1={renderContent(){},render(){if(!this.willRender)return this;var e=this.context;if(e.save(),e.globalAlpha=this.alpha,this.toLocalPosition){var t=this.drawX,s=this.drawY;this.autoRound&&(t=Math.round(t),s=Math.round(s)),e.translate(t,s),e.scale(this.scaleX,this.scaleY),e.rotate(this.rotation)}return this.drawBelowCallback&&this.drawBelowCallback(this),this.renderContent(),this.drawAboveCallback&&this.drawAboveCallback(this),e.restore(),this}},J1=Phaser.Math.RotateAround;var Q1=function(e,t,s,o){return o===void 0?o={}:o===!0&&(Gl===void 0&&(Gl={}),o=Gl),o.x=(e-s.drawX)/s.scaleX,o.y=(t-s.drawY)/s.scaleY,s.rotation!==0&&J1(o,0,0,-s.rotation),o},Gl;const j1=Phaser.Geom.Rectangle;var q1=function(e,t){if(this.width===0||this.height===0)return!1;var s=Q1(e,t,this,!0);return _1(this).contains(s.x,s.y)},_1=function(e){_a===void 0&&(_a=new j1);var t=e.drawTLX,s=e.drawTLY;return _a.setTo(t,s,e.drawTRX-t,e.drawBLY-s),_a},_a;const tP=Phaser.Math.RotateAround;var lm=function(e,t,s,o){return o===void 0?o={}:o===!0&&(Nl===void 0&&(Nl={}),o=Nl),o.x=t,o.y=s,e.rotation!==0&&tP(o,0,0,e.rotation),o.x=o.x*e.scaleX+e.drawX,o.y=o.y*e.scaleY+e.drawY,o},Nl;const iv=Phaser.GameObjects.Components.TransformMatrix;var eP=function(e,t,s,o){o===void 0?o={}:o===!0&&(o=iP);var y=t-e.width*e.originX,S=s-e.height*e.originY;return Tn===void 0&&(Tn=new iv,sv=new iv),e.parentContainer?e.getWorldTransformMatrix(Tn,sv):Tn.applyITRS(e.x,e.y,e.rotation,e.scaleX,e.scaleY),Tn.transformPoint(y,S,o),o},Tn,sv,iP={},sP=function(e,t,s,o,y){var S=lm(t,s,o,!0),r=eP(e,S.x,S.y,y);return r},um=function(e,t,s,o,y){typeof s!="number"&&(y=s,s=0,o=0);var S=t.drawCenterX+s,r=t.drawCenterY+o;return sP(e,t,S,r,y)},rP=function(e,t,s){return um(this.parent,this,e,t,s)},dm={contains:q1,getWorldPosition:rP};Object.assign(dm,Z1);const nP=Phaser.Math.DegToRad,aP=Phaser.Math.RadToDeg,th=Phaser.Utils.Objects.GetValue;class gr extends Yd{constructor(t,s){super(t,s),this.renderable=!0,this.scrollFactorX=1,this.scrollFactorY=1,this.toLocalPosition=!0,this.originX=0,this.offsetX=0,this.offsetY=0}get visible(){return this._visible}set visible(t){this.setDirty(this._visible!=t),this._visible=t}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}get alpha(){return this._alpha}set alpha(t){this.setDirty(this._alpha!=t),this._alpha=t}setAlpha(t){return this.alpha=t,this}get x(){return this._x}set x(t){this.setDirty(this._x!=t),this._x=t}setX(t){return this.x=t,this}get y(){return this._y}set y(t){this.setDirty(this._y!=t),this._y=t}setY(t){return this.y=t,this}setPosition(t,s){return this.x=t,this.y=s,this}setInitialPosition(t,s){return this.x0=t,this.y0=s,this}setScrollFactorX(t){return this.scrollFactorX=t,this}setScrollFactorY(t){return this.scrollFactorY=t,this}setScrollFactor(t,s){return s===void 0&&(s=t),this.scrollFactorX=t,this.scrollFactorY=s,this}get rotation(){return this._rotation}set rotation(t){this.setDirty(this._rotation!=t),this._rotation=t}setRotation(t){return this.rotation=t,this}get angle(){return aP(this._rotation)}set angle(t){this.rotation=nP(t)}setAngle(t){return this.angle=t,this}get scaleX(){return this._scaleX}set scaleX(t){this.setDirty(this._scaleX!==t),this._scaleX=t}setScaleX(t){return this.scaleX=t,this}get width(){return 0}set width(t){}setWidth(t,s){return s===void 0&&(s=!1),this.width=t,s&&(this.scaleY=this.scaleX),this}get leftSpace(){return this._leftSpace}set leftSpace(t){this.setDirty(this._leftSpace!==t),this._leftSpace=t}setLeftSpace(t){return this.leftSpace=t,this}get rightSpace(){return this._rightSpace}set rightSpace(t){this.setDirty(this._rightSpace!==t),this._rightSpace=t}setRightSpace(t){return this.rightSpace=t,this}get outerWidth(){return this.width+this.leftSpace+this.rightSpace}get scaleY(){return this._scaleY}set scaleY(t){this.setDirty(this._scaleY!==t),this._scaleY=t}setScaleY(t){return this.scaleY=t,this}get height(){return 0}set height(t){}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setScale(t,s){return s===void 0&&(s=t),this.scaleX=t,this.scaleY=s,this}setOrigin(t){return this.originX=t,this}setAlign(t){return this.align=t,this}modifyPorperties(t){if(!t)return this;t.hasOwnProperty("x")&&this.setX(t.x),t.hasOwnProperty("y")&&this.setY(t.y),t.hasOwnProperty("rotation")?this.setRotation(t.rotation):t.hasOwnProperty("angle")&&this.setAngle(t.angle),t.hasOwnProperty("alpha")&&this.setAlpha(t.alpha);var s=th(t,"width",void 0),o=th(t,"height",void 0),y=th(t,"scaleX",void 0),S=th(t,"scaleY",void 0);return s!==void 0?o===void 0&&S===void 0?this.setWidth(s,!0):this.setWidth(s):y!==void 0&&this.setScaleX(y),o!==void 0?s===void 0&&y===void 0?this.setHeight(o,!0):this.setHeight(o):S!==void 0&&this.setScaleY(S),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),this}setDrawBelowCallback(t){return this.drawBelowCallback=t,this}setDrawAboveCallback(t){return this.drawAboveCallback=t,this}reset(){return this.setVisible().setAlpha(1).setPosition(0,0).setRotation(0).setScale(1,1).setLeftSpace(0).setRightSpace(0).setOrigin(0).setAlign().setDrawBelowCallback().setDrawAboveCallback(),this}get willRender(){return this.visible&&this.alpha>0}get drawX(){var t=this.x+this.leftSpace+this.offsetX-this.originX*this.width;return this.parent._textOX*this.scrollFactorX+t}get drawY(){var t=this.y+this.offsetY;return this.parent._textOY*this.scrollFactorY+t}get drawTLX(){return 0}get drawTLY(){return 0}get drawBLX(){return 0}get drawBLY(){return 0}get drawTRX(){return 0}get drawTRY(){return 0}get drawBRX(){return 0}get drawBRY(){return 0}get drawCenterX(){return(this.drawTRX+this.drawTLX)/2}get drawCenterY(){return(this.drawBLY+this.drawTLY)/2}}Object.assign(gr.prototype,dm);var Ms=function(e,t,s){return t.hasOwnProperty(e)?t[e]:s[e]};const Us=Phaser.Utils.Objects.GetValue;class hP extends gr{constructor(t,s){super(t,"background"),this.setScrollFactor(0),this.setColor(Us(s,"color",null),Us(s,"color2",null),Us(s,"horizontalGradient",!0)),this.setStroke(Us(s,"stroke",null),Us(s,"strokeThickness",2)),this.setCornerRadius(Us(s,"cornerRadius",0),Us(s,"cornerIteration",null))}set color(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,o){return o===void 0&&(o=!0),this.color=t,this.color2=s,this.horizontalGradient=o,this}set stroke(t){t=gt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}set cornerRadius(t){this.setDirty(this._cornerRadius!=t),this._cornerRadius=t}get cornerRadius(){return this._cornerRadius}set cornerIteration(t){this.setDirty(this._cornerIteration!=t),this._cornerIteration=t}get cornerIteration(){return this._cornerIteration}modifyStyle(t){return t.hasOwnProperty("color")&&this.setColor(t.color,Ms("color2",t,this),Ms("horizontalGradient",t,this)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,Ms("strokeThickness",t,this)),t.hasOwnProperty("cornerRadius")&&this.setCornerRadius(t.cornerRadius,Ms("cornerIteration",t,this)),this}modifyPorperties(t){return super.modifyPorperties(t),this.modifyStyle(t),this}setCornerRadius(t,s){return this.cornerRadius=t,this.cornerIteration=s,this}renderContent(){Bd(this.parent,this.color,this.stroke,this.strokeThickness,this.cornerRadius,this.color2,this.horizontalGradient,this.cornerIteration)}}const os=Phaser.Utils.Objects.GetValue;class oP extends gr{constructor(t,s){super(t,"innerbounds"),this.setScrollFactor(0),this.setColor(os(s,"color",null),os(s,"color2",null),os(s,"horizontalGradient",!0)),this.setStroke(os(s,"stroke",null),os(s,"strokeThickness",2))}set color(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color!=t),this._color=t}get color(){return this._color}set color2(t){t=gt(t,this.canvas,this.context),this.setDirty(this._color2!=t),this._color2=t}get color2(){return this._color2}set horizontalGradient(t){this.setDirty(this._horizontalGradient!=t),this._horizontalGradient=t}get horizontalGradient(){return this._horizontalGradient}setColor(t,s,o){return o===void 0&&(o=!0),this.color=t,this.color2=s,this.horizontalGradient=o,this}set stroke(t){t=gt(t,this.canvas,this.context),this.setDirty(this._stroke!=t),this._stroke=t}get stroke(){return this._stroke}set strokeThickness(t){this.setDirty(this._strokeThickness!=t),this._strokeThickness=t}get strokeThickness(){return this._strokeThickness}setStroke(t,s){return t!=null&&s===void 0&&(s=2),this.stroke=t,this.strokeThickness=s,this}modifyPorperties(t){super.modifyPorperties(t),t.hasOwnProperty("color")&&this.setColor(t.color,os(t,"color2",null),os(t,"horizontalGradient",!0)),t.hasOwnProperty("stroke")&&this.setStroke(t.stroke,os(t,"strokeThickness",2))}renderContent(){var t=this.parent.padding,s=t.left,o=t.top,y=this.parent.width-t.left-t.right,S=this.parent.height-t.top-t.bottom,r=this.context;if(this.color!=null){var C;if(this.color2!=null){var i;this.horizontalGradient?i=r.createLinearGradient(0,0,y,0):i=r.createLinearGradient(0,0,0,S),i.addColorStop(0,this.color),i.addColorStop(1,this.color2),C=i}else C=this.color;r.fillStyle=C,r.fillRect(s,o,y,S)}this.stroke!=null&&this.strokeThickness>0&&(r.strokeStyle=this.stroke,r.lineWidth=this.strokeThickness,r.strokeRect(s,o,y,S))}}const jt=Phaser.Utils.Objects.GetValue;class Ao{constructor(t,s){this.parent=t,this.set(s)}toJSON(){return{bold:this.bold,italic:this.italic,fontSize:this.fontSize,fontFamily:this.fontFamily,color:this.color,stroke:this.stroke,strokeThickness:this.strokeThickness,shaodwColor:this.shadowColor,shadowBlur:this.shadowBlur,shadowOffsetX:this.shadowOffsetX,shadowOffsetY:this.shadowOffsetY,offsetX:this.offsetX,offsetY:this.offsetY,leftSpace:this.leftSpace,rightSpace:this.rightSpace,backgroundHeight:this.backgroundHeight,backgroundBottomY:this.backgroundBottomY,align:this.align}}set(t){return this.setBold(jt(t,"bold",!1)),this.setItalic(jt(t,"italic",!1)),this.setFontSize(jt(t,"fontSize","16px")),this.setFontFamily(jt(t,"fontFamily","Courier")),this.setColor(jt(t,"color","#fff")),this.setStrokeStyle(jt(t,"stroke",null),jt(t,"strokeThickness",0)),this.setShadow(jt(t,"shadowColor",null),jt(t,"shadowOffsetX",0),jt(t,"shadowOffsetY",0),jt(t,"shadowBlur",0)),this.setOffset(jt(t,"offsetX",0),jt(t,"offsetY",0)),this.setSpace(jt(t,"leftSpace",0),jt(t,"rightSpace",0)),this.setAlign(jt(t,"align",void 0)),this.setBackgroundColor(jt(t,"backgroundColor",null)),this.setBackgroundHeight(jt(t,"backgroundHeight",void 0)),this.setBackgroundBottomY(jt(t,"backgroundBottomY",void 0)),this.setBackgroundLeftX(jt(t,"backgroundLeftX",0)),this.setBackgroundRightX(jt(t,"backgroundRightX",0)),this}modify(t){return t.hasOwnProperty("bold")&&this.setBold(t.bold),t.hasOwnProperty("italic")&&this.setItalic(t.italic),t.hasOwnProperty("fontSize")&&this.setFontSize(t.fontSize),t.hasOwnProperty("fontFamily")&&this.setFontFamily(t.fontFamily),t.hasOwnProperty("color")&&this.setColor(t.color),(t.hasOwnProperty("stroke")||t.hasOwnProperty("strokeThickness"))&&this.setStrokeStyle(Ms("stroke",t,this),Ms("strokeThickness",t,this)),t.hasOwnProperty("shadowColor")&&this.setShadowColor(t.shadowColor),(t.hasOwnProperty("shadowOffsetX")||t.hasOwnProperty("shadowOffsetY"))&&this.setShadowOffset(Ms("shadowOffsetX",t,this),Ms("shadowOffsetY",t,this)),t.hasOwnProperty("shadowBlur")&&this.setShadowBlur(t.shaodwBlur),t.hasOwnProperty("offsetX")&&this.setOffsetX(t.offsetX),t.hasOwnProperty("offsetY")&&this.setOffsetY(t.offsetY),t.hasOwnProperty("leftSpace")&&this.setLeftSpace(t.leftSpace),t.hasOwnProperty("rightSpace")&&this.setRightSpace(t.rightSpace),t.hasOwnProperty("align")&&this.setAlign(t.align),t.hasOwnProperty("backgroundColor")&&this.setBackgroundColor(t.backgroundColor),t.hasOwnProperty("backgroundHeight")&&this.setBackgroundHeight(t.backgroundHeight),t.hasOwnProperty("backgroundBottomY")&&this.setBackgroundBottomY(t.backgroundBottomY),t.hasOwnProperty("backgroundLeftX")&&this.setBackgroundLeftX(t.backgroundLeftX),t.hasOwnProperty("backgroundRightX")&&this.setBackgroundRightX(t.backgroundRightX),this}setUpdateTextFlag(){return this.parent&&(this.parent.updateTextFlag=!0),this}clone(){return new Ao(null,this.toJSON())}copyFrom(t){return this.set(t.toJSON()),this}copyTo(t){return t.set(this.toJSON()),this}setBold(t){return t===void 0&&(t=!0),this.bold=t,this.setUpdateTextFlag(),this}setItalic(t){return t===void 0&&(t=!0),this.italic=t,this.setUpdateTextFlag(),this}get fontStyle(){return this.bold&&this.italic?"bold italic":this.bold?"bold":this.italic?"italic":""}setFontSize(t){return typeof t=="number"&&(t=`${t}px`),this.fontSize=t,this.setUpdateTextFlag(),this}setFontFamily(t){return this.fontFamily=t,this.setUpdateTextFlag(),this}get font(){return`${this.fontStyle} ${this.fontSize} ${this.fontFamily}`}setColor(t){return this.color=gt(t),this}get hasFill(){return this.color!=null}setStrokeStyle(t,s){return this.stroke=gt(t),s!==void 0&&(this.strokeThickness=s),this}setStrokeThickness(t){return this.strokeThickness=t,this}get hasStroke(){return this.stroke!=null&&this.strokeThickness>0}setShadowColor(t){return this.shadowColor=gt(t),this}setShadowOffset(t,s){return t===void 0&&(t=0),s===void 0&&(s=0),this.shadowOffsetX=t,this.shadowOffsetY=s,this}setShadowBlur(t){return t===void 0&&(t=0),this.shaodwBlur=t,this}setShadow(t,s,o,y){return this.setShadowColor(t).setShadowOffset(s,o).setShadowBlur(y),this}setBackgroundColor(t){return this.backgroundColor=gt(t),this}get hasBackgroundColor(){return this.backgroundColor!=null}setBackgroundHeight(t){return this.backgroundHeight=t,this}setBackgroundBottomY(t){return this.backgroundBottomY=t,this}setBackgroundLeftX(t){return this.backgroundLeftX=t,this}setBackgroundRightX(t){return this.backgroundRightX=t,this}setOffsetX(t){return t===void 0&&(t=0),this.offsetX=t,this}setOffsetY(t){return t===void 0&&(t=0),this.offsetY=t,this}setOffset(t,s){return this.setOffsetX(t).setOffsetY(s),this}setLeftSpace(t){return t===void 0&&(t=0),this.leftSpace=t,this}setRightSpace(t){return t===void 0&&(t=0),this.rightSpace=t,this}setSpace(t,s){return this.setLeftSpace(t).setRightSpace(s),this}setAlign(t){return this.align=t,this}syncFont(t){return t.font=this.font,this}syncStyle(t){t.textBaseline="alphabetic";var s=this.hasFill,o=this.hasStroke;return t.fillStyle=s?this.color:"#000",t.strokeStyle=o?this.stroke:"#000",t.lineWidth=o?this.strokeThickness:0,t.lineCap="round",t.lineJoin="round",this}syncShadow(t){t.shadowColor!=null?(t.shadowColor=this.shadowColor,t.shadowOffsetX=this.shadowOffsetX,t.shadowOffsetY=this.shadowOffsetY,t.shadowBlur=this.shadowBlur):(t.shadowColor=0,t.shadowOffsetX=0,t.shadowOffsetY=0,t.shadowBlur=0)}getTextMetrics(t,s){return this.syncFont(t).syncStyle(t),t.measureText(s)}}var lP=function(e,t){return e===void 0&&(e=0),t===void 0&&(t=0),this.fixedWidth===e&&this.fixedHeight===t?this:(this.fixedWidth=e,this.fixedHeight=t,this.dirty=!0,this.setCanvasSize(e>0?e:this.width,t>0?t:this.height),this)},uP=function(e,t){var s=this.padding,o=s.left,y=s.right,S=s.top,r=s.bottom;return Rs(s,e,t),this.dirty=this.dirty||o!=s.left||y!=s.right||S!=s.top||r!=s.bottom,this},dP=function(e){return io(this.padding,e)},fP=function(e){return this.textStyle.modify(e),this},cP=function(e){return this.defaultTextStyle.modify(e),this},vP=function(){return this.textStyle.copyFrom(this.defaultTextStyle),this},pP=function(e){return this.testString=e,this};const gP=Phaser.Utils.Array.Remove;var mP=function(e){return this.poolManager.free(e),gP(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},xP=function(){return this.poolManager.freeMultiple(this.children),this.children.length=0,this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this};const yP=Phaser.Utils.Array.Remove;var TP=function(e){return yP(this.children,e),this.lastAppendedChildren.length=0,this.lastOverChild=null,this.dirty=!0,this},CP=function(){return this.setText(),this},SP=function(e,t){var s=Array.isArray(e);return t===void 0||t===this.children.length?s?this.children.push(...e):this.children.push(e):s?this.children.splice(t,0,...e):this.children.splice(t,0,e),this.lastAppendedChildren.length=0,s?this.lastAppendedChildren.push(...e):this.lastAppendedChildren.push(e),this};const Qi="text",fm="image",cm="drawer",vm="space",Wd="command";var pm=function(e){return e.type===Qi&&e.text===`
`},gm=function(e){return e.type===Qi&&e.text==="\f"},PP=function(e){return e.type===Qi&&e.text===" "},dr=function(e){return e.type===Qi},EP=function(e){return e.type===Wd};class mm extends gr{constructor(t,s,o){super(t,Qi),this.updateTextFlag=!1,this.style=new Ao(this,o),this.setText(s)}get autoRound(){return this.parent.autoRound}get offsetX(){return this.style.offsetX}set offsetX(t){this.style&&(this.style.offsetX=t)}get offsetY(){return this.style.offsetY}set offsetY(t){this.style&&(this.style.offsetY=t)}get leftSpace(){return this.style.leftSpace*this.scaleX}set leftSpace(t){this.style&&(this.style.leftSpace=t),super.leftSpace=t}get rightSpace(){return this.style.rightSpace*this.scaleX}set rightSpace(t){this.style&&(this.style.rightSpace=t),super.rightSpace=t}get align(){return this.style.align}set align(t){this.style&&(this.style.align=t)}modifyStyle(t){return this.setDirty(!0),this.style.modify(t),this.updateTextFlag&&this.updateTextSize(),this}modifyPorperties(t){return t?(this.modifyStyle(t),super.modifyPorperties(t),this):this}setText(t){return this.setDirty(this.text!=t),this.text=t,this.updateTextSize(),this}updateTextSize(){var t=this.text;if(t===`
`||t==="\f"||t==="")this.clearTextSize();else{var s=this.style.getTextMetrics(this.context,this.text);this.textWidth=s.width;var o,y;"actualBoundingBoxAscent"in s?(o=s.actualBoundingBoxAscent,y=s.actualBoundingBoxDescent):(o=0,y=0),this.textHeight=o+y,this.ascent=o,this.descent=y}return this.updateTextFlag=!1,this}clearTextSize(){return this.textWidth=0,this.textHeight=0,this.ascent=0,this.descent=0,this}copyTextSize(t){return this.textWidth=t.textWidth,this.textHeight=t.textHeight,this.ascent=t.ascent,this.descent=t.descent,this}get width(){return this.textWidth*this.scaleX}set width(t){this.textWidth>0?this.scaleX=t/this.textWidth:this.scaleX=1}get height(){return this.textHeight*this.scaleY}set height(t){this.textHeight>0?this.scaleY=t/this.textHeight:this.scaleY=1}get willRender(){return this.textWidth===0?!1:super.willRender}renderContent(){var t=this.context,s=this.style;if(s.hasBackgroundColor){t.fillStyle=s.backgroundColor;var o=this.drawTLX+s.backgroundLeftX,y=this.drawTRX+s.backgroundRightX,S=o,r=y-o+1;if(r>0){var C=s.backgroundBottomY;C==null&&(C=this.drawBLY);var i=s.backgroundHeight;i==null&&(i=C-this.drawTLY);var h=C-i;t.fillRect(S,h,r,i)}}var x=s.hasFill,f=s.hasStroke;!x&&!f||(s.syncFont(t).syncStyle(t),f&&(s.syncShadow(t),t.strokeText(this.text,0,0)),x&&(s.syncShadow(t),t.fillText(this.text,0,0)))}get drawTLX(){return-this.leftSpace}get drawTLY(){return-this.ascent}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.descent}get drawTRX(){return this.textWidth+this.rightSpace}get drawTRY(){return-this.ascent}get drawBRX(){return this.textWidth+this.rightSpace}get drawBRY(){return this.descent}}var MP=function(e,t){t&&this.textStyle.modify(t);var s=this.poolManager.allocate(Qi);return s===null?s=new mm(this,e,this.textStyle):s.setParent(this).setActive().modifyStyle(this.textStyle).setText(e),s},wP=function(e,t){t&&this.textStyle.modify(t);for(var s=[],o=0,y=e.length;o<y;o++){var S=e.charAt(o),r=this.poolManager.allocate(Qi);r===null?r=new mm(this,S,this.textStyle):r.setParent(this).setActive().modifyStyle(this.textStyle).setText(S),s.push(r)}return s},fa=function(e,t){var s=this.createCharChildren(e,t);return this.addChild(s),this},RP=function(e,t){return e===void 0&&(e=""),this.removeChildren(),fa.call(this,e,t),this.dirty=!0,this},AP=function(e,t,s){var o=this.createCharChildren(t,s);return e=this.getCharChildIndex(e,!0),this.addChild(o,e),this},OP=function(e,t){t===void 0&&(t=1);for(var s=0;s<t;s++){var o=this.getCharChildIndex(e,!0);if(o===void 0)break;this.removeChild(this.children[o])}return this},LP=function(e){var t="";return this.forEachCharChild(function(s){t+=s.text},void 0,e),t};Phaser.Display.Canvas.CanvasPool;class bP extends gr{constructor(t,s,o){super(t,fm),this.setTexture(s,o),this.color=void 0}get frameWidth(){return this.frameObj?this.frameObj.cutWidth:0}get frameHeight(){return this.frameObj?this.frameObj.cutHeight:0}get offsetY(){return-this.height}set offsetY(t){}get key(){return this._key}set key(t){this.setDirty(this._key!=t),this._key=t}get frame(){return this._frame}set frame(t){this.setDirty(this._frame!=t),this._frame=t}setTexture(t,s){return this.key=t,this.frame=s,this.frameObj=this.scene.sys.textures.getFrame(t,s),this}get width(){return this.frameWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=t/this.frameWidth}get height(){return this.frameHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=t/this.frameHeight}setHeight(t,s){return s===void 0&&(s=!1),this.height=t,s&&(this.scaleX=this.scaleY),this}setColor(t){return this.color=t,this}modifyPorperties(t){return t.hasOwnProperty("color")&&this.setColor(t.color),super.modifyPorperties(t),this}renderContent(){rm(this.frameObj,this.canvas,0,0,this.frameWidth,this.frameHeight,this.color,!1)}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.frameHeight}get drawTRX(){return this.frameWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.frameWidth+this.rightSpace}get drawBRY(){return this.frameHeight}}var FP=function(e,t,s){var o=this.poolManager.allocate(fm);return o===null?o=new bP(this,e,t):o.setParent(this).setActive().setTexture(e,t),o.modifyPorperties(s),o},xm=function(e,t,s){var o=this.createImageChild(e,t,s);return this.addChild(o),this};class DP extends gr{constructor(t,s,o,y){super(t,cm),this.setRenderCallback(s),this.setDrawerSize(o,y)}setRenderCallback(t){return t?this.renderContent=t.bind(this):delete this.renderContent,this}setDrawerSize(t,s){return t===!0?(this.toLocalPosition=!1,t=void 0,s=void 0):this.toLocalPosition=!0,t===void 0&&(t=0),s===void 0&&(s=t),this.drawerWidth=t,this.drawerHeight=s,this}onFree(){super.onFree(),this.setRenderCallback()}get width(){return this.drawerWidth*this.scaleX}set width(t){this.setDirty(this.width!==t),this.scaleX=this.drawerWidth>0?t/this.drawerWidth:1}get height(){return this.drawerHeight*this.scaleY}set height(t){this.setDirty(this.height!==t),this.scaleY=this.drawerHeight>0?t/this.drawerHeight:1}get offsetY(){return-this.height}set offsetY(t){}get drawTLX(){return-this.leftSpace}get drawTLY(){return 0}get drawBLX(){return-this.leftSpace}get drawBLY(){return this.drawerHeight}get drawTRX(){return this.drawerWidth+this.rightSpace}get drawTRY(){return 0}get drawBRX(){return this.drawerWidth+this.rightSpace}get drawBRY(){return this.drawerHeight}}var IP=function(e,t,s){var o=this.poolManager.allocate(cm);return o===null?o=new DP(this,e,t,s):o.setParent(this).setActive().setRenderCallback(e).setDrawerSize(t,s),o},BP=function(e,t,s){var o=this.createDrawerChild(e,t,s);return this.addChild(o),this};let GP=class extends gr{constructor(t,s){super(t,vm),this.setSpaceWidth(s)}get width(){return this.spaceWidth*this.scaleX}set width(t){this.spaceWidth>0?this.scaleX=t/this.spaceWidth:this.scaleX=1}setSpaceWidth(t){return this.spaceWidth=t,this}};var NP=function(e){var t=this.poolManager.allocate(vm);return t===null?t=new GP(this,e):t.setParent(this).setActive().setSpaceWidth(e),t},ym=function(e){var t=this.createSpaceChild(e);return this.addChild(t),this};class kP extends Yd{constructor(t,s,o,y,S){super(t,Wd),this.setName(s).setParameter(y).setCallback(o,S)}setName(t){return this.name=t,this}setParameter(t){return this.param=t,this}setCallback(t,s){return this.callback=t,this.scope=s,this}exec(){var t;return this.scope?t=this.callback.call(this.scope,this.param,this.name):t=this.callback(this.param,this.name),t}onFree(){super.onFree(),this.setName().setCallback().setParameter()}}var VP=function(e,t,s,o){var y=this.poolManager.allocate(Wd);return y===null?y=new kP(this,e,t,s,o):y.setParent(this).setActive().setName(e).setCallback(t,o).setParameter(s),y},dt=function(e,t,s,o){var y=this.createCommandChild(e,t,s,o);return this.addChild(y),this},zP=function(e){return e===void 0?e={}:typeof e=="object"&&(e=ce(e)),this.wrapConfig=e,this},Tm=function(e){var t={callback:void 0,start:0,isLastPage:!1,maxLines:void 0,padding:void 0,letterSpacing:void 0,hAlign:void 0,vAlign:void 0,children:[],lines:[],maxLineWidth:0,linesHeight:0,lineHeight:void 0,maxLineHeight:0,linesWidth:0,lineWidth:void 0};return Object.assign(t,e)};const XP={none:0,word:1,char:2,character:2,mix:3};var YP=function(e,t,s,o){o===void 0&&(o={word:[],width:0}),o.word.length=0;for(var y=s===2,S=s===3,r=!y&&!S,C=e.length,i=t,h=o.word,x=0,f=!1;i<C;){var l=e[i];if(!l.renderable){h.push(l),i++;continue}var a=l.type===Qi?l.text:null;if(a===null||a===`
`||a==="\f"){i===t&&(h.push(l),x+=l.outerWidth);break}if(r){if(h.push(l),x+=l.outerWidth,a===" ")break;i++}else if(y){h.push(l),x+=l.outerWidth;break}else if(S)if(_n(a)){if(h.push(l),x+=l.outerWidth,a===" ")break;i++,f=!0}else{if(f)break;h.push(l),x+=l.outerWidth;var n=e[i+1];n&&n.type===Qi&&n.text===" "&&(h.push(n),x+=n.outerWidth);break}}return o.width=x,o},Cm=function(e){for(var t=0,s=e.length;t<s;t++){var o=e[t];if(o.align!==void 0)return o.align}},Sm=function(e,t,s){if(!(t===0&&s===0))for(var o=0,y=e.length;o<y;o++){var S=e[o];S.renderable&&(S.x+=t,S.y+=s)}},WP=function(e,t,s){for(var o=e.hAlign,y=e.vAlign,S=e.justifyPercentage,r=e.lines,C,i,h=0,x=r.length;h<x;h++){var f=r[h],l=f.width,a=f.children,n=Cm(a);switch(n===void 0&&(n=o),n){case 0:case"left":C=0;break;case 1:case"center":var d=t-l;C=d/2;break;case 2:case"right":var d=t-l;C=d;break;case 3:case"justify":case"justify-left":var d=t-l,c=d/t;c<S&&kl(a,d),C=0;break;case 4:case"justify-center":var d=t-l,c=d/t;c<S?(kl(a,d),C=0):C=d/2;break;case 5:case"justify-right":var d=t-l,c=d/t;c<S?(kl(a,d),C=0):C=d;break;default:C=0;break}var u=e.linesHeight;switch(y){case 1:case"center":i=(s-u)/2;break;case 2:case"bottom":i=s-u;break;default:i=0;break}Sm(a,C,i)}},kl=function(e,t){for(var s=t/e.length,o=0,y=e.length;o<y;o++){var S=e[o];S.renderable&&(S.x+=s*o)}},rv=function(){var e=this.defaultTextStyle.getTextMetrics(this.context,this.testString),t,s;return"actualBoundingBoxAscent"in e?(t=e.actualBoundingBoxAscent,s=e.actualBoundingBoxDescent):(t=0,s=0),eh.ascent=t,eh.descent=s,eh.height=t+s,eh},eh={};const Ae=Phaser.Utils.Objects.GetValue;var UP=function(e){var t=Ae(e,"start",0);Rs(this.wrapPadding,Ae(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,o=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=Ae(e,"lineHeight"),S=Ae(e,"ascent",y),r;if(y===void 0){var C=Ae(e,"useDefaultTextHeight",!1);if(r=Ae(e,"maxLines",0),this.fixedHeight>0&&!C){var $=this.fixedHeight-s;if(r>0)y=$/r;else{var i=rv.call(this);y=i.height,S=i.ascent,r=Math.floor(($-S)/y)}}else{var i=rv.call(this);y=i.height,S=i.ascent}}else if(this.fixedHeight>0){if(r=Ae(e,"maxLines"),r===void 0){var $=this.fixedHeight-s;r=Math.floor($/y)}}else r=Ae(e,"maxLines",0);S===void 0&&(S=y);var h=r===0,x=Ae(e,"wrapMode");if(x===void 0){var f=Ae(e,"charWrap",!1);x=f?"char":"word"}typeof x=="string"&&(x=XP[x]);var l=Ae(e,"wrapWidth",void 0);l===void 0&&(this.fixedWidth>0?l=this.fixedWidth-o:(l=1/0,x=0));for(var a=Ae(e,"letterSpacing",0),n=Ae(e,"hAlign",0),d=Ae(e,"vAlign",0),c=Ae(e,"justifyPercentage",.25),u=Tm({callback:"runWordWrap",start:t,padding:this.wrapPadding,letterSpacing:a,maxLines:r,hAlign:n,vAlign:d,justifyPercentage:c,ascent:S,lineHeight:y,wrapWidth:l,wrapMode:x}),v=this.children,p=0,g=v.length;p<g;p++)v[p].setActive(!1);l+=a;for(var m=this.padding.left+this.wrapPadding.left,T=this.padding.top+this.wrapPadding.top+S,P=m,E=T,M=l,w=t,R=v.length,A=u.children,O=u.lines,F=[],L=0,b=0,D,I=!1;w<R;){D=YP(v,w,x,D);var k=D.word,X=k.length,W=D.width+X*a;w+=X;var Y=pm(k[0]);I=gm(k[0]);var N=Y||I;if(M<W||N){if(N){var V=k[0];V.setActive().setPosition(P,E),A.push(V),F.push(V)}P=m,E+=y,M=l,O.push({children:F,width:L}),b=Math.max(b,L),L=0,F=[];var G=I||!h&&O.length===r;if(G)break;if(N)continue}M-=W,L+=W;for(var p=0,g=k.length;p<g;p++){var B=k[p];B.setActive(),A.push(B),F.push(B),B.renderable&&(B.setPosition(P,E),P+=B.outerWidth+a)}}F.length>0&&(O.push({children:F,width:L}),b=Math.max(b,L)),u.start+=A.length,u.isLastPage=!I&&u.start===R,u.maxLineWidth=b,u.linesHeight=O.length*y;var z=this.fixedWidth>0?this.fixedWidth:u.maxLineWidth+o,U=this.fixedHeight>0?this.fixedHeight:u.linesHeight+s,H=z-o,$=U-s;WP(u,H,$),this.setCanvasSize(z,U);for(var p=0,g=A.length;p<g;p++){var B=A[p];B.renderable&&(B.x0=B.x,B.y0=B.y)}return u};const HP=Phaser.Utils.Objects.Merge;var $P=function(e){return e===void 0&&(e={}),UP.call(this,HP(e,this.wrapConfig))},KP=function(e,t,s){var o=e.hAlign,y=e.vAlign,S,r,C=e.rtl,i=e.lines,h=e.lineWidth,x=e.linesWidth;switch(o){case 1:case"center":S=(t-x)/2;break;case 2:case"right":S=t-x;break;default:S=0;break}C&&(S+=h);for(var f=0,l=i.length;f<l;f++){var a=i[C?l-f-1:f],n=a.children,d=a.height,c=Cm(n);switch(c===void 0&&(c=y),c){case 1:case"center":r=(s-d)/2;break;case 2:case"bottom":r=s-d;break;default:r=0;break}Sm(n,S,r),S+=h}};const ke=Phaser.Utils.Objects.GetValue;var ZP=function(e){var t=ke(e,"start",0);Rs(this.wrapPadding,ke(e,"padding",0));var s=this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom,o=this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,y=ke(e,"lineWidth",void 0),S;if(y===void 0)if(S=ke(e,"maxLines",0),this.fixedWidth>0){var Y=this.fixedWidth-o;y=Y/S}else y=0;else if(this.fixedWidth>0){if(S=ke(e,"maxLines",void 0),S===void 0){var Y=this.fixedWidth-o;S=Math.floor(Y/y)+1}}else S=ke(e,"maxLines",0);var r=S===0,C=ke(e,"fixedCharacterHeight",void 0);if(C===void 0){var i=ke(e,"charPerLine",void 0);if(i!==void 0){var N=this.fixedHeight-s;C=Math.floor(N/i)}}var h=ke(e,"wrapHeight",void 0);h===void 0&&(this.fixedHeight>0?h=this.fixedHeight-s:h=1/0);for(var x=ke(e,"letterSpacing",0),f=ke(e,"rtl",!0),l=ke(e,"hAlign",f?2:0),a=ke(e,"vAlign",0),n=Tm({callback:"runVerticalWrap",start:t,padding:this.wrapPadding,letterSpacing:x,maxLines:S,hAlign:l,vAlign:a,lineWidth:y,fixedCharacterHeight:C,wrapHeight:h,rtl:f}),d=this.children,c=0,u=d.length;c<u;c++)d[c].setActive(!1);h+=x;for(var v=this.padding.left+this.wrapPadding.left,p=this.padding.top+this.wrapPadding.top,g=v,m=p,T=h,P=t,E=d.length,M=n.children,w=n.lines,R=[],A=0,O=0;P<E;){var F=d[P];if(P++,!F.renderable){F.setActive(),M.push(F),R.push(F);continue}var L=(C!==void 0?C:F.height)+x,b=pm(F),D=gm(F),I=b||D;if(T<L||I){b&&(F.setActive().setPosition(g,m).setOrigin(.5),M.push(F),R.push(F)),g=v,m=p,T=h,w.push({children:R,height:A}),O=Math.max(O,A),A=0,R=[];var k=D||!r&&w.length===S;if(k)break;if(I)continue}T-=L,A+=L,F.setActive().setPosition(g,m).setOrigin(.5),M.push(F),R.push(F),m+=L}R.length>0&&(w.push({children:R,height:A}),O=Math.max(O,A)),n.start+=M.length,n.isLastPage=n.start===E,n.maxLineHeight=O,n.linesWidth=w.length*y;var X=this.fixedWidth>0?this.fixedWidth:n.linesWidth+o,W=this.fixedHeight>0?this.fixedHeight:n.maxLineHeight+s,Y=X-o,N=W-s;KP(n,Y,N),this.setCanvasSize(X,W);for(var c=0,u=M.length;c<u;c++){var F=M[c];F.renderable&&(F.x0=F.x,F.y0=F.y)}return n};const JP=Phaser.Utils.Objects.Merge;var QP=function(e){return e===void 0&&(e={}),ZP.call(this,JP(e,this.wrapConfig))};const nv=Phaser.Utils.Objects.GetValue;var jP=function(e){var t=nv(this.wrapConfig,"callback");return t||(t=nv(e,"callback",this.runWordWrap)),typeof t=="string"&&(t=this[t]),t.call(this,e)};const qP={setVAlign(e){return this.wrapConfig.vAlign=e,this},setHAlign(e){return this.wrapConfig.hAlign=e,this}},_P={setTextOX(e){return e===this._textOX?this:(this._textOX=e,this)},setTextOY(e){return e===this._textOY?this:(this._textOY=e,this)},setTextOXY(e,t){if(!(e===this._textOX&&t===this._textOY))return this._textOX=e,this._textOY=t,this},addTextOX(e){return this.setTextOX(this._textOX+e),this},addTextOY(e){return this.setTextOY(this._textOY+e),this},addTextOXY(e,t){return this.setTextOXY(this._textOX+e,this._textOY+t),this}};var tE=function(){this.clear(),this.setCanvasSize(this.width,this.height),this.background.active&&this.background.render();for(var e,t=0,s=this.children.length;t<s;t++)e=this.children[t],e.active&&e.render();this.innerBounds.active&&this.innerBounds.render()},eE=function(e,t,s){s===void 0&&(s=!0);for(var o=this.children.filter(function(i){return!(s&&!i.active)}),y=0,S=o.length;y<S;y++){var r=o[y],C;if(t?C=e.call(this,r,y,o):C=e(r,y,o),C)break}return this},iE=function(e,t,s){s===void 0&&(s=!0);for(var o=this.children.filter(function(i){return!(s&&!i.active||!i.renderable||i.removed)}),y=0,S=o.length;y<S;y++){var r=o[y],C;if(t?C=e.call(this,r,y,o):C=e(r,y,o),C)break}return this},sE=function(e,t,s){s===void 0&&(s=!0);for(var o=this.children.filter(function(i){return!(s&&!i.active||!dr(i)||i.removed)}),y=0,S=o.length;y<S;y++){var r=o[y],C;if(t?C=e.call(this,r,y,o):C=e(r,y,o),C)break}return this},rE=function(){return this.children};const nE=Phaser.Utils.Array.GetAll;var aE=function(){return nE(this.children,"active",!0)},hE=function(e,t){return t===void 0&&(t=[]),this.forEachCharChild(function(s){t.push(s)},void 0,e),t},oE=function(){return this.lastAppendedChildren},lE=function(e,t,s,o){typeof t!="number"&&(o=t,t=0,s=0);var y=e.drawCenterX+t,S=e.drawCenterY+s;return lm(e,y,S,o)};const uE=Phaser.Math.Distance.BetweenPointsSquared;var dE=function(e,t){var s={x:e,y:t},o=1/0,y=null;return this.forEachRenderableChild(function(S){var r=uE(s,lE(S,!0));o>r&&(o=r,y=S)}),y},fE=function(e,t,s,o){return typeof e=="number"&&(e=this.getCharChild(e,!0)),um(this,e,t,s,o)},cE=function(){for(var e=this.children,t=0,s=0,o=0,y=e.length;o<y;o++){var S=e[o];if(!(!S.renderable||!S.active||!S.visible)){var r=S.x0!==void 0?S.x0:S.x,C=S.y0!==void 0?S.y0:S.y;t=Math.max(t,r),s=Math.max(s,C)}}var i=t+this.padding.left+this.padding.right+this.wrapPadding.left+this.wrapPadding.right,h=s+this.padding.top+this.padding.bottom+this.wrapPadding.top+this.wrapPadding.bottom;return(this.width!==i||this.height!==h)&&(this.dirty=!0,this.setCanvasSize(i,h)),this},vE=function(e,t){t===void 0&&(t=!0);for(var s=this.children,o=0,y=s.length;o<y;o++){var S=s[o];if(!(t&&!S.active)&&dr(S)&&!S.removed){if(e===0)return o;e--}}},pE=function(e,t){t===void 0&&(t=!0);for(var s=this.children,o=0,y=s.length;o<y;o++){var S=s[o];if(!(t&&!S.active)&&dr(S)&&!S.removed){if(e===0)return S;e--}}},gE=function(e,t){if(typeof e!="number"&&(e=this.children.indexOf(e),e<0))return null;t===void 0&&(t=!0);var s=this.children;e>=s.length&&(e=s.length);for(var o=0,y=0;y<e;y++){var S=s[y];t&&!S.active||dr(S)&&!S.removed&&o++}return o},mE=function(e){return e===void 0&&(e=!0),this.childrenInteractiveEnable!==e&&(this.lastOverChild=null),this.childrenInteractiveEnable=e,this},Ud=function(o,t,s){for(var o=o,y=0,S=o.length;y<S;y++){var r=o[y];if(!(!r.active||!r.renderable)&&r.contains(t,s))return r}return null},xE=function(){return this.on("pointerdown",yE,this).on("pointerdown",TE,this).on("pointermove",Vl,this).on("pointerover",Vl,this).on("pointerout",function(e,t){Vl.call(this,e,null,null,t)},this),this},yE=function(e,t,s,o){if(this.childrenInteractiveEnable){var y=Ud(this.children,t,s);y&&this.emit("child.pointerdown",y,e,t,s,o)}},TE=function(e,t,s,o){if(this.childrenInteractiveEnable){var y=Ud(this.children,t,s);y&&this.emit("child.pointerup",y,e,t,s,o)}},Vl=function(e,t,s,o){if(this.childrenInteractiveEnable){if(t===null){this.lastOverChild!==null&&(this.emit("child.pointerout",this.lastOverChild,e,t,s,o),this.lastOverChild=null);return}var y=Ud(this.children,t,s);y!==this.lastOverChild&&(this.lastOverChild!==null&&this.emit("child.pointerout",this.lastOverChild,e,t,s,o),y!==null&&this.emit("child.pointerover",y,e,t,s,o),this.lastOverChild=y)}};const CE=Phaser.GameObjects.GameObject;var SE=function(e,t,s){var o=!!this.input;return CE.prototype.setInteractive.call(this,e,t,s),o||xE.call(this),this};const PE=Phaser.Utils.Array.BringToTop,EE=Phaser.Utils.Array.SendToBack,ME=Phaser.Utils.Array.MoveUp,wE=Phaser.Utils.Array.MoveDown,RE=Phaser.Utils.Array.MoveAbove,AE=Phaser.Utils.Array.MoveBelow,OE={moveChildToFist(e){return EE(this.children,e),this},moveChildToLast(e){return PE(this.children,e),this},movechildUp(e){return ME(this.children,e),this},movechildDown(e){return wE(this.children,e),this},movechildAbove(e,t){return RE(this.children,e,t),this},movechildBelow(e,t){return AE(this.children,e,t),this}},LE={setBackgroundColor(e,t,s){return this.background.setColor(e,t,s),this},setBackgroundStroke(e,t){return this.background.setStroke(e,t),this},setBackgroundCornerRadius(e,t){return this.background.setCornerRadius(e,t),this}},bE={setInnerBoundsColor(e,t,s){return this.innerBounds.setColor(e,t,s),this},setInnerBoundsStroke(e,t){return this.innerBounds.setStroke(e,t),this}};var Pm={setFixedSize:lP,setPadding:uP,getPadding:dP,modifyTextStyle:fP,modifyDefaultTextStyle:cP,resetTextStyle:vP,setTestString:pP,removeChild:mP,removeChildren:xP,popChild:TP,clearContent:CP,addChild:SP,createCharChild:MP,createCharChildren:wP,setText:RP,appendText:fa,insertText:AP,removeText:OP,getText:LP,createImageChild:FP,appendImage:xm,createDrawerChild:IP,appendDrawer:BP,createSpaceChild:NP,appendSpace:ym,createCommandChild:VP,appendCommand:dt,setWrapConfig:zP,runWordWrap:$P,runVerticalWrap:QP,runWrap:jP,renderContent:tE,forEachChild:eE,forEachRenderableChild:iE,forEachCharChild:sE,getChildren:rE,getActiveChildren:aE,getCharChildren:hE,getLastAppendedChildren:oE,getNearestChild:dE,getCharWorldPosition:fE,setToMinSize:cE,getCharChildIndex:vE,getCharChild:pE,getCharIndex:gE,setChildrenInteractiveEnable:mE,setInteractive:SE};Object.assign(Pm,OE,LE,bE,qP,_P);const FE=Phaser.Utils.Objects.GetFastValue;var DE={};class IE{constructor(t){this.pools=FE(t,"pools",DE)}free(t){if(!this.pools)return this;var s=t.type;return this.pools.hasOwnProperty(s)||(this.pools[s]=new Di),this.pools[s].push(t),t.onFree(),this}freeMultiple(t){if(!this.pools)return this;for(var s=0,o=t.length;s<o;s++)this.free(t[s]);return this}allocate(t){return!this.pools||!this.pools.hasOwnProperty(t)?null:this.pools[t].pop()}}const zl=Phaser.Utils.Objects.IsPlainObject,ve=Phaser.Utils.Objects.GetValue;class un extends Fs{constructor(t,s,o,y,S,r,C){zl(s)?(C=s,s=ve(C,"x",0),o=ve(C,"y",0),y=ve(C,"width",0),S=ve(C,"height",0),r=ve(C,"resolution",1)):zl(y)?(C=y,y=ve(C,"width",0),S=ve(C,"height",0),r=ve(C,"resolution",1)):zl(r)&&(C=r,r=ve(C,"resolution",1));var i=y===0?1:y,h=S===0?1:S;super(t,s,o,i,h,r),this.type="rexDynamicText",this.autoRound=!0,this.padding=Rs(),this.wrapPadding=Rs();var x=ve(C,"style",void 0);this.defaultTextStyle=new Ao(null,x),this.textStyle=this.defaultTextStyle.clone(),this.setTestString(ve(C,"testString","|MÉqgy")),this._textOX=0,this._textOY=0,this.background=new hP(this,ve(C,"background",void 0)),this.innerBounds=new oP(this,ve(C,"innerBounds",void 0)),this.children=[],this.lastAppendedChildren=[],this.lastOverChild=null,this.poolManager=new IE(C),this.setFixedSize(y,S),this.setPadding(ve(C,"padding",0)),this.setWrapConfig(ve(C,"wrap",void 0)),this.setChildrenInteractiveEnable(ve(C,"childrenInteractive",!1));var f=ve(C,"text",void 0);f&&this.setText(f)}updateTexture(){return super.updateTexture(function(){this.renderContent()},this),this}get text(){return this.getText(!0)}set text(t){this.setText(t)}setSize(t,s){return this.setFixedSize(t,s),this}get textOX(){return this._textOX}set textOX(t){this.setTextOX(t)}get textOY(){return this._textOY}set textOY(t){this.setTextOY(t)}}Object.assign(un.prototype,Pm);st.register("dynamicText",function(e,t,s,o,y){var S=new un(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.DynamicText",un);const ca={setEventEmitter(e,t){return t===void 0&&(t=Phaser.Events.EventEmitter),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}},BE={hasProperty(e){var t=this.gameObject;if(t.hasOwnProperty(e))return!0;var s=t[e];return s!==void 0},getProperty(e){return this.gameObject[e]},setProperty(e,t){return this.gameObject[e]=t,this},easeProperty(l){var t=l.property,s=l.value,o=l.duration,y=l.delay,S=l.ease,r=l.repeat,C=l.yoyo,i=l.from,h=l.complete,x=l.target;if(o===void 0&&(o=1e3),y===void 0&&(y=0),S===void 0&&(S="Linear"),r===void 0&&(r=0),C===void 0&&(C=!1),x===void 0&&(x=this.gameObject),i){var f=s;s=x[t],x[t]=f}var l={targets:x,duration:o,delay:y,ease:S,repeat:r,yoyo:C,onComplete:h};return l[t]=s,this.addTweenTask(t,l),this},addTweenTask(e,t){var s=this.tweens,o=s[e];o&&o.remove();var y=t.onComplete;return t.onComplete=function(){s[e].remove(),s[e]=null,y&&y(t.targets,e)},o=this.scene.tweens.add(t),o.timeScale=this.timeScale,s[e]=o,this},getTweenTask(e){return this.tweens[e]},freeTweens(){var e=this.tweens,t;for(var s in e)t=e[s],t&&t.remove(),e[s]=null;return this}},GE={hasMethod(e){return typeof this.gameObject[e]=="function"},call(e,...t){if(!this.hasMethod(e))return console.warn(`[GameObjectManager] Game object '${this.name}' does not have method '${e}'`),this;var s=this.gameObject;return s[e].apply(s,t),this}},NE={hasData(e){var t=this.gameObject;return t.data?t.data.has(e):!1},getData(e){return this.gameObject.getData(e)},setData(e,t){return this.gameObject.setData(e,t),this}};class Hd{constructor(t,s,o){this.GOManager=t,this.tweens={},this.effects={},this.setGO(s,o)}get scene(){return this.GOManager.scene}get timeScale(){return this.GOManager.timeScale}destroy(){this.freeGO(),this.GOManager=void 0}freeGO(){return this.freeTweens(),this.gameObject.bob=void 0,this.gameObject.destroy(),this.gameObject=void 0,this}setGO(t,s){return t.goName=s,t.goType=this.GOManager.name,t.bob=this,this.gameObject=t,this.name=s,this.freeTweens(),this}setTimeScale(t){var s=this.tweens;for(var o in s){var y=s[o];y&&(y.timeScale=t)}return this}}Object.assign(Hd.prototype,BE,GE,NE);var va=function(e){for(var t in e)return!1;return!0},or=function(e){return e&&e.charAt(0)!=="!"};const kE={has(e){return this.bobs.hasOwnProperty(e)},exists(e){return this.bobs.hasOwnProperty(e)},get(e,t){if(or(e))return this.bobs[e];t===void 0&&(t=[]),e&&(e=e.substring(1));for(var s in this.bobs)e&&s===e||t.push(this.bobs[s]);return t},getFitst(e){e&&e.charAt(0)==="!"&&(e=e.substring(1));for(var t in this.bobs)if(!(e&&e===t))return this.bobs[t];return null},getGO(e,t){var s=this.get(e);if(s)if(Array.isArray(s)){t===void 0&&(t=[]);var o=s;return o.forEach(function(y){t.push(y.gameObject)}),t}else return s.gameObject;else return null},forEachGO(e,t){for(var s in this.bobs){var o=this.bobs[s].gameObject,y;if(t?y=e.call(t,o,s,this):y=e(o,s,this),y)break}return this},getAllGO(e){e===void 0&&(e=[]);for(var t in this.bobs){var s=this.bobs[t].gameObject;e.push(s)}return e}};var ta=function(e){return e>>16&255},ea=function(e){return e>>8&255},ia=function(e){return e&255},av=function(e,t){return t===void 0&&(t={}),t.r=e>>16&255,t.g=e>>8&255,t.b=e&255,t};const VE=65535,zE=16711935,XE=16776960;var YE=function(e,t){return(t&255)<<16|e&VE},WE=function(e,t){return(t&255)<<8|e&zE},UE=function(e,t){return t&255|e&XE},HE=function(e,t,s,o){return(t&255)<<16|(s&255)<<8|o&255},$E=function(e,t){if(e.hasOwnProperty("tintR"))return e;t===void 0&&(t=16777215);var s=ta(t),o=ea(t),y=ia(t);return Object.defineProperty(e,"tint",{get:function(){return t},set:function(S){S=Math.floor(S)&16777215,e.setTint&&e.setTint(S),t!==S&&(t=S,s=ta(t),o=ea(t),y=ia(t))}}),Object.defineProperty(e,"tintR",{get:function(){return s},set:function(S){S=Math.floor(S)&255,s!==S&&(s=S,e.tint=YE(t,S))}}),Object.defineProperty(e,"tintG",{get:function(){return o},set:function(S){S=Math.floor(S)&255,o!==S&&(o=S,e.tint=WE(t,S))}}),Object.defineProperty(e,"tintB",{get:function(){return y},set:function(S){S=Math.floor(S)&255,y!==S&&(y=S,e.tint=UE(t,S))}}),Object.defineProperty(e,"tintGray",{get:function(){return Math.floor((s+o+y)/3)},set:function(S){S=Math.floor(S)&255,(s!==S||o!==S||y!==S)&&(s=S,o=S,y=S,e.tint=HE(t,S,S,S))}}),e.tint=t,e};const KE=Phaser.Events.EventEmitter;var ZE=function(e){if(e.events)return e;var t=new KE,s=e.x;Object.defineProperty(e,"x",{get:function(){return s},set:function(r){s!==r&&(s=r,t.emit("update",e))}});var o=e.y;Object.defineProperty(e,"y",{get:function(){return o},set:function(r){o!==r&&(o=r,t.emit("update",e))}});var y=e.width;Object.defineProperty(e,"width",{get:function(){return y},set:function(r){y!==r&&(y=r,t.emit("update",e))}});var S=e.height;return Object.defineProperty(e,"height",{get:function(){return S},set:function(r){S!==r&&(S=r,t.emit("update",e))}}),e.events=t,e},JE=function(e,t,s,o,y,S){return S===void 0?S={}:S===!0&&(S=QE),typeof s!="number"&&(s=0,o=0),S.x=y.x+y.width*e+s,S.y=y.y+y.height*t+o,S},QE={},jE=function(e,t,s,o,y,S,r){if(e.hasOwnProperty("vp"))return e;typeof s=="function"&&(r=s,s=void 0),typeof y=="function"&&(r=y,y=void 0),s===void 0&&(s=.5),o===void 0&&(o=.5),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=JE),ZE(t);var C=t.events;e.vp=t;var i=function(){r(s,o,y,S,t,e)};C.on("update",i),e.once("destroy",function(){C.off("update",i),e.vp=void 0}),Object.defineProperty(e,"vpx",{get:function(){return s},set:function(h){s!==h&&(s=h,i())}}),Object.defineProperty(e,"vpy",{get:function(){return o},set:function(h){o!==h&&(o=h,i())}}),Object.defineProperty(e,"vpxOffset",{get:function(){return y},set:function(h){y!==h&&(y=h,i())}}),Object.defineProperty(e,"vpyOffset",{get:function(){return S},set:function(h){S!==h&&(S=h,i())}}),i()},we=function(e){return e.preFX?e.preFX:e.postFX?e.postFX:null},Qt=function(e,t){e._effectSwitchNames||(e._effectSwitchNames=[],e.clearAllEffects=function(){for(var s=e._effectSwitchNames,o=0,y=s.length;o<y;o++)e[s[o]]=null;return e},e.on("destroy",e.clearAllEffects,e)),e._effectSwitchNames.push(t)},qE=function(e){if(wt(e,"barrel"))return e;var t=we(e);if(!t)return e;var s;return Object.defineProperty(e,"barrel",{get:function(){return s},set:function(o){s!==o&&(s=o,s===null||s===!1?e._barrelEffect&&(t.remove(e._barrelEffect),e._barrelEffect=void 0):(e._barrelEffect||(e._barrelEffect=t.addBarrel()),e._barrelEffect.amount=s))}}),e.barrel=null,Qt(e,"barrel"),e},xe=function(e,t,s){if(wt(e,t))return e;var o=we(e);if(!o)return e;var y=`_${t}Effect`,S;return Object.defineProperty(e,t,{get:function(){return S},set:function(r){if(S!==r)if(S=r,S===null||S===!1)e[y]&&(o.remove(e[y]),e[y]=void 0);else{e[y]||(e[y]=o.addColorMatrix());var C=e[y];C[t](s===1?r:void 0)}}}),e[t]=null,Qt(e,t),e},_E=function(e){return xe(e,"blackWhite"),e},tM=function(e){if(wt(e,"bloomColor"))return e;var t=we(e);if(!t)return e;var s,o=1,y=1,S=1,r=1,C=4;return Object.defineProperty(e,"bloomColor",{get:function(){return s},set:function(i){s!==i&&(s=i,s===null||s===!1?e._bloom&&(t.remove(e._bloom),e._bloom=void 0,t.setPadding(0)):(e._bloom||(e._bloom=t.addBloom(s,o,y,S,r,C),t.setPadding(Math.max(o,y)+1)),e._bloom.color=s))}}),Object.defineProperty(e,"bloomOffsetX",{get:function(){return o},set:function(i){if(o!==i&&(o=i,e._bloom)){var h=Math.max(o,y);t.setPadding(h+1),e._bloom.offsetX=o}}}),Object.defineProperty(e,"bloomOffsetY",{get:function(){return y},set:function(i){if(y!==i&&(y=i,e._bloom)){var h=Math.max(o,y);t.setPadding(h+1),e._bloom.offsetY=y}}}),Object.defineProperty(e,"bloomBlurStrength",{get:function(){return S},set:function(i){S!==i&&(S=i,e._bloom&&(e._bloom.blurStrength=S))}}),Object.defineProperty(e,"bloomStrength",{get:function(){return r},set:function(i){r!==i&&(r=i,e._bloom&&(e._bloom.strength=r))}}),Object.defineProperty(e,"bloomSteps",{get:function(){return C},set:function(i){C!==i&&(C=i,e._bloom&&(e._bloom.steps=C))}}),e.bloomColor=null,Qt(e,"bloomColor"),e},eM=function(e){if(wt(e,"blurColor"))return e;var t=we(e);if(!t)return e;var s,o=0,y=1,S=1,r=1,C=4;return Object.defineProperty(e,"blurColor",{get:function(){return s},set:function(i){s!==i&&(s=i,s===null||s===!1?e._blur&&(t.remove(e._blur),e._blur=void 0,t.setPadding(0)):(e._blur||(e._blur=t.addBlur(o,y,S,r,s,C),t.setPadding(Math.max(y,S)+1)),e._blur.color=s))}}),Object.defineProperty(e,"blurQuality",{get:function(){return o},set:function(i){o!==i&&(o=i,e._blur&&(e._blur.quality=o))}}),Object.defineProperty(e,"blurX",{get:function(){return y},set:function(i){if(y!==i&&(y=i,e._blur)){var h=Math.max(y,S);t.setPadding(h+1),e._blur.x=y}}}),Object.defineProperty(e,"blurY",{get:function(){return S},set:function(i){if(S!==i&&(S=i,e._blur)){var h=Math.max(y,S);t.setPadding(h+1),e._blur.y=S}}}),Object.defineProperty(e,"blurStrength",{get:function(){return r},set:function(i){r!==i&&(r=i,e._blur&&(e._blur.strength=r))}}),Object.defineProperty(e,"blurSteps",{get:function(){return C},set:function(i){C!==i&&(C=i,e._blur&&(e._blur.steps=C))}}),e.blurColor=null,Qt(e,"blurColor"),e},iM=function(e){if(wt(e,"bokehRadius"))return e;var t=we(e);if(!t)return e;var s,o=1,y=.2;return Object.defineProperty(e,"bokehRadius",{get:function(){return s},set:function(S){s!==S&&(s=S,s===null||s===!1?e._bokeh&&(t.remove(e._bokeh),e._bokeh=void 0):(e._bokeh||(e._bokeh=t.addBokeh(s,o,y)),e._bokeh.radius=s))}}),Object.defineProperty(e,"bokehAmount",{get:function(){return o},set:function(S){o!==S&&(o=S,e._bokeh&&(e._bokeh.amount=o))}}),Object.defineProperty(e,"bokehContrast",{get:function(){return y},set:function(S){y!==S&&(y=S,e._bokeh&&(e._bokeh.contrast=y))}}),e.bokehRadius=null,Qt(e,"bokehRadius"),e},sM=function(e){return xe(e,"brightness",1),e},rM=function(e){return xe(e,"brown"),e},nM=function(e){if(wt(e,"circleColor"))return e;var t=we(e);if(!t)return e;var s,o=8,y=0,S=.4,r=1,C=.005;return Object.defineProperty(e,"circleColor",{get:function(){return s},set:function(i){s!==i&&(s=i,s===null||s===!1?e._circle&&(t.remove(e._circle),e._circle=void 0):(e._circle||(e._circle=t.addCircle(o,s,y,r,C),e.circleBackgroundAlpha=S),e._circle.color=s))}}),Object.defineProperty(e,"circleThickness",{get:function(){return o},set:function(i){o!==i&&(o=i,e._circle&&(e._circle.thickness=o))}}),Object.defineProperty(e,"circleBackgroundColor",{get:function(){return y},set:function(i){y!==i&&(y=i,e._circle&&(e._circle.backgroundColor=y))}}),Object.defineProperty(e,"circleBackgroundAlpha",{get:function(){return S},set:function(i){S!==i&&(S=i,e._circle&&(e._circle.glcolor2[3]=S))}}),Object.defineProperty(e,"circleScale",{get:function(){return r},set:function(i){r!==i&&(r=i,e._circle&&(e._circle.scale=r))}}),Object.defineProperty(e,"circleFeather",{get:function(){return C},set:function(i){C!==i&&(C=i,e._circle&&(e._circle.feather=C))}}),e.circleColor=null,Qt(e,"circleColor"),e},aM=function(e){return xe(e,"contrast",1),e},hM=function(e){return xe(e,"desaturate",1),e},oM=function(e){return xe(e,"desaturateLuminance"),e},lM=function(e){if(wt(e,"displacementKey"))return e;var t=we(e);if(!t)return e;var s,o=.005,y=.005;return Object.defineProperty(e,"displacementKey",{get:function(){return s},set:function(S){s!==S&&(s=S,s===null||s===!1?e._displacement&&(t.remove(e._displacement),e._displacement=void 0):(e._displacement||(e._displacement=t.addDisplacement(s,o,y)),e._displacement.setTexture(s)))}}),Object.defineProperty(e,"displacementX",{get:function(){return o},set:function(S){o!==S&&(o=S,e._displacement&&(e._displacement.x=o))}}),Object.defineProperty(e,"displacementY",{get:function(){return y},set:function(S){y!==S&&(y=S,e._displacement&&(e._displacement.y=y))}}),e.displacementKey=null,Qt(e,"displacementKey"),e},uM=function(e){if(wt(e,"glowColor"))return e;var t=we(e);if(!t)return e;var s,o=4,y=0;return Object.defineProperty(e,"glowColor",{get:function(){return s},set:function(S){s!==S&&(s=S,s===null||s===!1?e._glow&&(t.remove(e._glow),e._glow=void 0,t.setPadding(0)):(e._glow||(e._glow=t.addGlow(s,o,y),t.setPadding(o+1)),e._glow.color=s))}}),Object.defineProperty(e,"glowOuterStrength",{get:function(){return o},set:function(S){o!==S&&(o=S,e._glow&&(t.setPadding(o+1),e._glow.outerStrength=o))}}),Object.defineProperty(e,"glowInnerStrength",{get:function(){return y},set:function(S){y!==S&&(y=S,e._glow&&(e._glow.innerStrength=y))}}),e.glowColor=null,Qt(e,"glowColor"),e},dM=function(e){if(wt(e,"gradientColor"))return e;var t=we(e);if(!t)return e;var s,o,y=.5,S=0,r=0,C=0,i=1,h=0;return Object.defineProperty(e,"gradientColor",{get:function(){return[s,o]},set:function(x){var f,l;x===null||x===!1?(f=null,l=null):(f=x[0],l=x[1]),!(s===f&&o===l)&&(s=f,o=l,s===null||s===!1?e._gradient&&(t.remove(e._gradient),e._gradient=void 0):(e._gradient||(e._gradient=t.addGradient(s,o,y,S,r,C,i,h)),e._gradient.color1=s,e._gradient.color2=o))}}),Object.defineProperty(e,"gradientColor1",{get:function(){return s},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}s!==x&&(s=x,e._gradient&&(e._gradient.color1=s))}}),Object.defineProperty(e,"gradientColor2",{get:function(){return o},set:function(x){if(x===null||x===!1){e.gradientColor=x;return}o!==x&&(o=x,e._gradient&&(e._gradient.color2=o))}}),Object.defineProperty(e,"gradientAlpha",{get:function(){return y},set:function(x){y!==x&&(y=x,e._gradient&&(e._gradient.alpha=y))}}),Object.defineProperty(e,"gradientFromX",{get:function(){return S},set:function(x){S!==x&&(S=x,e._gradient&&(e._gradient.fromX=S))}}),Object.defineProperty(e,"gradientFromY",{get:function(){return r},set:function(x){r!==x&&(r=x,e._gradient&&(e._gradient.fromY=r))}}),Object.defineProperty(e,"gradientToX",{get:function(){return C},set:function(x){C!==x&&(C=x,e._gradient&&(e._gradient.toX=C))}}),Object.defineProperty(e,"gradientToY",{get:function(){return i},set:function(x){i!==x&&(i=x,e._gradient&&(e._gradient.toY=i))}}),Object.defineProperty(e,"gradientSize",{get:function(){return h},set:function(x){h!==x&&(h=x,e._gradient&&(e._gradient.size=h))}}),e.gradientColor=null,Qt(e,"gradientColor"),e},fM=function(e){return xe(e,"grayscale",1),e},cM=function(e){return xe(e,"hue",1),e},vM=function(e){return xe(e,"kodachrome"),e},pM=function(e){return xe(e,"lsd"),e},gM=function(e){return xe(e,"negative"),e},mM=function(e){if(wt(e,"pixelate"))return e;var t=we(e);if(!t)return e;var s;return Object.defineProperty(e,"pixelate",{get:function(){return s},set:function(o){s!==o&&(s=o,s===null||s===!1?e._pixelateEffect&&(t.remove(e._pixelateEffect),e._pixelateEffect=void 0):(e._pixelateEffect||(e._pixelateEffect=t.addPixelate()),e._pixelateEffect.amount=s))}}),e.pixelate=null,Qt(e,"pixelate"),e},xM=function(e){return xe(e,"polaroid"),e},yM=function(e){if(wt(e,"revealLeft"))return e;var t=we(e);if(!t)return e;var s,o,y,S,r=.1,C=function(){s=null,o=null,y=null,S=null},i=function(h){h._revealEffect&&(t.remove(h._revealEffect),h._revealEffect=void 0)};return Object.defineProperty(e,"revealLeft",{get:function(){return s},set:function(h){s!==h&&(C(),s=h,s===null||s===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=0,e._revealEffect.progress=s))}}),Object.defineProperty(e,"revealRight",{get:function(){return o},set:function(h){o!==h&&(C(),o=h,o===null||o===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=0,e._revealEffect.progress=o))}}),Object.defineProperty(e,"revealUp",{get:function(){return y},set:function(h){y!==h&&(C(),y=h,y===null||y===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=1,e._revealEffect.axis=1,e._revealEffect.progress=y))}}),Object.defineProperty(e,"revealDown",{get:function(){return S},set:function(h){S!==h&&(C(),S=h,S===null||S===!1?i(e):(e._revealEffect||(e._revealEffect=t.addReveal(r,0,0)),e._revealEffect.direction=0,e._revealEffect.axis=1,e._revealEffect.progress=S))}}),Object.defineProperty(e,"revealWidth",{get:function(){return r},set:function(h){r!==h&&(r=h,e._revealEffect&&(e._revealEffect.wipeWidth=r))}}),e.revealLeft=null,Qt(e,"revealLeft"),Qt(e,"revealRight"),Qt(e,"revealUp"),Qt(e,"revealDown"),e},TM=function(e){return xe(e,"saturate",1),e},CM=function(e){return xe(e,"sepia"),e},SM=function(e){if(wt(e,"shadowColor"))return e;var t=we(e);if(!t)return e;var s,o=0,y=0,S=.1,r=1,C=6,i=1;return Object.defineProperty(e,"shadowColor",{get:function(){return s},set:function(h){s!==h&&(s=h,s===null||s===!1?e._shadow&&(t.remove(e._shadow),e._shadow=void 0):(e._shadow||(e._shadow=t.addShadow(o,y,S,r,s,C,i)),e._shadow.color=s))}}),Object.defineProperty(e,"shadowX",{get:function(){return o},set:function(h){o!==h&&(o=h,e._shadow&&(e._shadow.x=o))}}),Object.defineProperty(e,"shadowY",{get:function(){return y},set:function(h){y!==h&&(y=h,e._shadow&&(e._shadow.y=y))}}),Object.defineProperty(e,"decay",{get:function(){return S},set:function(h){S!==h&&(S=h,e._shadow&&(e._shadow.decay=S))}}),Object.defineProperty(e,"shadowPower",{get:function(){return r},set:function(h){r!==h&&(r=h,e._shadow&&(e._shadow.power=r))}}),Object.defineProperty(e,"shadowSamples",{get:function(){return C},set:function(h){C!==h&&(C=h,e._shadow&&(e._shadow.samples=C))}}),Object.defineProperty(e,"shadowIntensity",{get:function(){return i},set:function(h){i!==h&&(i=h,e._shadow&&(e._shadow.intensity=i))}}),e.shadowColor=null,Qt(e,"shadowColor"),e},PM=function(e){return xe(e,"shiftToBGR"),e},EM=function(e){if(wt(e,"shineSpeed"))return e;var t=we(e);if(!t)return e;var s,o=.5,y=3;return Object.defineProperty(e,"shineSpeed",{get:function(){return s},set:function(S){s!==S&&(s=S,s===null||s===!1?e._shine&&(t.remove(e._shine),e._shine=void 0):(e._shine||(e._shine=t.addShine(s,o,y)),e._shine.speed=s))}}),Object.defineProperty(e,"shineLineWidth",{get:function(){return o},set:function(S){o!==S&&(o=S,e._shine&&(e._shine.lineWidth=o))}}),Object.defineProperty(e,"shineGradient",{get:function(){return y},set:function(S){y!==S&&(y=S,e._shine&&(e._shine.gradient=y))}}),e.shineSpeed=null,Qt(e,"shineSpeed"),e},MM=function(e){return xe(e,"technicolor"),e},wM=function(e){if(wt(e,"tiltShiftRadius"))return e;var t=we(e);if(!t)return e;var s,o=1,y=.2,S=1,r=1,C=1;return Object.defineProperty(e,"tiltShiftRadius",{get:function(){return s},set:function(i){s!==i&&(s=i,s===null||s===!1?e._tiltShift&&(t.remove(e._tiltShift),e._tiltShift=void 0):(e._tiltShift||(e._tiltShift=t.addTiltShift(s,o,y,S,r,C)),e._tiltShift.radius=s))}}),Object.defineProperty(e,"tiltShiftAmount",{get:function(){return o},set:function(i){o!==i&&(o=i,e._tiltShift&&(e._tiltShift.amount=o))}}),Object.defineProperty(e,"tiltShiftContrast",{get:function(){return y},set:function(i){y!==i&&(y=i,e._tiltShift&&(e._tiltShift.contrast=y))}}),Object.defineProperty(e,"tiltShiftBlurX",{get:function(){return S},set:function(i){S!==i&&(S=i,e._tiltShift&&(e._tiltShift.blurX=S))}}),Object.defineProperty(e,"tiltShiftBlurY",{get:function(){return r},set:function(i){r!==i&&(r=i,e._tiltShift&&(e._tiltShift.blurY=r))}}),Object.defineProperty(e,"tiltShiftStrength",{get:function(){return C},set:function(i){C!==i&&(C=i,e._tiltShift&&(e._tiltShift.strength=C))}}),e.tiltShiftRadius=null,Qt(e,"tiltShiftRadius"),e},RM=function(e){if(wt(e,"vignetteRadius"))return e;var t=we(e);if(!t)return e;var s,o=.5,y=.5,S=.5;return Object.defineProperty(e,"vignetteRadius",{get:function(){return s},set:function(r){s!==r&&(s=r,s===null||s===!1?e._vignette&&(t.remove(e._vignette),e._vignette=void 0):(e._vignette||(e._vignette=t.addVignette(o,y,s,S)),e._vignette.radius=s))}}),Object.defineProperty(e,"vignetteX",{get:function(){return o},set:function(r){o!==r&&(o=r,e._vignette&&(e._vignette.x=o))}}),Object.defineProperty(e,"vignetteY",{get:function(){return y},set:function(r){y!==r&&(y=r,e._vignette&&(e._vignette.y=y))}}),Object.defineProperty(e,"vignetteStrength",{get:function(){return S},set:function(r){S!==r&&(S=r,e._vignette&&(e._vignette.strength=S))}}),e.vignetteRadius=null,Qt(e,"vignetteRadius"),e},AM=function(e){return xe(e,"vintagePinhole"),e},OM=function(e){if(wt(e,"wipeLeft"))return e;var t=we(e);if(!t)return e;var s,o,y,S,r=.1,C=function(){s=null,o=null,y=null,S=null},i=function(h){h._wipeEffect&&(t.remove(h._wipeEffect),h._wipeEffect=void 0)};return Object.defineProperty(e,"wipeLeft",{get:function(){return s},set:function(h){s!==h&&(C(),s=h,s===null||s===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=0,e._wipeEffect.progress=s))}}),Object.defineProperty(e,"wipeRight",{get:function(){return o},set:function(h){o!==h&&(C(),o=h,o===null||o===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=0,e._wipeEffect.progress=o))}}),Object.defineProperty(e,"wipeUp",{get:function(){return y},set:function(h){y!==h&&(C(),y=h,y===null||y===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=1,e._wipeEffect.axis=1,e._wipeEffect.progress=y))}}),Object.defineProperty(e,"wipeDown",{get:function(){return S},set:function(h){S!==h&&(C(),S=h,S===null||S===!1?i(e):(e._wipeEffect||(e._wipeEffect=t.addWipe(r,0,0)),e._wipeEffect.direction=0,e._wipeEffect.axis=1,e._wipeEffect.progress=S))}}),Object.defineProperty(e,"wipeWidth",{get:function(){return r},set:function(h){r!==h&&(r=h,e._wipeEffect&&(e._wipeEffect.wipeWidth=r))}}),e.wipeLeft=null,Qt(e,"wipeLeft"),Qt(e,"wipeRight"),Qt(e,"wipeUp"),Qt(e,"wipeDown"),e};const ih={barrel:qE,blackWhite:_E,bloom:tM,blur:eM,bokeh:iM,brightness:sM,brown:rM,circle:nM,contrast:aM,desaturate:hM,desaturateLuminance:oM,displacement:lM,glow:uM,gradient:dM,grayscale:fM,hue:cM,kodachrome:vM,lsd:pM,negative:gM,pixelate:mM,polaroid:xM,reveal:yM,saturate:TM,sepia:CM,shadow:SM,shiftToBGR:PM,shine:EM,technicolor:MM,tiltShift:wM,vignette:RM,vintagePinhole:AM,wipe:OM};var dn=function(e,t){if(t===void 0)t=!0;else if(typeof t=="string")t={config:!0};else if(Array.isArray(t))for(var s=t,t={},o=0,y=s.length;o<y;o++)t[s[o]]=!0;if(t===!0)for(var S in ih)ih[S](e);else for(var S in t)t[S]&&ih[S]&&ih[S](e);return e};const LM=Phaser.Utils.Array.Remove,bM={addGO(e,t){this.remove(e,!0),this.useTintFadeEffect(t)&&$E(t),this.viewportCoordinateEnable&&jE(t,this.viewport),this.effectPropertiesConfig&&dn(t,this.effectPropertiesConfig),t.setName(e).once("destroy",function(){LM(this.removedGOs,t),this.isEmpty&&this.emit("empty")},this);var s=new this.BobClass(this,t,e);return this.bobs[e]=s,this},add(e,...t){var s=this.createGameObjectCallback,o=this.createGameObjectScope,y=s.call(o,this.scene,...t);this.addGO(e,y),this.gameObjectDepth!=null&&y.setDepth(this.gameObjectDepth);var S=this.get(e);return this.fadeBob(S,0,1),this}},FM={remove(e,t){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;var o=this;return s.forEach(function(y){delete o.bobs[y.name];var S=y.gameObject;o.removedGOs.push(S),S.setName(),t?y.destroy():o.fadeBob(y,void 0,0,function(){y.destroy()})}),this},removeAll(){var e=this.bobs;for(var t in e)this.remove(t);return this},clear(e){e===void 0&&(e=!0);var t=this.bobs;for(var s in t)e&&t[s].destroy(),delete t[s];return this.removedGOs.length=0,this}},DM={hasProperty(e,t){var s=or(e)?this.get(e):this.getFitst(e);return s?s.hasProperty(t):!1},getProperty(e,t){var s=or(e)?this.get(e):this.getFitst(e);if(s)return s.getProperty(t)},isNumberProperty(e,t){var s=this.getProperty(e,t);return typeof s=="number"},setProperty(e,t,s){var o=this.get(e);if(o)Array.isArray(o)||(o=[o]);else return this;return this.symbols&&typeof s=="string"&&this.isNumberProperty(e,t)&&(s in this.symbols?s=this.symbols[s]:console.warn(`Can't find symbol ${s}`)),o.forEach(function(y){y.setProperty(t,s)}),this},easeProperty(e,t){var s=this.get(e);if(s)Array.isArray(s)||(s=[s]);else return this;var o=t.value,y=t.property;return this.symbols&&typeof o=="string"&&this.isNumberProperty(e,y)&&o in this.symbols&&(t.value=this.symbols[o]),s.forEach(function(S){S.easeProperty(t)}),this},hasTweenTask(e,t){var s=or(e)?this.get(e):this.getFitst(e);return s?s.tweens.hasOwnProperty(t):!1},getTweenTask(e,t){var s=or(e)?this.get(e):this.getFitst(e);return s&&s.tweens[t]||null}},IM={hasMethod(e,t){var s=or(e)?this.get(e):this.getFitst(e);return s?s.hasMethod(t):!1},call(e,t,...s){var o=this.get(e);if(o)Array.isArray(o)||(o=[o]);else return this;return o.forEach(function(y){y.call(t,...s)}),this}},BM={hasData(e,t){var s=or(e)?this.get(e):this.getFitst(e);return s?s.hasData(t):!1},getData(e,t){if(this.has(e))return this.get(e).getData(t)},setData(e,t,s){var o=this.get(e);if(o)Array.isArray(o)||(o=[o]);else return this;return o.forEach(function(y){y.setData(t,s)}),this}},Em=0,Mm=1,cd=2,wm=3,Rm=4,vd=5,GM={tint:Em,alpha:Mm,revealUp:cd,revealDown:wm,revealLeft:Rm,revealRight:vd},NM={setGOFadeMode(e){return typeof e=="string"&&(e=GM[e]),this.fadeMode=e,this},setGOFadeTime(e){return this.fadeTime=e,this},useTintFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===Em)&&this.fadeTime>0&&e.setTint!==void 0},useAlphaFadeEffect(e){return(this.fadeMode===void 0||this.fadeMode===Mm)&&this.fadeTime>0&&e.setAlpha!==void 0},useRevealEffect(e){return this.fadeMode>=cd&&this.fadeMode<=vd&&this.fadeTime>0&&(e.preFX||e.postFX)},fadeBob(e,t,s,o){var y=e.gameObject;if(this.useTintFadeEffect(y))t!==void 0&&e.setProperty("tintGray",255*t),e.easeProperty({property:"tintGray",value:Math.floor(255*s),duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:o});else if(this.useAlphaFadeEffect(y))t!==void 0&&e.setProperty("alpha",t),e.easeProperty({property:"alpha",value:s,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:o});else if(this.useRevealEffect(y)){dn(y,"reveal");var S;switch(this.fadeMode){case cd:S="revealUp";break;case wm:S="revealDown";break;case Rm:S="revealLeft";break;case vd:S="revealRight";break}t===void 0&&(t=0),y[S]=t,e.easeProperty({property:S,value:s,duration:this.fadeTime,delay:0,ease:"Linear",repeat:0,yoyo:!1,from:!1,complete:o}),e.getTweenTask(S).once("complete",function(){y[S]=null})}else o&&o(y);return this}};var Rt=function(e){return e.displayWidth!==void 0?e.displayWidth:e.width},At=function(e){return e.displayHeight!==void 0?e.displayHeight:e.height};const hv=Phaser.Geom.Rectangle,Ii=Phaser.Math.Vector2,kM=Phaser.Math.RotateAround,VM=Phaser.GameObjects.Container;var $d=function(e,t){if(t===void 0?t=new hv:t===!0&&(Xl===void 0&&(Xl=new hv),t=Xl),e.getBounds&&!(e instanceof VM))return e.getBounds(t);var s,o,y,S,r,C,i,h;if(e.parentContainer){var x=e.parentContainer.getBoundsTransformMatrix();lr(e,t),x.transformPoint(t.x,t.y,t),s=t.x,o=t.y,sa(e,t),x.transformPoint(t.x,t.y,t),y=t.x,S=t.y,ra(e,t),x.transformPoint(t.x,t.y,t),r=t.x,C=t.y,pd(e,t),x.transformPoint(t.x,t.y,t),i=t.x,h=t.y}else lr(e,t),s=t.x,o=t.y,sa(e,t),y=t.x,S=t.y,ra(e,t),r=t.x,C=t.y,pd(e,t),i=t.x,h=t.y;return t.x=Math.min(s,y,r,i),t.y=Math.min(o,S,C,h),t.width=Math.max(s,y,r,i)-t.x,t.height=Math.max(o,S,C,h)-t.y,t},Xl=void 0,lr=function(e,t,s){return t===void 0?t=new Ii:t===!0&&(Le===void 0&&(Le=new Ii),t=Le),e.getTopLeft?e.getTopLeft(t):(t.x=e.x-Rt(e)*e.originX,t.y=e.y-At(e)*e.originY,pa(e,t,s))},sa=function(e,t,s){return t===void 0?t=new Ii:t===!0&&(Le===void 0&&(Le=new Ii),t=Le),e.getTopRight?e.getTopRight(t):(t.x=e.x-Rt(e)*e.originX+Rt(e),t.y=e.y-At(e)*e.originY,pa(e,t,s))},ra=function(e,t,s){return t===void 0?t=new Ii:t===!0&&(Le===void 0&&(Le=new Ii),t=Le),e.getBottomLeft?e.getBottomLeft(t):(t.x=e.x-Rt(e)*e.originX,t.y=e.y-At(e)*e.originY+At(e),pa(e,t,s))},pd=function(e,t,s){return t===void 0?t=new Ii:t===!0&&(Le===void 0&&(Le=new Ii),t=Le),e.getBottomRight?e.getBottomRight(t):(t.x=e.x-Rt(e)*e.originX+Rt(e),t.y=e.y-At(e)*e.originY+At(e),pa(e,t,s))},ov=function(e,t,s){t===void 0?t=new Ii:t===!0&&(Le===void 0&&(Le=new Ii),t=Le);var o=Rt(e),y=At(e);return t.x=e.x+o*(.5-e.originX),t.y=e.y+y*(.5-e.originY),pa(e,t,s)},Le=void 0,pa=function(e,t,s){if(s===void 0&&(s=!1),e.rotation!==0&&kM(t,e.x,e.y,e.rotation),s&&e.parentContainer){var o=e.parentContainer.getBoundsTransformMatrix();o.transformPoint(t.x,t.y,t)}return t};const Cn=Phaser.Utils.Objects.GetValue;var Am=function(e,t,s){var o,y,S,r,C;if(typeof s=="number"?o=s:(o=Cn(s,"color"),y=Cn(s,"lineWidth"),S=Cn(s,"fillColor"),r=Cn(s,"fillAlpha",1),C=Cn(s,"padding",0)),Array.isArray(e))for(var i=0,h=e.length;i<h;i++)lv(e[i],t,o,y,S,r,C);else lv(e,t,o,y,S,r,C)},lv=function(e,t,s,o,y,S,r){var C=e.getBounds||e.width!==void 0&&e.height!==void 0;if(C){s===void 0&&(s=16777215),o===void 0&&(o=1),y===void 0&&(y=null),S===void 0&&(S=1),r===void 0&&(r=0);var i=lr(e,Rr[0]);i.x-=r,i.y-=r;var h=sa(e,Rr[1]);h.x+=r,h.y-=r;var x=pd(e,Rr[2]);x.x+=r,x.y+=r;var f=ra(e,Rr[3]);f.x-=r,f.y+=r,y!==null&&t.fillStyle(y,S).fillPoints(Rr,!0,!0),s!==null&&t.lineStyle(o,s).strokePoints(Rr,!0,!0)}},Rr=[{x:0,y:0},{x:0,y:0},{x:0,y:0},{x:0,y:0}],zM=function(e,t){return this.forEachGO(function(s){s.drawBounds?s.drawBounds(e,t):Am(s,e,t)}),this},Om=function(e,t){var s=e.cameras,o;if(t===void 0)o=s.main;else{var y=typeof t;switch(y){case"string":o=s.getCamera(t);break;case"number":o=s.cameras[t];break;default:o=t;break}}return o};const XM={setCamera(e,t){var s=this.get(e);if(!s)return this;var o=Om(this.scene,t);return o?(s.gameObject.cameraFilter=4294967295^o.id,s.camera=o,this):this},getCamera(e){var t=this.get(e);return t?t.camera:null}};var Lm={drawGameObjectsBounds:zM};Object.assign(Lm,kE,bM,FM,DM,IM,BM,NM,XM);const YM=Phaser.Cameras.Scene2D.BaseCamera;var WM=function(e){return e instanceof YM};const bm=Phaser.Geom.Rectangle;var fn=function(e,t,s){return WM(t)||(s=t,t=void 0),s===void 0?s=new bm:s===!0&&(s=UM),t?e.scale.getViewPort(t,s):e.scale.getViewPort(s)},UM=new bm;const De=Phaser.Utils.Objects.GetValue;class hn{constructor(t,s){this.scene=t,this.BobClass=De(s,"BobClass",Hd),this.setCreateGameObjectCallback(De(s,"createGameObject"),De(s,"createGameObjectScope")),this.setEventEmitter(De(s,"eventEmitter",void 0)),this.setGameObjectDepth(De(s,"depth",void 0));var o=De(s,"fade",500);typeof o=="number"?(this.setGOFadeMode(),this.setGOFadeTime(o)):(this.setGOFadeMode(De(o,"mode")),this.setGOFadeTime(De(o,"time",500)));var y=De(s,"viewportCoordinate",!1);y!==!1?(this.setViewportCoordinateEnable(De(s,"enable",!0)),this.setViewport(De(y,"viewport"))):this.setViewportCoordinateEnable(!1);var S=De(s,"effectProperties",!1);this.setEffectPropertiesConfig(S),this.setSymbols(De(s,"symbols")),this.bobs={},this.removedGOs=[],this._timeScale=1,this.name=De(s,"name")}destroy(t){this.clear(!t),this.createGameObjectCallback=void 0,this.viewport=void 0,this.scene=void 0}set timeScale(t){if(this._timeScale!==t){this._timeScale=t;var s=this.bobs;for(var o in s)s[o].setTimeScale(t)}}get timeScale(){return this._timeScale}setTimeScale(t){return this.timeScale=t,this}setCreateGameObjectCallback(t,s){return this.createGameObjectCallback=t,this.createGameObjectScope=s,this}setGameObjectDepth(t){return this.gameObjectDepth=t,this}setViewportCoordinateEnable(t){return t===void 0&&(t=!0),this.viewportCoordinateEnable=t,this}setEffectPropertiesConfig(t){return t===void 0&&(t=!0),this.effectPropertiesConfig=t,this}setViewport(t){return t===void 0&&(t=fn(this.scene,this.scene.cameras.main)),this.viewport=t,this}setSymbols(t){return this.symbols=t,this}get isEmpty(){return va(this.bobs)&&this.removedGOs.length===0}}Object.assign(hn.prototype,ca,Lm);const HM=Phaser.GameObjects.GameObject,$M=Phaser.GameObjects.Layer;var Ge=function(e){return e instanceof HM||e instanceof $M};const KM=Phaser.GameObjects.Layer;var Qn=function(e){return e instanceof KM},Fm=function(e){var t=e.displayList;return Qn(t)?t:null},si=function(e,t){if(e.length<=1)return e;t===void 0&&(t=!1);for(var s,o=0,y=e.length;o<y;o++){var S=e[o];if(S.displayList?s=S.displayList:S.parentContainer&&(s=S.parentContainer.list),s)break}return s||(s=S.scene.sys.displayList),s.depthSort&&(s.depthSort(),s=s.list),t?e.sort(function(r,C){return s.indexOf(C)-s.indexOf(r)}):e.sort(function(r,C){return s.indexOf(r)-s.indexOf(C)}),e};const ZM={getLayer(e){return this.getGO(e)},getLayers(e){return e===void 0&&(e=[]),this.forEachGO(function(t){e.push(t)}),si(e,!1),e},addToLayer(e,t){var s=this.getGO(e);if(!s){console.warn(`[LayerManager] Can't get layer "${e}"`);return}Array.isArray(t)||(t=[t]);for(var o=0,y=t.length;o<y;o++){var S=t[o];S.isRexContainerLite?S.addToLayer(s):s.add(S)}return s.scrollFactorX!==void 0&&S.setScrollFactor(s.scrollFactorX,s.scrollFactorY),this},addToBottomLayer(e){var t=this.getLayers()[0];return this.addToLayer(t.goName,e),this},addToTopLayer(e){var t=this.getLayers(),s=t[t.length-1];return this.addToLayer(s.goName,e),this},removeFromLayer(e,t,s){var o=this.getGO(e);if(!o){console.warn(`[LayerManager] Can't get layer "${e}"`);return}return s===void 0&&(s=!0),t.isRexContainerLite?t.removeFromLayer(o,s):(o.remove(t),s&&t.addToDisplayList()),this},clearLayer(e,t){t===void 0&&(t=!0);var s=this.getGO(e);if(!s){console.warn(`Can't get layer "${e}"`);return}if(t)for(var o=s.getAll(),y=0,S=o.length;y<S;y++)o[y].destroy();else s.removeAll();return this}},JM={setScrollFactor(e,t,s){s===void 0&&(s=t);var o=this.getLayer(e);if(!o)return this;o.scrollFactorX=t,o.scrollFactorY=s;for(var y=o.getAll(),S=0,r=y.length;S<r;S++)y[S].setScrollFactor(t,s);return this}},Oo=Phaser.Utils.Array,QM=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Oo.BringToTop(e,this),this):this},jM=function(){var e;return this.parentContainer?e=this.parentContainer.list:this.displayList&&(e=this.displayList.list),e?(Oo.SendToBack(e,this),this):this},Dm=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&e.parentContainer.add(this)):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&e.displayList.add(this)),t?(Oo.MoveBelow(t,this,e),this):this},Im=function(e){var t;return e.parentContainer?(t=e.parentContainer.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToContainer(e.parentContainer):e.parentContainer.add(e))):e.displayList&&(t=e.displayList.list,t.indexOf(this)===-1&&(e.isRexContainerLite?e.addToLayer(e.displayList):e.displayList.add(e))),t?(Oo.MoveAbove(t,this,e),this):this},sh={bringMeToTop:QM,sendMeToBack:jM,moveMyDepthBelow:Dm,moveMyDepthAbove:Im},qM={bringLayerToTop(e){var t=this.getLayer(e);return t?(sh.bringMeToTop.call(t),this):this},sendLayerToBack(e){var t=this.getLayer(e);return t?(sh.sendMeToBack.call(t),this):this},moveLayerBelow(e,t){if(e===t)return this;var s=this.getLayer(e),o=this.getLayer(t);return!s||!o?this:(sh.moveMyDepthBelow.call(s,o),this)},moveLayerAbove(e,t){if(e===t)return this;var s=this.getLayer(e),o=this.getLayer(t);return!s||!o?this:(sh.moveMyDepthAbove.call(s,o),this)}},_M=hn.prototype.setCamera,t2={setCamera(e,t){var s=Om(this.scene,t);return s||(s=this.scene.cameras.add(void 0,void 0,void 0,void 0,!1,t)),_M.call(this,e,s),this}};var Bm={};Object.assign(Bm,ZM,JM,qM,t2);const rh=Phaser.Utils.Objects.GetValue;class Lo extends hn{constructor(t,s){s===void 0?s={}:Array.isArray(s)&&(s={layers:s}),s.hasOwnProperty("fade")||(s.fade=0),s.viewportCoordinate=!1,super(t,s);var o=rh(s,"rootLayer");this.setRootLayer(o);var y=rh(s,"layers");if(y)for(var S=0,r=y.length;S<r;S++){var C=y[S];if(typeof C=="string")this.add(C);else{var i=C.name;this.add(i);var h=C.scrollFactor,x=rh(C,"scrollFactorX",h),f=rh(C,"scrollFactorY",h);x!==void 0&&this.setScrollFactor(i,x,f),this.setCamera(i,C.cameraName)}}}setCreateGameObjectCallback(t,s){return t||(t=e2),super.setCreateGameObjectCallback(t,s),this}setRootLayer(t){if(t===this.rootLayer)return this;var s=this.getAllGO();return t?t.add(s):this.scene.displayList.add(s),this.rootLayer=t,this}addGO(t,s){return super.addGO(t,s),s.name=t,this.rootLayer&&this.rootLayer.add(s),this}get(t,s){if(Ge(t)){var o=Fm(t);if(!o||(t=o.name,!t))return}return super.get(t,s)}}var e2=function(e,t){var s=e.add.layer();return t!==void 0&&s.setDepth(t),s};Object.assign(Lo.prototype,Bm);var i2=function(e){return ur(e)?e.sys.sound:e.sound},s2=function(e){return this.sound.game.cache.audio.has(e)},cn=function(e){return e==null||typeof e!="object"?null:ur(e)?e:e.scene&&ur(e.scene)?e.scene:e.parent&&e.parent.scene&&ur(e.parent.scene)?e.parent.scene:null};const r2=Phaser.Utils.Objects.GetValue;class zt{constructor(t,s){this.setParent(t),this.isShutdown=!1,this.setEventEmitter(r2(s,"eventEmitter",!0)),this.parent&&(this.parent===this.scene?this.scene.sys.events.once("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.once("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.once("destroy",this.onParentDestroy,this))}shutdown(t){this.isShutdown||(this.parent&&(this.parent===this.scene?this.scene.sys.events.off("shutdown",this.onEnvDestroy,this):this.parent===this.game?this.game.events.off("shutdown",this.onEnvDestroy,this):this.parent.once&&this.parent.off("destroy",this.onParentDestroy,this)),this.destroyEventEmitter(),this.parent=void 0,this.scene=void 0,this.game=void 0,this.isShutdown=!0)}destroy(t){this.shutdown(t)}onEnvDestroy(){this.destroy(!0)}onParentDestroy(t,s){this.destroy(s)}setParent(t){return this.parent=t,this.scene=cn(t),this.game=fr(t),this}}Object.assign(zt.prototype,ca);const n2=Phaser.Utils.Objects.GetValue;class bo extends zt{constructor(t,s){super(t,s),this._isRunning=!1,this.isPaused=!1,this.tickingState=!1,this.setTickingMode(n2(s,"tickingMode",1))}boot(){this.tickingMode===2&&!this.tickingState&&this.startTicking()}shutdown(t){this.isShutdown||(this.stop(),this.tickingState&&this.stopTicking(),super.shutdown(t))}setTickingMode(t){typeof t=="string"&&(t=a2[t]),this.tickingMode=t}startTicking(){this.tickingState=!0}stopTicking(){this.tickingState=!1}get isRunning(){return this._isRunning}set isRunning(t){this._isRunning!==t&&(this._isRunning=t,this.tickingMode===1&&t!=this.tickingState&&(t?this.startTicking():this.stopTicking()))}start(){return this.isPaused=!1,this.isRunning=!0,this}pause(){return this.isRunning&&(this.isPaused=!0,this.isRunning=!1),this}resume(){return this.isPaused&&(this.isPaused=!1,this.isRunning=!0),this}stop(){return this.isPaused=!1,this.isRunning=!1,this}complete(){this.isPaused=!1,this.isRunning=!1,this.emit("complete",this.parent,this)}}const a2={no:0,lazy:1,always:2},h2=Phaser.Utils.Objects.GetValue;class o2 extends bo{constructor(t,s){super(t,s);var o=this.scene?"update":"step";this.tickEventName=h2(s,"tickEventName",o),this.isSceneTicker=!l2(this.tickEventName)}startTicking(){super.startTicking(),this.isSceneTicker?this.scene.sys.events.on(this.tickEventName,this.update,this):this.game.events.on(this.tickEventName,this.update,this)}stopTicking(){super.stopTicking(),this.isSceneTicker&&this.scene?this.scene.sys.events.off(this.tickEventName,this.update,this):this.game&&this.game.events.off(this.tickEventName,this.update,this)}}var l2=function(e){return e==="step"||e==="poststep"};const Vi=Phaser.Utils.Objects.GetValue,uv=Phaser.Math.Clamp;let Gm=class{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){this.state=Vi(t,"state",Sn),this.timeScale=Vi(t,"timeScale",1),this.delay=Vi(t,"delay",0),this.repeat=Vi(t,"repeat",0),this.repeatCounter=Vi(t,"repeatCounter",0),this.repeatDelay=Vi(t,"repeatDelay",0),this.duration=Vi(t,"duration",0),this.nowTime=Vi(t,"nowTime",0),this.justRestart=Vi(t,"justRestart",!1)}toJSON(){return{state:this.state,timeScale:this.timeScale,delay:this.delay,repeat:this.repeat,repeatCounter:this.repeatCounter,repeatDelay:this.repeatDelay,duration:this.duration,nowTime:this.nowTime,justRestart:this.justRestart}}destroy(){}setTimeScale(t){return this.timeScale=t,this}setDelay(t){return t===void 0&&(t=0),this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatInfinity(){return this.repeat=-1,this}setRepeatDelay(t){return this.repeatDelay=t,this}start(){return this.nowTime=this.delay>0?-this.delay:0,this.state=this.nowTime>=0?Ar:Pn,this.repeatCounter=0,this}stop(){return this.state=Sn,this}update(t,s){this.state===Sn||this.state===nh||s===0||this.timeScale===0||(this.nowTime+=s*this.timeScale,this.justRestart=!1,this.nowTime>=this.duration?this.repeat===-1||this.repeatCounter<this.repeat?(this.repeatCounter++,this.justRestart=!0,this.nowTime-=this.duration,this.repeatDelay>0&&(this.nowTime-=this.repeatDelay,this.state=dv)):(this.nowTime=this.duration,this.state=nh):this.nowTime>=0&&(this.state=Ar))}get t(){var t;switch(this.state){case Sn:case Pn:case dv:t=0;break;case Ar:t=this.nowTime/this.duration;break;case nh:t=1;break}return uv(t,0,1)}set t(t){t=uv(t,-1,1),t<0?(this.state=Pn,this.nowTime=-this.delay*t):(this.state=Ar,this.nowTime=this.duration*t,t===1&&this.repeat!==0&&this.repeatCounter++)}setT(t){return this.t=t,this}get isIdle(){return this.state===Sn}get isDelay(){return this.state===Pn}get isCountDown(){return this.state===Ar}get isRunning(){return this.state===Pn||this.state===Ar}get isDone(){return this.state===nh}get isOddIteration(){return(this.repeatCounter&1)===1}get isEvenIteration(){return(this.repeatCounter&1)===0}};const Sn=0,Pn=1,Ar=2,dv=3,nh=-1;class u2 extends o2{constructor(t,s){super(t,s),this.timer=new Gm}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}start(){return this.timer.start(),super.start(),this}stop(){return this.timer.stop(),super.stop(),this}complete(){return this.timer.stop(),super.complete(),this}}const En=Phaser.Utils.Objects.GetValue,fv=Phaser.Utils.Objects.GetAdvancedValue,d2=Phaser.Tweens.Builders.GetEaseFunction;class mr extends u2{resetFromJSON(t){return this.timer.resetFromJSON(En(t,"timer")),this.setEnable(En(t,"enable",!0)),this.setTarget(En(t,"target",this.parent)),this.setDelay(fv(t,"delay",0)),this.setDuration(fv(t,"duration",1e3)),this.setEase(En(t,"ease","Linear")),this.setRepeat(En(t,"repeat",0)),this}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setTarget(t){return t===void 0&&(t=this.parent),this.target=t,this}setDelay(t){return this.delay=t,this}setDuration(t){return this.duration=t,this}setRepeat(t){return this.repeat=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return t===void 0&&(t="Linear"),this.ease=t,this.easeFn=d2(t),this}start(){return this.timer.isRunning?this:(super.start(),this)}restart(){return this.timer.stop(),this.start.apply(this,arguments),this}stop(t){return t===void 0&&(t=!1),super.stop(),t&&(this.timer.setT(1),this.updateTarget(this.target,this.timer),this.complete()),this}update(t,s){if(!this.isRunning||!this.enable||this.parent.hasOwnProperty("active")&&!this.parent.active)return this;var o=this.target,y=this.timer;return y.update(t,s),y.isDelay||this.updateTarget(o,y),this.emit("update",o,this),y.isDone&&this.complete(),this}updateTarget(t,s){}}const f2=Phaser.Sound.BaseSound;var Kd=function(e){return e instanceof f2};const cv=Phaser.Utils.Objects.GetValue,vv=Phaser.Utils.Objects.GetAdvancedValue,c2=Phaser.Math.Linear;let Nm=class extends mr{constructor(t,s,o){Kd(t)&&(o=s,s=t,t=void 0),s.active=!0,s.scene=t,s.game=s.manager.game,super(s,o),this.volume={},this.resetFromJSON(o)}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(cv(t,"mode",0)),this.setEnable(cv(t,"enable",!0)),this.setVolumeRange(vv(t,"volume.start",this.parent.volume),vv(t,"volume.end",0)),this}setMode(t){return typeof t=="string"&&(t=v2[t]),this.mode=t,this}setVolumeRange(t,s){return this.volume.start=t,this.volume.end=s,this}start(){return this.timer.isRunning?this:(this.parent.setVolume(this.volume.start),this.timer.setDelay(this.delay).setDuration(this.duration),super.start(),this)}updateTarget(t,s){t.volume=c2(this.volume.start,this.volume.end,s.t)}complete(){switch(super.complete(),this.mode){case 1:this.parent.stop();break;case 2:this.parent.stop(),this.parent.destroy();break}return this}};const v2={stop:1,destroy:2};var Fo=function(e,t,s,o,y){Kd(e)&&(y=o,o=s,s=t,t=e,e=void 0),o===void 0&&(o=1),y===void 0&&(y=0);var S={mode:0,volume:{start:y,end:o},duration:s};typeof t=="string"&&(t=e.sys.sound.add(t));var r;return t.hasOwnProperty("_fade")?(r=t._fade,r.stop().resetFromJSON(S)):(r=new Nm(e,t,S),t._fade=r),r.start(),t.isPlaying||t.setVolume(y).play(),t},on=function(e,t,s,o){Kd(e)&&(o=s,s=t,t=e,e=void 0),o===void 0&&(o=!0);var y={mode:o?2:1,volume:{start:t.volume,end:0},duration:s},S;return t.hasOwnProperty("_fade")?(S=t._fade,S.stop().resetFromJSON(y)):(S=new Nm(e,t,y),t._fade=S),S.start(),t.isPlaying||t.play(),t};const Mn=Phaser.Utils.Objects.GetValue,p2={setBackgroundMusicLoop(e){return e===void 0&&(e=!0),this.backgroundMusicLoop=e,this},setBackgroundMusicFadeTime(e){return this.backgroundMusicFadeTime=e,this},getBackgroundMusic(){return this.backgroundMusic},setCurrentBackgroundMusic(e){return this.backgroundMusic=e,e&&(e.once("complete",function(){this.backgroundMusic===e&&(this.backgroundMusic.destroy(),this.backgroundMusic=void 0)},this).once("destroy",function(){this.backgroundMusic===e&&(this.backgroundMusic=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic&&this.backgroundMusic.key===e)return this;this.stopBackgroundMusic();var s=this.sound.add(e,{loop:Mn(t,"loop",this.backgroundMusicLoop),mute:Mn(t,"mute",this.backgroundMusicMute),volume:Mn(t,"volume",this.backgroundMusicVolume),detune:Mn(t,"detune",0),rate:Mn(t,"rate",1)});return this.setCurrentBackgroundMusic(s),this.backgroundMusicFadeTime>0&&this.fadeInBackgroundMusic(this.backgroundMusicFadeTime),this},pauseBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.pause(),this},resumeBackgroundMusic(){return this.backgroundMusic&&this.backgroundMusic.resume(),this},stopBackgroundMusic(){return this.backgroundMusic&&(this.backgroundMusicFadeTime>0?this.fadeOutBackgroundMusic(this.backgroundMusicFadeTime,!0):(this.backgroundMusic.stop(),this.backgroundMusic.destroy(),this.backgroundMusic=void 0)),this},fadeInBackgroundMusic(e){return this.backgroundMusic&&Fo(this.backgroundMusic,e,this.backgroundMusicVolume,0),this},fadeOutBackgroundMusic(e,t){return this.backgroundMusic&&on(this.backgroundMusic,e,t),this},crossFadeBackgroundMusic(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.backgroundMusicFadeTime;return this.backgroundMusicFadeTime=0,this.fadeOutBackgroundMusic(t,!0).playBackgroundMusic(e).fadeInBackgroundMusic(t),this.backgroundMusicFadeTime=s,this},setBackgroundMusicMute(e){return e===void 0&&(e=!0),this.backgroundMusicMute=e,this},setBackgroundMusicVolume(e){return this.backgroundMusicVolume=e,this},setBackgroundMusicRate(e){return this.backgroundMusic&&this.backgroundMusic.setRate(e),this},setBackgroundMusicDetune(e){return this.backgroundMusic&&this.backgroundMusic.setDetune(e),this}},wn=Phaser.Utils.Objects.GetValue,g2={setBackgroundMusic2Loop(e){return e===void 0&&(e=!0),this.backgroundMusic2Loop=e,this},setBackgroundMusic2FadeTime(e){return this.backgroundMusic2FadeTime=e,this},getBackgroundMusic2(){return this.backgroundMusic2},setCurrentBackgroundMusic2(e){return this.backgroundMusic2=e,e&&(e.once("complete",function(){this.backgroundMusic2===e&&(this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)},this).once("destroy",function(){this.backgroundMusic2===e&&(this.backgroundMusic2=void 0)},this),e.isPlaying||e.play()),this},playBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;if(this.backgroundMusic2&&this.backgroundMusic2.key===e)return this;this.stopBackgroundMusic2();var s=this.sound.add(e,{loop:wn(t,"loop",this.backgroundMusicLoop),mute:wn(t,"mute",this.backgroundMusic2Mute),volume:wn(t,"volume",this.backgroundMusic2Volume),detune:wn(t,"detune",0),rate:wn(t,"rate",1)});return this.setCurrentBackgroundMusic2(s),this.backgroundMusic2FadeTime>0&&this.fadeInBackgroundMusic2(this.backgroundMusic2FadeTime),this},pauseBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.pause(),this},resumeBackgroundMusic2(){return this.backgroundMusic2&&this.backgroundMusic2.resume(),this},stopBackgroundMusic2(){return this.backgroundMusic2&&(this.backgroundMusic2FadeTime>0?this.fadeOutBackgroundMusic2(this.backgroundMusic2FadeTime,!0):(this.backgroundMusic2.stop(),this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0)),this},fadeInBackgroundMusic2(e){return this.backgroundMusic2&&Fo(this.backgroundMusic2,e,this.backgroundMusic2Volume,0),this},fadeOutBackgroundMusic2(e,t){return this.backgroundMusic2&&on(this.backgroundMusic2,e,t),this},crossFadeBackgroundMusic2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.backgroundMusic2FadeTime;return this.backgroundMusic2FadeTime=0,this.fadeOutBackgroundMusic2(t,!0).playBackgroundMusic2(e).fadeInBackgroundMusic2(t),this.backgroundMusic2FadeTime=s,this},setBackgroundMusic2Mute(e){return e===void 0&&(e=!0),this.backgroundMusic2Mute=e,this},setBackgroundMusic2Volume(e){return this.backgroundMusic2Volume=e,this},setBackgroundMusic2Rate(e){return this.backgroundMusic2&&this.backgroundMusic2.setRate(e),this},setBackgroundMusic2Detune(e){return this.backgroundMusic2&&this.backgroundMusic2.setDetune(e),this}},pv=Phaser.Utils.Array.Remove,ah=Phaser.Utils.Objects.GetValue,m2={getSoundEffects(){return this.soundEffects},getLastSoundEffect(){return this.soundEffects[this.soundEffects.length-1]},playSoundEffect(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.sound.add(e,{mute:ah(t,"mute",this.soundEffectsMute),volume:ah(t,"volume",this.soundEffectsVolume),detune:ah(t,"detune",0),rate:ah(t,"rate",1)});return this.soundEffects.push(s),s.once("complete",function(){s.destroy(),this.sound&&pv(this.soundEffects,s)},this).once("destroy",function(){this.sound&&pv(this.soundEffects,s)},this).play(),this},stopAllSoundEffects(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect(e){var t=this.getLastSoundEffect();return t&&Fo(t,e,this.soundEffectsVolume,0),this},fadeOutSoundEffect(e,t){var s=this.getLastSoundEffect();return s&&on(s,e,t),this},fadeOutAllSoundEffects(e,t){for(var s=this.soundEffects.length-1;s>=0;s--)on(this.soundEffects[s],e,t);return this},setSoundEffectMute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setMute(e)}else this.soundEffectsMute=e;return this},setSoundEffectVolume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect();s&&s.setVolume(e)}else this.soundEffectsVolume=e;return this},setSoundEffectDetune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var o=0,y=s.length;o<y;o++)s[o].setDetune(e);return this},setSoundEffectRate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect()]:s=this.soundEffects;for(var o=0,y=s.length;o<y;o++)s[o].setRate(e);return this}},gv=Phaser.Utils.Array.Remove,hh=Phaser.Utils.Objects.GetValue,x2={getSoundEffects2(){return this.soundEffects2},getLastSoundEffect2(){return this.soundEffects2[this.soundEffects2.length-1]},playSoundEffect2(e,t){if(!this.hasAudio(e))return console.error(`[Sound manager] Audio key'${e}' is not existed`),this;var s=this.sound.add(e,{mute:hh(t,"mute",this.soundEffects2Mute),volume:hh(t,"volume",this.soundEffects2Volume),detune:hh(t,"detune",0),rate:hh(t,"rate",1)});return this.soundEffects2.push(s),s.once("complete",function(){s.destroy(),this.sound&&gv(this.soundEffects2,s)},this).once("destroy",function(){this.sound&&gv(this.soundEffects2,s)},this).play(),this},stopAllSoundEffects2(){for(var e=this.soundEffects.length-1;e>=0;e--){var t=this.soundEffects[e];t.stop(),t.destroy()}return this},fadeInSoundEffect2(e){var t=this.getLastSoundEffect2();return t&&Fo(t,e,this.soundEffects2Volume,0),this},fadeOutSoundEffect2(e,t){var s=this.getLastSoundEffect2();return s&&on(s,e,t),this},fadeOutAllSoundEffects2(e,t){for(var s=this.soundEffects2.length-1;s>=0;s--)on(this.soundEffects2[s],e,t);return this},setSoundEffect2Mute(e,t){if(e===void 0&&(e=!0),t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setMute(e)}else this.soundEffects2Mute=e;return this},setSoundEffect2Volume(e,t){if(t===void 0&&(t=!1),t){var s=this.getLastSoundEffect2();s&&s.setVolume(e)}else this.soundEffects2Volume=e;return this},setSoundEffect2Detune(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var o=0,y=s.length;o<y;o++)s[o].setDetune(e);return this},setSoundEffect2Rate(e,t){t===void 0&&(t=!1);var s;t?s=[this.getLastSoundEffect2()]:s=this.soundEffects2;for(var o=0,y=s.length;o<y;o++)s[o].setRate(e);return this}};var km={hasAudio:s2};Object.assign(km,p2,g2,m2,x2);const Je=Phaser.Utils.Objects.GetValue;class Vm{constructor(t,s){this.sound=i2(t),this.backgroundMusic=void 0,this._backgroundMusicVolume=Je(s,"bgm.volume",1),this._backgroundMusicMute=Je(s,"bgm.mute",!1),this.setBackgroundMusicLoop(Je(s,"bgm.loop",!0)),this.setBackgroundMusicFadeTime(Je(s,"bgm.fade",500)),this.backgroundMusic2=void 0,this._backgroundMusic2Volume=Je(s,"bgm2.volume",1),this._backgroundMusic2Mute=Je(s,"bgm2.mute",!1),this.setBackgroundMusic2Loop(Je(s,"bgm2.loop",!0)),this.setBackgroundMusic2FadeTime(Je(s,"bgm2.fade",500)),this.soundEffects=[],this._soundEffectsVolume=Je(s,"soundEffect.volume",1),this.soundEffects2=[],this._soundEffects2Volume=Je(s,"soundEffect2.volume",1);var o=Je(s,"bgm.initial",void 0);o&&this.setCurrentBackgroundMusic(o);var y=Je(s,"bgm2.initial",void 0);y&&this.setCurrentBackgroundMusic2(y)}destroy(){if(this.backgroundMusic&&this.backgroundMusic.destroy(),this.backgroundMusic=void 0,this.backgroundMusic2&&this.backgroundMusic2.destroy(),this.backgroundMusic2=void 0,this.soundEffects.length)for(var t=this.soundEffects.length-1;t>=0;t--)this.soundEffects[t].destroy();if(this.soundEffects.length=0,this.soundEffects2.length)for(var t=this.soundEffects2.length-1;t>=0;t--)this.soundEffects2[t].destroy();return this.soundEffects2.length=0,this.sound=void 0,this}get backgroundMusicMute(){return this._backgroundMusicMute}set backgroundMusicMute(t){this._backgroundMusicMute=t,this.backgroundMusic&&this.backgroundMusic.setMute(mute)}get backgroundMusicVolume(){return this._backgroundMusicVolume}set backgroundMusicVolume(t){this._backgroundMusicVolume=t,this.backgroundMusic&&this.backgroundMusic.setVolume(t)}get backgroundMusic2Mute(){return this._backgroundMusic2Mute}set backgroundMusic2Mute(t){this._backgroundMusic2Mute=t,this.backgroundMusic2&&this.backgroundMusic2.setMute(mute)}get backgroundMusic2Volume(){return this._backgroundMusic2Volume}set backgroundMusic2Volume(t){this._backgroundMusic2Volume=t,this.backgroundMusic2&&this.backgroundMusic2.setVolume(t)}get soundEffectsMute(){return this._soundEffectsMute}set soundEffectsMute(t){this._soundEffectsMute=t;for(var s=this.soundEffects,o=0,y=s.length;o<y;o++)s[o].setMute(t)}get soundEffectsVolume(){return this._soundEffectsVolume}set soundEffectsVolume(t){this._soundEffectsVolume=t;for(var s=this.soundEffects,o=0,y=s.length;o<y;o++)s[o].setVolume(t)}get soundEffects2Mute(){return this._soundEffects2Mute}set soundEffects2Mute(t){this._soundEffects2Mute=t;for(var s=this.soundEffects,o=0,y=soundEffects2.length;o<y;o++)s[o].setMute(t)}get soundEffects2Volume(){return this._soundEffects2Volume}set soundEffects2Volume(t){this._soundEffects2Volume=t;for(var s=this.soundEffects2,o=0,y=s.length;o<y;o++)s[o].setVolume(t)}}Object.assign(Vm.prototype,km);const Yl=Phaser.Utils.Objects.GetValue;class y2 extends bo{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.isRunning=Yl(t,"isRunning",!1),this.timeScale=Yl(t,"timeScale",1),this.now=Yl(t,"now",0),this}toJSON(){return{isRunning:this.isRunning,timeScale:this.timeScale,now:this.now,tickingMode:this.tickingMode}}start(t){return t===void 0&&(t=0),this.delta=0,this.now=t,super.start(),this}seek(t){return this.now=t,this}setTimeScale(t){return this.timeScale=t,this}tick(t){return t*=this.timeScale,this.now+=t,this.delta=t,this.emit("update",this.now,this.delta),this}}class zm extends y2{startTicking(){super.startTicking(),this.scene.sys.events.on("update",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&this.scene.sys.events.off("update",this.update,this)}update(t,s){return!this.isRunning||this.timeScale===0?this:(this.tick(s),this)}}var It=function(e,t){return t===void 0&&(t=.5),e<=t?e=e/t:e=1-(e-t)/(1-t),e};const mv=Phaser.Math.Clamp;class T2{constructor(t,s){this.setTimeline(t).reset(s)}setTimeline(t){return this.timeline=t,this}setName(t){return this.name=t,this}setCallbacks(t,s,o,y){return this.target=t,this.onStart=s,this.onProgress=o,this.onComplete=y,this}setDuration(t,s){return s===void 0&&(s=!1),this.duration=t,this.remainder=t,this.t=0,this.yoyo=s,this}setPaused(t){return this.isPaused=t,this}pause(){return this.isPaused=!0,this}resume(){return this.isPaused=!1,this}setRemoved(t){return this.removed=t,this}remove(){return this.removed=!0,this}seek(t){return this.remainder=this.duration*(1-t),this}reset(t){return this.setName(t.name).setDuration(t.duration,t.yoyo).setCallbacks(t.target,t.onStart,t.onProgress,t.onComplete).setPaused(!1).setRemoved(!1),this}onFree(){this.setTimeline().setCallbacks()}getProgress(){var t=1-this.remainder/this.duration;return t=mv(t,0,1),this.yoyo&&(t=It(t)),t}setProgress(t){t=mv(t,0,1),this.remainder=this.duration*(1-t)}runCallback(t){t&&t(this.target,this.t,this)}update(t,s){if(this.removed)return!0;if(this.isPaused)return!1;this.remainder-=s,this.t=this.getProgress(),this.runCallback(this.onProgress);var o=this.remainder<=0;return o&&this.runCallback(this.onComplete),o}}let C2=class extends Di{allocate(){return this.pop()}free(t){t.onFree(),this.push(t)}freeMultiple(t){for(var s=0,o=t.length;s<o;s++)this.free(t[s]);return this}};const S2=Phaser.Utils.Objects.GetValue,P2=new C2;class E2 extends zm{constructor(t,s){super(t,s),this.addedTimers=[],this.timers=[],this.timerPool=S2(s,"pool",P2)}shutdown(){this.isShutdown||(this.timerPool.freeMultiple(this.addedTimers).freeMultiple(this.timers),this.timerPool=void 0,this.addedTimers=void 0,this.timers=void 0,super.shutdown())}addTimer(t){var s=this.timerPool.allocate();return s?s.setTimeline(this).reset(t):s=new T2(this,t),this.addedTimers.push(s),s.runCallback(s.onStart),this.isRunning||this.start(),s}delayCall(t,s,o,y){var S=this.addTimer({duration:t,onComplete:function(r,C,i){o===void 0&&(o=[]),o.push(i),s.apply(y,o)}});return S}delayEvent(t,s){this.removeDelayEvent(s);var o=this.delayCall(t,function(){this.removeDelayEvent(s),this.emit(s)},[],this);return this.once(`_remove.${s}`,function(){o.remove(),o=void 0}),this}removeDelayEvent(t){return this.emit(`_remove.${t}`),this}getTimers(t){for(var s=[],o=[this.addedTimers,this.timers],y=0,S=o.length;y<S;y++)for(var r=o[y],C=0,i=r.length;C<i;C++){var h=r[C];h.name===t&&s.push(h)}return s}update(t,s){if(super.update(t,s),!!this.isRunning){this.timers.push(...this.addedTimers),this.addedTimers.length=0;for(var o=[],y=0,S=this.timers.length;y<S;y++){var r=this.timers[y],C=r.update(this.now,this.delta);C?this.timerPool.free(r):o.push(r)}this.timers=o,this.timers.length===0&&this.addedTimers.length===0&&this.complete()}}}const M2="_wait.complete",w2="_remove.wait";var R2=function(e,t,s,o,y){var S=cn(e),r=S.time.delayedCall(t,function(){S.sys.events.once("preupdate",function(){s.call(o,y)})});return r};let Xm=class{constructor(t){t||(this.setEventEmitter(!0),t=this),this.parent=t,this.waitId=0,this.waitCompleteEventName=M2,this.removeWaitEventsEventName=w2}destroy(){this.removeWaitEvents(),this.clearWaitCompleteCallbacks(),this.parent=null}waitEvent(t,s,o){var y=this.getWaitCompleteTriggerCallback(o);return t.once(s,y,this),this.parent.once(this.removeWaitEventsEventName,function(){t.off(s,y,this)}),this.parent}getWaitCompleteTriggerCallback(t){t===void 0&&(t=!0);var s=this.waitId,o=this,y=function(){s<o.waitId||(o.waitId++,o.removeWaitEvents(),o.parent.emit(o.waitCompleteEventName))};if(t){var S=function(){R2(o.parent,0,y)};return S}else return y}removeWaitEvents(){return this.parent.emit(this.removeWaitEventsEventName),this}addWaitCompleteCallback(t,s){return this.parent.on(this.waitCompleteEventName,t,s),this}clearWaitCompleteCallbacks(){return this.parent.off(this.waitCompleteEventName),this}};Object.assign(Xm.prototype,ca);const A2={waitTime(e){var t=this.parent.timeline;return t.delayEvent(e,"delay"),this.parent.once(this.removeWaitEventsEventName,function(){t.removeDelayEvent("delay")}),this.waitEvent(t,"delay")}};var O2=function(e,t){var s=`(?<!\\\\)\\${t}`,o=`\\${t}`;return e.split(new RegExp(s,"g")).map(function(y){return y.replace(o,t)})};const L2={setClickTarget(e){return this.clickTarget=e,e?ur(e)?this.touchEE=e.input:this.touchEE=e.setInteractive():this.touchEE=null,this},clearClickTarget(){return this.setClickTarget(),this},setClickShortcutKeys(e){return this.clickShortcutKeys=e,this},clearClickShortcutKeys(){return this.setClickShortcutKeys(),this},waitClick(){var e=this.touchEE,t=this.clickShortcutKeys;return e||t?(e&&this.waitEvent(e,"pointerdown"),t&&this.waitKeyDown(t)):this.waitTime(0),this},waitKeyDown(e){var t=this.scene.input.keyboard;if(typeof e=="string"){if(e.indexOf("|")===-1)return this.waitEvent(t,`keydown-${e.toUpperCase()}`);for(var s=O2(e,"|"),o=0,y=s.length;o<y;o++)this.waitEvent(t,`keydown-${s[o].toUpperCase()}`);return this.parent}else return this.waitEvent(t,"keydown")}},b2={waitGameObjectTweenComplete(e,t,s){var o=this.parent.getGameObjectTweenTask(e,t,s);return o?this.waitEvent(o,"complete"):this.waitTime(0)},waitGameObjectDataFlag(e,t,s,o){var y=this.parent.getGameObject(e,t);if(!y)return this.waitTime(0);if(y.getData(s)===o)return this.waitTime(0);var S=`changedata-${s}`,r=function(C,i,h){i=!!i,i===o&&C.emit("_dataFlagMatch")};return y.on(S,r),this.parent.once(this.removeWaitEventsEventName,function(){y.off(S,r)}),this.waitEvent(y,"_dataFlagMatch")},waitGameObjectDestroy(e,t){var s=this.parent.getGameObject(e,t);return s?this.waitEvent(s,"destroy"):this.waitTime(0)},waitGameObjectManagerEmpty(e){if(e){var t=this.parent.getGameObjectManager(e);return t?this.waitEvent(t,"empty"):this.waitTime(0)}else{var s=this.parent.gameObjectManagers,o=!1;for(var y in s)o=!0,this.waitEvent(s[y],"empty");return o?this.parent:this.waitTime(0)}}},F2={setCameraTarget(e){return this.cameraTarget=e,this},clearCameraTarget(){return this.setCameraTarget(),this},waitCameraEffectComplete(e,t){var s;if(t?s=this.scene.cameras.getCamera(t):s=this.cameraTarget,!s)return this.waitTime(0);var o,y;switch(e){case"camera.fadein":o=s.fadeEffect,y="camerafadeincomplete";break;case"camera.fadeout":o=s.fadeEffect,y="camerafadeoutcomplete";break;case"camera.flash":o=s.flashEffect,y="cameraflashcomplete";break;case"camera.shake":o=s.shakeEffect,y="camerashakecomplete";break;case"camera.zoom":o=s.zoomEffect,y="camerazoomcomplete";break;case"camera.rotate":o=s.rotateToEffect,y="camerarotatecomplete";break;case"camera.scroll":o=s.panEffect,y="camerapancomplete";break}return o.isRunning?this.waitEvent(s,y):this.waitTime(0)}},D2={waitSoundEffectComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitSoundEffect2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getLastSoundEffect2();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusicComplete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic();return e?this.waitEvent(e,"complete"):this.waitTime(0)},waitBackgroundMusic2Complete(){if(!this.parent.soundManager)return this.waitTime(0);var e=this.parent.soundManager.getBackgroundMusic2();return e?this.waitEvent(e,"complete"):this.waitTime(0)}};var I2=function(e){if(!e)return this.waitTime(0);var t=!1;for(var s in e)switch(s){case"time":t=!0,this.waitTime(e.time);break;case"click":t=!0,this.waitClick();break;case"key":t=!0,this.waitKeyDown(e.key);break;case"bgm":t=!0,this.waitBackgroundMusicComplete();break;case"bgm2":t=!0,this.waitBackgroundMusic2Complete();break;case"se":t=!0,this.waitSoundEffectComplete();break;case"se2":t=!0,this.waitSoundEffect2Complete();break;case"camera":t=!0,this.waitCameraEffectComplete(`camera.${e.camera.toLowerCase()}`,e.cameraName);break;default:var o=s.split(".");if(o.length===2){var y=o[0],S=o[1],r=this.parent.getGameObjectManager(void 0,y);if(!r)continue;if(S==="destroy")return this.waitGameObjectDestroy(void 0,y);var C=r.getProperty(y,S);if(typeof C=="number"){t=!0,this.waitGameObjectTweenComplete(void 0,y,S);continue}var i=S,h=i.startsWith("!");if(h&&(i=i.substring(1)),r.hasData(y,S)){t=!0,this.waitGameObjectDataFlag(void 0,y,i,!h);continue}this.waitEvent(gameObject,S);continue}else o.length;break}return t||this.waitTime(0),this.parent},Ym={waitAny:I2};Object.assign(Ym,A2,L2,b2,F2,D2);class Wm extends Xm{constructor(t,s){super(t),this.waitCompleteEventName=Ot(s,"completeEventName",this.waitCompleteEventName),this.setClickTarget(Ot(s,"clickTarget",this.scene)),this.setClickShortcutKeys(Ot(s,"clickShortcutKeys",void 0)),this.setCameraTarget(Ot(s,"camera",this.scene.cameras.main))}get clickTarget(){return this.parent.clickTarget}set clickTarget(t){this.parent.clickTarget=t}get clickShortcutKeys(){return this.parent.clickShortcutKeys}set clickShortcutKeys(t){this.parent.clickShortcutKeys=t}get cameraTarget(){return this.parent.cameraTarget}set cameraTarget(t){this.parent.cameraTarget=t}destroy(){this.clearClickTarget(),this.clearClickShortcutKeys(),this.clearCameraTarget(),super.destroy()}get scene(){return this.parent.managersScene}}Object.assign(Wm.prototype,Ym);const oh=Phaser.Utils.Objects.GetValue;var B2=function(e,t){this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=e,this.gameObjectManagers={};var s=oh(t,"layers",!1);if(s!==!1){var o=new Lo(e,{name:"LAYER",layers:s,rootLayer:oh(t,"rootLayer",void 0),depth:oh(t,"layerDepth",void 0)});this.addGameObjectManager(o),this.layerManager=o}var y=oh(t,"sounds");return y!==!1&&(this.soundManager=new Vm(e,y)),this.timeline=new E2(this),this.waitEventManager=new Wm(this,t),this},G2=function(e){this.timeline.timeScale=e;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].setTimeScale(e);return this},N2=function(){return this.timeline.timeScale},k2=function(e){this.waitEventManager.destroy(),this.waitEventManager=void 0,delete this.gameObjectManagers.layer;for(var t in this.gameObjectManagers)this.gameObjectManagers[t].destroy(e),delete this.gameObjectManagers[t];this.layerManager&&(this.layerManager.destroy(e),this.layerManager=void 0),this.soundManager&&(this.soundManager.destroy(),this.soundManager=void 0),this.timeline&&(this.timeline.destroy(),this.timeline=void 0),this.clickTarget=void 0,this.clickShortcutKeys=void 0,this.cameraTarget=void 0,this.managersScene=void 0};const Um={addGameObjectManager(e,t){var s;return e instanceof hn?s=e:typeof e=="string"?(s=t,s.name=e):(e===void 0&&(e={}),t===void 0&&(t=hn),e.createGameObjectScope||(e.createGameObjectScope=this),s=new t(this.managersScene,e)),this.gameObjectManagers[s.name]=s,this},getGameObjectManager(e,t){if(e){var s=this.gameObjectManagers[e];return s}else{t&&t.charAt(0)==="!"&&(t=t.substring(1));for(var e in this.gameObjectManagers){var s=this.gameObjectManagers[e];if(s.has(t))return s}}},getGameObjectManagerNames(){var e=[];for(var t in this.gameObjectManagers)e.push(t);return e},getGameObjectManagerName(e){var t=this.getGameObjectManager(void 0,e);if(t)return t.name},hasGameObjectMananger(e){return e in this.gameObjectManagers}},V2={createGameObject(e,t,...s){return this.getGameObjectManager(e,t).add(t,...s),this},destroyGameObject(e,t){var s=this.getGameObjectManager(e,t);return t===void 0?s.removeAll():s.remove(t),this},hasGameObject(e,t){return!!this.getGameObjectManager(e,t)},callGameObjectMethod(e,t,s,...o){return this.getGameObjectManager(e,t).call(t,s,...o),this},setGameObjectProperty(e,t,s,o){return this.getGameObjectManager(e,t).setProperty(t,s,o),this},easeGameObjectProperty(e,t,s){return this.getGameObjectManager(e,t).easeProperty(t,s),this},getGameObjectTweenTask(e,t,s){return this.getGameObjectManager(e,t).getTweenTask(t,s)},getGameObject(e,t,s){var o=this.getGameObjectManager(e,t);if(!o)return s;if(typeof t=="string")return o.getGO(t);s===void 0&&(s=[]);var y=t;y===void 0&&(y=Object.keys(o.bobs));for(var S=Array.isArray(s),r=0,C=y.length;r<C;r++){t=y[r];var i=o.getGO(t);i&&(S?s.push(i):s[t]=i)}return s},addGameObject(e,t,s){var o=this.getGameObjectManager(e,t);if(typeof t=="string")o.addGO(t,s);else{var y=t;for(t in y)o.addGO(t,y[t])}return this},drawGameObjectsBounds(e,t,s){e instanceof Phaser.GameObjects.Graphics&&(s=t,t=e,e=void 0),e===void 0&&(e=this.getGameObjectManagerNames()),Array.isArray(e)||(e=[e]);for(var o=0,y=e.length;o<y;o++)this.getGameObjectManager(e[o]).drawGameObjectsBounds(t,s);return this}};var z2=function(e){class t extends e{}var s={initManagers:B2,setTimeScale:G2,getTimeScale:N2,destroyManagers:k2};return Object.assign(t.prototype,s,Um,V2),t},Wl={exports:{}},xv;function X2(){return xv||(xv=1,function(e){var t=Object.prototype.hasOwnProperty,s="~";function o(){}Object.create&&(o.prototype=Object.create(null),new o().__proto__||(s=!1));function y(i,h,x){this.fn=i,this.context=h,this.once=x||!1}function S(i,h,x,f,l){if(typeof x!="function")throw new TypeError("The listener must be a function");var a=new y(x,f||i,l),n=s?s+h:h;return i._events[n]?i._events[n].fn?i._events[n]=[i._events[n],a]:i._events[n].push(a):(i._events[n]=a,i._eventsCount++),i}function r(i,h){--i._eventsCount===0?i._events=new o:delete i._events[h]}function C(){this._events=new o,this._eventsCount=0}C.prototype.eventNames=function(){var h=[],x,f;if(this._eventsCount===0)return h;for(f in x=this._events)t.call(x,f)&&h.push(s?f.slice(1):f);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(x)):h},C.prototype.listeners=function(h){var x=s?s+h:h,f=this._events[x];if(!f)return[];if(f.fn)return[f.fn];for(var l=0,a=f.length,n=new Array(a);l<a;l++)n[l]=f[l].fn;return n},C.prototype.listenerCount=function(h){var x=s?s+h:h,f=this._events[x];return f?f.fn?1:f.length:0},C.prototype.emit=function(h,x,f,l,a,n){var d=s?s+h:h;if(!this._events[d])return!1;var c=this._events[d],u=arguments.length,v,p;if(c.fn){switch(c.once&&this.removeListener(h,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,x),!0;case 3:return c.fn.call(c.context,x,f),!0;case 4:return c.fn.call(c.context,x,f,l),!0;case 5:return c.fn.call(c.context,x,f,l,a),!0;case 6:return c.fn.call(c.context,x,f,l,a,n),!0}for(p=1,v=new Array(u-1);p<u;p++)v[p-1]=arguments[p];c.fn.apply(c.context,v)}else{var g=c.length,m;for(p=0;p<g;p++)switch(c[p].once&&this.removeListener(h,c[p].fn,void 0,!0),u){case 1:c[p].fn.call(c[p].context);break;case 2:c[p].fn.call(c[p].context,x);break;case 3:c[p].fn.call(c[p].context,x,f);break;case 4:c[p].fn.call(c[p].context,x,f,l);break;default:if(!v)for(m=1,v=new Array(u-1);m<u;m++)v[m-1]=arguments[m];c[p].fn.apply(c[p].context,v)}}return!0},C.prototype.on=function(h,x,f){return S(this,h,x,f,!1)},C.prototype.once=function(h,x,f){return S(this,h,x,f,!0)},C.prototype.removeListener=function(h,x,f,l){var a=s?s+h:h;if(!this._events[a])return this;if(!x)return r(this,a),this;var n=this._events[a];if(n.fn)n.fn===x&&(!l||n.once)&&(!f||n.context===f)&&r(this,a);else{for(var d=0,c=[],u=n.length;d<u;d++)(n[d].fn!==x||l&&!n[d].once||f&&n[d].context!==f)&&c.push(n[d]);c.length?this._events[a]=c.length===1?c[0]:c:r(this,a)}return this},C.prototype.removeAllListeners=function(h){var x;return h?(x=s?s+h:h,this._events[x]&&r(this,x)):(this._events=new o,this._eventsCount=0),this},C.prototype.off=C.prototype.removeListener,C.prototype.addListener=C.prototype.on,C.prefixed=s,C.EventEmitter=C,e.exports=C}(Wl)),Wl.exports}var Y2=X2();const W2=O0(Y2);class Hm extends W2{shutdown(){this.removeAllListeners()}destroy(){this.removeAllListeners()}}const $m={setEventEmitter(e,t){return t===void 0&&(t=Hm),this._privateEE=e===!0||e===void 0,this._eventEmitter=this._privateEE?new t:e,this},destroyEventEmitter(){return this._eventEmitter&&this._privateEE&&this._eventEmitter.shutdown(),this},getEventEmitter(){return this._eventEmitter},on:function(){return this._eventEmitter&&this._eventEmitter.on.apply(this._eventEmitter,arguments),this},once:function(){return this._eventEmitter&&this._eventEmitter.once.apply(this._eventEmitter,arguments),this},off:function(){return this._eventEmitter&&this._eventEmitter.off.apply(this._eventEmitter,arguments),this},emit:function(e){return this._eventEmitter&&e&&this._eventEmitter.emit.apply(this._eventEmitter,arguments),this},addListener:function(){return this._eventEmitter&&this._eventEmitter.addListener.apply(this._eventEmitter,arguments),this},removeListener:function(){return this._eventEmitter&&this._eventEmitter.removeListener.apply(this._eventEmitter,arguments),this},removeAllListeners:function(){return this._eventEmitter&&this._eventEmitter.removeAllListeners.apply(this._eventEmitter,arguments),this},listenerCount:function(){return this._eventEmitter?this._eventEmitter.listenerCount.apply(this._eventEmitter,arguments):0},listeners:function(){return this._eventEmitter?this._eventEmitter.listeners.apply(this._eventEmitter,arguments):[]},eventNames:function(){return this._eventEmitter?this._eventEmitter.eventNames.apply(this._eventEmitter,arguments):[]}};var U2=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,H2=/^0x[0-9A-F]+$/i,Zd=function(e){if(typeof e!="string")return e;if(e==="")e=null;else if(U2.test(e))e=parseFloat(e);else if(H2.test(e))e=parseInt(e,16);else switch(e){case"false":e=!1;break;case"true":e=!0;break;case"null":e=null;break;case"undefined":e=void 0;break}return e};let Km=class{constructor(t){this.setEventEmitter(Ot(t,"eventEmitter",void 0)),this.setValueConverter(Ot(t,"valueConvert",!0)),this.setLoopEnable(Ot(t,"loop",!1)),this.setMultipleLinesTagEnable(Ot(t,"multipleLinesTag",!1));var s=Ot(t,"delimiters","<>");this.setDelimiters(s[0],s[1]),this.setTranslateTagNameCallback(Ot(t,"translateTagNameCallback")),this.isRunning=!1,this.isPaused=!1,this.skipEventFlag=!1,this.justCompleted=!1,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}setMultipleLinesTagEnable(t){return t===void 0&&(t=!0),this.multipleLinesTagEnable=t,this}setDelimiters(t,s){s===void 0&&(s=t[1],t=t[0]),this.delimiterLeft=t,this.delimiterRight=s,t=an(this.delimiterLeft),s=an(this.delimiterRight);var o=this.multipleLinesTagEnable?"gs":"gi";return this.reSplit=RegExp(`${t}(.+?)${s}`,o),this}setTranslateTagNameCallback(t){return this.translateTagNameCallback=t,this}setValueConverter(t){return t===!0?t=Zd:t||(t=$2),this.valueConverter=t,this}setLoopEnable(t){return t===void 0&&(t=!0),this.loopEnable=t,this}setSource(t){return this.source=t,this}resetIndex(t){return t===void 0&&(t=0),this.progressIndex=t,this.reSplit.lastIndex=t,this.lastTagStart=null,this.lastTagEnd=null,this.lastContent=null,this.justCompleted=!1,this.isRunning=!1,this}start(t){return this.setSource(t).restart(),this}restart(){this.resetIndex().next()}next(){if(this.isPaused&&this.onResume(),this.isRunning)return this;if(this.isRunning=!0,this.justCompleted)return this.isRunning=!1,this;this.reSplit.lastIndex===0&&this.onStart();var t=this.source,s=t.length;for(this.reSplit.lastIndex=this.progressIndex;;){var o=this.reSplit.exec(t);if(!o){if(this.progressIndex<s&&(this.onContent(t.substring(this.progressIndex,s)),this.isPaused)){this.progressIndex=s;break}this.onComplete(),this.isRunning=!1;return}var y=this.reSplit.lastIndex,S=y-o[0].length;if(this.progressIndex<S&&(this.onContent(t.substring(this.progressIndex,S)),this.isPaused)){this.progressIndex=S;break}if(this.lastTagSource=o[0],this.onTag(o[1]),this.lastTagSource=void 0,this.progressIndex=y,this.isPaused)break}return this.isRunning=!1,this}skipEvent(){return this.skipEventFlag=!0,this}pause(){return this.isPaused||this.onPause(),this}pauseUntilEvent(t,s){return this.isPaused?this:(this.pause(),t.once(s,function(){this.next()},this),this)}onContent(t){this.skipEventFlag=!1,this.emit("content",t),this.lastContent=t}onTag(t){}onStart(){this.isRunning=!0,this.emit("start",this)}onComplete(){this.isRunning=!1,this.justCompleted=!0,this.emit("complete",this),this.loopEnable&&this.resetIndex()}onPause(){this.isPaused=!0,this.emit("pause",this)}onResume(){this.isPaused=!1,this.emit("resume",this)}};const $2=function(e){return e};Object.assign(Km.prototype,$m);var K2=function(e,t,s){if(e==null)return[];t===void 0&&(t=Zd),s===void 0&&(s=",");for(var o=e.split(s),y=0,S=o.length;y<S;y++)o[y]=t(o[y]);return o};class Z2 extends Km{constructor(t){t===void 0&&(t={}),t.hasOwnProperty("multipleLinesTag")||(t.multipleLinesTag=!1),super(t),this.setTagExpression(Ot(t,"regex.tag",void 0)),this.setValueExpression(Ot(t,"regex.value",void 0));var s=Ot(t,"delimiters","<>");this.setDelimiters(s[0],s[1])}setTagExpression(t){return t||(t=lh),this.tagExpression=t,this}setValueExpression(t){return t||(t=lh),this.valueExpression=t,this}setDelimiters(t,s){super.setDelimiters(t,s);var o=`(${this.tagExpression})(=(${this.valueExpression}))?`;if(this.reTag=RegExp(o,"i"),this.tagExpression!==lh||this.valueExpression!==lh){var y=`${this.tagExpression}(=${this.valueExpression})?`,S=`/${this.tagExpression}`;t=an(this.delimiterLeft),s=an(this.delimiterRight);var r=this.multipleLinesTagEnable?"gs":"gi";this.reSplit=RegExp(`${t}((${y})|(${S}))${s}`,r)}return this}onTag(t){var s=t.match(this.reTag),o=s[1],y=o.charAt(0)==="/";if(y&&(o=o.substring(1,o.length)),this.translateTagNameCallback&&(o=this.translateTagNameCallback(o)),this.skipEventFlag=!1,y)this.emit(`-${o}`),this.skipEventFlag||this.emit("-",o),this.lastTagEnd=o;else{var S=K2(s[3],this.valueConverter);this.emit(`+${o}`,...S),this.skipEventFlag||this.emit("+",o,...S),this.lastTagStart=o}}}const lh="[^=]+";var J2=function(e,t,s){var o="color",y;t.on("start",function(){y=e.textStyle.color}).on(`+${o}`,function(S){e.textStyle.setColor(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setColor(y),t.skipEvent()}).on("complete",function(){e.textStyle.setColor(y)})},Q2=function(e,t,s){var o="stroke",y;t.on("start",function(){y=e.textStyle.stroke,e.textStyle.setStrokeStyle(null)}).on(`+${o}`,function(S){S===void 0&&(S=y),e.textStyle.setStrokeStyle(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setStrokeStyle(null),t.skipEvent()}).on("complete",function(){e.textStyle.setStrokeStyle(y)})},j2=function(e,t,s){var o="b";t.on("start",function(){e.textStyle.setBold(!1)}).on(`+${o}`,function(){e.textStyle.setBold(!0),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setBold(!1),t.skipEvent()})},q2=function(e,t,s){var o="i";t.on("start",function(){e.textStyle.setItalic(!1)}).on(`+${o}`,function(){e.textStyle.setItalic(!0),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setItalic(!1),t.skipEvent()})},_2=function(e,t,s){var o="size",y;t.on("start",function(){y=e.textStyle.fontSize}).on(`+${o}`,function(S){e.textStyle.setFontSize(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setFontSize(y),t.skipEvent()}).on("complete",function(){e.textStyle.setFontSize(y)})},tw=function(e,t,s){var o="y",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetY(0)}).on(`+${o}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetY(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setOffsetY(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetY(0)})},ew=function(e,t,s){var o="x",y;t.on("start",function(){y=e.textStyle.offsetY,e.textStyle.setOffsetX(0)}).on(`+${o}`,function(S){S===void 0&&(S=y),e.textStyle.setOffsetX(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setOffsetX(0),t.skipEvent()}).on("complete",function(){e.textStyle.setOffsetX(0)})},iw=function(e,t,s){var o="left",y;t.on("start",function(){y=e.textStyle.leftSpace,e.textStyle.setLeftSpace(0)}).on(`+${o}`,function(S){S===void 0&&(S=y),e.textStyle.setLeftSpace(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setLeftSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setLeftSpace(0)})},sw=function(e,t,s){var o="right",y;t.on("start",function(){y=e.textStyle.rightSpace,e.textStyle.setRightSpace(0)}).on(`+${o}`,function(S){S===void 0&&(S=y),e.textStyle.setRightSpace(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setRightSpace(0),t.skipEvent()}).on("complete",function(){e.textStyle.setRightSpace(0)})},rw=function(e,t,s){var o="shadow",y;t.on("start",function(){y=e.textStyle.shadowColor,e.textStyle.setShadowColor(null)}).on(`+${o}`,function(S){S===void 0&&(S=y),e.textStyle.setShadowColor(S),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setShadowColor(null),t.skipEvent()}).on("complete",function(){e.textStyle.setShadowColor(y)})},nw=function(e,t,s){var o="align";t.on(`+${o}`,function(y){e.textStyle.setAlign(y),t.skipEvent()}).on(`-${o}`,function(){e.textStyle.setAlign(),t.skipEvent()}).on("complete",function(){e.textStyle.setAlign()})},aw=function(e,t,s){var o="img";t.on(`+${o}`,function(y){var S=e.imageManager.get(y);S&&xm.call(e,S.key,S.frame,{width:S.width,hieght:S.height,leftSpace:S.left,rightSpace:S.right,color:S.tintFill?e.textStyle.color:void 0}),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},hw=function(e,t,s){var o="space";t.on(`+${o}`,function(y){ym.call(e,y),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},ow=function(e,t,s){var o="speed";t.on(`+${o}`,function(y){yv(e,y),t.skipEvent()}).on(`-${o}`,function(){yv(e,void 0),t.skipEvent()})},lw=function(e){this.typeWriter.setTypingSpeed(e)},yv=function(e,t){dt.call(e,"speed",lw,t,e)},uw=function(e,t,s){var o="se";t.on(`+${o}`,function(y,S){dt.call(e,o,dw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se2";t.on(`+${o}`,function(y,S){dt.call(e,o,fw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},dw=function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect(t),s&&this.soundManager.fadeInSoundEffect(s)}},fw=function(e){if(!this.skipSoundEffect){var t=e[0],s=e[1];this.soundManager.playSoundEffect2(t),s&&this.soundManager.fadeInSoundEffect2(s)}},cw=function(e,t,s){var o="se.fadein";t.on(`+${o}`,function(y){dt.call(e,o,vw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se2.fadein";t.on(`+${o}`,function(y){dt.call(e,o,pw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},vw=function(e){this.soundManager.fadeInSoundEffect(e)},pw=function(e){this.soundManager.fadeInSoundEffect2(e)},gw=function(e,t,s){var o="se.fadeout";t.on(`+${o}`,function(y,S){S=S==="stop",dt.call(e,o,mw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se2.fadeout";t.on(`+${o}`,function(y,S){S=S==="stop",dt.call(e,o,xw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},mw=function(e){this.soundManager.fadeOutSoundEffect(...e)},xw=function(e){this.soundManager.fadeOutSoundEffect2(...e)},yw=function(e,t,s){var o="se.volume";t.on(`+${o}`,function(y){dt.call(e,o,Tw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se2.volume";t.on(`+${o}`,function(y){dt.call(e,o,Cw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Tw=function(e){this.soundManager.setSoundEffectVolume(e,!0)},Cw=function(e){this.soundManager.setSoundEffectVolume2(e,!0)},Sw=function(e,t,s){var o="se.mute";t.on(`+${o}`,function(){dt.call(e,o,Pw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se2.mute";t.on(`+${o}`,function(){dt.call(e,o,Ew,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se.unmute";t.on(`+${o}`,function(){dt.call(e,o,Mw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="se2.unmute";t.on(`+${o}`,function(){dt.call(e,o,ww,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Pw=function(){this.soundManager.setSoundEffectMute(!0)},Ew=function(){this.soundManager.setSoundEffect2Mute(!0)},Mw=function(){this.soundManager.setSoundEffectMute(!1)},ww=function(){this.soundManager.setSoundEffect2Mute(!1)},Rw=function(e,t,s){var o="bgm";t.on(`+${o}`,function(y,S){dt.call(e,o,Aw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){dt.call(e,"bgm.stop",Ow,void 0,e),t.skipEvent()});var o="bgm2";t.on(`+${o}`,function(y,S){dt.call(e,o,Lw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){dt.call(e,"bgm2.stop",bw,void 0,e),t.skipEvent()})},Aw=function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic(t),s&&this.soundManager.fadeInBackgroundMusic(s)},Ow=function(){this.soundManager.stopBackgroundMusic()},Lw=function(e){var t=e[0],s=e[1];this.soundManager.playBackgroundMusic2(t),s&&this.soundManager.fadeInBackgroundMusic2(s)},bw=function(){this.soundManager.stopBackgroundMusic2()},Fw=function(e,t,s){var o="bgm.fadein";t.on(`+${o}`,function(y){dt.call(e,o,Dw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm2.fadein";t.on(`+${o}`,function(y){dt.call(e,o,Iw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Dw=function(e){this.soundManager.fadeInBackgroundMusic(e)},Iw=function(e){this.soundManager.fadeInBackgroundMusic2(e)},Bw=function(e,t,s){var o="bgm.fadeout";t.on(`+${o}`,function(y,S){S=S==="stop",dt.call(e,o,Gw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm2.fadeout";t.on(`+${o}`,function(y,S){S=S==="stop",dt.call(e,o,Nw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Gw=function(e){this.soundManager.fadeOutBackgroundMusic(...e)},Nw=function(e){this.soundManager.fadeOutBackgroundMusic2(...e)},kw=function(e,t,s){var o="bgm.cross";t.on(`+${o}`,function(y,S){dt.call(e,o,Vw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm2.cross";t.on(`+${o}`,function(y,S){dt.call(e,o,zw,[y,S],e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Vw=function(e){this.soundManager.crossFadeBackgroundMusic(...e)},zw=function(e){this.soundManager.crossFadeBackgroundMusic2(...e)},Xw=function(e,t,s){var o="bgm.pause";t.on(`+${o}`,function(){dt.call(e,o,Yw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){dt.call(e,"bgm.resume",Ww,void 0,e),t.skipEvent()});var o="bgm2.pause";t.on(`+${o}`,function(){dt.call(e,o,Uw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){dt.call(e,"bgm2.resume",Hw,void 0,e),t.skipEvent()})},Yw=function(){this.soundManager.pauseBackgroundMusic()},Ww=function(){this.soundManager.resumeBackgroundMusic()},Uw=function(){this.soundManager.pauseBackgroundMusic2()},Hw=function(){this.soundManager.resumeBackgroundMusic2()},$w=function(e,t,s){var o="bgm.volume";t.on(`+${o}`,function(y){dt.call(e,o,Kw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm2.volume";t.on(`+${o}`,function(y){dt.call(e,o,Zw,y,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Kw=function(e){this.soundManager.setBackgroundMusicVolume(e)},Zw=function(e){this.soundManager.setBackgroundMusicVolume2(e)},Jw=function(e,t,s){var o="bgm.mute";t.on(`+${o}`,function(){dt.call(e,o,Qw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm2.mute";t.on(`+${o}`,function(){dt.call(e,o,jw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm.unmute";t.on(`+${o}`,function(){dt.call(e,o,qw,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()});var o="bgm2.unmute";t.on(`+${o}`,function(){dt.call(e,o,_w,void 0,e),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},Qw=function(){this.soundManager.setBackgroundMusicMute(!0)},jw=function(){this.soundManager.setBackgroundMusic2Mute(!0)},qw=function(){this.soundManager.setBackgroundMusicMute(!1)},_w=function(){this.soundManager.setBackgroundMusic2Mute(!1)},tR=function(e,t,s){var o="camera.fadein";t.on(`+${o}`,function(y,S,r,C){dt.call(e,o,eR,[y,S,r,C],e),t.skipEvent()})},eR=function(e){this.cameraTarget.fadeIn(...e)},iR=function(e,t,s){var o="camera.fadeout";t.on(`+${o}`,function(y,S,r,C){dt.call(e,o,sR,[y,S,r,C],e),t.skipEvent()})},sR=function(e){this.cameraTarget.fadeOut(...e)},rR=function(e,t,s){var o="camera.shake";t.on(`+${o}`,function(y,S){dt.call(e,o,nR,[y,S],e),t.skipEvent()})},nR=function(e){this.cameraTarget.shake(...e)},aR=function(e,t,s){var o="camera.flash";t.on(`+${o}`,function(y,S,r,C){dt.call(e,o,hR,[y,S,r,C],e),t.skipEvent()})},hR=function(e){this.cameraTarget.flash(...e)},oR=function(e,t,s){var o="camera.zoom";t.on(`+${o}`,function(y){dt.call(e,o,lR,y,e),t.skipEvent()}).on(`+${o}.to`,function(y,S,r){dt.call(e,"camera.zoom.to",uR,[y,S,r],e),t.skipEvent()})},lR=function(e){this.cameraTarget.setZoom(e)},uR=function(e){this.cameraTarget.zoomTo(...e)};const Tv=Phaser.Math.DegToRad;var dR=function(e,t,s){var o="camera.rotate";t.on(`+${o}`,function(y){y=Tv(y),dt.call(e,o,fR,y,e),t.skipEvent()}).on(`+${o}.to`,function(y,S,r){y=Tv(y),dt.call(e,"camera.rotate.to",cR,[y,S,r],e),t.skipEvent()})},fR=function(e){this.cameraTarget.setRotation(e)},cR=function(e){var t=e[0],s=e[1],o=e[2];this.cameraTarget.rotateTo(t,!1,s,o)},vR=function(e,t,s){var o="camera.scroll";t.on(`+${o}`,function(y,S){dt.call(e,o,pR,[y,S],e),t.skipEvent()}).on(`+${o}.to`,function(y,S,r,C){dt.call(e,"camera.scroll.to",gR,[y,S,r,C],e),t.skipEvent()})},pR=function(e){this.cameraTarget.setScroll(...e)},gR=function(e){var t=e[0],s=e[1],o=e[2],y=e[3],S=this.cameraTarget,r=S.scrollX,C=S.scrollY;S.setScroll(t,s),t+=S.centerX,s+=S.centerY,S.setScroll(r,C),S.pan(t,s,o,y)},mR=function(e,t,s){var o="wait",y="click";t.on(`+${o}`,function(S){Cv(e,S),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()}).on(`+${y}`,function(){Cv(e,"click"),t.skipEvent()}).on(`-${y}`,function(){t.skipEvent()})},xR=function(e){this.typeWriter.wait(e)},Cv=function(e,t){dt.call(e,"wait",xR,t,e)},yR=function(e,t,s){var o="r";t.on(`+${o}`,function(){fa.call(e,`
`),t.skipEvent()}).on(`-${o}`,function(){t.skipEvent()})},TR=function(e,t,s){for(var o=["pagebreak","pb"],y=0,S=o.length;y<S;y++){var r=o[y];t.on(`+${r}`,function(){fa.call(e,"\f"),t.skipEvent()}).on(`-${r}`,function(){t.skipEvent()})}},CR=function(e,t,s){var o="content.off";t.on(`+${o}`,function(){t.setContentOutputEnable(!1),t.skipEvent()})},SR=function(e,t,s){var o="content.on";t.on(`+${o}`,function(){t.setContentOutputEnable(),t.skipEvent()})},PR=function(e,t,s){t.on("content",function(o){if(t.contentOutputEnable)fa.call(e,o);else{var y=`+${t.lastTagStart}`;e.emit(`parser.${y}#content`,t,o)}})},ER=function(e,t,s){t.on("start",function(){e.emit("parser.start",t)}).on("+",function(o,...y){if(!t.skipEventFlag){var S=`+${o}`,r=y;e.emit(`parser.${S}`,t,...y,r),Sv(e,S,r)}}).on("-",function(o){if(!t.skipEventFlag){var y=`-${o}`,S=[];e.emit(`parser.${y}`,t,S),Sv(e,y,S)}}).on("complete",function(){e.emit("parser.complete",t)})},MR=function(e,t){var s=`tag.${t}`;e==null?this.emit(s):this.emit(s,...e)},Sv=function(e,t,s){dt.call(e,t,MR,s,e)};const Pv=[J2,Q2,j2,q2,_2,rw,nw,tw,ew,iw,sw,aw,hw,ow,uw,cw,gw,yw,Sw,Rw,Fw,Bw,kw,Xw,$w,Jw,tR,iR,rR,aR,oR,dR,vR,mR,yR,TR,CR,SR,PR,ER];var wR=function(e,t,s){for(var o=0,y=Pv.length;o<y;o++)Pv[o](e,t,s)},RR=function(e,t){for(var s=e.commentLineStart,o=t.split(`
`),y=0,S=o.length;y<S;y++){var r=o[y];r===""||(r.trim().length===0||s&&r.startsWith(s))&&(o[y]="")}return o.join("")};const AR=Phaser.Utils.Objects.GetValue;class OR extends Z2{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("delimiters")||(s.delimiters="[]"),super(s),wR(t,this,s),this.setCommentLineStartSymbol(AR(s,"comment","//")),this.setContentOutputEnable()}setCommentLineStartSymbol(t){return this.commentLineStart=t,this}setContentOutputEnable(t){return t===void 0&&(t=!0),this.contentOutputEnable=t,this}start(t){return super.start(RR(this,t)),this}}const LR={setDefaultTypingSpeed(e){return this.defaultSpeed=e,this},setTypingSpeed(e){return e===void 0&&(e=this.defaultSpeed),this.speed=e,this}},hr="page.fadeout",gd="_remove.play",Ev=[hr,gd];var bR=function(){if(!this.fadeOutPageCallback||!this.children)return this.emit(hr),this;var e=this.children.filter(function(o){return o.renderable}),t=this.fadeOutPageCallback(e,this.fadeOutPageDuration);if(!t)this.emit(hr);else if(t.once)t.once("complete",function(){this.emit(hr)},this);else if(t.then){var s=this;t.then(function(){s.emit(hr)})}else this.emit(hr);return this},Do=function(e,t){return new Promise(function(s,o){e.once(t,function(){s()})})},ge=function(e){return Do(e,"complete")},FR=function(e){return this.children=e,this.index=0,this.isPageTyping=!0,this.onTypeStart&&this.onTypeStart(e),this.typing(),ge(this)};const DR="delay",Zm="anim";var Jm=function(e){e===void 0&&(e=0);var t=0;for(this.inTypingProcessLoop=!0;this.inTypingProcessLoop;){var s=this.getNextChild();if(!s){this.timeline.isRunning?this.timeline.once("complete",function(){this.isPageTyping=!1,this.emit("complete")},this):(this.isPageTyping=!1,this.emit("complete"));break}if(s.renderable){var o=this.animationConfig;if(o.duration>0){var y=this.timeline.addTimer({name:Zm,target:s,duration:o.duration,yoyo:o.yoyo,onStart:o.onStart,onProgress:o.onProgress,onComplete:o.onComplete});this.skipTypingAnimation&&y.seek(1)}else o.onStart&&o.onStart(s,0);this.minSizeEnable&&this.textPlayer.setToMinSize(),this.textPlayer.emit("typing",s);var S=this.nextChild;if(S&&!(this.skipSpaceEnable&&PP(S))){if(t+=this.speed+e,e=0,t>0){this.typingTimer=this.timeline.addTimer({name:DR,target:this,duration:t,onComplete:function(r,C,i){r.typingTimer=void 0,Jm.call(r,i.remainder)}});break}}}else EP(s)&&s.exec()}this.minSizeEnable&&this.textPlayer.setToMinSize(),this.inTypingProcessLoop=!1},IR=function(){return this.timeline.pause(),this},BR=function(){return this.timeline.resume(),this},GR=function(){return this.isTypingPaused?this:(this.typingTimer?(this.typingTimer.pause(),this.isTypingPaused=!0):this.inTypingProcessLoop&&(this.inTypingProcessLoop=!1,this.isTypingPaused=!0),this)},NR=function(e){return this.isTypingPaused?(e===void 0&&(e=0),this.typingTimer?(this.isTypingPaused=!1,this.typingTimer.resume(),this.typingTimer.remainder+=e):this.isTypingPaused&&(this.isTypingPaused=!1,this.typing(e)),this):this},kR=function(e){switch(e){case"camera.fadein":case"camera.fadeout":case"camera.flash":case"camera.shake":case"camera.zoom":case"camera.rotate":case"camera.scroll":return!0;default:return!1}},VR=function(e,t){var s=t.split(".");return e.gameObjectManagers.hasOwnProperty(s[0])},zR=function(e,t,s,o){var y=e.waitEventManager,S=t.split("."),r=S[0],C=e.getGameObjectManager(r),i=`wait.${r}`;switch(S.length){case 1:y.waitGameObjectManagerEmpty(r),e.emit(i);return;case 2:var h=S[1];y.waitGameObjectDestroy(r,h),e.emit(i,h);return;case 3:var h=S[1],x=S[2],f=C.getProperty(h,x);if(typeof f=="number"){y.waitGameObjectTweenComplete(r,h,x),e.emit(i,h,x);return}var l=x,a=l.startsWith("!");if(a&&(l=l.substring(1)),C.hasData(h,l)){y.waitGameObjectDataFlag(r,h,l,!a),e.emit(i,h,l);return}else{y.waitTime(0);return}}};const XR=Phaser.Input.Keyboard.KeyCodes;var Qm=function(e,t,s,o){var y=e.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,o),typeof t=="string"&&t.length>1&&t.indexOf("|")!==-1?t=t.split("|"):t=[t];for(var S=0,r=t.length;S<r;S++){var C=t[S];if(C==null||C==="wait"){var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit("wait",i)}else if(typeof C=="number"||!isNaN(C)){var h=parseFloat(C);y.waitTime(h),e.emit("wait.time",h)}else if(C==="click")y.waitClick(),e.emit("wait.click");else if(C==="se"){y.waitSoundEffectComplete();var x=e.soundManager.getLastSoundEffect();e.emit("wait.music",x)}else if(C==="se2"){y.waitSoundEffect2Complete();var x=e.soundManager.getLastSoundEffect2();e.emit("wait.music",x)}else if(C==="bgm"){y.waitBackgroundMusicComplete();var x=e.soundManager.getBackgroundMusic();e.emit("wait.music",x)}else if(C==="bgm2"){y.waitBackgroundMusic2Complete();var x=e.soundManager.getBackgroundMusic2();e.emit("wait.music",x)}else if(XR.hasOwnProperty(C.toUpperCase()))y.waitKeyDown(C),e.emit("wait.keydown",C);else if(kR(C))y.waitCameraEffectComplete(C),e.emit("wait.camera",C);else if(VR(e,C))zR(e,C);else{var i=e.waitEventManager.getWaitCompleteTriggerCallback();e.emit(`wait.${C}`,i)}}},YR=function(e){return this.ignoreWait?this:(this.pauseTyping(),Qm(this.textPlayer,e,this.resumeTyping,this),this)},WR=function(e){return e===void 0&&(e=!0),this.ignoreWait=e,this},UR=function(e){return e===void 0&&(e=!0),this.skipSpaceEnable=e,this},HR=function(e){if(e===void 0&&(e=!0),this.skipTypingAnimation=e,e)for(var t=this.timeline.getTimers(Zm),s=0,o=t.length;s<o;s++)t[s].seek(1);return this},$R=function(e){if(e===void 0&&(e=!0),this.skipSoundEffect=e,e){var t=this.textPlayer._soundManager;t&&t.fadeOutAllSoundEffects(100,!0)}return this},KR=function(){return this.typingTimer&&this.typingTimer.seek(1),this},jm={fadeOutPage:bR,start:FR,typing:Jm,pause:IR,resume:BR,pauseTyping:GR,resumeTyping:NR,wait:YR,setIgnoreWait:WR,setSkipSpaceEnable:UR,setSkipTypingAnimation:HR,setSkipSoundEffect:$R,skipCurrentTypingDelay:KR};Object.assign(jm,LR);const Or=Phaser.Utils.Objects.GetValue;class qm{constructor(t,s){this.setEventEmitter(),this.textPlayer=t,this.isPageTyping=!1,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.inTypingProcessLoop=!1,this.isTypingPaused=!1,this.setIgnoreWait(!1),this.setSkipTypingAnimation(!1),this.setTypingStartCallback(Or(s,"onTypingStart",JR)),this.setDefaultTypingSpeed(Or(s,"speed",250)),this.setTypingSpeed(),this.setSkipSpaceEnable(Or(s,"skipSpace",!1)),this.setAnimationConfig(Or(s,"animation",void 0)),this.setMinSizeEnable(Or(s,"minSizeEnable",!1)),this.setFadeOutPageCallback(Or(s,"fadeOutPage"))}destroy(){this.destroyEventEmitter(),this.textPlayer=void 0,this.typingTimer=void 0,this.pauseTypingTimer=void 0,this.onTypeStart=void 0,this.animationConfig=void 0}get timeline(){return this.textPlayer.timeline}setTypingStartCallback(t){return this.onTypeStart=t,this}setAnimationConfig(t){return t||(t={}),t.hasOwnProperty("duration")||(t.duration=0),t.hasOwnProperty("onStart")||(t.onStart=ZR),this.animationConfig=t,this}setFadeOutPageCallback(t){return this.fadeOutPageCallback=t,this}setMinSizeEnable(t){return t===void 0&&(t=!0),this.minSizeEnable=t,this}getNextChild(){var t=this.nextChild;return this.index=Math.min(this.index+1,this.children.length),this._nextChild=void 0,t}get nextChild(){return this._nextChild||(this._nextChild=this.children[this.index]),this._nextChild}}var ZR=function(e){e.setVisible&&e.setVisible()},JR=function(e){for(var t=0,s=e.length;t<s;t++){var o=e[t];o.setVisible&&o.setVisible(!1)}};Object.assign(qm.prototype,ca,jm);class QR extends Hd{playAnimation(t){return this.gameObject.anims.timeScale=this.timeScale,this.gameObject.play(t),this}stopAnimation(){return this.gameObject.stop(),this}chainAnimation(t){return this.gameObject.chain(t),this}pauseAnimation(){return this.gameObject.anims.pause(),this}setTimeScale(t){return super.setTimeScale(t),this.gameObject.anims&&(this.gameObject.anims.timeScale=t),this}}const jR={playAnimation(e,t){return this.has(e)||this.add(e),this.get(e).playAnimation(t),this},stopAnimation(e){return this.has(e)?(this.get(e).stopAnimation(),this):this},chainAnimation(e,t){return this.has(e)?(this.get(e).chainAnimation(t),this):this},pauseAnimation(e){return this.has(e)?(this.get(e).pauseAnimation(),this):this}};var _m={};Object.assign(_m,jR);var tx=function(e){return!e||e==="sprite"?e=qR:e==="image"&&(e=_R),e},qR=function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.sprite(0,0,t,s)},_R=function(e,t,s){return typeof s!="string"&&typeof s!="number"&&(s=void 0),e.add.image(0,0,t,s)};class ex extends hn{constructor(t,s){s===void 0&&(s={}),s.BobClass=QR,super(t,s)}setCreateGameObjectCallback(t,s){return t=tx(t),super.setCreateGameObjectCallback(t,s),this}}Object.assign(ex.prototype,_m);var Mv=function(e,t){return e.length===3&&e[0]===t&&e[2]==="play"},tA=function(e,t){return e.length===3&&e[0]===t&&e[2]==="stop"},eA=function(e,t,s){var o=s.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),C;if(Mv(r,o))C=r[1];else return;dt.call(e,`${o}.play`,iA,[o,C,S],e),t.skipEvent()}}).on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(tA(S,o))r=S[1];else return;dt.call(e,`${o}.stop`,wv,[o,r],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(Mv(S,o))r=S[1];else return;dt.call(e,`${o}.stop`,wv,[o,r],e),t.skipEvent()}})},iA=function(e){var t,s,o;[t,s,o]=e;var y=o.shift(),S=this.getGameObjectManager(t);S.playAnimation(s,y),o.length>0&&S.chainAnimation(s,o)},wv=function(e){var t,s;[t,...s]=e;var o=this.getGameObjectManager(t);o.stopAnimation(...s)},sA=function(e,t){return e.length===3&&e[0]===t&&e[2]==="pause"},rA=function(e,t,s){var o=s.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(sA(S,o))r=S[1];else return;dt.call(e,`${o}.pause`,nA,[o,r],e),t.skipEvent()}})},nA=function(e){var t,s;[t,...s]=e;var o=this.getGameObjectManager(t);o.pauseAnimation(...s)},aA=function(e,t){return e.length===3&&e[0]===t&&e[2]==="chain"},hA=function(e,t,s){var o=s.name;t.on("+",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(aA(S,o))r=S[1];else return;var C=Array.prototype.slice.call(arguments,1);dt.call(e,`${o}.chain`,oA,[o,r,C],e),t.skipEvent()}})},oA=function(e){var t,s;[t,...s]=e;var o=this.getGameObjectManager(t);o.chainAnimation(...s)};const lA=[eA,rA,hA];var uA=function(e){e===void 0&&(e={}),e.name="sprite",e.parseCallbacks=lA,e.createGameObject=tx(e.createGameObject),this.addGameObjectManager(e,ex)},Rv=function(e,t){return e.length===2&&e[0]===t},dA=function(e,t,s){var o=s.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),C;if(Rv(r,o))C=r[1];else return;dt.call(e,`${o}.add`,fA,[o,C,...S],e),t.skipEvent()}}).on("-",function(y){if(!t.skipEventFlag){var S=y.split("."),r;if(Rv(S,o))r=S[1];else return;dt.call(e,`${o}.remove`,cA,[o,r],e),t.skipEvent()}})},fA=function(e){var t,s;[t,...s]=e;var o=this.getGameObjectManager(t);o.add(...s)},cA=function(e){var t,s;[t,...s]=e;var o=this.getGameObjectManager(t);o.remove(...s)},vA=function(e,t,s){var o=s.name;t.on("-",function(y){t.skipEventFlag||y===o&&(dt.call(e,`${o}.removeall`,pA,o,e),t.skipEvent())})},pA=function(e){var t=this.getGameObjectManager(e);t.removeAll()},gA=function(e,t){return e.length===3&&e[0]===t},mA=function(e,t,s){var o=s.name;t.on("+",function(y,...S){if(!t.skipEventFlag){var r=y.split("."),C,i;if(gA(r,o))C=r[1],i=r[2];else return;dt.call(e,`${o}.call`,xA,[o,C,i,...S],e),t.skipEvent()}})},xA=function(e){var t,s,o,y;[t,s,o,...y]=e;var S=`${t}.${o}`;if(this.emit(S,s,...y),!(this.listenerCount(S)>0)){var r=this.getGameObjectManager(t);r.hasMethod(s,o)?r.call(s,o,...y):r.setProperty(s,o,y[0])}},yA={to:!0,yoyo:!0,from:!0,toLeft:!0,toRight:!0,toUp:!0,toDown:!0,yoyoLeft:!0,yoyoRight:!0,yoyoUp:!0,yoyoDown:!0,fromLeft:!0,fromRight:!0,fromUp:!0,fromDown:!0},TA=function(e,t){return e.length===4&&e[0]===t&&yA[e[3]]},CA=function(e,t,s){var o=s.name;e.getGameObjectManager(o),t.on("+",function(y,S,r,C,i){if(!t.skipEventFlag){var h=y.split("."),x,f,l;if(TA(h,o))x=h[1],f=h[2],l=h[3];else return;typeof C=="number"&&(i=C,C=void 0),dt.call(e,`${o}.ease`,SA,[o,x,f,S,r,C,i,l],e),t.skipEvent()}})},SA=function(e){var t,s,o,y,S,r,C,i;[t,s,o,y,S,r,C,i]=e;var h=this.getGameObjectManager(t),x=h.getProperty(s,o);if(typeof x=="number"){i.endsWith("Left")||i.endsWith("Up")?i.startsWith("to")||i.startsWith("yoyo")?y=x-y:i.startsWith("from")&&(h.setProperty(s,o,x-y),y=x):i.endsWith("Right")||i.endsWith("Down")?i.startsWith("to")||i.startsWith("yoyo")?y=x+y:i.startsWith("from")&&(h.setProperty(s,o,x+y),y=x):i==="from"&&(h.setProperty(s,o,y),y=x);var f=i.startsWith("yoyo");h.easeProperty(s,{property:o,value:y,duration:S,ease:r,repeat:C,yoyo:f})}};const Av=[dA,vA,mA,CA],PA=Um.addGameObjectManager,EA={addGameObjectManager(e,t){e=e?mi(e):{};var s=e.name;s||console.warn("[TextPlayer] Parameter 'name' is required in addGameObjectManager(config) method");var o=e.defaultLayer,y=e.createGameObject,S=this.layerManager;e.createGameObject=function(h,...x){var f=y.call(this,h,...x);return o&&S&&S.addToLayer(o,f),f},PA.call(this,e,t);var r=e.parseCallbacks;r?r=[...r,...Av]:r=Av;for(var C=0,i=r.length;C<i;C++)r[C](this,this.parser,e);return this}};var MA=function(e){return this.waitEventManager.setClickTarget(e),this},wA=function(e){return this.waitEventManager.setCameraTarget(e),this},RA=function(e){var t=this;e?typeof e=="function"?this.nextPageInput=function(s,o){var y=t.waitEventManager;y.clearWaitCompleteCallbacks().addWaitCompleteCallback(s,o);var S=y.getWaitCompleteTriggerCallback();e.call(t,S)}:this.nextPageInput=function(s,o){Qm(t,e,s,o)}:this.nextPageInput=null},AA=function(e,t){return this.imageManager.add(e,t),this};const OA={play(e){return this.isPlaying?this:(this.removeChildren(),this.parser.start(e),this.isPlaying=!0,this.once("complete",function(){this.isPlaying=!1},this),this.lastWrapResult=void 0,this.typingNextPage(),this)},playPromise(e){var t=ge(this);return this.play(e),t}};var md=function(){return!this.isPlaying||this.isPageTyping?this:(this.typeWriter.once(hr,LA,this).fadeOutPage(),this)},LA=function(){var e=this.runWrap(this.lastWrapResult);this.lastWrapResult=e,this.emit("page.start");var t=function(){this.emit(gd),e.isLastPage?this.emit("complete"):(this.emit("page.complete"),this.ignoreNextPageInput?md.call(this):this.nextPageInput&&this.nextPageInput(md,this))};this.once(gd,function(){this.typeWriter.off("complete",t,this)},this),this.typeWriter.once("complete",t,this).start(e.children)};const bA={pauseTyping(){return this.typeWriter.pauseTyping(),this},pause(){return this.pauseTyping(),this.timeline.pause(),this}},FA={resumeTyping(e){return this.typeWriter.resumeTyping(e),this},resume(){return this.resumeTyping(),this.timeline.resume(),this}};var DA=function(e){return this.typeWriter.wait(e),this};const IA={setDefaultTypingSpeed(e){return this.defaultTypingSpeed=e,this},setTypingSpeed(e){return this.typingSpeed=e,this}};var BA=function(e){return this.typeWriter.setIgnoreWait(e),this},GA=function(e){return e===void 0&&(e=!0),this.ignoreNextPageInput=e,this},NA=function(){if(!this.isPlaying||!this.isPageTyping)return this;var e=this.typeWriter.speed,t=this.typeWriter.ignoreWait,s=this.typeWriter.skipTypingAnimation,o=this.typeWriter.skipSoundEffect;return this.typeWriter.once("complete",function(){this.typeWriter.setTypingSpeed(e).setIgnoreWait(t).setSkipTypingAnimation(s).setSkipSoundEffect(o)},this).setTypingSpeed(0).skipCurrentTypingDelay().setIgnoreWait(!0).setSkipTypingAnimation(!0).setSkipSoundEffect(!0),this};const kA={getSprite(e){return this.getGameObject("sprite",e)},addSprite(e,t){return this.addGameObject("sprite",e,t),this}},VA={setContentOutputEnable(e){return this.parser.setContentOutputEnable(e),this},setContentCallback(e,t){return this.contentCallback=e,this.contentCallbackScope=t,this}};var ix={setClickTarget:MA,setCameraTarget:wA,setNextPageInput:RA,addImage:AA,typingNextPage:md,wait:DA,setIgnoreWait:BA,setIgnoreNextPageInput:GA,showPage:NA};Object.assign(ix,EA,OA,bA,FA,IA,kA,VA);var zA=function(e){for(var t=0,s=Ev.length;t<s;t++)e.emit(Ev[t])};const Ov=Phaser.Utils.Objects.IsPlainObject,Lr=Phaser.Utils.Objects.GetValue;class Jd extends z2(un){constructor(t,s,o,y,S,r){Ov(s)?r=s:Ov(y)&&(r=y),r===void 0&&(r={});var C=r.text;delete r.text,super(t,s,o,y,S,r),this.type="rexTextPlayer",this.initManagers(t,r),this.parser=new OR(this,Lr(r,"parser",void 0)),this.typeWriter=new qm(this,Lr(r,"typing",void 0)),this._imageManager=void 0;var i=Lr(r,"images",void 0);i&&this.addImage(i);var h=Lr(r,"sprites");h!==!1&&h!==null&&uA.call(this,h),this.setIgnoreNextPageInput(Lr(r,"ignoreNextPageInput",!1)),this.setNextPageInput(Lr(r,"nextPageInput",null)),this.isPlaying=!1,C&&this.play(C)}get imageManager(){return this._imageManager===void 0&&(this._imageManager=new Vd(this.scene)),this._imageManager}get spriteManager(){return this.getGameObjectManager("sprite")}destroy(t){!this.scene||this.ignoreDestroy||(zA(this),this.parser.destroy(),this.parser=void 0,this.typeWriter.destroy(t),this.typeWriter=void 0,this._imageManager&&this._imageManager.destroy(t),this._imageManager=void 0,this.destroyManagers(t),super.destroy(t))}get isPageTyping(){return this.typeWriter.isPageTyping}set defaultTypingSpeed(t){this.typeWriter.setDefaultTypingSpeed(t)}get defaultTypingSpeed(){return this.typeWriter.defaultTypingSpeed}set typingSpeed(t){this.typeWriter.setTypingSpeed(t)}get typingSpeed(){return this.typeWriter.speed}set timeScale(t){this.setTimeScale(t)}get timeScale(){return this.getTimeScale()}}Object.assign(Jd.prototype,ix);st.register("textPlayer",function(e,t,s,o,y){var S=new Jd(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TextPlayer",Jd);const sx={maxLength:["maxLength",void 0],minLength:["minLength",void 0],readOnly:["readOnly",!1]},rx={direction:["direction",void 0]};var Ss=function(e,t,s){if(typeof s=="string")e.hasOwnProperty(s)&&(t[s]=e[s]);else{var o=s;if(Array.isArray(o))for(var y=0,S=o.length;y<S;y++)Ss(e,t,o[y]);else for(var s in o)Ss(e,t,s)}},XA=function(e){e===void 0&&(e={});var t={};return Ss(e,t,"inputType"),Ss(e,t,"type"),Ss(e,t,"style"),Ss(e,t,rx),Ss(e,t,sx),t},Qd=function(e,t,s,o,y){if(t)return!(s&&!s(e,t)||!Lv(e,t)||o&&!o(e,t));y===void 0&&(y=!1);for(var S=e.scene.input.manager,r=S.pointersTotal,C=S.pointers,t,i=0;i<r;i++)if(t=C[i],!(s&&!s(e,t))&&Lv(e,t)&&!(o&&!o(e,t)))return y?t:!0;return!1},Lv=function(e,t){for(var s=e.scene,o=s.input.cameras.getCamerasBelowPointer(t),y=s.input.manager,S=[e],r=0,C=o.length;r<C;r++)if(y.hitTest(t,S,o[r],uh),uh.length>0)return uh.length=0,!0;return uh.length=0,!1},uh=[],tn=void 0,YA=function(e){e!==tn&&(tn!==void 0&&tn.close(),tn=e)},WA=function(e){e===tn&&(tn=void 0)};const UA=Phaser.Utils.Objects.GetValue;var lo=function(e,t,s){s===void 0&&(s={});var o,y;for(var S in e)o=e[S],y=UA(t,S,o[1]),y!==void 0&&(s[o[0]]=y);return s},nx=function(e){e.addEventListener("touchstart",br,!1),e.addEventListener("touchmove",br,!1),e.addEventListener("touchend",br,!1),e.addEventListener("mousedown",br,!1),e.addEventListener("mouseup",br,!1),e.addEventListener("mousemove",br,!1)},br=function(e){e.stopPropagation()},ax=function(){return this.close(),this.emit("keydown-ENTER",this.parent,this),this},HA=function(){this.isOpened=!0,this.initText(),this.enterCloseEnable&&this.scene.input.keyboard.once("keydown-ENTER",ax,this),this.scene.sys.events.on("postupdate",this.updateText,this),this.clickOutSideTarget?(Im.call(this.clickOutSideTarget,this.parent),Dm.call(this.clickOutSideTarget,this.parent),this.clickOutSideTarget.setInteractive().on("pointerdown",this.onClickOutside,this)):this.scene.input.on("pointerdown",this.onClickOutside,this),this.onOpenCallback&&this.onOpenCallback(this.parent,this),this.emit("open",this)},$A=function(e){if(e){var t=e.parentElement;t&&t.removeChild(e)}},KA=function(){this.isOpened=!1,this.updateText(),this.enterCloseEnable&&this.scene.input.keyboard.off("keydown-ENTER",ax,this),this.scene.sys.events.off("postupdate",this.updateText,this),this.clickOutSideTarget?this.clickOutSideTarget.disableInteractive().off("pointerdown",this.onClickOutside,this):this.scene.input.off("pointerdown",this.onClickOutside,this),this.onCloseCallback&&this.onCloseCallback(this.parent,this),$A(this.node),this.node=void 0,this.emit("close",this)};const Ul=Phaser.Utils.Objects.GetValue;var ZA=function(e,t){var s,o=Ul(t,"inputType",void 0);o===void 0&&(o=Ul(t,"type","text")),o==="textarea"?(s=document.createElement("textarea"),s.style.resize="none"):(s=document.createElement("input"),s.type=o);var y=Ul(t,"style",void 0),S=s.style;lo(rx,y,S),S.position="absolute",S.opacity=0,S.pointerEvents="none",S.zIndex=0,S.transform="scale(0)",lo(sx,t,s),nx(s);var r=e.scene.sys.scale,C=r.isFullscreen?r.fullscreenTarget:document.body;return C.appendChild(s),s.addEventListener("focus",function(i){HA.call(e)}),s.addEventListener("blur",function(i){KA.call(e)}),s},JA=function(){return this.isOpened?this:this.readOnly?this:(YA(this),this.node||(this.node=ZA(this,this.nodeConfig)),this.setFocus(),this)},QA=function(){return this.isOpened?(WA(this),this.setBlur(),this):this},jA={open:JA,close:QA};const zi=Phaser.Utils.Objects.GetValue;class jd extends zt{constructor(t,s){super(t);var o=zi(s,"inputType",void 0);o===void 0&&(o=zi(s,"type","text")),this.setEnterCloseEnable(zi(s,"enterClose",o!=="textarea"));var y=zi(s,"onOpen",void 0);y||(y=zi(s,"onFocus",void 0)),this.onOpenCallback=y,this.clickOutSideTarget=zi(s,"clickOutSideTarget",void 0);var S=zi(s,"onClose",void 0);S||(S=zi(s,"onBlur",void 0)),this.onCloseCallback=S,this.onUpdateCallback=zi(s,"onUpdate",void 0),this.isOpened=!1,t.on("pointerdown",function(){this.open()},this).setInteractive(),this.nodeConfig=XA(s),this.node=void 0}destroy(){this.close(),this.clickOutSideTarget&&this.clickOutSideTarget.destroy(),super.destroy()}onClickOutside(t){Qd(this.parent,t)||this.close()}setEnterCloseEnable(t){return t===void 0&&(t=!0),this.enterCloseEnable=t,this}initText(){}updateText(){}get text(){return this.node?this.node.value:""}set text(t){this.node&&(this.node.value=t)}setText(t){return this.text=t,this}get maxLength(){return this.nodeConfig.maxLength}set maxLength(t){this.nodeConfig.maxLength=t,this.node&&(this.node.maxLength=t)}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.nodeConfig.minLength}set minLength(t){this.nodeConfig.minLength=t,this.node&&(this.node.minLength=t)}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node&&(this.node.placeholder=t)}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return this.node?(t===void 0?this.node.select():this.node.setSelectionRange(t,s),this):this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node?this.node.selectionStart:0}get selectionEnd(){return this.node?this.node.selectionEnd:0}get selectedText(){if(!this.node)return"";var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node?this.node.selectionStart:0}set cursorPosition(t){this.node&&this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node?this.node.title:""}set tooltip(t){if(!this.node)return this;this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.nodeConfig.readOnly}set readOnly(t){this.nodeConfig.readOnly=t,this.node&&(this.node.readOnly=t)}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node?this.node.spellcheck:""}set spellCheck(t){this.node&&(this.node.spellcheck=t)}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){if(this.node)return this.node.style.color}set fontColor(t){this.node&&(this.node.style.color=t)}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node?(this.node.style[t]=s,this):this}getStyle(t){if(this.node)return this.node.style[t]}scrollToBottom(){return this.node?(this.node.scrollTop=this.node.scrollHeight,this):this}setEnabled(t){return this.node?(t===void 0&&(t=!0),this.node.disabled=!t,this):this}setBlur(){return this.node?(this.node.blur(),this):this}setFocus(){return this.node?(this.node.focus(),this):this}get isFocused(){return this.isOpened}}Object.assign(jd.prototype,jA);var hx=function(e,t,s){e=e.replace(" ","");var o=s.previousText;if(e===o)return e;if(isNaN(e)){s.emit("nan",e,s),e=o;var y=s.cursorPosition-1;s.setText(e),s.setCursorPosition(y)}else s.previousText=e;return e},qA=function(e){var t=e.parent,s=e.isOpened?e.selectionStart:null,o=e.isOpened?e.selectionEnd:null,y=e.prevSelectionStart,S=e.prevSelectionEnd;if(!(y===s&&S===o)){var r,C;y===null?(r=s,C=o):s===null?(r=y,C=S):(r=Math.min(y,s),C=Math.max(S,o));for(var i=r;i<C;i++){var h;y===null?h=!1:h=i>=y&&i<S;var x;if(s===null?x=!1:x=i>=s&&i<o,h!==x){var f=t.getCharChild(i);if(f){var l=h?"rangeout":"rangein";t.emit(l,f,i,t)}}}e.prevSelectionStart=s,e.prevSelectionEnd=o}},_A=function(e){var t=e.parent,s=0,o=t.width,y=0,S=t.height,r=e.drawX,C=e.drawY,i=r+e.drawTLX,h=r+e.drawTRX,x=C+e.drawTLY,f=C+e.drawBLY,l;i<s?l=s-i:h>o?l=o-h:l=0;var a;x<y?a=y-x:f>S?a=S-f:a=0,t._textOX+=l,t._textOY+=a},tO=function(e){var t=e.parent,s=t.text;e.requestCursorPosition!==null&&(e.setCursorPosition(e.requestCursorPosition),e.requestCursorPosition=null);var o=e.cursorPosition;if(e.prevCursorPosition!==o){if(e.prevCursorPosition!==null&&e.prevCursorPosition>s.length&&(e.prevCursorPosition=null),e.prevCursorPosition!==null){var y=t.getCharChild(e.prevCursorPosition);y&&(y.text===`
`&&y.clearTextSize(),t.emit("cursorout",y,e.prevCursorPosition,t))}if(o!=null){var y=t.getCharChild(o);y&&(y.text===`
`&&y.copyTextSize(t.lastInsertCursor),_A(y),t.emit("cursorin",y,o,t))}t.emit("movecursor",o,e.prevCursorPosition,t),e.prevCursorPosition=o}},bv=function(e){var t=e.prevSelectionStart;if(t!==null){for(var s=e.prevSelectionEnd,o=e.parent,y=t;y<s;y++){var S=o.getCharChild(y);S&&o.emit("cursorout",S,y,o)}e.prevSelectionStart=null,e.prevSelectionEnd=null}},Fv=function(e){var t=e.prevCursorPosition;if(t!==null){var s=e.parent,o=s.getCharChild(t);o&&s.emit("cursorout",o,t,s),e.prevCursorPosition=null}};const eO=Phaser.Utils.Objects.GetValue;let iO=class extends jd{constructor(t,s){super(t,s),this.setSelectAllWhenFocusEnable(eO(s,"selectAll",!1)),this.cursorMoveStartIndex=null,this.prevCursorPosition=null,this.prevSelectionStart=null,this.prevSelectionEnd=null,this.firstClickAfterOpen=!1,this.requestCursorPosition=null,t.on("pointerdown",function(o,y,S,r){var C=t.getNearestChild(y,S),i=t.getCharIndex(C);(!this.selectAllWhenFocus||!this.firstClickAfterOpen)&&this.setCursorPosition(i),this.cursorMoveStartIndex=i,this.firstClickAfterOpen=!1},this).on("pointermove",function(o,y,S,r){if(o.isDown){var C=t.getNearestChild(y,S),i=t.getCharIndex(C);this.cursorMoveStartIndex<i?this.selectText(this.cursorMoveStartIndex,i+1):this.selectText(i,this.cursorMoveStartIndex+1)}},this),this.on("open",function(){this.selectAllWhenFocus&&this.selectAll(),this.firstClickAfterOpen=!0,t.emit("open")},this).on("close",function(){t.emit("close")}).on("keydown-ENTER",function(){t.emit("keydown-ENTER")})}initText(){var t=this.parent;return this.prevCursorPosition=null,this.setText(t.text),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var o=this.onUpdateCallback(s,t,this);o!=null&&(s=o)}return t.text!==s&&t.setText(s),this.isOpened?this.selectionStart!==this.selectionEnd?(Fv(this),qA(this)):(bv(this),tO(this)):(bv(this),Fv(this)),this}setNumberInput(){return this.onUpdateCallback=hx,this}setSelectAllWhenFocusEnable(t){return t===void 0&&(t=!0),this.selectAllWhenFocus=t,this}setRequestCursorPosition(t){return this.isOpened?(this.requestCursorPosition=t,this):this}};const sO=Phaser.Utils.Objects.GetValue,rO=["inputType","onOpen","clickOutSideTarget","onFocus","onClose","onBlur","onUpdate","enterClose","readOnly","maxLength","minLength","selectAll"];var nO=function(e,t){var s=sO(t,"edit");return s===void 0&&(s={}),Ss(t,s,rO),new iO(e,s)},$i=function(e,t){if(!e||typeof e=="number")return!1;if(e.hasOwnProperty(t))return!0;if(t.indexOf(".")!==-1){for(var s=t.split("."),o=e,y=0;y<s.length;y++)if(o.hasOwnProperty(s[y]))o=o[s[y]];else return!1;return!0}else return!1},xd=function(e){if(e.parentContainer)return xd(e.parentContainer);var t=Fm(e);return t?xd(t):e},aO=function(e){for(var t=xd(e).cameraFilter,s=e.scene.sys.cameras.cameras,o,y,S=0,r=s.length;S<r;S++)if(o=s[S],y=(t&o.id)>0,!y)return o;return null};class ox extends zt{constructor(t,s){super(t),this.targetCamera=void 0,this.boot()}boot(){this.scene.sys.events.on("prerender",this.resize,this)}destroy(){this.scene&&(this.scene.sys.events.off("prerender",this.resize,this),super.destroy())}resize(){var t=this.scene,s=this.parent,o=aO(s);if(o){s.setScrollFactor(0).setOrigin(.5);var y=t.sys.scale.gameSize,S=y.width,r=y.height,C=1/o.zoom,i=S/2,h=r/2,x=S*C,f=r*C;(s.x!==i||s.y!==h)&&s.setPosition(i,h),(s.width!==x||s.height!==f)&&s.setSize(x,f)}}}const hO=Phaser.GameObjects.Zone;let qd=class extends hO{constructor(t){super(t,0,0,2,2),this.fullWindow=new ox(this)}};var oO=function(e,t){var s=!t.textArea;if(!$i(t,"wrap.vAlign")){var o=s?"center":"top";et(t,"wrap.vAlign",o)}if($i(t,"wrap.wrapMode")||et(t,"wrap.wrapMode","char"),!$i(t,"wrap.maxLines")){var o=s?1:void 0;et(t,"wrap.maxLines",o)}if(s&&et(t,"wrap.wrapWidth",1/0),$i(t,"wrap.useDefaultTextHeight")||et(t,"wrap.useDefaultTextHeight",!0),t.edit||(t.edit={}),!$i(t.edit,"inputType")){var o=s?"text":"textarea";et(t.edit,"inputType",o)}if(t.clickOutSideTarget===!0){var y=new qd(e);e.add.existing(y),t.clickOutSideTarget=y}return t},so=function(e,t,s,o){if(s===void 0&&(s="."),o===void 0&&(o={}),!e)return o;if(t in e)return Object.assign(o,e[t]);t+=s;for(var y in e)y.startsWith(t)&&(o[y.replace(t,"")]=e[y]);return o},lO=function(){var e=this.scene.input.keyboard;this.textEdit.on("open",function(){e.on("keydown-UP",this.cursorMoveUp,this).on("keydown-DOWN",this.cursorMoveDown,this)},this).on("close",function(){e.off("keydown-UP",this.cursorMoveUp,this).off("keydown-DOWN",this.cursorMoveDown,this)},this)},Io=function(e,t,s){if(s===void 0&&(s={}),Array.isArray(t))for(var o,y=0,S=t.length;y<S;y++)o=t[y],s[o]=e[o];else for(var o in t)s[o]=e[o];return s},ga=function(e,t){for(var s in e)if(!(s in t)||e[s]!==t[s])return!1;for(var s in t)if(!(s in e))return!1;return!0},uO=function(e){va(e)||this.setCursorStyle(e).on("cursorin",function(t){var s=this.cursorStyle,o=Io(t.style,s);ga(s,o)||(t.styleSave=o,t.modifyStyle(s))},this).on("cursorout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},dO=function(e){va(e)||this.setRangeStyle(e).on("rangein",function(t){var s=this.rangeStyle,o=Io(t.style,s);ga(s,o)||(t.styleSave=o,t.modifyStyle(s))},this).on("rangeout",function(t){t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},fO=function(e){va(e)||this.setFocusStyle(e).on("open",function(){var t=this.background,s=this.focusStyle,o=Io(t,s);ga(s,o)||(t.styleSave=o,t.modifyStyle(s))},this).on("close",function(){var t=this.background;t.styleSave&&(t.modifyStyle(t.styleSave),t.styleSave=void 0)},this)},cO=function(e){var t=e.createCharChild("|");return t.text="",t};function qi(){}qi.prototype={diff(e,t,s={}){let o=s.callback;typeof s=="function"&&(o=s,s={}),this.options=s;let y=this;function S(a){return o?(setTimeout(function(){o(void 0,a)},0),!0):a}e=this.castInput(e),t=this.castInput(t),e=this.removeEmpty(this.tokenize(e)),t=this.removeEmpty(this.tokenize(t));let r=t.length,C=e.length,i=1,h=r+C;s.maxEditLength&&(h=Math.min(h,s.maxEditLength));let x=[{newPos:-1,components:[]}],f=this.extractCommon(x[0],t,e,0);if(x[0].newPos+1>=r&&f+1>=C)return S([{value:this.join(t),count:t.length}]);function l(){for(let a=-1*i;a<=i;a+=2){let n,d=x[a-1],c=x[a+1],u=(c?c.newPos:0)-a;d&&(x[a-1]=void 0);let v=d&&d.newPos+1<r,p=c&&0<=u&&u<C;if(!v&&!p){x[a]=void 0;continue}if(!v||p&&d.newPos<c.newPos?(n=pO(c),y.pushComponent(n.components,void 0,!0)):(n=d,n.newPos++,y.pushComponent(n.components,!0,void 0)),u=y.extractCommon(n,t,e,a),n.newPos+1>=r&&u+1>=C)return S(vO(y,n.components,t,e,y.useLongestToken));x[a]=n}i++}if(o)(function a(){setTimeout(function(){if(i>h)return o();l()||a()},0)})();else for(;i<=h;){let a=l();if(a)return a}},pushComponent(e,t,s){let o=e[e.length-1];o&&o.added===t&&o.removed===s?e[e.length-1]={count:o.count+1,added:t,removed:s}:e.push({count:1,added:t,removed:s})},extractCommon(e,t,s,o){let y=t.length,S=s.length,r=e.newPos,C=r-o,i=0;for(;r+1<y&&C+1<S&&this.equals(t[r+1],s[C+1]);)r++,C++,i++;return i&&e.components.push({count:i}),e.newPos=r,C},equals(e,t){return this.options.comparator?this.options.comparator(e,t):e===t||this.options.ignoreCase&&e.toLowerCase()===t.toLowerCase()},removeEmpty(e){let t=[];for(let s=0;s<e.length;s++)e[s]&&t.push(e[s]);return t},castInput(e){return e},tokenize(e){return e.split("")},join(e){return e.join("")}};function vO(e,t,s,o,y){let S=0,r=t.length,C=0,i=0;for(;S<r;S++){let x=t[S];if(x.removed){if(x.value=e.join(o.slice(i,i+x.count)),i+=x.count,S&&t[S-1].added){let f=t[S-1];t[S-1]=t[S],t[S]=f}}else{if(!x.added&&y){let f=s.slice(C,C+x.count);f=f.map(function(l,a){let n=o[i+a];return n.length>l.length?n:l}),x.value=e.join(f)}else x.value=e.join(s.slice(C,C+x.count));C+=x.count,x.added||(i+=x.count)}}let h=t[r-1];return r>1&&typeof h.value=="string"&&(h.added||h.removed)&&e.equals("",h.value)&&(t[r-2].value+=h.value,t.pop()),t}function pO(e){return{newPos:e.newPos,components:e.components.slice(0)}}const gO=new qi;function mO(e,t,s){return gO.diff(e,t,s)}const Dv=/^[a-zA-Z\u{C0}-\u{FF}\u{D8}-\u{F6}\u{F8}-\u{2C6}\u{2C8}-\u{2D7}\u{2DE}-\u{2FF}\u{1E00}-\u{1EFF}]+$/u,Iv=/\S/,lx=new qi;lx.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!Iv.test(e)&&!Iv.test(t)};lx.tokenize=function(e){let t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/);for(let s=0;s<t.length-1;s++)!t[s+1]&&t[s+2]&&Dv.test(t[s])&&Dv.test(t[s+2])&&(t[s]+=t[s+2],t.splice(s+1,2),s--);return t};const ux=new qi;ux.tokenize=function(e){let t=[],s=e.split(/(\n|\r\n)/);s[s.length-1]||s.pop();for(let o=0;o<s.length;o++){let y=s[o];o%2&&!this.options.newlineIsToken?t[t.length-1]+=y:(this.options.ignoreWhitespace&&(y=y.trim()),t.push(y))}return t};const xO=new qi;xO.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};const yO=new qi;yO.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};const TO=Object.prototype.toString,na=new qi;na.useLongestToken=!0;na.tokenize=ux.tokenize;na.castInput=function(e){const{undefinedReplacement:t,stringifyReplacer:s=(o,y)=>typeof y>"u"?t:y}=this.options;return typeof e=="string"?e:JSON.stringify(yd(e,null,null,s),s,"  ")};na.equals=function(e,t){return qi.prototype.equals.call(na,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function yd(e,t,s,o,y){t=t||[],s=s||[],o&&(e=o(y,e));let S;for(S=0;S<t.length;S+=1)if(t[S]===e)return s[S];let r;if(TO.call(e)==="[object Array]"){for(t.push(e),r=new Array(e.length),s.push(r),S=0;S<e.length;S+=1)r[S]=yd(e[S],t,s,o,y);return t.pop(),s.pop(),r}if(e&&e.toJSON&&(e=e.toJSON()),typeof e=="object"&&e!==null){t.push(e),r={},s.push(r);let C=[],i;for(i in e)e.hasOwnProperty(i)&&C.push(i);for(C.sort(),S=0;S<C.length;S+=1)i=C[S],r[i]=yd(e[i],t,s,o,i);t.pop(),s.pop()}else r=e;return r}const Td=new qi;Td.tokenize=function(e){return e.slice()};Td.join=Td.removeEmpty=function(e){return e};const CO=Phaser.Utils.Array.Remove;var SO=function(e,t){var s=e.text;if(t!==s){if(s==null&&(s=""),CO(e.children,e.lastInsertCursor),t==="")e.removeChildren();else for(var o=mO(s,t),y=0,S=0,r=o.length;S<r;S++){var C=o[S];C.removed?e.removeText(y,C.count):(C.added&&e.insertText(y,C.value),y+=C.count)}e.children.push(e.lastInsertCursor),e.runWrap(),e.isOpened&&e.textEdit.setText(t),e.emit("textchange",t,e)}};const PO={setTextOYByPercentage(e){return this.setTextOY(-this.textVisibleHeight*e),this},getTextOYPercentage(){var e=this.textVisibleHeight;return e===0?0:this._textOY/-e},setTextOXByPercentage(e){return this.setTextOX(-this.textVisibleWidth*e),this},getTextOXPercentage(){var e=this.textVisibleWidth;return e===0?0:this._textOX/-e}},dh=Phaser.Math.Clamp;var Bv=function(e,t){var s={lineIndex:0,position:0};if(t<0)return s;for(var o=0,y=e.length;o<y;o++){var S=e[o];if(t<=S){s.lineIndex=o;break}t-=S}return s.position=t,s},Gv=function(e,t){var s=0,o=t.lineIndex;if(o<0)return s;for(var y=0,S=e.length;y<S;y++){var r=e[y];if(o>y)s+=r;else if(o===y)s+=Math.min(t.position,r);else break}return s};const EO={cursorMoveLeft(){if(!this.isOpened)return this;var e=dh(this.cursorPosition-1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveRight(){if(!this.isOpened)return this;var e=dh(this.cursorPosition+1,0,this.inputText.length);return this.setCursorPosition(e),this},cursorMoveUp(){if(!this.isOpened)return this;var e=Bv(this.characterCountOfLines,this.cursorPosition);e.lineIndex-=1;var t=dh(Gv(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this},cursorMoveDown(){if(!this.isOpened)return this;var e=Bv(this.characterCountOfLines,this.cursorPosition);e.lineIndex+=1;var t=dh(Gv(this.characterCountOfLines,e),0,this.inputText.length);return this.setCursorPosition(t),this}},Nv=Phaser.Utils.Objects.IsPlainObject;class ma extends un{constructor(t,s,o,y,S,r){Nv(s)?r=s:Nv(y)&&(r=y),r===void 0&&(r={}),oO(t,r);var C=r.text;C&&delete r.text;var i=so(r.background,"focus"),h=so(r.style,"cursor"),x=so(r.style,"range");super(t,s,o,y,S,r),this.type="rexCanvasInput",this.contentWidth=void 0,this.contentHeight=void 0,this.lineHeight=void 0,this.linesCount=void 0,this.characterCountOfLines=[],this._text,this.textEdit=nO(this,r),lO.call(this),r.focusStyle&&Object.assign(i,r.focusStyle),fO.call(this,i),r.cursorStyle&&Object.assign(h,r.cursorStyle),uO.call(this,h),r.rangeStyle&&Object.assign(x,r.rangeStyle),va(x)&&Object.assign(x,h),dO.call(this,x);var f=r.onAddChar;f&&this.on("addchar",f);var l=r.onCursorIn;l&&this.on("cursorin",l);var a=r.onCursorOut;a&&this.on("cursorout",a);var n=!r.onRangeIn&&!r.onRangeOut,d=n?r.onCursorIn:r.onRangeIn;d&&this.on("rangein",d);var c=n?r.onCursorOut:r.onRangeOut;c&&this.on("rangeout",c);var u=r.onMoveCursor;u&&this.on("movecursor",u),this.setParseTextCallback(r.parseTextCallback),this.lastInsertCursor=cO(this),C||(C=""),this.setText(C)}addChild(t,s){if(super.addChild(t,s),Array.isArray(t))for(var o=t,y=0,S=o.length;y<S;y++){var t=o[y];dr(t)&&this.emit("addchar",t,s+y,this)}else dr(t)&&this.emit("addchar",t,s,this);return this}get text(){return this._text}set text(t){t==null?t="":t=t.toString(),this._text!==t&&(SO(this,t),this._text=t)}setText(t){return this.text=t,this}appendText(t){return this.setText(this.text+t),this}runWrap(t){var s=super.runWrap(t);this.contentWidth=s.maxLineWidth,this.contentHeight=s.linesHeight,this.lineHeight=s.lineHeight,this.linesCount=s.lines.length,this.characterCountOfLines.length=0;for(var o=s.lines,y=0,S=o.length;y<S;y++){for(var r=o[y].children,C=0,i=0,h=r.length;i<h;i++){var x=r[i];x.active&&!x.removed&&dr(x)&&C++}this.characterCountOfLines.push(C)}return s}setSize(t,s){return this.width===t&&this.height===s?this:(super.setSize(t,s),this.runWrap(),this)}get displayText(){return this.text}set displayText(t){this.text=t}setDisplayText(t){return this.displayText=t,this}get inputText(){return this.textEdit.text}set inputText(t){this.textEdit.text=t}setInputText(t){return this.inputText=t,this}setParseTextCallback(t){return t||(t=MO),this.parseTextCallback=t,this}get value(){return this.parseTextCallback(this.text)}set value(t){this.setText(t)}getValue(){return this.value}setValue(t){return this.value=t,this}get readOnly(){return this.textEdit.readOnly}set readOnly(t){this.textEdit.readOnly=t}setReadOnly(t){return this.textEdit.setReadOnly(t),this}open(t){return t&&this.textEdit.once("close",t),this.textEdit.open(),this}close(){return this.textEdit.close(),this}get isOpened(){return this.textEdit.isOpened}setFocusStyle(t){return this.focusStyle=t,this}setCursorStyle(t){return this.cursorStyle=t,this}setRangeStyle(t){return this.rangeStyle=t,this}setNumberInput(){return this.textEdit.setNumberInput().setSelectAllWhenFocusEnable(),this.parseTextCallback=Number,this}get maxLength(){return this.textEdit.maxLength}set maxLength(t){this.textEdit.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.textEdit.minLength}set minLength(t){this.textEdit.minLength=t}setMinLength(t){return this.minLength=t,this}get cursorPosition(){return this.textEdit.cursorPosition}set cursorPosition(t){this.isOpened&&(this.textEdit.cursorPosition=t,this.textEdit.requestCursorPosition=t)}setCursorPosition(t){return this.cursorPosition=t,this}get topTextOY(){return 0}get bottomTextOY(){return-this.tableVisibleHeight}get leftTextOX(){return 0}get rightTextOX(){return-this.textVisibleWidth}get textVisibleHeight(){var t=this.contentHeight-this.height;return t<0&&(t=0),t}get textVisibleWidth(){var t=this.contentWidth-this.width;return t<0&&(t=0),t}set t(t){this.setTextOYByPercentage(t).updateTexture()}get t(){return this.getTextOYPercentage()}set s(t){this.setTextOXByPercentage(t).updateTexture()}get s(){return this.getTextOXPercentage()}}var MO=function(e){return e};Object.assign(ma.prototype,PO,EO);st.register("canvasInput",function(e,t,s,o,y){var S=new ma(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CanvasInput",ma);var _d=function(e){return fr(e).loop.delta};const kv=Phaser.Utils.Objects.GetValue,wO=Phaser.Math.Wrap;class dx extends jd{constructor(t,s){s===void 0&&(s={}),s.onUpdate==="number"&&(s.onUpdate=hx),super(t,s),this.setCursor(kv(s,"cursor","|")),this.setCursorFlashDuration(kv(s,"cursorFlashDuration",1e3)),this.cursorFlashTimer=0}initText(){return this.cursorFlashTimer=0,this.prevCursorPosition=void 0,this.setText(this.parent.text),this.setCursorPosition(),this}updateText(){var t=this.parent,s=this.text;if(this.onUpdateCallback){var o=this.onUpdateCallback(s,t,this);o!=null&&(s=o)}if(this.isOpened&&this.hasCursor){var y=this.cursorPosition;s=s.substring(0,y)+this.cursor+s.substring(y),this.prevCursorPosition!==y&&(this.prevCursorPosition=y)}return t.text!==s&&(t.setText(s),this.emit("textchange",s,t,this)),this}setCursor(t){return this._cursor=t,this.hasCursor=t&&t!=="",t}setCursorFlashDuration(t){return this.cursorFlashDuration=t,this}get cursor(){if(!this._isFocused)return this._cursor;var t;this.cursorFlashTimer<this.cursorFlashDuration/2?t=this._cursor:t=" ";var s=this.cursorFlashTimer+_d(this.scene);return this.cursorFlashTimer=wO(s,0,this.cursorFlashDuration),t}}st.register("hiddenEdit",function(e,t){var s=new dx(e,t);return s});et(window,"RexPlugins.UI.HiddenEdit",dx);const RO=Phaser.GameObjects.GetCalcMatrix;var AO=function(e,t,s,o){t.updateData(),s.addToRenderList(t);var y=e.pipelines.set(t.pipeline),S=RO(t,s,o),r=y.calcMatrix.copyFrom(S.calc),C=t._displayOriginX,i=t._displayOriginY,h=s.alpha*t.alpha;e.pipelines.preBatch(t);for(var x=t.geom,f,l=0,a=x.length;l<a;l++)f=x[l],f.visible&&f.webglRender(y,r,h,C,i);e.pipelines.postBatch(t)};const OO=Phaser.Renderer.Canvas.SetTransform;var LO=function(e,t,s,o){t.updateData(),s.addToRenderList(t);var y=e.currentContext;if(OO(e,y,t,s,o)){for(var S=t._displayOriginX,r=t._displayOriginY,C=t.geom,i,h=0,x=C.length;h<x;h++)i=C[h],i.visible&&i.canvasRender(y,S,r);y.restore()}};const bO={renderWebGL:AO,renderCanvas:LO},FO=Phaser.GameObjects.Shape,DO=Phaser.Utils.Array.Remove;class _i extends FO{constructor(t,s,o,y,S){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=2),S===void 0&&(S=y),super(t,"rexShapes",[]),this._width=-1,this._height=-1,this.dirty=!0,this.isSizeChanged=!0,this.shapes={},this.setPosition(s,o),this.setSize(y,S),this.updateDisplayOrigin()}get width(){return this._width}set width(t){this.setSize(t,this._height)}get height(){return this._height}set height(t){this.setSize(this._width,t)}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSize(t,s){this.isSizeChanged=this.isSizeChanged||this._width!==t||this._height!==s,this.dirty=this.dirty||this.isSizeChanged,this._width=t,this._height=s,this.updateDisplayOrigin();var o=this.input;return o&&!o.customHitArea&&(o.hitArea.width=t,o.hitArea.height=s),this}resize(t,s){return this.setSize(t,s),this}get fillColor(){return this._fillColor}set fillColor(t){this.setFillStyle(t,this._fillAlpha)}get fillAlpha(){return this._fillAlpha}set fillAlpha(t){this.setFillStyle(this._fillColor,t)}setFillStyle(t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.fillColor!==t||this.fillAlpha!==s,this._fillColor=t,this._fillAlpha=s,this}get lineWidth(){return this._lineWidth}set lineWidth(t){this.setStrokeStyle(t,this._strokeColor,this._strokeAlpha)}get strokeColor(){return this._strokeColor}set strokeColor(t){this.setStrokeStyle(this._lineWidth,t,this._strokeAlpha)}get strokeAlpha(){return this._strokeAlpha}set strokeAlpha(t){this.setStrokeStyle(this._lineWidth,this._strokeColor,t)}setStrokeStyle(t,s,o){return o===void 0&&(o=1),this.dirty=this.dirty||this.lineWidth!==t||this.strokeColor!==s||this.strokeAlpha!==o,this._lineWidth=t,this._strokeColor=s,this._strokeAlpha=o,this}updateShapes(){}updateData(){if(!this.dirty)return this;this.updateShapes();for(var t=this.geom,s=0,o=t.length;s<o;s++){var y=t[s];y.dirty&&y.updateData()}return this.isSizeChanged=!1,this.dirty=!1,this}clear(){return this.geom.length=0,ws(this.shapes),this.dirty=!0,this}getShape(t){return this.shapes[t]}getShapes(){return this.geom}addShape(t){this.geom.push(t);var s=t.name;return s&&(this.shapes[s]=t),this.dirty=!0,this}deleteShape(t){var s=this.getShape(t);return s&&(delete this.shapes[t],DO(this.geom,s)),this}}Object.assign(_i.prototype,bO);const IO={setBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.boxFillColor!==e||this.boxFillAlpha!==t,this.boxFillColor=e,this.boxFillAlpha=t,this},setUncheckedBoxFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.uncheckedBoxFillColor!==e||this.uncheckedBoxFillAlpha!==t,this.uncheckedBoxFillColor=e,this.uncheckedBoxFillAlpha=t,this},setBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.boxLineWidth!==e||this.boxStrokeColor!==t||this.boxStrokeAlpha!==s,this.boxLineWidth=e,this.boxStrokeColor=t,this.boxStrokeAlpha=s,this},setUncheckedBoxStrokeStyle(e,t,s){return s===void 0&&(s=1),this.dirty=this.dirty||this.uncheckedBoxLineWidth!==e||this.uncheckedBoxStrokeColor!==t||this.uncheckedBoxStrokeAlpha!==s,this.uncheckedBoxLineWidth=e,this.uncheckedBoxStrokeColor=t,this.uncheckedBoxStrokeAlpha=s,this},setCheckerStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.checkerColor!==e||this.checkAlpha!==t,this.checkerColor=e,this.checkAlpha=t,this},setBoxShape(e){return e===void 0&&(e=!1),this.isCircleShape===e?this:(this.isCircleShape=e,this.isSizeChanged=!0,this.dirty=!0,this)}},BO={setBoxSize(e){return this.dirty=this.dirty||this.boxSize!==e,this.boxSize=e,this},setCheckerSize(e){return this.dirty=this.dirty||this.checkerSize!==e,this.checkerSize=e,this}};var GO=function(e,t){return e==null?this.isFilled=!1:(t===void 0&&(t=1),this.isFilled=!0,this.fillColor=e,this.fillAlpha=t),this},NO=function(e,t,s){return e==null||t==null?this.isStroked=!1:(s===void 0&&(s=1),this.isStroked=!0,this.lineWidth=e,this.strokeColor=t,this.strokeAlpha=s),this};const kO={fillStyle:GO,lineStyle:NO};class Bo{constructor(){this.name=void 0,this.dirty=!0,this.visible=!0,this.data=void 0,this.isFilled=!1,this.fillColor=void 0,this.fillAlpha=1,this.isStroked=!1,this.lineWidth=1,this.strokeColor=void 0,this.strokeAlpha=1}setName(t){return this.name=t,this}setVisible(t){return t===void 0&&(t=!0),this.visible=t,this}reset(){return this.setVisible().fillStyle().lineStyle(),this}webglRender(t,s,o,y,S){}canvasRender(t,s,o){}updateData(){this.dirty=!1}}Object.assign(Bo.prototype,kO,wo);const VO=Phaser.Geom.Polygon.Earcut;class xa extends Bo{constructor(){super(),this.pathData=[],this.pathIndexes=[],this.closePath=!1}updateData(){return this.pathIndexes=VO(this.pathData),super.updateData(),this}webglRender(t,s,o,y,S){this.isFilled&&Z0(t,s,this,o,y,S),this.isStroked&&Ro(t,this,o,y,S)}canvasRender(t,s,o){var y=this.pathData,S=y.length-1,r=y[0]-s,C=y[1]-o;t.beginPath(),t.moveTo(r,C),this.closePath||(S-=2);for(var i=2;i<S;i+=2){var h=y[i]-s,x=y[i+1]-o;t.lineTo(h,x)}this.closePath&&t.closePath(),this.isFilled&&(ua(t,this),t.fill()),this.isStroked&&(da(t,this),t.stroke())}}const Vv=Phaser.Math.DegToRad;class vn extends xa{constructor(t,s,o,y,S,r,C,i){t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=360),C===void 0&&(C=!1),i===void 0&&(i=!1),super(),this.setCenterPosition(t,s),this.setRadius(o,y),this.setAngle(S,r,C),this.setPie(i),this.setIterations(32)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setCenterPosition(t,s){return s===void 0&&(s=t),this.x=t,this.y=s,this}get radiusX(){return this._radiusX}set radiusX(t){this.dirty=this.dirty||this._radiusX!==t,this._radiusX=t}get radiusY(){return this._radiusY}set radiusY(t){this.dirty=this.dirty||this._radiusY!==t,this._radiusY=t}setRadius(t,s){return s===void 0&&(s=t),this.radiusX=t,this.radiusY=s,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!==t,this._startAngle=t}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!==t,this._endAngle=t}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!==t,this._anticlockwise=t}setAngle(t,s,o){return o===void 0&&(o=!1),this.startAngle=t,this.endAngle=s,this.anticlockwise=o,this}get pie(){return this._pie}set pie(t){this.dirty=this.dirty||this._pie!==t,this._pie=t}setPie(t){return t===void 0&&(t=!0),this.pie=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){return this.pathData.length=0,this.pie&&this.pathData.push(this.x,this.y),ue(this.x,this.y,this.radiusX,this.radiusY,this.startAngle,this.endAngle,this.anticlockwise,this.iterations,this.pathData),this.pie&&this.pathData.push(this.x,this.y),this.pathData.push(this.pathData[0],this.pathData[1]),super.updateData(),this}canvasRender(t,s,o){t.beginPath();var y=this.x-s,S=this.y-o,r=Vv(this.startAngle),C=Vv(this.endAngle);this.pie&&(t.moveTo(y,S),t.lineTo(y+Math.cos(r)*this.radiusX,S+Math.sin(r)*this.radiusY)),t.ellipse(y,S,this.radiusX,this.radiusY,0,r,C,this.anticlockwise),this.pie&&t.lineTo(y,S),this.isFilled&&(ua(t,this),t.fill()),this.isStroked&&(da(t,this),t.stroke())}}class ri extends vn{constructor(t,s,o){super(t,s,o,o,0,360)}}class zO extends xa{constructor(t){super(),this.setCurve(t),this.setIterations(32)}get curve(){return this._curve}set curve(t){this.dirty=this.dirty||this._curve!==t,this._curve=t}setCurve(t){return this.curve=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){this.pathData.length=0;for(var t=this.curve.getPoints(this.iterations),s=0,o=t.length;s<o;s++)this.pathData.push(t[s].x,t[s].y);return this.pathData.push(t[0].x,t[0].y),super.updateData(),this}}class XO extends vn{constructor(t,s,o,y){super(t,s,o,y,0,360)}}class Os extends xa{constructor(t,s,o,y){t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=0),super(),this.setP0(t,s),this.setP1(o,y)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x0,this.y0),super.updateData(),this}}var YO=function(e,t,s){return s.length=0,e!=null&&s.push(e,t),s};const zv=Phaser.Math.Interpolation.QuadraticBezier;var WO=function(e,t,s,o,y,S){for(var r=S.length,C=S[r-2],i=S[r-1],h=1,x=y-1;h<=x;h++){var f=h/x;S.push(zv(f,C,e,s),zv(f,i,t,o))}return S};const Xv=Phaser.Math.Interpolation.CubicBezier;var UO=function(e,t,s,o,y,S,r,C){for(var i=C.length,h=C[i-2],x=C[i-1],f=1,l=r-1;f<=l;f++){var a=f/l;C.push(Xv(a,h,e,s,y),Xv(a,x,t,o,S))}return C};const Yv=Phaser.Math.Interpolation.CatmullRom;var HO=function(e,t,s){for(var o=s.length,y=s[o-2],S=s[o-1],r=[y],C=[S],i=0,h=e.length;i<h;i+=2)r.push(e[i]),C.push(e[i+1]);for(var i=1,x=t-1;i<=x;i++){var f=i/x;s.push(Yv(r,f),Yv(C,f))}return s},fx=function(e){var t=e.length;if(t<2)return e;var s=e[t-2],o=e[t-1];return e.push(s),e.push(o),e};const $O={clear(){return this.start(),this},start(){return this.startAt(),this},startAt(e,t){return this.restorePathData(),this.accumulationLengths=void 0,YO(e,t,this.pathData),this.firstPointX=e,this.firstPointY=t,this.lastPointX=e,this.lastPointY=t,this},lineTo(e,t,s){return s===void 0&&(s=!1),s&&(e+=this.lastPointX,t+=this.lastPointY),le(e,t,this.pathData),this.lastPointX=e,this.lastPointY=t,this},verticalLineTo(e,t){return this.lineTo(e,this.lastPointY,t),this},horizontalLineTo(e,t){return this.lineTo(this.lastPointX,e,t),this},ellipticalArc(e,t,s,o,y,S,r){return r===void 0&&(r=!1),ue(e,t,s,o,y,S,r,this.iterations,this.pathData),this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this},arc(e,t,s,o,y,S){return this.ellipticalArc(e,t,s,s,o,y,S),this},quadraticBezierTo(e,t,s,o){return WO(e,t,s,o,this.iterations,this.pathData),this.lastPointX=s,this.lastPointY=o,this},cubicBezierTo(e,t,s,o,y,S){return UO(e,t,s,o,y,S,this.iterations,this.pathData),this.lastPointX=y,this.lastPointY=S,this},catmullRomTo(...e){return HO(e,this.iterations,this.pathData),this.lastPointX=e[e.length-2],this.lastPointY=e[e.length-1],this},close(){var e=this.pathData[0],t=this.pathData[1];return(e!==this.lastPointX||t!==this.lastPointY)&&this.lineTo(e,t),this.closePath=!0,this},end(){return fx(this.pathData),this}},KO=Phaser.Math.RotateAround;var ZO=function(e,t,s,o){for(var y={x:0,y:0},S=0,r=o.length-1;S<r;S+=2)y.x=o[S],y.y=o[S+1],KO(y,e,t,s),o[S]=y.x,o[S+1]=y.y;return o},JO=function(e,t,s,o,y){for(var S=0,r=y.length-1;S<r;S+=2){var C=y[S]-e,i=y[S+1]-t;C*=s,i*=o,y[S]=C+e,y[S+1]=i+t}return y},cx=function(e,t,s){for(var o=0,y=s.length-1;o<y;o+=2)s[o]+=e,s[o+1]+=t;return s};const QO=Phaser.Math.DegToRad;Phaser.Math.RotateAround;const jO={rotateAround(e,t,s){if(this.pathData.length===0)return this;s=QO(s),ZO(e,t,s,this.pathData);var o=this.pathData.length;return this.lastPointX=this.pathData[o-2],this.lastPointY=this.pathData[o-1],this},scale(e,t,s,o){return this.pathData.length===0?this:(JO(e,t,s,o,this.pathData),this.lastPointX=this.pathData[pathDataCnt-2],this.lastPointY=this.pathData[pathDataCnt-1],this)},offset(e,t){return cx(e,t,this.pathData),this}};var uo=function(e,t,s,o){s===void 0&&(s=0),o===void 0&&(o=t.length),e.length=o-s;for(var y=0,S=e.length;y<S;y++)e[y]=t[y+s];return e};const qO={savePathData(){return this.pathDataSaved?this:(this.pathDataSave=[...this.pathData],this.pathData.length=0,this.pathDataSaved=!0,this)},restorePathData(){return this.pathDataSaved?(uo(this.pathData,this.pathDataSave),this.pathDataSave=void 0,this.pathDataSaved=!1,this):this}},_O=Phaser.Math.Distance.Between,tL=Phaser.Math.Wrap,eL=Phaser.Math.Linear;var Wv=function(e,t,s,o,y){if(o===void 0&&(o=s,s=0),s=Uv(s),o=Uv(o),s!==o){var S=t[t.length-1],r=S*s,C=S*o;s<o?Hl(e,t,r,C,y):(Hl(e,t,r,S,y),Hl(e,t,0,C,y)),fx(y)}},Hl=function(e,t,s,o,y){for(var S=s>0,r=0,C=t.length;r<C;r++){var i=r*2,h=t[r];if(S){if(h<s)continue;if(h==s)S=!1;else{var x=h-t[r-1],f=1-(h-s)/x;y.push(fh(e,i-2,i,f)),y.push(fh(e,i-1,i+1,f)),S=!1}}if(h<=o){if(y.push(e[i]),y.push(e[i+1]),h===o)break}else{var x=h-t[r-1],f=1-(h-o)/x;y.push(fh(e,i-2,i,f)),y.push(fh(e,i-1,i+1,f));break}}},fh=function(e,t,s,o){var y=e[t],S=e[s];return eL(y,S,o)},Uv=function(e){return e===0?0:e%1===0?1:tL(e,0,1)};const iL={updateAccumulationLengths(){if(this.accumulationLengths==null)this.accumulationLengths=[];else if(this.accumulationLengths.length===this.pathData.length/2)return this;for(var e=this.accumulationLengths,t=this.pathData,s,o,y,S,r,C=0,i=0,h=t.length;i<h;i+=2)y=t[i],S=t[i+1],r=s===void 0?0:_O(s,o,y,S),C+=r,e.push(C),s=y,o=S;return this.totalPathLength=C,this},setDisplayPathSegment(e,t){return this.pathDataSaved||(this.updateAccumulationLengths(),this.savePathData()),this.pathData.length=0,Wv(this.pathDataSave,this.accumulationLengths,e,t,this.pathData),this},appendFromPathSegment(e,t,s){return t===void 0?this.pathData.push(...e.pathData):(e.updateAccumulationLengths(),Wv(e.pathData,e.accumulationLengths,t,s,this.pathData)),this.firstPointX=this.pathData[0],this.firstPointY=this.pathData[1],this.lastPointX=this.pathData[this.pathData.length-2],this.lastPointY=this.pathData[this.pathData.length-1],this}},sL={draw(e,t,s){var o=this.toPoints();return t&&e.fillPoints(o,this.closePath,this.closePath),s&&e.strokePoints(o,this.closePath,this.closePath),this}};var rL=function(e,t){t===void 0&&(t=[]);for(var s=0,o=e.length-1;s<o;s+=2)t.push({x:e[s],y:e[s+1]});return t};const nL=Phaser.Geom.Polygon;var aL=function(e,t){return t===void 0&&(t=new nL),t.setTo(e),t};class vx{constructor(t){t===void 0&&(t=[]),this.pathData=t,this.closePath=!1,this.setIterations(32),this.firstPointX=void 0,this.firstPointY=void 0,this.lastPointX=void 0,this.lastPointY=void 0,this.accumulationLengths=void 0}setIterations(t){return this.iterations=t,this}toPoints(){return rL(this.pathData)}toPolygon(t){return aL(this.pathData,t)}}Object.assign(vx.prototype,$O,jO,qO,iL,sL);class me extends xa{constructor(){super(),this.builder=new vx(this.pathData)}get iterations(){return this.builder.iterations}set iterations(t){this.dirty=this.dirty||this.builder.iterations!==t,this.builder.setIterations(t)}setIterations(t){return this.iterations=t,this}get lastPointX(){return this.builder.lastPointX}get lastPointY(){return this.builder.lastPointY}start(){return this.builder.start(),this.dirty=!0,this}startAt(t,s){return this.builder.startAt(t,s),this.dirty=!0,this}lineTo(t,s,o){return this.builder.lineTo(t,s,o),this.dirty=!0,this}verticalLineTo(t,s){return this.builder.verticalLineTo(t,s),this.dirty=!0,this}horizontalLineTo(t,s){return this.builder.horizontalLineTo(t,s),this.dirty=!0,this}ellipticalArc(t,s,o,y,S,r,C){return this.builder.ellipticalArc(t,s,o,y,S,r,C),this.dirty=!0,this}arc(t,s,o,y,S,r){return this.builder.arc(t,s,o,y,S,r),this.dirty=!0,this}quadraticBezierTo(t,s,o,y){return this.builder.quadraticBezierTo(t,s,o,y),this.dirty=!0,this}cubicBezierTo(t,s,o,y,S,r){return this.builder.cubicBezierTo(t,s,o,y,S,r),this.dirty=!0,this}catmullRomTo(...t){return this.builder.catmullRomTo(...t),this.dirty=!0,this}close(){return this.builder.close(),this.closePath=this.builder.closePath,this.dirty=!0,this}end(){return this.builder.end(),this.dirty=!0,this}rotateAround(t,s,o){return this.builder.rotateAround(t,s,o),this.dirty=!0,this}scale(t,s,o,y){return this.builder.scale(t,s,o,y),this.dirty=!0,this}offset(t,s){return this.builder.offset(t,s),this.dirty=!0,this}toPolygon(t){return this.builder.toPolygon(t)}appendPathFrom(t,s,o){return this.builder.appendFromPathSegment(t.builder,s,o),this}copyPathFrom(t,s,o){return this.builder.clear().appendFromPathSegment(t.builder,s,o),this}setDisplayPathSegment(t,s){return this.builder.setDisplayPathSegment(t,s),this}}const hL=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let oL=class extends Bo{constructor(t,s,o,y){t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=o),super(),this.pathData=[],this.closePath=!0,this.setTopLeftPosition(t,s),this.setSize(o,y)}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}updateData(){this.pathData.length=0;var t=this.x,s=t+this.width,o=this.y,y=o+this.height;return this.pathData.push(t,o),this.pathData.push(s,o),this.pathData.push(s,y),this.pathData.push(t,y),this.pathData.push(t,o),super.updateData(),this}webglRender(t,s,o,y,S){if(this.isFilled){var r=t.fillTint,C=hL(this.fillColor,this.fillAlpha*o);r.TL=C,r.TR=C,r.BL=C,r.BR=C,t.batchFillRect(-y+this.x,-S+this.y,this.width,this.height)}this.isStroked&&Ro(t,this,o,y,S)}canvasRender(t,s,o){this.isFilled&&(ua(t,this),t.fillRect(-s,-o,this.width,this.height)),this.isStroked&&(da(t,this),t.beginPath(),t.rect(-s,-o,this.width,this.height),t.stroke())}};const ch=Phaser.Utils.Objects.GetValue;class fo extends xa{constructor(t,s,o,y,S,r){t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=o),S===void 0&&(S=0),r===void 0&&(r=6),super(),this.setTopLeftPosition(t,s),this.setSize(o,y),this.setRadius(S),this.setIterations(r),this.closePath=!0}get x(){return this._x}set x(t){this.dirty=this.dirty||this._x!==t,this._x=t}get y(){return this._y}set y(t){this.dirty=this.dirty||this._y!==t,this._y=t}setTopLeftPosition(t,s){return this.x=t,this.y=s,this}get width(){return this._width}set width(t){this.dirty=this.dirty||this._width!==t,this._width=t}get height(){return this._height}set height(t){this.dirty=this.dirty||this._height!==t,this._height=t}setSize(t,s){return this.width=t,this.height=s,this}get centerX(){return this.x+this.width/2}set centerX(t){this.x=t-this.width/2}get centerY(){return this.y+this.height/2}set centerY(t){this.y=t-this.height/2}setCenterPosition(t,s){return this.centerX=t,this.centerY=s,this}get radiusTL(){return this._radiusTL}set radiusTL(t){var s=t>0;this.dirty=this.dirty||this._radiusTL!==t||this._convexTL!==s,this._convexTL=s,this._radiusTL=Math.abs(t)}get radiusTR(){return this._radiusTR}set radiusTR(t){var s=t>0;this.dirty=this.dirty||this._radiusTR!==t||this._convexTR!==s,this._convexTR=s,this._radiusTR=Math.abs(t)}get radiusBL(){return this._radiusBL}set radiusBL(t){var s=t>0;this.dirty=this.dirty||this._radiusBL!==t||this._convexBL!==s,this._convexBL=s,this._radiusBL=Math.abs(t)}get radiusBR(){return this._radiusBR}set radiusBR(t){var s=t>0;this.dirty=this.dirty||this._radiusBR!==t||this._convexBR!==s,this._convexBR=s,this._radiusBR=Math.abs(t)}get radius(){return Math.max(this.radiusTL,this.radiusTR,this.radiusBL,this.radiusBR)}set radius(t){typeof t=="number"?(this.radiusTL=t,this.radiusTR=t,this.radiusBL=t,this.radiusBR=t):(this.radiusTL=ch(t,"tl",0),this.radiusTR=ch(t,"tr",0),this.radiusBL=ch(t,"bl",0),this.radiusBR=ch(t,"br",0))}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}get iterations(){return this._iterations}set iterations(t){this.dirty=this.dirty||this._iterations!==t,this._iterations=t}setIterations(t){return this.iterations=t,this}updateData(){var t=this.pathData;t.length=0;var s=this.width,o=this.height,y,S=this.iterations+1;if(y=this.radiusTL,y>0)if(this._convexTL){var r=y,C=y;ue(r,C,y,y,180,270,!1,S,t)}else{var r=0,C=0;ue(r,C,y,y,90,0,!0,S,t)}else le(0,0,t);if(y=this.radiusTR,y>0)if(this._convexTR){var r=s-y,C=y;ue(r,C,y,y,270,360,!1,S,t)}else{var r=s,C=0;ue(r,C,y,y,180,90,!0,S,t)}else le(s,0,t);if(y=this.radiusBR,y>0)if(this._convexBR){var r=s-y,C=o-y;ue(r,C,y,y,0,90,!1,S,t)}else{var r=s,C=o;ue(r,C,y,y,270,180,!0,S,t)}else le(s,o,t);if(y=this.radiusBL,y>0)if(this._convexBL){var r=y,C=o-y;ue(r,C,y,y,90,180,!1,S,t)}else{var r=0,C=o;ue(r,C,y,y,360,270,!0,S,t)}else le(0,o,t);return t.push(t[0],t[1]),cx(this.x,this.y,t),super.updateData(),this}}const lL=Phaser.Renderer.WebGL.Utils.getTintAppendFloatAlpha;let uL=class extends Bo{constructor(t,s,o,y,S,r){t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),super(),this.pathData=[],this.closePath=!0,this.setP0(t,s),this.setP1(o,y),this.setP2(S,r)}get x0(){return this._x0}set x0(t){this.dirty=this.dirty||this._x0!==t,this._x0=t}get y0(){return this._y0}set y0(t){this.dirty=this.dirty||this._y0!==t,this._y0=t}setP0(t,s){return this.x0=t,this.y0=s,this}get x1(){return this._x1}set x1(t){this.dirty=this.dirty||this._x1!==t,this._x1=t}get y1(){return this._y1}set y1(t){this.dirty=this.dirty||this._y1!==t,this._y1=t}setP1(t,s){return this.x1=t,this.y1=s,this}get x2(){return this._x2}set x2(t){this.dirty=this.dirty||this._x2!==t,this._x2=t}get y2(){return this._y2}set y2(t){this.dirty=this.dirty||this._y2!==t,this._y2=t}setP2(t,s){return this.dirty=this.dirty||this.x2!==t||this.y2!==s,this.x2=t,this.y2=s,this}updateData(){return this.pathData.length=0,this.pathData.push(this.x0,this.y0),this.pathData.push(this.x1,this.y1),this.pathData.push(this.x2,this.y2),this.pathData.push(this.x0,this.y0),super.updateData(),this}webglRender(t,s,o,y,S){if(this.isFilled){var r=lL(this.fillColor,this.fillAlpha*o),C=this.x0-y,i=this.y0-S,h=this.x1-y,x=this.y1-S,f=this.x2-y,l=this.y2-S,a=s.getX(C,i),n=s.getY(C,i),d=s.getX(h,x),c=s.getY(h,x),u=s.getX(f,l),v=s.getY(f,l);t.batchTri(a,n,d,c,u,v,r,r,r)}this.isStroked&&Ro(t,this,o,y,S)}canvasRender(t,s,o){var y=this.x1-s,S=this.y1-o,r=this.x2-s,C=this.y2-o,i=this.x3-s,h=this.y3-o;t.beginPath(),t.moveTo(y,S),t.lineTo(r,C),t.lineTo(i,h),t.closePath(),this.isFilled&&(ua(t,this),t.fill()),this.isStroked&&(da(t,this),t.stroke())}};const dL={buildShapes(){this.addShape(new fo().setName("box")).addShape(new me().setName("checker"))},updateShapes(){var e=this.width/2,t=this.height/2,s=Math.min(e,t),o=s*2,y=e-s,S=t-s,r=this.boxLineWidth,C=Math.max(o/10,2),i=this.getShape("box"),h=this.getShape("checker");if(this.isSizeChanged){var l=o*(1-this.boxSize)/2,x=r/2,f=o*this.boxSize-r;i.setTopLeftPosition(y+x+l,S+x+l).setSize(f,f),this.isCircleShape?i.setRadius(f/2):i.setRadius(0);var l=o*(1-this.checkerSize)/2,a=o*this.checkerSize/4,n=a*1,d=a*2,c=a*3;h.startAt(n,d).lineTo(d,c).lineTo(c,n).offset(y+l,S+l).end()}this.checked?(i.fillStyle(this.boxFillColor,this.boxFillAlpha).lineStyle(r,this.boxStrokeColor,this.boxStrokeAlpha),h.lineStyle(C,this.checkerColor)):(i.fillStyle(this.uncheckedBoxFillColor,this.uncheckedBoxFillAlpha).lineStyle(r,this.uncheckedBoxStrokeColor,this.uncheckedBoxStrokeAlpha),h.lineStyle()),this.checked&&h.setDisplayPathSegment(this.checkerAnimProgress)}},ls=Phaser.Utils.Objects.GetValue,fL=Phaser.Math.Linear;class ji extends mr{constructor(t,s){super(t,s),this.resetFromJSON(),this.boot()}start(t){if(this.timer.isRunning)return this;var s=this.target;this.propertyKey=ls(t,"key","value");var o=s[this.propertyKey];return this.fromValue=ls(t,"from",o),this.toValue=ls(t,"to",o),this.setEase(ls(t,"ease",this.ease)),this.setDuration(ls(t,"duration",this.duration)),this.setRepeat(ls(t,"repeat",0)),this.setDelay(ls(t,"delay",0)),this.setRepeatDelay(ls(t,"repeatDelay",0)),this.timer.setDuration(this.duration).setRepeat(this.repeat).setDelay(this.delay).setRepeatDelay(this.repeatDelay),s[this.propertyKey]=this.fromValue,super.start(),this}updateTarget(t,s){var o=s.t;o=this.easeFn(o),t[this.propertyKey]=fL(this.fromValue,this.toValue,o)}}const cL={setCheckerAnimationDuration(e){return e===void 0&&(e=0),this.checkerAnimDuration=e,this},playCheckerAnimation(){return this.checkerAnimProgressTask===void 0&&(this.checkerAnimProgressTask=new ji(this,{eventEmitter:null})),this.checkerAnimProgressTask.restart({key:"checkerAnimProgress",from:0,to:1,duration:this.checkerAnimDuration}),this},stopCheckerAnimation(){return this.checkerAnimProgressTask===void 0?this:(this.checkerAnimProgressTask.stop(),this)}};var px={};Object.assign(px,IO,BO,dL,cL);const jn=23730,vL=16777215,$t=Phaser.Utils.Objects.GetValue,Hv=Phaser.Utils.Objects.IsPlainObject;class gx extends _i{constructor(t,s,o,y,S,r,C){Hv(s)?(C=s,s=$t(C,"x",0),o=$t(C,"y",0),y=$t(C,"width",2),S=$t(C,"height",2),r=$t(C,"color",jn)):Hv(r)&&(C=r,r=$t(C,"color",jn)),super(t,s,o,y,S),this.type="rexCheckbox",r===void 0&&(r=jn),this.setBoxShape($t(C,"circleBox",!1)),this.setBoxFillStyle(r,$t(C,"boxFillAlpha",1)),this.setUncheckedBoxFillStyle($t(C,"uncheckedColor",null),$t(C,"uncheckedBoxFillAlpha",1)),this.setBoxStrokeStyle($t(C,"boxLineWidth",4),$t(C,"boxStrokeColor",r),$t(C,"boxStrokeAlpha",1)),this.setUncheckedBoxStrokeStyle(this.boxLineWidth,$t(C,"uncheckedBoxStrokeColor",this.boxStrokeColor),$t(C,"uncheckedBoxStrokeAlpha",this.boxStrokeAlpha)),this.setCheckerStyle($t(C,"checkerColor",vL),$t(C,"checkerAlpha",1)),this.setBoxSize($t(C,"boxSize",1)),this.setCheckerSize($t(C,"checkerSize",1)),this.setCheckerAnimationDuration($t(C,"animationDuration",150)),this.buildShapes();var i=$t(C,"checked");i===void 0&&(i=$t(C,"value",!1)),this.setValue(i)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,t?this.playCheckerAnimation():this.stopCheckerAnimation(),this.emit("valuechange",t))}setValue(t){return this.value=t,this}toggleValue(){return this.setValue(!this.value),this}get checked(){return this.value}set checked(t){this.value=t}setChecked(t){return t===void 0&&(t=!0),this.setValue(t),this}toggleChecked(){return this.toggleValue(),this}get checkerAnimProgress(){return this._checkerAnimProgress}set checkerAnimProgress(t){this._checkerAnimProgress!==t&&(this._checkerAnimProgress=t,this.dirty=!0)}}Object.assign(gx.prototype,px);const Rn=Phaser.Utils.Objects.GetValue;class ts extends zt{constructor(t,s){super(t,s),this._enable=void 0,t.setInteractive(Rn(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.isDown=!1,this.isOver=!1,this.setEnable(Rn(t,"enable",!0)),this.setMode(Rn(t,"mode",1)),this.setClickInterval(Rn(t,"clickInterval",100)),this.setDragThreshold(Rn(t,"threshold",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPress,this),t.on("pointerup",this.onRelease,this),t.on("pointerout",this.onPointOut,this),t.on("pointermove",this.onMove,this),t.on("pointerover",this.onOver,this),t.on("pointerout",this.onOut,this)}shutdown(t){this.isShutdown||(this.pointer=null,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=pL[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}onPress(t,s,o,y){this.pointer===void 0&&(this.pointer=t,this.isDown=!0,this.emit("down",this,this.parent,t,y),this.mode===0&&this.click(t.downTime,t,y))}onRelease(t,s,o,y){this.pointer===t&&(this.isDown=!1,this.emit("up",this,this.parent,t,y),this.mode===1&&this.click(t.upTime,t,y),this.pointer=void 0)}onPointOut(t,s){this.pointer===t&&this.cancel()}onMove(t,s,o,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&t.getDistance()>=this.dragThreshold&&this.cancel()}onOver(t,s,o,y){return this.enable?(this.isOver=!0,this.emit("over",this,this.parent,t,y),this):this}onOut(t,s){return this.enable?(this.isOver=!1,this.emit("out",this,this.parent,t,s),this):this}click(t,s,o){if(!this.enable)return this;if(t===void 0)return this.emit("click",this,this.parent,s,o),this;this.pointer=void 0;var y=this.lastClickTime;return y!==void 0&&t-y<=this.clickInterval?this:(this.lastClickTime=t,this.emit("click",this,this.parent,s,o),this)}cancel(){return this.pointer=void 0,this}}const pL={press:0,pointerdown:0,release:1,pointerup:1},us=Phaser.Utils.Objects.GetValue,$v=Phaser.Utils.Objects.IsPlainObject;class tf extends gx{constructor(t,s,o,y,S,r,C){$v(s)?(C=s,s=us(C,"x",0),o=us(C,"y",0),y=us(C,"width",2),S=us(C,"height",2),r=us(C,"color",jn)):$v(r)&&(C=r,r=us(C,"color",jn)),super(t,s,o,y,S,r,C),this._click=new ts(this,us(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(us(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("checkbox",function(e,t,s,o,y,S){var r=new tf(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.Checkbox",tf);const gL={setTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.trackFillColor!==e||this.trackFillAlpha!==t,this.trackFillColor=e,this.trackFillAlpha=t,this},setFalseValueTrackFillStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.falseValueTrackColor!==e||this.uncheckedTrackFillAlpha!==t,this.falseValueTrackColor=e,this.falseValueTrackFillAlpha=t,this},setThumbStyle(e,t){return t===void 0&&(t=1),this.dirty=this.dirty||this.thumbColor!==e||this.checkAlpha!==t,this.thumbColor=e,this.thumbAlpha=t,this}},mL={setTrackSize(e,t){return this.dirty=this.dirty||this.trackWidth!==e||this.trackHeight!==t,this.trackWidth=e,this.trackHeight=t,this},setTrackRadius(e){return this.dirty=this.dirty||this.trackRadius!==e,this.trackRadius=e,this},setThumbSize(e,t){return t===void 0&&(t=e),this.dirty=this.dirty||this.thumbWidth!==e||this.thumbHeight!==t,this.thumbWidth=e,this.thumbHeight=t,this},setThumbRadius(e){return this.dirty=this.dirty||this.thumbRadius!==e,this.thumbRadius=e,this}},xL={setThumbPosition(e,t){return t===void 0&&(t=1-e),this.thumbLeftX=e,this.thumbRightX=t,this},setRTL(e){return e===void 0&&(e=!0),this.rtl=e,this}};/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://github.com/photonstorm/phaser/blob/master/license.txt|MIT License}
 */var $l=function(e,t,s){return(t-e)*s+e},yL=function(e,t,s){var o=$l(ta(e),ta(t),s),y=$l(ea(e),ea(t),s),S=$l(ia(e),ia(t),s);return(o&255)<<16|(y&255)<<8|S&255};const Kv=Phaser.Math.Linear,TL={buildShapes(){this.addShape(new fo().setName("track")).addShape(new fo().setName("thumb"))},updateShapes(){var e=this.width,t=this.height,s=this.value?this.toggleAnimProgress:1-this.toggleAnimProgress,o=this.getShape("track");if(this.isSizeChanged){var y=e*this.trackWidth,S=t*this.trackHeight,r=(e-y)/2,C=(t-S)/2,i=t*this.trackRadius;o.setTopLeftPosition(r,C).setSize(y,S).setRadius(i)}var h=yL(this.falseValueTrackColor,this.trackFillColor,s),x=Kv(this.falseValueTrackFillAlpha,this.trackFillAlpha,s);o.fillStyle(h,x);var f=this.getShape("thumb");if(this.isSizeChanged){var l=e*this.thumbWidth,a=t*this.thumbHeight,n=t*this.thumbRadius;f.setSize(l,a).setRadius(n)}var d=Kv(this.thumbLeftX,this.thumbRightX,s)*e;this.rtl&&(d=e-d);var c=t/2;f.setCenterPosition(d,c),f.fillStyle(this.thumbColor,this.thumbAlpha)}},CL={setToggleAnimationDuration(e){return e===void 0&&(e=0),this.toggleAnimDuration=e,this},playToggleAnimation(){return this.toggleAnimProgressTask===void 0&&(this.toggleAnimProgressTask=new ji(this,{eventEmitter:null})),this.toggleAnimProgressTask.restart({key:"toggleAnimProgress",from:0,to:1,duration:this.toggleAnimDuration}),this},stopToggleAnimation(){return this.toggleAnimProgressTask===void 0?this:(this.toggleAnimProgressTask.stop(),this)}};var mx={};Object.assign(mx,gL,mL,xL,TL,CL);var SL=function(e){var t=.3*ta(e)+.59*ea(e)+.11*ia(e);return(t&255)<<16|(t&255)<<8|t&255};const Kt=Phaser.Utils.Objects.GetValue,Zv=Phaser.Utils.Objects.IsPlainObject,Kl=23730,PL=16777215;class xx extends _i{constructor(t,s,o,y,S,r,C){Zv(s)?(C=s,s=Kt(C,"x",0),o=Kt(C,"y",0),y=Kt(C,"width",2),S=Kt(C,"height",2),r=Kt(C,"color",Kl)):Zv(r)&&(C=r,r=Kt(C,"color",Kl)),super(t,s,o,y,S),this.type="rexToggleSwitch",r===void 0&&(r=Kl),this.setTrackFillStyle(r,Kt(C,"trackFillAlpha",1)),this.setFalseValueTrackFillStyle(Kt(C,"falseValueTrackColor",SL(r)),Kt(C,"falseValueTrackFillAlpha",1)),this.setThumbStyle(Kt(C,"thumbColor",PL),Kt(C,"thumbAlpha",1)),this.setTrackSize(Kt(C,"trackWidth",.9),Kt(C,"trackHeight",.5)),this.setTrackRadius(Kt(C,"trackRadius",this.trackHeight*.5));var i=Kt(C,"thumbHeight",void 0),h=Kt(C,"thumbWidth",i);h===void 0&&(h=this.trackHeight*.9),this.setThumbSize(h,i),this.setThumbRadius(Kt(C,"thumbRadius",this.thumbHeight*.5)),this.setThumbPosition(Kt(C,"thumbLeft",.3),Kt(C,"thumbRight",void 0)),this.setRTL(Kt(C,"rtl",!1)),this.setToggleAnimationDuration(Kt(C,"animationDuration",150)),this.buildShapes(),this.setValue(Kt(C,"value",!1),0)}get value(){return this._value}set value(t){t=!!t,this._value!==t&&(this.dirty=!0,this._value=t,this.playToggleAnimation(),this.emit("valuechange",t))}setValue(t,s){s===void 0&&(s=this.toggleAnimDuration);var o=this.toggleAnimDuration;return this.toggleAnimDuration=s,this.value=t,this.toggleAnimDuration=o,this}toggleValue(t){return this.setValue(!this.value,t),this}get toggleAnimProgress(){return this._toggleAnimProgress}set toggleAnimProgress(t){this._toggleAnimProgress!==t&&(this._toggleAnimProgress=t,this.dirty=!0)}}Object.assign(xx.prototype,mx);const Jv=Phaser.Utils.Objects.GetValue;class ef extends xx{constructor(t,s,o,y,S,r,C){super(t,s,o,y,S,r,C),this._click=new ts(this,Jv(C,"click")),this._click.on("click",function(){this.toggleValue()},this),this.setReadOnly(Jv(C,"readOnly",!1))}get readOnly(){return!this._click.enable}set readOnly(t){this._click.enable=!t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}}st.register("toggleSwitch",function(e,t,s,o,y,S){var r=new ef(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.ToggleSwitch",ef);const EL={loadFromURL(e,t){var s=this,o=new Image;return o.onload=function(){s.width!==o.width||s.height!==o.height?s.resize(o.width,o.height):s.clear(),s.context.drawImage(o,0,0),s.updateTexture(),t&&t(),o.onload=null,o.src="",o.remove()},o.src=e,this},loadFromURLPromise(e){var t=this;return new Promise(function(s,o){t.loadFromURL(e,s)})},loadFromFile(e,t){var s=URL.createObjectURL(e);return this.loadFromURL(s,function(){URL.revokeObjectURL(s),t&&t()}),this},loadFromFilePromise(e){var t=this;return new Promise(function(s,o){t.loadFromFile(e,s)})}};class xr extends Fs{}Object.assign(xr.prototype,EL);st.register("canvas",function(e,t,s,o){var y=new xr(this.scene,e,t,s,o);return this.scene.add.existing(y),y});et(window,"RexPlugins.UI.Canvas",xr);const Fr=Phaser.Utils.Objects.GetValue;class yx extends Fs{constructor(t,s,o,y,S,r){super(t,s,o),this.type="rexCircleMaskImage",this.setTexture(y,S,r)}setTexture(t,s,o){typeof s=="object"&&(o=s,s=void 0),typeof o=="string"&&(o={maskType:o});var y=Fr(o,"maskType",0),S=Fr(o,"backgroundColor",void 0),r=Fr(o,"strokeColor",void 0),C=r!=null?10:0,i=Fr(o,"strokeWidth",C);if(y===void 0?y=0:typeof y=="string"&&(y=ML[y]),this._textureKey=t,this._frameName=s,y===null)return this.loadTexture(t,s),this.dirty=!0,this;var h=this.scene.sys.textures.getFrame(t,s);if(!h)return this;h.cutWidth!==this.width||h.cutHeight!==this.height?this.setCanvasSize(h.cutWidth,h.cutHeight):this.clear();var x=this.canvas,f=this.context,l=x.width,a=x.height;S!=null&&(f.fillStyle=S,f.fillRect(0,0,l,a)),f.save(),f.beginPath();var n=i/2;switch(y){case 1:var p=Math.floor(l/2),g=Math.floor(a/2),d=p-n,c=g-n;f.ellipse(p,g,d,c,0,0,2*Math.PI);break;case 2:var u=Fr(o,"radius",0),v=Fr(o,"iteration",void 0);j0(f,n,n,l-i,a-i,u,v);break;default:var p=Math.floor(l/2),g=Math.floor(a/2),m=Math.min(p,g)-n;f.arc(p,g,m,0,2*Math.PI);break}return r!=null&&(f.strokeStyle=r,f.lineWidth=i,f.stroke()),f.clip(),this.loadTexture(t,s),f.restore(),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}const ML={circle:0,ellipse:1,roundRectangle:2};st.register("circleMaskImage",function(e,t,s,o,y){var S=new yx(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CircleMaskImage",yx);const An=Phaser.Utils.Objects.GetValue;class Tx extends Fs{constructor(t,s,o,y,S,r){super(t,s,o),this.type="rexAlphaMaskImage",this.maskFrame=null,this.setTexture(y,S,r)}setTexture(t,s,o){typeof s=="object"&&(o=s,s=void 0),typeof o=="string"&&(o={mask:{key:o}});var y=An(o,"mask.key"),S=An(o,"mask.frame"),r=An(o,"mask.invertAlpha",!1),C=An(o,"mask.scale"),i=An(o,"backgroundColor");if(y){this._maskKey=y,this._maskFrame=S,this._maskScale=C;var h=y?this.scene.sys.textures.get(y):null;this.maskFrame=h?h.get(S):null}this._textureKey=t,this._frameName=s;var x=this.maskFrame;if(x===null)return this.loadTexture(t,s),this.dirty=!0,this;var f=i!=null;this.loadTexture(t,s);var l=this.canvas,a=this.context,n=l.width,d=l.height;a.save(),a.globalCompositeOperation=r?"destination-out":"destination-in";var c,u;this._maskScale!=null?(c=x.cutWidth*this._maskScale,u=x.cutHeight*this._maskScale):(c=n,u=d);var v=(n-c)/2,p=(d-u)/2;return this.drawFrame(this._maskKey,this._maskFrame,v,p,c,u),a.restore(),f&&(a.save(),a.globalCompositeOperation="destination-over",a.fillStyle=i,a.fillRect(0,0,n,d),a.restore()),this.dirty=!0,this}resize(t,s){return this.setDisplaySize(t,s),this}}st.register("alphaMaskImage",function(e,t,s,o,y){var S=new Tx(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.AlphaMaskImage",Tx);const wL=Phaser.Math.Linear,Qv=Phaser.Math.Percent,RL={setValue(e,t,s){return e==null?this:(t!==void 0&&(e=Qv(e,t,s)),this.value=e,this)},addValue(e,t,s){return t!==void 0&&(e=Qv(e,t,s)),this.value+=e,this},getValue(e,t){var s=this.value;return e!==void 0&&t!==void 0&&(s=wL(e,t,s)),s}},AL=Phaser.Math.Percent,OL={setEaseValuePropName(e){return this.easeValuePropName=e,this},setEaseValueDuration(e){return this.easeValueDuration=e,this},setEaseValueFunction(e){return this.easeFunction=e,this},stopEaseValue(){return this.easeValueTask&&this.easeValueTask.stop(),this},easeValueTo(e,t,s){return e==null?this:(t!==void 0&&(e=AL(e,t,s)),this.easeValueTask===void 0&&(this.easeValueTask=new ji(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,to:e,duration:this.easeValueDuration,ease:this.easeFunction}),this)},easeValueRepeat(e,t,s,o){return s===void 0&&(s=-1),o===void 0&&(o=0),this.easeValueTask===void 0&&(this.easeValueTask=new ji(this,{eventEmitter:null})),this.easeValueTask.restart({key:this.easeValuePropName,from:e,to:t,duration:this.easeValueDuration,ease:this.easeFunction,repeat:s,repeatDelay:o}),this}},On=Phaser.Utils.Objects.GetValue,LL=Phaser.Math.Clamp;function Ds(e){class t extends e{bootProgressBase(o){this.eventEmitter=On(o,"eventEmitter",this);var y=On(o,"valuechangeCallback",null);if(y!==null){var S=On(o,"valuechangeCallbackScope",void 0);this.eventEmitter.on("valuechange",y,S)}return this.setEaseValuePropName("value").setEaseValueDuration(On(o,"easeValue.duration",0)).setEaseValueFunction(On(o,"easeValue.ease","Linear")),this}get value(){return this._value}set value(o){o=LL(o,0,1);var y=this._value,S=y!=o;this.dirty=this.dirty||S,this._value=o,S&&this.eventEmitter.emit("valuechange",this._value,y,this.eventEmitter)}}return Object.assign(t.prototype,RL,OL),t}const bL=Phaser.Math.RadToDeg,jv=Phaser.Math.DegToRad;var qv=function(e,t,s,o,y,S,r,C){var i=Math.abs(r-S)===360,h=jv(S),x=jv(r),f=Math.cos(h),l=Math.sin(h),a=Math.cos(x),n=Math.sin(x);return e.startAt(t+f*o,s+l*o),e.arc(t,s,o,S,r,C),i&&y===0||(e.lineTo(t+a*y,s+n*y),y>0&&e.arc(t,s,y,r,S,!0)),e.close(),e};const FL={buildShapes(){var e=this.iterations;this.addShape(new me().setIterations(e).setName("track")).addShape(new me().setIterations(e).setName("bar")).addShape(new ri().setIterations(e).setName("center"))},updateShapes(){var e=this.radius,t=this.thickness*this.radius,s=this.radius,o=s-t,y=this.getShape("track");this.trackColor!=null&&this.thickness>0?(y.fillStyle(this.trackColor),qv(y,e,e,s,o,0,360,!1)):y.reset();var S=this.getShape("bar");if(this.barColor!=null&&this.thickness>0){var r,C,i;if(this.value===1)r=!1,C=0,i=360;else{r=this.anticlockwise,C=bL(this.startAngle);var h=360*(r?1-this.value:this.value);i=h+C}S.fillStyle(this.barColor),qv(S,e,e,s+1,o-1,C,i,!1)}else S.reset();var x=this.getShape("center");this.centerColor&&o>0?x.setCenterPosition(e,e).setRadius(o).fillStyle(this.centerColor):x.reset()}},hi=Phaser.Utils.Objects.GetValue,DL=Phaser.Utils.Objects.IsPlainObject,IL=Phaser.Math.Clamp,BL=Phaser.Math.DegToRad(270);let sf=class extends Ds(_i){constructor(t,s,o,y,S,r,C){DL(s)&&(C=s,s=hi(C,"x",0),o=hi(C,"y",0),y=hi(C,"radius",1),S=hi(C,"barColor",void 0),r=hi(C,"value",0)),y===void 0&&(y=1);var i=y*2;super(t,s,o,i,i),this.type="rexCircularProgress",this.bootProgressBase(C),this.setRadius(y),this.setTrackColor(hi(C,"trackColor",void 0)),this.setBarColor(S),this.setCenterColor(hi(C,"centerColor",void 0)),this.setThickness(hi(C,"thickness",.2)),this.setStartAngle(hi(C,"startAngle",BL)),this.setAnticlockwise(hi(C,"anticlockwise",!1)),this.iterations=hi(C,"iterations",128),this.buildShapes(),this.setValue(r)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t}setStartAngle(t){return this.startAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=IL(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}setCenterColor(t){return this.centerColor=t,this}};Object.assign(sf.prototype,FL);st.register("circularProgress",function(e,t,s,o,y,S){var r=new sf(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.CircularProgress",sf);var Zl=function(e,t,s,o,y,S,r,C,i,h,x,f){h===void 0&&(h=0),x===void 0&&(x=2*Math.PI),f===void 0&&(f=!1),t.beginPath(),t.ellipse(s,o,y,S,0,h,x,f),r!=null&&(t.fillStyle=r,t.fill()),C!=null&&(t.strokeStyle=C,t.lineWidth=i,t.stroke())};const _v=["AliceBlue","AntiqueWhite","Aqua","Aquamarine","Azure","Beige","Bisque","Black","BlanchedAlmond","Blue","BlueViolet","Brown","BurlyWood","CadetBlue","Chartreuse","Chocolate","Coral","CornflowerBlue","Cornsilk","Crimson","Cyan","DarkBlue","DarkCyan","DarkGoldenRod","DarkGray","DarkGrey","DarkGreen","DarkKhaki","DarkMagenta","DarkOliveGreen","DarkOrange","DarkOrchid","DarkRed","DarkSalmon","DarkSeaGreen","DarkSlateBlue","DarkSlateGray","DarkSlateGrey","DarkTurquoise","DarkViolet","DeepPink","DeepSkyBlue","DimGray","DimGrey","DodgerBlue","FireBrick","FloralWhite","ForestGreen","Fuchsia","Gainsboro","GhostWhite","Gold","GoldenRod","Gray","Grey","Green","GreenYellow","HoneyDew","HotPink","IndianRed","Indigo","Ivory","Khaki","Lavender","LavenderBlush","LawnGreen","LemonChiffon","LightBlue","LightCoral","LightCyan","LightGoldenRodYellow","LightGray","LightGrey","LightGreen","LightPink","LightSalmon","LightSeaGreen","LightSkyBlue","LightSlateGray","LightSlateGrey","LightSteelBlue","LightYellow","Lime","LimeGreen","Linen","Magenta","Maroon","MediumAquaMarine","MediumBlue","MediumOrchid","MediumPurple","MediumSeaGreen","MediumSlateBlue","MediumSpringGreen","MediumTurquoise","MediumVioletRed","MidnightBlue","MintCream","MistyRose","Moccasin","NavajoWhite","Navy","OldLace","Olive","OliveDrab","Orange","OrangeRed","Orchid","PaleGoldenRod","PaleGreen","PaleTurquoise","PaleVioletRed","PapayaWhip","PeachPuff","Peru","Pink","Plum","PowderBlue","Purple","RebeccaPurple","Red","RosyBrown","RoyalBlue","SaddleBrown","Salmon","SandyBrown","SeaGreen","SeaShell","Sienna","Silver","SkyBlue","SlateBlue","SlateGray","SlateGrey","Snow","SpringGreen","SteelBlue","Tan","Teal","Thistle","Tomato","Turquoise","Violet","Wheat","White","WhiteSmoke","Yellow","YellowGreen"],GL=[15792383,16444375,65535,8388564,15794175,16119260,16770244,0,16772045,255,9055202,10824234,14596231,6266528,8388352,13789470,16744272,6591981,16775388,14423100,65535,139,35723,12092939,11119017,11119017,25600,12433259,9109643,5597999,16747520,10040012,9109504,15308410,9419919,4734347,3100495,3100495,52945,9699539,16716947,49151,6908265,6908265,2003199,11674146,16775920,2263842,16711935,14474460,16316671,16766720,14329120,8421504,8421504,32768,11403055,15794160,16738740,13458524,4915330,16777200,15787660,15132410,16773365,8190976,16775885,11393254,15761536,14745599,16448210,13882323,13882323,9498256,16758465,16752762,2142890,8900346,7833753,7833753,11584734,16777184,65280,3329330,16445670,16711935,8388608,6737322,205,12211667,9662683,3978097,8087790,64154,4772300,13047173,1644912,16121850,16770273,16770229,16768685,128,16643558,8421376,7048739,16753920,16729344,14315734,15657130,10025880,11529966,14381203,16773077,16767673,13468991,16761035,14524637,11591910,8388736,6697881,16711680,12357519,4286945,9127187,16416882,16032864,3050327,16774638,10506797,12632256,8900331,6970061,7372944,7372944,16775930,65407,4620980,13808780,32896,14204888,16737095,4251856,15631086,16113331,16777215,16119285,16776960,10145074];var Cd={},tp;for(var vh=0,NL=_v.length;vh<NL;vh++)tp=_v[vh].toLowerCase(),Cd[tp]=GL[vh];var kL=function(e){return e=e.toLowerCase(),Cd.hasOwnProperty(e)?Cd[e]:null},Sd=function(e){return typeof e!="string"||(e.startsWith("#")?e=parseInt(e.substring(1),16):e.startsWith("0x")?e=parseInt(e.substring(2),16):e=kL(e)),e};const VL=Phaser.Math.DegToRad,Jl=Phaser.Math.Linear;var zL=function(e,t,s,o,y,S,r,C,i,h,x,f,l){h===void 0&&(h=0),x===void 0&&(x=2*Math.PI),f===void 0&&(f=!1),l===void 0&&(l=2),r=Sd(r),C=Sd(C),Ln=av(r,Ln),bn=av(C,bn);var a=VL(l),n;f?n=h-x:n=x-h,n<0&&(n+=2*Math.PI);var d=Math.ceil(n/a),c=n/d;f&&(c=-c);for(var u=0;u<d;u++){var v=u/d,p=Math.round(Jl(Ln.r,bn.r,v)),g=Math.round(Jl(Ln.g,bn.g,v)),m=Math.round(Jl(Ln.b,bn.b,v)),T=h+u*c,P=T+c;u<d-1&&(P+=c/2),t.beginPath(),t.ellipse(s,o,y,S,0,T,P,f),t.strokeStyle=`rgb(${p},${g},${m})`,t.lineWidth=i,t.stroke()}},Ln,bn,XL=function(e,t,s,o,y,S,r,C,i,h,x){i===void 0&&C!=null&&(i=2),t.font=S,t.textAlign=h,t.textBaseline=x,t.fillStyle=r,t.strokeStyle=C,t.lineWidth=i,t.lineCap="round",t.lineJoin="round",C!=null&&C!=="none"&&i>0&&t.strokeText(y,s,o),r!=null&&r!=="none"&&t.fillText(y,s,o)};const Ql=Phaser.Math.PI2;var YL=function(){var e=this.radius,t=this.thickness*this.radius,s=this.radius-t/2,o=this.radius-t,y=this.canvas,S=this.context,r=this.anticlockwise,C=this.startAngle,i=this.endAngle,h=this._deltaAngle;if(this.trackColor&&t>0&&(S.save(),Zl(y,S,e,e,s,s,void 0,this.trackColor,t,C,i,r),S.restore()),this.barColor&&s>0){var x;this.value>=1?x=i:r?x=(C-h*this.value+Ql)%Ql:x=(C+h*this.value)%Ql,S.save(),this.barColor2?zL(y,S,e,e,s,s,this.barColor2,this.barColor,t,C,x,r):Zl(y,S,e,e,s,s,void 0,this.barColor,t,C,x,r),S.restore()}if(this.centerColor&&o>0){var f;this.centerColor2?(f=this.context.createRadialGradient(e,e,0,e,e,o),f.addColorStop(0,this.centerColor),f.addColorStop(1,this.centerColor2)):f=this.centerColor,S.save(),Zl(y,S,e,e,o,o,f),S.restore()}this.textFormatCallback&&(this.textColor||this.textStrokeColor)&&(S.save(),XL(y,S,e,e,this.getFormatText(),this.textFont,this.textColor,this.textStrokeColor,this.textStrokeThickness,"center","middle"),S.restore())};const Yt=Phaser.Utils.Objects.GetValue,WL=Phaser.Utils.Objects.IsPlainObject,UL=Phaser.Math.Clamp,HL=Phaser.Math.DegToRad(270),co=Phaser.Math.PI2;class Go extends Ds(Fs){constructor(t,s,o,y,S,r,C){WL(s)&&(C=s,s=Yt(C,"x",0),o=Yt(C,"y",0),y=Yt(C,"radius",1),S=Yt(C,"barColor",void 0),r=Yt(C,"value",0));var i=y*2,h=Yt(C,"resolution",1);super(t,s,o,i,i,h),this.type="rexCircularProgressCanvas",this.bootProgressBase(C),this.setRadius(y),this.setTrackColor(Yt(C,"trackColor",void 0)),this.setBarColor(S),this.setBarColor2(Yt(C,"barColor2",void 0)),this.setCenterColor(Yt(C,"centerColor",void 0)),this.setThickness(Yt(C,"thickness",.2)),this.setAnticlockwise(Yt(C,"anticlockwise",!1)),this.setStartAngle(Yt(C,"startAngle",HL));var x=Yt(C,"endAngle");x===void 0&&(this.anticlockwise?x=this.startAngle-co:x=this.startAngle+co),this.setEndAngle(Yt(C,"endAngle",x)),this.setTextColor(Yt(C,"textColor",void 0)),this.setTextStrokeColor(Yt(C,"textStrokeColor",void 0),Yt(C,"textStrokeThickness",void 0));var f=Yt(C,"textFont",void 0);f?this.setTextFont(f):this.setTextFont(Yt(C,"textSize","16px"),Yt(C,"textFamily","Courier"),Yt(C,"textStyle","")),this.setTextFormatCallback(Yt(C,"textFormatCallback",void 0),Yt(C,"textFormatCallbackScope",void 0)),this.setValue(r)}resize(t,s){return t=Math.floor(Math.min(t,s)),t===this.width?this:(super.resize(t,t),this.setRadius(t/2),this)}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t;var s=t*2;this.resize(s,s)}setRadius(t){return this.radius=t,this}get trackColor(){return this._trackColor}set trackColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get barColor(){return this._barColor}set barColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get barColor2(){return this._barColor2}set barColor2(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}setBarColor2(t){return this.barColor2=t,this}get startAngle(){return this._startAngle}set startAngle(t){this.dirty=this.dirty||this._startAngle!=t,this._startAngle=t,this._deltaAngle=jl(this._startAngle,this._endAngle,this._anticlockwise)}setStartAngle(t){return this.startAngle=t,this}get endAngle(){return this._endAngle}set endAngle(t){this.dirty=this.dirty||this._endAngle!=t,this._endAngle=t,this._deltaAngle=jl(this._startAngle,this._endAngle,this._anticlockwise)}setEndAngle(t){return this.endAngle=t,this}get anticlockwise(){return this._anticlockwise}set anticlockwise(t){this.dirty=this.dirty||this._anticlockwise!=t,this._anticlockwise=t,this._deltaAngle=jl(this._startAngle,this._endAngle,this._anticlockwise)}setAnticlockwise(t){return t===void 0&&(t=!0),this.anticlockwise=t,this}get thickness(){return this._thickness}set thickness(t){t=UL(t,0,1),this.dirty=this.dirty||this._thickness!=t,this._thickness=t}setThickness(t){return this.thickness=t,this}get centerColor(){return this._centerColor}set centerColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor!=t,this._centerColor=t}get centerColor2(){return this._centerColor2}set centerColor2(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._centerColor2!=t,this._centerColor2=t}setCenterColor(t,s){return this.centerColor=t,this.centerColor2=s,this}get textColor(){return this._textColor}set textColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._textColor!=t,this._textColor=t}setTextColor(t){return this.textColor=t,this}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._textStrokeColor!=t,this._textStrokeColor=t}get textStrokeThickness(){return this._textStrokeThickness}set textStrokeThickness(t){this.dirty=this.dirty||this._textStrokeThickness!=t,this._textStrokeThickness=t}setTextStrokeColor(t,s){return s===void 0&&(s=2),this.textStrokeColor=t,this.textStrokeThickness=s,this}get textFont(){return this._textFont}set textFont(t){this.dirty=this.dirty||this._textFont!=t,this._textFont=t}setTextFont(t,s,o){var y;return s===void 0?y=t:y=o+" "+t+" "+s,this.textFont=y,this}setTextFormatCallback(t,s){return this.textFormatCallback=t,this.textFormatCallbackScope=s,this}updateTexture(){return super.updateTexture(function(){this.clear(),YL.call(this)},this),this}getFormatText(t){t===void 0&&(t=this.value);var s;return this.textFormatCallbackScope?s=this.textFormatCallback(t):s=this.textFormatCallback.call(this.textFormatCallbackScope,t),s}}var jl=function(e,t,s){return s?e<=t?co+e-t:e-t:e>=t?co+t-e:t-e};st.register("circularProgressCanvas",function(e,t,s,o,y,S){var r=new Go(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.CircularProgressCanvas",Go);var $L=function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,o=this.getShape("trackFill");o.fillStyle(this.trackColor),o.isFilled&&ql(o,0,0,t,s,e);var y=this.getShape("bar");if(y.fillStyle(this.barColor),y.isFilled){var S,r;this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),ql(y,S,0,r,s,e)}var C=this.getShape("trackStroke");C.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),C.isStroked&&ql(C,0,0,t,s,e)},ql=function(e,t,s,o,y,S){var r=(t+o)/2;return S>=0?e.startAt(r+S,s).lineTo(o+S,s).lineTo(o,y).lineTo(t,y).lineTo(t+S,s).lineTo(r+S,s):e.startAt(r,s).lineTo(o,s).lineTo(o-S,y).lineTo(t-S,y).lineTo(t,s).lineTo(r,s),e.close(),e};const Fn=Phaser.Utils.Objects.GetValue,_l=Phaser.Utils.Objects.IsPlainObject;let No=class extends Ds(_i){constructor(t,s,o,y,S,r,C,i){_l(s)?(i=s,s=i.x,o=i.y,y=i.width,S=i.height,r=i.barColor,C=i.value):_l(y)?(i=y,y=i.width,S=i.height,r=i.barColor,C=i.value):_l(r)&&(i=r,r=i.barColor,C=i.value),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=2),S===void 0&&(S=y),C===void 0&&(C=0),super(t,s,o,y,S,i),this.type="rexLineProgress",this.bootProgressBase(i),this.addShape(new me().setName("trackFill")).addShape(new me().setName("bar")).addShape(new me().setName("trackStroke")),this.setTrackColor(Fn(i,"trackColor",void 0)),this.setBarColor(r),this.setTrackStroke(Fn(i,"trackStrokeThickness",2),Fn(i,"trackStrokeColor",void 0)),this.setSkewX(Fn(i,"skewX",0)),this.setRTL(Fn(i,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}};var KL={updateShapes:$L};Object.assign(No.prototype,KL);st.register("lineProgress",function(e,t,s,o,y,S,r){var C=new No(this.scene,e,t,s,o,y,S,r);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.LineProgress",No);var Pd=function(e,t,s,o,y){e.setIterations(y).start();var C=o.tl;if(Vt(C))if(C.convex){var S=C.x,r=C.y;e.ellipticalArc(S,r,C.x,C.y,180,270,!1)}else{var S=0,r=0;e.ellipticalArc(S,r,C.x,C.y,90,0,!0)}else e.lineTo(0,0);var C=o.tr;if(Vt(C))if(C.convex){var S=t-C.x,r=C.y;e.ellipticalArc(S,r,C.x,C.y,270,360,!1)}else{var S=t,r=0;e.ellipticalArc(S,r,C.x,C.y,180,90,!0)}else e.lineTo(t,0);var C=o.br;if(Vt(C))if(C.convex){var S=t-C.x,r=s-C.y;e.ellipticalArc(S,r,C.x,C.y,0,90,!1)}else{var S=t,r=s;e.ellipticalArc(S,r,C.x,C.y,270,180,!0)}else e.lineTo(t,s);var C=o.bl;if(Vt(C))if(C.convex){var S=C.x,r=s-C.y;e.ellipticalArc(S,r,C.x,C.y,90,180,!1)}else{var S=0,r=s;e.ellipticalArc(S,r,C.x,C.y,360,270,!0)}else e.lineTo(0,s);return e.close(),e},ph=Phaser.Math.RadToDeg,ZL=function(e,t,s,o,y){var S=t*y,h=o.tl;if(Vt(h)){var r;S>h.x?r=90:r=ph(Math.acos((h.x-S)/h.x));var C=h.x,i=h.y;e.ellipticalArc(C,i,h.x,h.y,180,180+r,!1)}else e.lineTo(0,0);var h=o.tr;if(Vt(h)&&S>t-h.x){var r=90-ph(Math.acos((S-(t-h.x))/h.x)),C=t-h.x,i=h.y;e.ellipticalArc(C,i,h.x,h.y,270,270+r,!1)}else e.lineTo(S,0);var h=o.br;if(Vt(h)&&S>t-h.x){var r=90-ph(Math.acos((S-(t-h.x))/h.x)),C=t-h.x,i=s-h.y;e.ellipticalArc(C,i,h.x,h.y,90-r,90,!1)}else e.lineTo(S,s);var h=o.bl;if(Vt(h)){var r;S>h.x?r=90:r=ph(Math.acos((h.x-S)/h.x));var C=h.x,i=s-h.y;e.ellipticalArc(C,i,h.x,h.y,180-r,180,!1)}else e.lineTo(0,s)},gh=Phaser.Math.RadToDeg,JL=function(e,t,s,o,y){var S=s*y,h=o.tl;if(Vt(h)){var r;S>h.y?r=90:r=gh(Math.acos((h.y-S)/h.y));var C=h.x,i=h.y;e.ellipticalArc(C,i,h.x,h.y,270-r,270,!1)}else e.lineTo(0,0);var h=o.tr;if(Vt(h)){var r;S>h.y?r=90:r=gh(Math.acos((h.y-S)/h.y));var C=t-h.x,i=h.y;e.ellipticalArc(C,i,h.x,h.y,270,270+r,!1)}else e.lineTo(t,0);var h=o.br;if(Vt(h)&&S>s-h.y){var r=90-gh(Math.acos((S-(s-h.y))/h.y)),C=t-h.x,i=s-h.y;e.ellipticalArc(C,i,h.x,h.y,0,0+r,!1)}else e.lineTo(t,S);var h=o.bl;if(Vt(h)&&S>s-h.y){var r=90-gh(Math.acos((S-(s-h.y))/h.y)),C=h.x,i=s-h.y;e.ellipticalArc(C,i,h.x,h.y,180-r,180,!1)}else e.lineTo(0,S)},mh=Phaser.Math.RadToDeg,QL=function(e,t,s,o,y){var S=t*y,h=o.tr;if(Vt(h)){var r;S>h.x?r=90:r=mh(Math.acos((h.x-S)/h.x));var C=t-h.x,i=h.y;e.ellipticalArc(C,i,h.x,h.y,360-r,360,!1)}else e.lineTo(t,0);var h=o.br;if(Vt(h)){var r;S>h.x?r=90:r=mh(Math.acos((h.x-S)/h.x));var C=t-h.x,i=s-h.y;e.ellipticalArc(C,i,h.x,h.y,0,0+r,!1)}else e.lineTo(t,s);var h=o.bl;if(Vt(h)&&S>t-h.x){var r=90-mh(Math.acos((S-(t-h.x))/h.x)),C=h.x,i=s-h.y;e.ellipticalArc(C,i,h.x,h.y,90,90+r,!1)}else e.lineTo(t-S,s);var h=o.tl;if(Vt(h)&&S>t-h.x){var r=90-mh(Math.acos((S-(t-h.x))/h.x)),C=h.x,i=h.y;e.ellipticalArc(C,i,h.x,h.y,270-r,270,!1)}else e.lineTo(t-S,0)},xh=Phaser.Math.RadToDeg,jL=function(e,t,s,o,y){var S=s*y,h=o.br;if(Vt(h)){S>h.y?i=90:i=xh(Math.acos((h.y-S)/h.y));var r=t-h.x,C=s-h.y;e.ellipticalArc(r,C,h.x,h.y,90-i,90,!1)}else e.lineTo(t,s);var h=o.bl;if(Vt(h)){S>h.y?i=90:i=xh(Math.acos((h.y-S)/h.y));var r=h.x,C=s-h.y;e.ellipticalArc(r,C,h.x,h.y,90,90+i,!1)}else e.lineTo(0,s);var h=o.tl;if(Vt(h)&&S>s-h.y){var i=90-xh(Math.acos((S-(s-h.y))/h.y)),r=h.x,C=h.y;e.ellipticalArc(r,C,h.x,h.y,180,180+i,!1)}else e.lineTo(0,s-S);var h=o.tr;if(Vt(h)&&S>s-h.y){var i=90-xh(Math.acos((S-(s-h.y))/h.y)),r=t-h.x,C=h.y;e.ellipticalArc(r,C,h.x,h.y,360-i,360,!1)}else e.lineTo(t,s-S)},qL=function(e,t,s,o,y,S,r,C){if(e.setIterations(C).start(),y===0)return e;if(y===1)return Pd(e,t,s,o,C);var i;return S===0?i=r?QL:ZL:i=r?jL:JL,i(e,t,s,o,y),e.close(),e},_L=function(){var e=this.width,t=this.height,s=this.rrGeom.cornerRadius,o=this.value,y=this.orientation,S=this.rtl,r=this.iteration+1,C=this.getShape("trackFill");C.fillStyle(this.trackColor),C.isFilled&&Pd(C,e,t,s,r);var i=this.getShape("bar");i.fillStyle(this.barColor),i.isFilled&&qL(i,e,t,s,o,y,S,r);var h=this.getShape("trackStroke");h.lineStyle(this.trackStrokeThickness,this.trackStrokeColor),h.isStroked&&Pd(h,e,t,s,r)},tb={x:0,h:0,horizontal:0,"left-to-right":0,y:1,v:1,vertical:1,"top-to-bottom":1},yr=function(e){return typeof e=="string"&&(e=tb[e]),e};const Dr=Phaser.Utils.Objects.GetValue,tu=Phaser.Utils.Objects.IsPlainObject;class rf extends Ds(_i){constructor(t,s,o,y,S,r,C,i,h){tu(s)?(h=s,s=h.x,o=h.y,y=h.width,S=h.height,r=h.radius,C=h.barColor,i=h.value):tu(y)?(h=y,y=h.width,S=h.height,r=h.radius,C=h.barColor,i=h.value):tu(r)&&(h=r,r=h.radius,C=h.barColor,i=h.value),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=y),r===void 0&&(r=0),i===void 0&&(i=0),super(t,s,o,y,S,h),this.type="rexRoundRectangleProgress",this.rrGeom=new Id,this.bootProgressBase(h),this.addShape(new me().setName("trackFill")).addShape(new me().setName("bar")).addShape(new me().setName("trackStroke")),this.setTrackColor(Dr(h,"trackColor",void 0)),this.setBarColor(C),this.setTrackStroke(Dr(h,"trackStrokeThickness",2),Dr(h,"trackStrokeColor",void 0)),this.setOrientation(Dr(h,"orientation",0)),this.setRTL(Dr(h,"rtl",!1)),this.setRadius(r),this.setIteration(Dr(r,"iteration",void 0)),this.setValue(i)}get trackColor(){return this._trackColor}set trackColor(t){this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){this.dirty=this.dirty||this._barColor!=t,this._barColor=t}setBarColor(t){return this.barColor=t,this}get orientation(){return this._orientation}set orientation(t){t=yr(t),this.dirty=this.dirty||this._orientation!=t,this._orientation=t}setOrientation(t){return this.orientation=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get radius(){return this.rrGeom.radius}set radius(t){this.rrGeom.setRadius(t),this.dirty=!0}get radiusTL(){return this.rrGeom.radiusTL}set radiusTL(t){this.rrGeom.radiusTL=t,this.dirty=!0}get radiusTR(){return this.rrGeom.radiusTR}set radiusTR(t){this.rrGeom.radiusTR=t,this.dirty=!0}get radiusBL(){return this.rrGeom.radiusBL}set radiusBL(t){this.rrGeom.radiusBL=t,this.dirty=!0}get radiusBR(){return this.rrGeom.radiusBR}set radiusBR(t){this.rrGeom.radiusBR=t,this.dirty=!0}setRadius(t){return t===void 0&&(t=0),this.radius=t,this}setRadiusTL(t){return t===void 0&&(t=0),this.radiusTL=t,this}setRadiusTR(t){return t===void 0&&(t=0),this.radiusTR=t,this}setRadiusBL(t){return t===void 0&&(t=0),this.radiusBL=t,this}setRadiusBR(t){return t===void 0&&(t=0),this.radiusBR=t,this}get cornerRadius(){return this.rrGeom.cornerRadius}set cornerRadius(t){this.radius=t}setCornerRadius(t){return this.setRadius(t)}get iteration(){return this._iteration}set iteration(t){if(this._iteration===void 0){this._iteration=t;return}this._iteration!==t&&(this._iteration=t,this.dirty=!0)}setIteration(t){return t===void 0&&(t=6),this.iteration=t,this}}var eb={updateShapes:_L};Object.assign(rf.prototype,eb);st.register("roundRectanleProgress",function(e,t,s,o,y,S,r,C){var i=new rf(this.scene,e,t,s,o,y,S,r,C);return this.scene.add.existing(i),i});et(window,"RexPlugins.UI.RoundRectangleProgress",rf);var ib=function(e,t){e.save(),e.beginPath();var s=t[0];e.moveTo(s.x,s.y);for(var o=1,y=t.length;o<y;o++)s=t[o],e.lineTo(s.x,s.y);e.closePath(),e.restore()},eu=function(e,t,s,o,y,S,r){r===void 0&&(r="round"),ib(t,s),t.lineJoin=r,o!=null&&(t.fillStyle=o,t.fill()),y!=null&&(t.strokeStyle=y,t.lineWidth=S,t.stroke())},sb=function(){var e=this.skewX,t=this.width-Math.abs(e),s=this.height,o=this.canvas,y=this.context;(this.trackColor||this.trackStrokeColor)&&ep(0,0,t,s,e,this.trackPoints);var S,r;if(this.barColor&&(this.rtl?(S=t*(1-this.value),r=t):(S=0,r=t*this.value),ep(S,0,r,s,e,this.barPoints)),this.trackColor&&(y.save(),eu(o,y,this.trackPoints,this.trackColor),y.restore()),this.barColor){y.save();var C;if(this.barColor2){var i;if(this.isHorizontalGradient){var h=s/2;i=y.createLinearGradient(S,h,r,h)}else{var x=t/2;i=y.createLinearGradient(x,0,x,s)}i.addColorStop(0,this.rtl?this.barColor:this.barColor2),i.addColorStop(1,this.rtl?this.barColor2:this.barColor),C=i}else C=this.barColor;eu(o,y,this.barPoints,C),y.restore()}this.trackStrokeColor&&this.trackStrokeThickness>0&&(y.save(),eu(o,y,this.trackPoints,void 0,this.trackStrokeColor,this.trackStrokeThickness),y.restore())},ep=function(e,t,s,o,y,S){S===void 0&&(S=[]),S.length=4;for(var r=0;r<4;r++)S[r]||(S[r]={});var C;return y>=0?(C=S[0],C.x=e+y,C.y=t,C=S[1],C.x=s+y,C.y=t,C=S[2],C.x=s,C.y=o,C=S[3],C.x=e,C.y=o):(C=S[0],C.x=e,C.y=t,C=S[1],C.x=s,C.y=t,C=S[2],C.x=s-y,C.y=o,C=S[3],C.x=e-y,C.y=o),S};const ee=Phaser.Utils.Objects.GetValue,iu=Phaser.Utils.Objects.IsPlainObject;class nf extends Ds(Fs){constructor(t,s,o,y,S,r,C,i){iu(s)?(i=s,s=ee(i,"x",0),o=ee(i,"y",0),y=ee(i,"width",2),S=ee(i,"height",2),r=ee(i,"barColor",void 0),C=ee(i,"value",0)):iu(y)?(i=y,y=ee(i,"width",2),S=ee(i,"height",2),r=ee(i,"barColor",void 0),C=ee(i,"value",0)):iu(r)&&(i=r,r=ee(i,"barColor",void 0),C=ee(i,"value",0));var h=ee(i,"resolution",1);super(t,s,o,y,S,h),this.type="rexLineProgressCanvas",this.trackPoints=[],this.barPoints=[],this.bootProgressBase(i),this.setTrackColor(ee(i,"trackColor",void 0)),this.setBarColor(r,ee(i,"barColor2",void 0),ee(i,"isHorizontalGradient",void 0)),this.setTrackStroke(ee(i,"trackStrokeThickness",2),ee(i,"trackStrokeColor",void 0)),this.setSkewX(ee(i,"skewX",0)),this.setRTL(ee(i,"rtl",!1)),this.setValue(C)}get trackColor(){return this._trackColor}set trackColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackColor!=t,this._trackColor=t}setTrackColor(t){return this.trackColor=t,this}get trackStrokeColor(){return this._trackStrokeColor}set trackStrokeColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._trackStrokeColor!=t,this._trackStrokeColor=t}get trackStrokeThickness(){return this._trackStrokeThickness}set trackStrokeThickness(t){this.dirty=this.dirty||this._trackStrokeThickness!=t,this._trackStrokeThickness=t}setTrackStroke(t,s){return this.trackStrokeThickness=t,this.trackStrokeColor=s,this}get barColor(){return this._barColor}set barColor(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor!=t,this._barColor=t}get barColor2(){return this._barColor2}set barColor2(t){t=gt(t,this.canvas,this.context),this.dirty=this.dirty||this._barColor2!=t,this._barColor2=t}get isHorizontalGradient(){return this._isHorizontalGradient}set isHorizontalGradient(t){this.dirty|=this._isHorizontalGradient!=t,this._isHorizontalGradient=t}setBarColor(t,s,o){return o===void 0&&(o=!0),this.barColor=t,this.barColor2=s,this.isHorizontalGradient=o,this}get skewX(){return this._skewX}set skewX(t){this.dirty=this.dirty||this._skewX!=t,this._skewX=t}setSkewX(t){return this.skewX=t,this}get rtl(){return this._rtl}set rtl(t){t=!!t,this.dirty=this.dirty||this._rtl!=t,this._rtl=t}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}updateTexture(){return super.updateTexture(function(){this.clear(),sb.call(this)},this),this}}st.register("circularProgressCanvas",function(e,t,s,o,y,S,r){var C=new nf(this.scene,e,t,s,o,y,S,r);return this.scene.add.existing(C),C});et(window,"RexPlugins.UI.LineProgressCanvas",nf);Phaser.Math.Wrap;const Ir=Phaser.Math.Linear;var rb=function(){var e=this.getShape("triangle"),t=this.padding,s=this.width-t.right,o=0+t.left,y=this.height-t.bottom,S=0+t.top,r=(o+s)/2,C=(S+y)/2,i={0:{a:{x:o,y:S},b:{x:s,y:C},c:{x:o,y}},1:{a:{x:o,y:S},b:{x:r,y},c:{x:s,y:S}},2:{a:{x:s,y:S},b:{x:o,y:C},c:{x:s,y}},3:{a:{x:o,y},b:{x:r,y:S},c:{x:s,y}}},h,x,f,l,a,n;if(this.previousDirection===void 0){var d=i[this.direction],c=d.a,u=d.b,v=d.c;h=c.x,x=c.y,f=u.x,l=u.y,a=v.x,n=v.y}else{var p=i[this.previousDirection],g=i[this.direction],m=this.easeDirectionProgress;h=Ir(p.a.x,g.a.x,m),x=Ir(p.a.y,g.a.y,m),f=Ir(p.b.x,g.b.x,m),l=Ir(p.b.y,g.b.y,m),a=Ir(p.c.x,g.c.x,m),n=Ir(p.c.y,g.c.y,m)}e.startAt(h,x).lineTo(f,l).lineTo(a,n),this.arrowOnly?e.end():e.close()};const nb=Phaser.Math.DegToRad,yh=nb(120);var ab=function(t){var t=this.getShape("triangle"),s=this.width/2,o=this.height/2,y=Math.min(s,o)*this.radius,S=this.verticeRotation;t.startAt(s+y*Math.cos(S+yh),o+y*Math.sin(S+yh)).lineTo(s+y*Math.cos(S),o+y*Math.sin(S)).lineTo(s+y*Math.cos(S-yh),o+y*Math.sin(S-yh)),this.arrowOnly?t.end():t.close()};const hb={buildShapes(){this.addShape(new me().setName("triangle"))},updateShapes(){var e=this.getShape("triangle");this.arrowOnly?e.fillStyle().lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha):e.fillStyle(this.fillColor,this.fillAlpha).lineStyle(this.lineWidth,this.strokeColor,this.strokeAlpha),this.shapeMode===0?rb.call(this):ab.call(this)}},ob={setEaseDuration(e){return e===void 0&&(e=0),this.easeDuration=e,this},playEaseDirectionation(){return this.easeDirectionProgressTask===void 0&&(this.easeDirectionProgressTask=new ji(this,{eventEmitter:null})),this.easeDirectionProgressTask.restart({key:"easeDirectionProgress",from:0,to:1,duration:this.easeDuration}),this},stopEaseDirection(){return this.easeDirectionProgressTask===void 0?this:(this.easeDirectionProgressTask.stop(),this)}},Br=Phaser.Utils.Objects.GetValue,lb=Phaser.Utils.Objects.IsPlainObject,ub=Phaser.Math.DegToRad,db=Phaser.Math.RadToDeg;class ya extends _i{constructor(t,s,o,y,S,r,C){var i,h,x,f,l,a,n,d;if(lb(s)){var c=s;s=c.x,o=c.y,y=c.width,S=c.height,r=c.color,C=c.alpha,i=c.strokeColor,h=c.strokeAlpha,x=c.strokeWidth,f=c.arrowOnly,l=c.direction,a=c.easeDuration,n=c.padding,d=c.radius}s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=y),f===void 0&&(f=!1),l===void 0&&(l=0),a===void 0&&(a=0),n===void 0&&(n=0),d===void 0&&(d=void 0),super(t,s,o,y,S),this.type="rexTriangle",this.setFillStyle(r,C),i!==void 0&&x===void 0&&(x=2),this.setStrokeStyle(x,i,h),this.setArrowOnly(f),this.setDirection(l,a),this.setPadding(n),this.setRadius(d),this.buildShapes()}get arrowOnly(){return this._arrowOnly}set arrowOnly(t){this.dirty=this.dirty||this._arrowOnly!=t,this._arrowOnly=t}setArrowOnly(t){return t===void 0&&(t=!0),this.arrowOnly=t,this}get direction(){return this._direction}set direction(t){t=cb(t),this._direction!==t&&(this.easeDuration>0&&this._direction!==void 0?this.previousDirection=this._direction:this.previousDirection=void 0,this._direction=t,this.verticeAngle=t*90,this.dirty=!0,this.previousDirection!==void 0?this.playEaseDirectionation():this.stopEaseDirection())}setDirection(t,s){return s!==void 0&&this.setEaseDuration(s),this.direction=t,this}toggleDirection(t){return this.setDirection(this.direction+2,t),this}get easeDirectionProgress(){return this._easeDirectionProgress}set easeDirectionProgress(t){this._easeDirectionProgress!==t&&(this._easeDirectionProgress=t,this.dirty=!0)}setPadding(t,s,o,y){if(typeof t=="object"){var S=t,r=Br(S,"x",null);r!==null?(t=r,o=r):(t=Br(S,"left",0),o=Br(S,"right",t));var C=Br(S,"y",null);C!==null?(s=C,y=C):(s=Br(S,"top",0),y=Br(S,"bottom",s))}else t===void 0&&(t=0),s===void 0&&(s=t),o===void 0&&(o=t),y===void 0&&(y=s);return this.padding===void 0&&(this.padding={}),this.dirty=this.dirty||this.padding.left!=t||this.padding.top!=s||this.padding.right!=o||this.padding.bottom!=y,this.padding.left=t,this.padding.top=s,this.padding.right=o,this.padding.bottom=y,this.setRadius(),this}get radius(){return this._radius}set radius(t){this.dirty=this.dirty||this._radius!=t,this._radius=t}setRadius(t){return this.radius=t,this.shapeMode=t==null?0:1,this}get verticeRotation(){return this._verticeRotation}set verticeRotation(t){this.dirty=this.dirty||this._verticeRotation!=t,this._verticeRotation=t}setVerticeRotation(t){return this.verticeRotation=t,this}get verticeAngle(){return db(this.verticeRotation)}set verticeAngle(t){this.verticeRotation=ub(t)}setVerticeAngle(t){return this.verticeAngle=t,this}}const fb={right:0,down:1,left:2,up:3};var cb=function(e){return typeof e=="string"&&(e=fb[e]),e=e%4,e};Object.assign(ya.prototype,hb,ob);st.register("triangle",function(e,t,s,o,y,S){var r=new ya(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.Triangle",ya);Mo();const vb=Phaser.GameObjects.Zone,pb=Phaser.Utils.Array.Add,gb=Phaser.Utils.Array.Remove;let Ta=class extends vb{constructor(t,s,o,y,S){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=1),S===void 0&&(S=1),super(t,s,o,y,S),this.children=[]}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s,o=this.children.length-1;o>=0;o--)s=this.children[o],!s.parentContainer&&!s.displayList&&s.destroy(t);this.clear(!t),super.destroy(t)}}contains(t){return this.children.indexOf(t)!==-1}add(t){var s=this;return pb(this.children,t,0,function(o){o.once("destroy",s.onChildDestroy,s)},this),this}remove(t,s){var o=this;return gb(this.children,t,function(y){y.off("destroy",o.onChildDestroy,o),s&&y.destroy()}),this}onChildDestroy(t,s){this.remove(t,!1)}clear(t){for(var s=this,o,y=0,S=this.children.length;y<S;y++)o=this.children[y],o.off("destroy",s.onChildDestroy,s),t&&o.destroy();return this.children.length=0,this}};const ip=Phaser.GameObjects.Components;Phaser.Class.mixin(Ta,[ip.Alpha,ip.Flip]);var He=function(e,t){var s;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent);else for(s=He(e);s&&s.name!==t;)s=He(s);return s},Cx=function(e){for(var t=He(e);t;)e=t,t=He(t);return e};const mb=Phaser.Math.DegToRad,xb=Phaser.Math.RadToDeg;var yt=function(e){if(!e.hasOwnProperty("rexContainer")){var t={parent:null,self:null,layer:null,x:0,y:0,syncPosition:!0,rotation:0,syncRotation:!0,scaleX:0,scaleY:0,syncScale:!0,alpha:0,syncAlpha:!0,syncScrollFactor:!0,syncCameraFilter:!0,syncDisplayList:!0,visible:!0,active:!0};Object.defineProperty(t,"angle",{get:function(){return xb(this.rotation)},set:function(s){this.rotation=mb(s)}}),Object.defineProperty(t,"displayWidth",{get:function(){return e.width*this.scaleX},set:function(s){this.scaleX=s/e.width}}),Object.defineProperty(t,"displayHeight",{get:function(){return e.height*this.scaleY},set:function(s){this.scaleY=s/e.height}}),e.rexContainer=t}return e.rexContainer};const yb={setParent(e,t){t===void 0&&(t=this);var s=yt(e);return t?(s.parent=t,s.self=e):(s.parent=null,s.self=null),this},getParent(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),He(e,t)},getTopmostParent(e){return e===void 0&&(e=this),Cx(e)}},Hs=Phaser.Utils.Objects.GetValue,Sx=Ta.prototype.add;var sp=function(e,t){this.setParent(e);var s=yt(e);return Px(s,t),this.resetChildState(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e).updateCameraFilter(e),Sx.call(this,e),Ex.call(this,e,s),this},su=function(e,t){this.setParent(e);var s=yt(e);return Px(s,t),s.x=e.x,s.y=e.y,s.rotation=e.rotation,s.scaleX=e.scaleX,s.scaleY=e.scaleY,s.alpha=e.alpha,s.visible=e.visible,s.active=e.active,this.updateChildPosition(e).updateChildAlpha(e).updateChildVisible(e).updateChildActive(e).updateChildScrollFactor(e).updateChildMask(e),Sx.call(this,e),Ex.call(this,e,s),this},Px=function(e,t){t===void 0&&(t=!0),typeof t=="boolean"?(e.syncPosition=t,e.syncRotation=t,e.syncScale=t,e.syncAlpha=t,e.syncScrollFactor=t,e.syncCameraFilter=t,e.syncDisplayList=t):(e.syncPosition=Hs(t,"syncPosition",!0),e.syncRotation=Hs(t,"syncRotation",!0),e.syncScale=Hs(t,"syncScale",!0),e.syncAlpha=Hs(t,"syncAlpha",!0),e.syncScrollFactor=Hs(t,"syncScrollFactor",!0),e.syncCameraFilter=Hs(t,"syncCameraFilter",!0),e.syncDisplayList=Hs(t,"syncDisplayList",!0))},Ex=function(e,t){this.addToParentContainer(e),t.syncDisplayList&&this.addToPatentLayer(e),this.addToRenderLayer(e)};const Tb={add(e){return Array.isArray(e)?this.addMultiple(e):sp.call(this,e),this},pin(e,t){return Array.isArray(e)?this.addMultiple(e,t):sp.call(this,e,t),this},addMultiple(e){for(var t=Array.from(arguments),s=0,o=e.length;s<o;s++)t[0]=e[s],this.add.apply(this,t);return this},addLocal(e){return Array.isArray(e)?this.addMultiple(e):su.call(this,e),this},pinLocal(e,t){return Array.isArray(e)?this.addMultiple(e,t):su.call(this,e,t),this},addLocalMultiple(e){for(var t=0,s=e.length;t<s;t++)su.call(this,e[t]);return this}},rp=Ta.prototype.remove,Cb=Ta.prototype.clear,Sb={remove(e,t){return He(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),rp.call(this,e,t),this)},unpin(e,t){return He(e)!==this?this:(this.setParent(e,null),t||this.removeFromRenderLayer(e),rp.call(this,e,t),this)},clear(e){for(var t=this.children,s=0,o=t.length;s<o;s++){var y=t[s];this.setParent(y,null),e||this.removeFromRenderLayer(y)}return Cb.call(this,e),this}},Pb={getLocalState(e){return yt(e)},resetChildState(e){return this.resetChildPositionState(e).resetChildVisibleState(e).resetChildAlphaState(e).resetChildActiveState(e),this},resetChildrenState(e){for(var t=0,s=e.length;t<s;t++)this.resetChildState(e[t]);return this},syncProperties(){return this.syncPosition().syncVisible().syncAlpha().syncActive().syncScrollFactor().syncMask(),this}},Eb={worldToLocal(e){e.x-=this.x,e.y-=this.y;var t=Math.cos(-this.rotation),s=Math.sin(-this.rotation),o=e.x,y=e.y;return e.x=o*t-y*s,e.y=o*s+y*t,e.x/=this.scaleX,e.y/=this.scaleY,e},localToWorld(e){e.x*=this.scaleX,e.y*=this.scaleY;var t=Math.cos(this.rotation),s=Math.sin(this.rotation),o=e.x,y=e.y;return e.x=o*t-y*s,e.y=o*s+y*t,e.x+=this.x,e.y+=this.y,e}};var aa=function(e,t){return e===t?1:e/t};const Mb={updateChildPosition(e){e.isRexContainerLite&&(e.syncChildrenEnable=!1);var t=yt(e),s=t.parent;return t.syncPosition&&(e.x=t.x,e.y=t.y,s.localToWorld(e)),t.syncRotation&&(e.rotation=t.rotation+s.rotation),t.syncScale&&(e.scaleX=t.scaleX*s.scaleX,e.scaleY=t.scaleY*s.scaleY),e.isRexContainerLite&&(e.syncChildrenEnable=!0,e.syncPosition()),this},syncPosition(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildPosition,this),this},resetChildPositionState(e){var t=yt(e),s=t.parent;return t.x=e.x,t.y=e.y,s.worldToLocal(t),t.scaleX=aa(e.scaleX,s.scaleX),t.scaleY=aa(e.scaleY,s.scaleY),t.rotation=e.rotation-s.rotation,this},setChildPosition(e,t,s){return e.x=t,e.y=s,this.resetChildPositionState(e),this},setChildLocalPosition(e,t,s){var o=yt(e);return o.x=t,o.y=s,this.updateChildPosition(e),this},resetLocalPositionState(){var e=yt(this).parent;return e&&e.resetChildPositionState(this),this},getChildLocalX(e){var t=yt(e);return t.x},getChildLocalY(e){var t=yt(e);return t.y}},wb=Phaser.Math.DegToRad,Rb={updateChildRotation(e){var t=yt(e),s=t.parent;return t.syncRotation&&(e.rotation=s.rotation+t.rotation),this},syncRotation(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildRotation,this),this},resetChildRotationState(e){var t=yt(e),s=t.parent;return t.rotation=e.rotation-s.rotation,this},setChildRotation(e,t){return e.rotation=t,this.resetChildRotationState(e),this},setChildAngle(e,t){return e.angle=t,this.resetChildRotationState(e),this},setChildLocalRotation(e,t){var s=yt(e);return s.rotation=t,this.updateChildRotation(e),this},setChildLocalAngle(e,t){var s=yt(e);return s.rotation=wb(t),this.updateChildRotation(e),this},resetLocalRotationState(){var e=yt(this).parent;return e&&e.resetChildRotationState(this),this},getChildLocalRotation(e){var t=yt(e);return t.rotation}},Ab={updateChildScale(e){var t=yt(e),s=t.parent;return t.syncScale&&(e.scaleX=s.scaleX*t.scaleX,e.scaleY=s.scaleY*t.scaleY),this},syncScale(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScale,this),this},resetChildScaleState(e){var t=yt(e),s=t.parent;return t.scaleX=aa(e.scaleX,s.scaleX),t.scaleY=aa(e.scaleY,s.scaleY),this},setChildScale(e,t,s){return s===void 0&&(s=t),e.scaleX=t,e.scaleY=s,this.resetChildScaleState(e),this},setChildLocalScale(e,t,s){s===void 0&&(s=t);var o=yt(e);return o.scaleX=t,o.scaleY=s,this.updateChildScale(e),this},setChildDisplaySize(e,t,s){return e.setDisplaySize(t,s),this.resetChildScaleState(e),this},resetLocalScaleState(){var e=yt(this).parent;return e&&e.resetChildScaleState(this),this},getChildLocalScaleX(e){var t=yt(e);return t.scaleX},getChildLocalScaleY(e){var t=yt(e);return t.scaleY}},Ob={updateChildVisible(e){var t=yt(e),s=t.parent,o=t.hasOwnProperty("maskVisible")?t.maskVisible:!0,y=s?s.visible:!0;return e.visible=y&&t.visible&&o,this},syncVisible(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildVisible,this),this},resetChildVisibleState(e){var t=yt(e);return t.hasOwnProperty("maskVisible")&&delete t.maskVisible,t.visible=e.visible,this},setChildVisible(e,t){return this.setChildLocalVisible(e,t),this},setChildLocalVisible(e,t){t===void 0&&(t=!0);var s=yt(e);return s.visible=t,this.updateChildVisible(e),this},setChildMaskVisible(e,t){t===void 0&&(t=!0);var s=yt(e);return s.maskVisible=t,this.updateChildVisible(e),this},resetLocalVisibleState(){var e=yt(this).parent;return e&&e.resetChildVisibleState(this),this},getChildLocalVisible(e){var t=yt(e);return t.visible}},Lb={updateChildAlpha(e){var t=yt(e),s=t.parent;return t.syncAlpha&&(e.alpha=s.alpha*t.alpha),this},syncAlpha(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildAlpha,this),this},resetChildAlphaState(e){var t=yt(e),s=t.parent;return t.alpha=aa(e.alpha,s.alpha),this},setChildAlpha(e,t){return e.alpha=t,this.resetChildAlphaState(e),this},setChildLocalAlpha(e,t){var s=yt(e);return s.alpha=t,this.updateChildAlpha(e),this},resetLocalAlphaState(){var e=yt(this).parent;return e&&e.resetChildAlphaState(this),this},getChildLocalAlpha(e){var t=yt(e);return t.alpha}},bb={updateChildActive(e){var t=yt(e),s=t.parent;return e.active=s.active&&t.active,this},syncActive(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildActive,this),this},resetChildActiveState(e){var t=yt(e);return t.active=e.active,this},setChildActive(e,t){return e.active=t,this.resetChildActiveState(e),this},setChildLocalActive(e,t){t===void 0&&(t=!0);var s=yt(e);return s.active=t,this.updateChildActive(e),this},resetLocalActiveState(){var e=yt(this).parent;return e&&e.resetChildActiveState(this),this},getChildLocalActive(e){var t=yt(e);return t.active}},Fb={updateChildScrollFactor(e){var t=yt(e),s=t.parent;return t.syncScrollFactor&&(e.scrollFactorX=s.scrollFactorX,e.scrollFactorY=s.scrollFactorY),this},syncScrollFactor(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildScrollFactor,this),this}},Db={updateCameraFilter(e){var t=yt(e),s=t.parent;return t.syncCameraFilter&&(e.cameraFilter=s.cameraFilter),this},syncCameraFilter(){return this.syncChildrenEnable&&this.children.forEach(this.updateCameraFilter,this),this}},Ib={updateChildMask(e){if(this.mask==null)return this;var t=this.mask.hasOwnProperty("geometryMask")?this.mask.geometryMask:this.mask.bitmapMask;return t!==e&&(e.mask=this.mask),this},syncMask(){return this.syncChildrenEnable&&this.children.forEach(this.updateChildMask,this),this},setMask(e){return this.mask=e,this},clearMask(e){e===void 0&&(e=!1);var t=this;return this._mask=null,this.setChildMaskVisible(this),this.children.forEach(function(s){s.clearMask&&s.clearMask(!1),s.hasOwnProperty("isRexContainerLite")||t.setChildMaskVisible(s)}),e&&this.mask&&this.mask.destroy(),this}};var Th=function(e){return e.filter(function(t){if(t.displayList)return!0;if(t.parentContainer)return!0})};const Bb={setDepth(e,t){if(this.depth=e,!t&&this.children)for(var s=this.getAllChildren(),o=0,y=s.length;o<y;o++)s[o].depth=e;return this},swapDepth(e){var t=this.depth,s=e.depth;return this.setDepth(s),e.setDepth(t),this},incDepth(e){if(this.depth+=e,this.children)for(var t=this.getAllChildren(),s=0,o=t.length;s<o;s++)t[s].depth+=e;return this},bringToTop(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);si(t,!1);for(var s=0,o=t.length;s<o;s++){var y=t[s];e.exists(y)&&e.bringToTop(y)}return this},bringMeToTop(){return this.bringToTop()},sendToBack(){var e=this.displayList;if(!e)return this;var t=this.getAllChildren([this]);si(t,!0);for(var s=0,o=t.length;s<o;s++){var y=t[s];e.exists(y)&&e.sendToBack(y)}return this},sendMeToBack(){return this.sendToBack()},moveDepthBelow(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);si(s,!1);for(var o=0,y=s.length;o<y;o++){var S=s[o];if(t.exists(S)){t.moveBelow(e,S);break}}return this},moveMyDepthBelow(e){return this.moveDepthBelow(e)},moveDepthAbove(e){var t=this.displayList;if(!t)return this;if(e.displayList!==t)return this;var s=this.getAllChildren([this]);si(s,!0);for(var o=0,y=s.length;o<y;o++){var S=s[o];if(t.exists(S)){t.moveAbove(e,S);break}}return this},moveMyDepthAbove(e){return this.moveDepthAbove(e)},bringChildToTop(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Th(t),t=si(t,!1)):t=[e];var s=this.getAllChildren([this]);s=Th(s),s=si(s,!1);for(var o=s[s.length-1],y=0,S=t.length;y<S;y++){var r=t[y];o!==r&&(r!==this&&o.displayList!==r.displayList||(o.displayList.moveAbove(r,o),o=r))}return this},sendChildToBack(e){var t;e!==this&&e.isRexContainerLite?(t=e.getAllChildren([e]),t=Th(t),t=si(t,!1)):t=[e];var s=this.getAllChildren([this]);s=Th(s),s=si(s,!1);for(var o=s[0],y=t.length-1;y>=0;y--){var S=t[y];o!==S&&(S!==this&&o.displayList!==S.displayList||(o.displayList.moveBelow(S,o),o=S))}return this}};var Mx=function(e,t){var s=t(e);if(!s&&e.isRexContainerLite)for(var o=e.children,y=0,S=o.length;y<S;y++)Mx(o[y],t)},ru=function(e,t){for(var s=[e];s.length>0;){var o=s.shift(),y=t(o);!y&&o.isRexContainerLite&&s.push(...o.children)}};const $s=Phaser.Utils.Array,Gb={getChildren(e){if(!e)e=this.children;else for(var t=0,s=this.children.length;t<s;t++)e.push(this.children[t]);return e},getAllChildren(e){e===void 0&&(e=[]);var t=this;return ru(t,function(s){s!==t&&e.push(s)}),e},getAllVisibleChildren(e){e===void 0&&(e=[]);var t=this;return ru(t,function(s){if(s!==t){if(!s.visible)return!0;e.push(s)}}),e},bfs(e,t){return t===void 0&&(t=this),ru(t,e),this},dfs(e,t){return t===void 0&&(t=this),Mx(t,e),this},contains(e){var t=He(e);return t?t===this?!0:this.contains(t):!1},getByName(e,t){if(t){for(var s=[this],o,y;s.length;){o=s.shift();for(var S=0,r=o.children.length;S<r;S++){if(y=o.children[S],y.name===e)return y;y.isRexContainerLite&&s.push(y)}}return null}else return $s.GetFirst(this.children,"name",e)},getRandom(e,t){return $s.GetRandom(this.children,e,t)},getFirst(e,t,s,o){return $s.GetFirstElement(this.children,e,t,s,o)},getAll(e,t,s,o){return $s.GetAll(this.children,e,t,s,o)},count(e,t,s,o){return $s.CountAllMatching(this.children,e,t,s,o)},swap(e,t){return $s.Swap(this.children,e,t),this},setAll(e,t,s,o){return $s.SetAll(this.children,e,t,s,o),this}};var np=function(e){for(var t=[],s=0,o=e.length;s<o;s++){var y=e[s];y.hasOwnProperty("rexContainer")&&t.push(y.rexContainer)}return t},Nb=function(e){for(var t=0,s=e.length;t<s;t++){var o=e[t].scene;if(o)return o}return null},ap=function(e,t,s){if(!s.parent){e.remove();return}var o=s.parent,y=s.self;switch(t){case"x":case"y":o.updateChildPosition(y);break;case"angle":case"rotation":o.updateChildRotation(y);break;case"scaleX":case"scaleY":case"displayWidth":case"displayHeight":o.updateChildScale(y);break;case"alpha":o.updateChildAlpha(y);break;default:o.updateChildPosition(y),o.updateChildRotation(y),o.updateChildScale(y),o.updateChildAlpha(y);break}};const kb={tweenChild(e){var t=e.targets;Array.isArray(t)||(t=[t]);var s=this.scene||Nb(t);if(s){e.targets=np(t);var o=s.tweens.add(e);return o.on("update",ap),o}},tweenSelf(e){return e.targets=[this],this.tweenChild(e)},createTweenChildConfig(e){var t=e.targets;t&&(Array.isArray(t)||(t=[t]),e.targets=np(t));var s=e.onUpdate;return e.onUpdate=function(o,y){s&&s(o,y),ap(o,void 0,y)},e},tween(e){var t=this.scene;return e.targets||(e.targets=this),t.tweens.add(e)}},Vb=Phaser.GameObjects.Container;var zb=function(e){return e instanceof Vb},wx=function(e){var t=e.getAllChildren([e]);return t=t.filter(function(s){return!!s.displayList||!!s.parentContainer}),t},hp=function(e){var t=wx(this);t.indexOf(this)===-1&&t.push(this),si(t),e.add(t)},op=function(e,t,s){if(this.scene){var o=wx(this);si(o,t),e.remove(o),s&&o.forEach(function(y){y.addToDisplayList()})}};const Xb={addToContainer(e){return zb(e)?(this._setParentContainerFlag=!0,hp.call(this,e),this._setParentContainerFlag=!1,this):this},addToLayer(e){return Qn(e)?(hp.call(this,e),this):this},removeFromContainer(){return this.parentContainer?(this._setParentContainerFlag=!0,op.call(this,this.parentContainer,!0,!1),this._setParentContainerFlag=!1,this):this},removeFromLayer(e){return e===void 0&&(e=!0),Qn(this.displayList)?(op.call(this,this.displayList,!1,e),this):this},getParentContainer(){if(this.parentContainer)return this.parentContainer;for(var e=this.getParent();e;){var t=e.parentContainer;if(t)return t;e=e.getParent()}return null},addToParentContainer(e){if(!e.displayList)return this;var t=this.getParentContainer();return t?(e.isRexContainerLite?e.addToContainer(t):t.add(e),this):this},addToPatentLayer(e){if(!e.displayList)return this;var t=this.displayList;return t===e.displayList?this:(Qn(t)&&(e.isRexContainerLite?e.addToLayer(t):t.add(e)),this)}},Yb={hasLayer(){return!!this.privateRenderLayer},enableLayer(){if(this.hasLayer())return this;var e=this.scene.add.layer();return this.moveDepthBelow(e),this.addToLayer(e),this.privateRenderLayer=e,this},getLayer(){return this.hasLayer()||this.enableLayer(),this.privateRenderLayer},getRenderLayer(){if(this.hasLayer())return this.privateRenderLayer;for(var e=this.getParent();e;){var t=e.privateRenderLayer;if(t)return t;e=e.getParent()}return null},addToRenderLayer(e){if(!e.displayList)return this;var t=this.getRenderLayer();if(!t)return this;if(t===e.displayList)return this;e.isRexContainerLite?e.addToLayer(t):t.add(e);var s=yt(e);return s.layer=t,this},removeFromRenderLayer(e){var t=yt(e),s=t.layer;return s?(e.isRexContainerLite?e.removeFromLayer(!0):s.remove(e),t.layer=null,this):this}},lp=Phaser.Geom.Rectangle,Wb=Phaser.Geom.Rectangle.Union;var Ub=function(e,t){t===void 0?t=new lp:t===!0&&(nu===void 0&&(nu=new lp),t=nu),t.setTo(0,0,0,0);for(var s,o=!0,y=0,S=e.length;y<S;y++)if(s=e[y],!!s.getBounds){var r=$d(s,!0);o?(t.setTo(r.x,r.y,r.width,r.height),o=!1):Wb(r,t,t)}return t},nu,Ks=Phaser.Utils.Objects.GetValue,af=function(e){if(e){var t=e.gameObjects,s=e.renderTexture,o=e.saveTexture,y=Ks(e,"x",void 0),S=Ks(e,"y",void 0),r=Ks(e,"width",void 0),C=Ks(e,"height",void 0),i=Ks(e,"originX",0),h=Ks(e,"originY",0),x=Ks(e,"padding",0),f,l;if(r===void 0||C===void 0||y===void 0||S===void 0){var a=Ub(t,!0),n=y!==void 0&&S!==void 0;n?(r=Math.max(y-a.left,a.right-y)*2,C=Math.max(S-a.top,a.bottom-S)*2,i=.5,h=.5):(y=a.x,S=a.y,r=a.width,C=a.height,i=0,h=0),f=a.x,l=a.y}else f=y+(0-i)*r,l=S+(0-h)*C;f-=x,l-=x,r+=x*2,C+=x*2;var d=t[0].scene,c=d.sys.textures;return o&&!s&&(s=c.addDynamicTexture(o,r,C)),s||(s=d.add.renderTexture(0,0,r,C)),s.setPosition&&s.setPosition(y,S),(s.width!==r||s.height!==C)&&s.setSize(r,C),s.setOrigin&&s.setOrigin(i,h),s.camera.setScroll(f,l),t=si(mi(t)),s.draw(t),o&&(Ge(s)?s.saveTexture(o):s.key!==o&&c.renameTexture(s.key,key)),s}};const Hb={snapshot(e){var t=this.scaleX,s=this.scaleY,o=t===1&&s===1;o||this.setScale(1),e===void 0&&(e={}),e.gameObjects=this.getAllVisibleChildren(),e.x=this.x,e.y=this.y,e.originX=this.originX,e.originY=this.originY;var y=af(e),S=!!y.scene;return o||(this.setScale(t,s),S&&y.setScale(t,s)),S?y:this}},up=Phaser.Utils.Objects.GetValue;var $b=function(e,t){var s=up(t,"drawContainer",!0),o=up(t,"children");return o===void 0&&(o=this.getAllVisibleChildren([this])),s||(o=o.filter(function(y){return!y.isRexContainerLite})),Am(o,e,t),this};const Kb=Phaser.Math.RotateAround;var Zb=function(e,t,s){s===void 0&&(s=t);var o={x:(t-e.originX)*e.displayWidth,y:(s-e.originY)*e.displayHeight};return Kb(o,0,0,e.rotation),e.originX=t,e.originY=s,e.x=e.x+o.x,e.y=e.y+o.y,e},Jb=function(e,t){this.syncChildrenEnable=!1,Zb(this,e,t),this.syncChildrenEnable=!0;for(var s=this.getAllChildren(),o=0,y=s.length;o<y;o++)this.resetChildPositionState(s[o]);return this},Rx={changeOrigin:Jb,drawBounds:$b};Object.assign(Rx,yb,Tb,Sb,Pb,Eb,Mb,Rb,Ab,Ob,Lb,bb,Fb,Db,Ib,Bb,Gb,kb,Xb,Yb,Hb);class $e extends Ta{constructor(t,s,o,y,S,r){Array.isArray(y)&&(r=y,y=void 0,S=void 0),super(t,s,o,y,S),this.type="rexContainerLite",this.isRexContainerLite=!0,this.syncChildrenEnable=!0,this._active=!0,this._mask=null,this._scrollFactorX=1,this._scrollFactorY=1,this._cameraFilter=0,this.privateRenderLayer=void 0,r&&this.add(r)}destroy(t){!this.scene||this.ignoreDestroy||(this.syncChildrenEnable=!1,super.destroy(t),this.privateRenderLayer&&this.privateRenderLayer.scene&&(this.privateRenderLayer.list.length=0,this.privateRenderLayer.destroy()))}resize(t,s){return this.setSize(t,s),this}get x(){return this._x}set x(t){this._x!==t&&(this._x=t,this.syncPosition())}get y(){return this._y}set y(t){this._y!==t&&(this._y=t,this.syncPosition())}get rotation(){return super.rotation}set rotation(t){this.rotation!==t&&(super.rotation=t,this.syncPosition())}get scaleX(){return super.scaleX}set scaleX(t){this.scaleX!==t&&(super.scaleX=t,this.syncPosition())}get scaleY(){return super.scaleY}set scaleY(t){this.scaleY!==t&&(super.scaleY=t,this.syncPosition())}get scale(){return super.scale}set scale(t){this.scale!==t&&(super.scale=t,this.syncPosition())}get visible(){return super.visible}set visible(t){super.visible!==t&&(super.visible=t,this.syncVisible())}get alpha(){return super.alpha}set alpha(t){super.alpha!==t&&(super.alpha=t,this.syncAlpha())}get active(){return this._active}set active(t){this._active!==t&&(this._active=t,this.syncActive())}get mask(){return this._mask}set mask(t){this._mask!==t&&(this._mask=t,this.syncMask())}get scrollFactorX(){return this._scrollFactorX}set scrollFactorX(t){this._scrollFactorX!==t&&(this._scrollFactorX=t,this.syncScrollFactor())}get scrollFactorY(){return this._scrollFactorY}set scrollFactorY(t){this._scrollFactorY!==t&&(this._scrollFactorY=t,this.syncScrollFactor())}get cameraFilter(){return this._cameraFilter}set cameraFilter(t){this._cameraFilter!==t&&(this._cameraFilter=t,this.syncCameraFilter())}get list(){return this.children}static GetParent(t){return He(t)}get parentContainer(){return this._parentContainer}set parentContainer(t){if(!this._parentContainer&&!t){this._parentContainer=t;return}if(this.setParentContainerFlag){this._parentContainer=t;return}this._parentContainer&&!t?(this.removeFromContainer(),this._parentContainer=t):t?(this._parentContainer=t,this.addToContainer(t)):this._parentContainer=t}get setParentContainerFlag(){if(this._setParentContainerFlag)return!0;var t=He(this);return t?t.setParentContainerFlag:!1}}Object.assign($e.prototype,Rx);var ko=function(e){return e.hasOwnProperty("rexSizer")||(e.rexSizer={}),e.rexSizer};function Qb(e){return e===void 0&&(e=this),ko(e)}var jb=function(e){var t=ko(e);return t.hasOwnProperty("prevState")||(t.prevState={}),t.prevState},qb=function(e){return e===void 0&&(e=fn(this.scene)),this.left=Math.max(this.left,e.left),this.right=Math.min(this.right,e.right),this.top=Math.max(this.top,e.top),this.bottom=Math.min(this.bottom,e.bottom),this};const Zt=Phaser.Display.Align,pn={center:Zt.CENTER,left:Zt.LEFT_CENTER,right:Zt.RIGHT_CENTER,top:Zt.TOP_CENTER,bottom:Zt.BOTTOM_CENTER,"left-top":Zt.TOP_LEFT,"top-left":Zt.TOP_LEFT,"left-center":Zt.LEFT_CENTER,"center-left":Zt.LEFT_CENTER,"left-bottom":Zt.BOTTOM_LEFT,"bottom-left":Zt.BOTTOM_LEFT,"center-top":Zt.TOP_CENTER,"top-center":Zt.TOP_CENTER,"center-center":Zt.CENTER,"center-bottom":Zt.BOTTOM_CENTER,"bottom-center":Zt.BOTTOM_CENTER,"right-top":Zt.TOP_RIGHT,"top-right":Zt.TOP_RIGHT,"right-center":Zt.RIGHT_CENTER,"center-right":Zt.RIGHT_CENTER,"right-bottom":Zt.BOTTOM_RIGHT,"bottom-right":Zt.BOTTOM_RIGHT};var Ed=new Phaser.GameObjects.Zone({sys:{queueDepthSort:ae,events:{once:ae}}},0,0,1,1);Ed.setOrigin(0);var es={TOP_LEFT:0,TOP_CENTER:1,TOP_RIGHT:2,LEFT_CENTER:4,CENTER:6,RIGHT_CENTER:8,BOTTOM_LEFT:10,BOTTOM_CENTER:11,BOTTOM_RIGHT:12},hf=function(e){var t=At(e);return e.y+t-t*e.originY},of=function(e){var t=Rt(e);return e.x-t*e.originX+t*.5},lf=function(e,t){var s=At(e);return e.y=t-s+s*e.originY,e},uf=function(e,t){var s=Rt(e),o=s*e.originX;return e.x=t+o-s*.5,e},_b=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),uf(e,of(t)+s),lf(e,hf(t)+o),e},df=function(e){var t=Rt(e);return e.x-t*e.originX},ff=function(e,t){var s=Rt(e);return e.x=t+s*e.originX,e},tF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),ff(e,df(t)-s),lf(e,hf(t)+o),e},cf=function(e){var t=Rt(e);return e.x+t-t*e.originX},vf=function(e,t){var s=Rt(e);return e.x=t-s+s*e.originX,e},eF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),vf(e,cf(t)+s),lf(e,hf(t)+o),e},pf=function(e,t){var s=At(e),o=s*e.originY;return e.y=t+o-s*.5,e},iF=function(e,t,s){return uf(e,t),pf(e,s)},gf=function(e){var t=At(e);return e.y-t*e.originY+t*.5},sF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),iF(e,of(t)+s,gf(t)+o),e},rF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),ff(e,df(t)-s),pf(e,gf(t)+o),e},nF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),vf(e,cf(t)+s),pf(e,gf(t)+o),e},mf=function(e){var t=At(e);return e.y-t*e.originY},xf=function(e,t){var s=At(e);return e.y=t+s*e.originY,e},aF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),uf(e,of(t)+s),xf(e,mf(t)-o),e},hF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),ff(e,df(t)-s),xf(e,mf(t)-o),e},oF=function(e,t,s,o){return s===void 0&&(s=0),o===void 0&&(o=0),vf(e,cf(t)+s),xf(e,mf(t)-o),e},Ni=[];Ni[es.BOTTOM_CENTER]=_b;Ni[es.BOTTOM_LEFT]=tF;Ni[es.BOTTOM_RIGHT]=eF;Ni[es.CENTER]=sF;Ni[es.LEFT_CENTER]=rF;Ni[es.RIGHT_CENTER]=nF;Ni[es.TOP_CENTER]=aF;Ni[es.TOP_LEFT]=hF;Ni[es.TOP_RIGHT]=oF;var Ax=function(e,t,s,o,y){return Ni[s](e,t,o,y)},Ca=function(e,t,s,o,y,S){Ed.setPosition(t,s).setSize(o,y),Ax(e,Ed,S)};const Gr=Phaser.Utils.Objects.GetValue,lF=Phaser.GameObjects.Group,uF=Phaser.GameObjects.Container;var dF=function(e,t){var s=e.scene,o,y,S,r,C;if(typeof t=="number")o=t;else{o=Gr(t,"color"),y=Gr(t,"lineWidth");var i=Gr(t,"name",!1);i&&(S=Gr(i,"createTextCallback",fF),r=Gr(i,"createTextCallbackScope",void 0),C=Gr(i,"align","left-top"),typeof C=="string"&&(C=pn[C]))}if(o===void 0&&(o=16777215),y===void 0&&(y=1),S&&!e.children){e.children=new lF(s),e.once("destroy",function(d,c){d.children.destroy(!c),d.children=void 0});var h=e.clear.bind(e);e.clear=function(){h(),e.children.clear(!1,!0)}}var x=this.getAllShownChildren([this]);Ox(x,x);for(var f,l,a=0,n=x.length;a<n;a++){if(f=x[a],f.getBounds||f.width!==void 0&&f.height!==void 0)Zs=$d(f,Zs);else continue;o!=null&&e.lineStyle(y,o).strokeRectShape(Zs),f.name&&S&&(r?l=S.call(r,s):l=S(s),l&&(l.setText(f.name),e.children.add(l),Ca(l,Zs.x,Zs.y,Zs.width,Zs.height,C)))}return this},fF=function(e,t,s){return e.add.text(0,0,"")},Ox=function(e,t){Array.isArray(e)||(e=[e]),t===void 0&&(t=[]);for(var s=0,o=e.length;s<o;s++){var y=e[s];y instanceof uF&&(t.push(...y.list),Ox(y.list,t))}return t},Zs=void 0;const Ch=Phaser.Utils.Objects.GetValue;var Tr=function(e,t){return e===void 0&&(e=0),t===void 0&&(t={}),typeof e=="number"?(t.left=e,t.right=e,t.top=e,t.bottom=e):(t.left=Ch(e,"left",0),t.right=Ch(e,"right",0),t.top=Ch(e,"top",0),t.bottom=Ch(e,"bottom",0)),t};const cF=$e.prototype.add;var Sa=function(e){return cF.call(this,e),this.sizerEventsEnable&&(e.emit("sizer.add",e,this),this.emit("add",e,this)),this};const vF={addBackground(e,t,s){this.backgroundChildren===void 0&&(this.backgroundChildren=[]),typeof t=="string"&&(s=t,t=void 0),t===void 0&&(t=0),Sa.call(this,e),this.backgroundChildren.push(e);var o=this.getSizerConfig(e);return o.padding=Tr(t),s!==void 0&&this.addChildrenMap(s,e),this},isBackground(e){return this.backgroundChildren===void 0?!1:this.backgroundChildren.indexOf(e)!==-1}};var As=function(e,t){var s=null;if(t===void 0)e.hasOwnProperty("rexContainer")&&(s=e.rexContainer.parent,s?s.isRexSizer||(s=As(s)):s=null);else for(s=As(e);s&&s.name!==t;)s=As(s);return s},pF=function(e){for(var t=As(e);t;)e=t,t=As(t);return e};const gn={getParentSizer(e,t){return typeof e=="string"&&(t=e,e=void 0),e===void 0&&(e=this),As(e,t)},getTopmostSizer(e){return e===void 0&&(e=this),pF(e)},hasParentSizer(e,t){t===void 0&&(t=this);for(var s=As(t);s;){if(s===e)return!0;s=As(s)}return!1},hasChild(e,t){return t===void 0&&(t=this),this.hasParentSizer(t,e)}},gF=Phaser.Utils.Array.Remove,mF=$e.prototype.remove,dp=gn.getParentSizer;var Pa=function(e,t){for(var s=dp(e);s;)s.removeChildCallback&&s.removeChildCallback(e,t),s=dp(s);return this.isBackground(e)&&gF(this.backgroundChildren,e),mF.call(this,e,t),!t&&this.sizerEventsEnable&&(e.emit("sizer.remove",e,this),this.emit("remove",e,this)),this};const xF=Phaser.Utils.Array.Remove,yF=gn.getParentSizer,TF={removeFromParentSizer(){var e=yF(gameObject);return e&&e.remove(this),this},removeBackground(e,t){return this.backgroundChildren===void 0?this:this.getParentSizer(e)!==this?this:(xF(this.backgroundChildren,e),Pa.call(this,e,t),this)},removeAllBackgrounds(e){if(this.backgroundChildren===void 0)return this;for(var t=this.backgroundChildren.length-1;t>=0;t--)this.remove(this.backgroundChildren[t],e);return this}};var fp=function(e,t){if(typeof e=="string")this.childrenMap[e]=t;else{var s=e;for(e in s)this.childrenMap[e]=s[e]}return this},CF=function(e){if(typeof e=="object"){var t=e;for(var e in this.childrenMap)if(this.childrenMap[e]===t)return delete this.childrenMap[e],this}return delete this.childrenMap[e],this},SF=function(e,t){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){t===void 0&&(t=!1);var s=e.shift(),o=null;if(s.charAt(0)==="#")s=s.substring(1),o=this.getByName(s,t);else if(e.length===0&&t){var y=this.childrenMap;if(y)for(var S=[y],r;S.length;){y=S.shift();for(var C in y)if(r=y[C],C===s){o=r;break}else r&&typeof r=="object"&&r.childrenMap&&S.push(r.childrenMap);if(o)break}}else if(s.indexOf("[")===-1)this.childrenMap&&(o=this.childrenMap[s]);else{var i=s.match(PF);if(i!=null&&this.childrenMap){var h=this.childrenMap[i[1]];h&&(o=h[i[2]])}}return e.length===0?o:o&&o.childrenMap?o.getElement(e):null}};const PF=/(\S+)\[(\d+)\]/i;var EF=function(e){if(Array.isArray(this.sizerChildren)){var t=this.sizerChildren.indexOf(e);return t===-1&&(t=null),t}else{if(this.getParentSizer(e)!==this)return null;for(var s in this.sizerChildren)if(this.sizerChildre[s]===e)return s;return null}};const MF={getInnerPadding(e){return io(this.space,e)},setInnerPadding(e,t){return Rs(this.space,e,t),this},getOuterPadding(e){return io(this.getSizerConfig(this).padding,e)},setOuterPadding(e,t){return Rs(this.getSizerConfig(this).padding,e,t),this},getChildOuterPadding(e,t){return typeof e=="string"&&(e=this.getElement(e)),io(this.getSizerConfig(e).padding,t)},setChildOuterPadding(e,t,s){return typeof e=="string"&&(e=this.getElement(e)),Rs(this.getSizerConfig(e).padding,t,s),this}};var yf=function(e){var t=this.childrenWidth;if(t!==void 0){var s=this.minWidth!==void 0?this.minWidth*this.scaleX:0;return e===void 0?(e=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) < childrenWidth (${t})`)):this.layoutWarnEnable&&(s>e||t>e)&&console.warn(`Layout width warn: ${this.constructor.name}'s minWidth (${s}) or childrenWidth (${t} > targetWidth ${e})`),e}},Tf=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runWidthWrap)&&(!e.hasWidthWrap||e.hasWidthWrap()))return!0;return!1},wF=function(e){var t,s,o;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildWidth(t,e),o=t.resolveWidth(s),o===void 0&&(o=s),t.resolveChildrenWidth(o))},Cf=function(e){var t,s,o;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(s=this.getExpandedChildWidth(t,e),t.isRexSizer?(o=t.resolveWidth(s),o===void 0&&(o=s)):o=s,t.runWidthWrap(o));return this},Sf=function(e){var t=this.childrenHeight;if(t!==void 0){var s=this.minHeight!==void 0?this.minHeight*this.scaleY:0;return e===void 0?(e=Math.max(s,t),this.layoutWarnEnable&&s>0&&t>s&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) < childrenHeight (${t})`)):this.layoutWarnEnable&&(s>e||t>e)&&console.warn(`Layout height warn: ${this.constructor.name}'s minHeight (${s}) or childrenHeight (${t}) > targetHeight (${e})`),e}},Pf=function(){var e;for(var t in this.sizerChildren)if(e=this.sizerChildren[t],!(!e||e.isRexSizer&&e.ignoreLayout||!e.runHeightWrap)&&(!e.hasHeightWrap||e.hasHeightWrap()))return!0;return!1},RF=function(e){var t,s,o;for(var y in this.sizerChildren)t=this.sizerChildren[y],t&&t.isRexSizer&&!t.ignoreLayout&&(s=this.getExpandedChildHeight(t,e),o=t.resolveHeight(s),o===void 0&&(o=s),t.resolveChildrenHeight(o))},Ef=function(e){var t,s,o;for(var y in this.sizerChildren)t=this.sizerChildren[y],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(s=this.getExpandedChildHeight(t,e),t.isRexSizer?(o=t.resolveHeight(s),o===void 0&&(o=s)):o=s,t.runHeightWrap(o));return this},AF=function(e){var t;if(e.isRexSizer){var s=e.childrenWidth;if(s==null)return;var o=e.minWidth*e.scaleX;t=Math.max(o,s)}else e.minWidth!==void 0?t=e.minWidth:e._minWidth!==void 0?t=e._minWidth:t=Rt(e);return t},OF=function(e){var t;if(e.isRexSizer){var s=e.childrenHeight;if(s===void 0)return;var o=e.minHeight*e.scaleY;t=Math.max(o,s)}else e.minHeight!==void 0?t=e.minHeight:e._minHeight!==void 0?t=e._minHeight:t=At(e);return t},LF=function(e,t){return t},bF=function(e,t){return t},FF=function(){return 0},DF=function(){return 0},IF=function(e){e===void 0&&(e=[]);for(var t=e.length,s=this.getChildrenSizers(e),o=e.length,y=t;y<o;y++)s[y].getAllChildrenSizers(e);return e},BF=function(e){return e===void 0&&(e=[]),e};const GF={getShownChildren(e){e===void 0&&(e=[]);for(var t=this.children,s,o=0,y=t.length;o<y;o++)s=t[o],!(s.rexSizer&&s.rexSizer.hidden)&&e.push(s);return e},getAllShownChildren(e){e===void 0&&(e=[]);for(var t=[this];t.length>0;){var s=t.shift();s.rexSizer&&s.rexSizer.hidden||(s!==this&&e.push(s),s.isRexContainerLite&&t.push(...s.children))}return e}};var Ea=function(){this._childrenWidth=void 0,this._childrenHeight=void 0;for(var e=this.getChildrenSizers(),t,s=0,o=e.length;s<o;s++)t=e[s],!t.ignoreLayout&&t.preLayout()},NF=function(){return this.runLayout(),this},kF=function(e){if(e.resize)return!0;if(!e.setSize)return!1;for(var t=0,s=cp.length;t<s;t++){var o=cp[t];if(o&&e instanceof o)return!1}return!0},cp=[Phaser.GameObjects.Image,Phaser.GameObjects.Sprite,Phaser.GameObjects.Mesh,Phaser.GameObjects.Shader,Phaser.GameObjects.Video],VF=function(e){if(e.displayWidth===void 0)return!1;for(var t=0,s=vp.length;t<s;t++){var o=vp[t];if(o&&e instanceof o)return!1}return!0},vp=[Phaser.GameObjects.BitmapText],Pe=function(e,t,s){if(!(!e||t===void 0&&s===void 0))if(kF(e)){var o,y;t===void 0?o=e.width:o=t/e.scaleX,s===void 0?y=e.height:y=s/e.scaleY,e.resize?e.resize(o,y):e.setSize(o,y)}else{var S=VF(e);t!==void 0&&(S?e.displayWidth=t:e.scaleX=t/e.width),s!==void 0&&(S?e.displayHeight=s:e.scaleY=s/e.height)}},zF=function(e,t,s){if(this.ignoreLayout)return this;var o=!e;o&&this.preLayout();var y,S;o||e.runChildrenWrapFlag?(y=this.hasWidthWrap(),S=this.hasHeightWrap()):(y=!1,S=!1);var r=XF(this,t,s,y,S);r||console.error("Can't resolve size of ",this);var C=r.width,i=r.height;return Pe(this,C,i),this.sizerEventsEnable&&this.layoutedChildren===void 0&&(this.layoutedChildren=[]),this.layoutChildren(),this.layoutBackgrounds(),this.sizerEventsEnable&&(this.emit("postlayout",this.layoutedChildren,this),this.layoutedChildren.length=0),this.postLayout(e,C,i),o&&this._anchor&&this._anchor.updatePosition(),this},XF=function(e,t,s,o,y){var S=pp(e,t,o),r=YF(e,s,y);return S===void 0&&(S=pp(e,t,o)),S!==void 0&&r!==void 0?{width:S,height:r}:!1},pp=function(e,o,s){var o=e.resolveWidth(o);return o!==void 0&&s&&(e.resolveChildrenWidth(o),e.runWidthWrap(o)),o},YF=function(e,o,s){var o=e.resolveHeight(o);return o!==void 0&&s&&(e.resolveChildrenHeight(o),e.runHeightWrap(o)),o},WF=function(){},UF=function(e,t,s){return this},HF=function(e,t,s,o){Pe(s,e,t)};const Sh=Phaser.Utils.Objects.GetValue;class Mf extends zt{constructor(t,s){super(t,{eventEmitter:!1}),this.viewport=void 0,this.resetFromJSON(s)}shutdown(t){this.isShutdown||(this.autoAnchor(!1),this.viewport=void 0,this.onUpdateViewportCallback=void 0,this.onUpdateViewportCallbackScope=void 0,this.onResizeCallback=void 0,this.onResizeCallbackScope=void 0,super.shutdown(t))}resetFromJSON(t){t===void 0&&(t={});var s,o;t.x!==void 0?(s=null,o=t.x):t.left!==void 0?(s=0,o=t.left):t.right!==void 0?(s=1,o=t.right):t.centerX!==void 0&&(s=.5,o=t.centerX);var y,S;t.y!==void 0?(y=null,S=t.y):t.top!==void 0?(y=0,S=t.top):t.bottom!==void 0?(y=1,S=t.bottom):t.centerY!==void 0&&(y=.5,S=t.centerY);var r,C;o!==void 0&&(o=o.replace("left","0%").replace("right","100%").replace("center","50%").split("%"),r=parseFloat(o[0])/100,C=o[1]===""?0:parseFloat(o[1]));var i,h;S!==void 0&&(S=S.replace("top","0%").replace("bottom","100%").replace("center","50%").split("%"),i=parseFloat(S[0])/100,h=S[1]===""?0:parseFloat(S[1]));var x=t.width,f,l;x!==void 0&&(x=x.split("%"),f=parseFloat(x[0])/100,l=x[1]===""?0:parseFloat(x[1]));var a=t.height,n,d;a!==void 0&&(a=a.split("%"),n=parseFloat(a[0])/100,d=a[1]===""?0:parseFloat(a[1])),this.setAlign(s,y),this.setPercentage(r,i),this.setOffset(C,h),this.setSizePercentage(f,n),this.setSizePadding(l,d);var c=Sh(t,"onResizeCallback",HF),u=Sh(t,"onResizeCallbackScope");this.setResizeCallback(c,u);var v=Sh(t,"onUpdateViewportCallback"),p=Sh(t,"onUpdateViewportCallbackScope");return this.setUpdateViewportCallback(v,p),this.autoAnchor(t.enable),this}autoAnchor(t){return t===void 0&&(t=!0),t=!!t,this.autoAnchorEnable===t?this:(t?(this.scene.sys.scale.on("resize",this.anchor,this),this.anchor()):this.scene.sys.scale.off("resize",this.anchor,this),this.autoAnchorEnable=t,this)}setAlign(t,s){return this.alignX=t,this.alignY=s,this}setPercentage(t,s){return this.percentageX=t,this.percentageY=s,this}setOffset(t,s){return this.offsetX=t,this.offsetY=s,this}setSizePercentage(t,s){return this.percentageWidth=t,this.percentageHeight=s,this}setSizePadding(t,s){return this.paddingWidth=t,this.paddingHeight=s,this}setResizeCallback(t,s){return this.onResizeCallback=t,this.onResizeCallbackScope=s,this}setUpdateViewportCallback(t,s){return this.onUpdateViewportCallback=t,this.onUpdateViewportCallbackScope=s,this}anchor(){return this.updateViewport(),this.updateSize(),this.updatePosition(),this}updateSize(){var t=this.onResizeCallback,s=this.onResizeCallbackScope,o=this.anchorWidth,y=this.anchorHeight;if(!(o===void 0&&y===void 0||!t)){var S=this.parent;o===void 0&&(o=S.width),y===void 0&&(y=S.height),s?t.call(s,o,y,S,this):t(o,y,S,this)}}updatePosition(){var t=this.parent;return this.alignX===null?t.x=this.anchorX:this.alignX!==void 0&&(t.x=this.anchorX+t.displayWidth*(t.originX-this.alignX)),this.alignY===null?t.y=this.anchorY:this.alignY!==void 0&&(t.y=this.anchorY+t.displayHeight*(t.originY-this.alignY)),this}get anchorX(){return this.viewport.x+this.viewport.width*this.percentageX+this.offsetX}get anchorY(){return this.viewport.y+this.viewport.height*this.percentageY+this.offsetY}get anchorWidth(){if(this.percentageWidth!==void 0)return this.viewport.width*this.percentageWidth+this.paddingWidth}get anchorHeight(){if(this.percentageHeight!==void 0)return this.viewport.height*this.percentageHeight+this.paddingHeight}updateViewport(){var t=this.parent.scene.cameras.main;this.viewport=fn(this.scene,t,this.viewport);var s=this.viewport,o=this.onUpdateViewportCallback,y=this.onUpdateViewportCallbackScope;o&&(y?o.call(y,s,this.parent,this):o(s,this.parent,this))}}var $F=function(e){e===void 0&&(e={});var t=e.hasOwnProperty("width"),s=e.hasOwnProperty("height"),o=e.hasOwnProperty("onResizeCallback");return(t||s)&&!o&&(e.onResizeCallback=function(y,S,r){t&&r.setMinWidth(y),s&&r.setMinHeight(S),r.layout()}),this._anchor===void 0?this._anchor=new Mf(this,e):this._anchor.resetFromJSON(e),this};const KF=Phaser.Utils.Objects.GetValue,Nr=Phaser.Utils.Objects.GetAdvancedValue,gp=Phaser.Math.Linear;class ha extends mr{constructor(t,s){super(t,s),this.scaleStart={},this.scaleEnd={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(KF(t,"mode",0)),this.setScaleRange(Nr(t,"start",void 0),Nr(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=ZF[t]),this.mode=t,this}setScaleRange(t,s){return typeof t=="number"?(this.startX=t,this.startY=t):(this.startX=Nr(t,"x",this.parent.scaleX),this.startY=Nr(t,"y",this.parent.scaleY)),typeof s=="number"?(this.endX=s,this.endY=s):(this.endX=Nr(s,"x",void 0),this.endY=Nr(s,"y",void 0)),this.hasScaleX=this.startX!==void 0&&this.endX!==void 0,this.hasScaleY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;this.hasScaleX&&(t.scaleX=this.startX),this.hasScaleY&&(t.scaleY=this.startY);var s=this.repeat;return this.mode===2&&s!==-1&&(s=(s+1)*2-1),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(s),super.start(),this}updateTarget(t,s){var o=s.t;s.isOddIteration&&(o=1-o),o=this.easeFn(o),this.hasScaleX&&(t.scaleX=gp(this.startX,this.endX,o)),this.hasScaleY&&(t.scaleY=gp(this.startY,this.endY,o))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const ZF={stop:0,destroy:1,yoyo:2};var wf=function(e,t,s,o,y){o===void 0&&(o="Cubic");var S,r;switch(s){case 0:case"x":S={x:0},r={x:e.scaleX};break;case 1:case"y":S={y:0},r={y:e.scaleY};break;default:S=0,r=e.scale;break}var C={mode:0,start:S,end:r,duration:t,ease:o};return y===void 0?y=new ha(e,C):y.resetFromJSON(C),y.restart(),y},Lx=function(e,t,s,o,y,S){o===void 0&&(o="Linear"),y instanceof ha&&(S=y,y=void 0),y===void 0&&(y=!0);var r={};switch(r.mode=y?1:0,s){case 0:case"x":r.end={x:0};break;case 1:case"y":r.end={y:0};break;default:r.end=0;break}return r.duration=t,r.ease=o,S===void 0?S=new ha(e,r):S.resetFromJSON(r),S.restart(),S},JF=function(e,t,s,o,y,S,r){s===void 0&&(s=1.2),o===void 0&&(o=0),S===void 0&&(S="Cubic");var C,i;switch(y){case 0:case"x":C={x:e.scaleX},i={x:s};break;case 1:case"y":C={y:e.scaleX},i={y:s};break;default:C=e.scaleX,i=s;break}var h={mode:2,start:C,end:i,duration:t/2,ease:S,repeat:o};return r===void 0?r=new ha(e,h):r.resetFromJSON(h),r.restart(),r};const au=Phaser.Utils.Objects.IsPlainObject,bx={onInitScale(){var e=this,t=this._scaleBehavior;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},popUp(e,t,s){if(au(e)){var o=e;e=o.duration,t=o.orientation,s=o.ease}var y=this._scaleBehavior===void 0;return this._scaleBehavior=wf(this,e,t,s,this._scaleBehavior),y&&this.onInitScale(),this._scaleBehavior.completeEventName="popup.complete",this},popUpPromise(e,t,s){return this.popUp(e,t,s),ge(this._scaleBehavior)},isRunningPopUp(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="popup.complete"},scaleDownDestroy(e,t,s,o){if(au(e)){var y=e;e=y.duration,t=y.orientation,s=y.ease,o=y.destroy}var S=this._scaleBehavior===void 0;return this._scaleBehavior=Lx(this,e,t,s,o,this._scaleBehavior),S&&this.onInitScale(),this._scaleBehavior.completeEventName="scaledown.complete",this},scaleDownDestroyPromise(e,t,s,o){return this.scaleDownDestroy(e,t,s,o),ge(this._scaleBehavior)},scaleDown(e,t,s){return this.scaleDownDestroy(e,t,s,!1),this},scaleDownPromise(e,t,s){return this.scaleDown(e,t,s),ge(this._scaleBehavior)},isRunningScaleDown(){return this._scaleBehavior&&this._scaleBehavior.completeEventName==="scaledown.complete"},scaleYoyo(e,t,s,o,y){if(au(e)){var S=e;e=S.duration,t=S.peakValue,s=S.repeat,o=S.orientation,y=S.ease}var r=this._scaleBehavior===void 0;return this._scaleBehavior=JF(this,e,t,s,o,y,this._scaleBehavior),r&&this.onInitScale(),this._scaleBehavior.completeEventName="scaleyoyo.complete",this},scaleYoyoPromise(e,t,s,o,y){return this.scaleYoyo(e,t,s,o,y),ge(this._scaleBehavior)},isRunningScaleYoyo(){return this._scaleBehavior&&(this._scaleBehavior.completeEventName="scaleyoyo.complete")},isRunningEaseScale(){return this.isRunningPopUp()||this.isRunningScaleDown()||this.isRunningScaleYoyo()}};var Ki={};Object.assign(Ki,bx);Ki.onInitScale=function(){bx.onInitScale.call(this);var e=this,t=this._scaleBehavior;t.on("update",function(){var s=gn.getParentSizer(e);s&&s.resetChildPositionState(e)})};const QF=Phaser.Utils.Objects.GetValue,mp=Phaser.Utils.Objects.GetAdvancedValue,jF=Phaser.Math.Linear;let Md=class extends mr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setMode(QF(t,"mode",0)),this.setAlphaRange(mp(t,"start",this.parent.alpha),mp(t,"end",0)),this}setMode(t){return typeof t=="string"&&(t=qF[t]),this.mode=t,this}setAlphaRange(t,s){return this.alphaStart=t,this.alphaEnd=s,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return t.setAlpha(this.alphaStart),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,s){var o=s.t;s.isOddIteration&&(o=1-o),t.alpha=jF(this.alphaStart,this.alphaEnd,o)}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}};const qF={stop:0,destroy:1,yoyo:2},_F=Phaser.Utils.Objects.IsPlainObject;var Vo=function(e,t,s,o){var y,S;_F(s)?(y=s.start,S=s.end):S=s,y===void 0&&(y=0),S===void 0&&(S=1);var r={mode:0,start:y,end:S,duration:t};return o===void 0?o=new Md(e,r):o.resetFromJSON(r),o.restart(),o},zo=function(e,t,s,o){s instanceof Md&&(o=s,s=void 0),s===void 0&&(s=!0);var y={mode:s?1:0,end:0,duration:t};return o===void 0?o=new Md(e,y):o.resetFromJSON(y),o.restart(),o};const xp=Phaser.Utils.Objects.IsPlainObject,Fx={onInitFade(){var e=this,t=this._fade;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},fadeIn(e,t){if(xp(e)){var s=e;e=s.duration,t=s.alpha}var o=this._fade===void 0;return this._fade=Vo(this,e,t,this._fade),o&&this.onInitFade(),this._fade.completeEventName="fadein.complete",this},fadeInPromise(e,t){return this.fadeIn(e,t),ge(this._fade)},isRunningFadeIn(){return this._fade&&this._fade.completeEventName==="fadein.complete"},fadeOutDestroy(e,t){if(xp(e)){var s=e;e=s.duration,t=s.destroy}var o=this._fade===void 0;return this._fade=zo(this,e,t,this._fade),o&&this.onInitFade(),this._fade.completeEventName="fadeout.complete",this},fadeOutDestroyPromise(e,t){return this.fadeOutDestroy(e,t),ge(this._fade)},fadeOut(e){return this.fadeOutDestroy(e,!1),this},fadeOutPromise(e){return this.fadeOut(e),ge(this._fade)},isRunningFadeOut(){return this._fade&&this._fade.completeEventName==="fadeout.complete"},isRunningEaseFade(){return this.isRunningFadeIn()||this.isRunningFadeOut()}};var oa={};Object.assign(oa,Fx);oa.onInitFade=function(){Fx.onInitFade.call(this);var e=this,t=this._fade;t.on("update",function(){var s=gn.getParentSizer(e);s&&s.resetChildAlphaState(e)})};const t3=Phaser.Utils.Objects.GetValue,kr=Phaser.Utils.Objects.GetAdvancedValue,yp=Phaser.Math.Linear;class vo extends mr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){if(super.resetFromJSON(t),this.setMode(t3(t,"mode",0)),t&&(t.hasOwnProperty("x")||t.hasOwnProperty("y"))){var s=kr(t,"x",void 0),o=kr(t,"y",void 0);this.setTargetPosition(s,o)}else this.setTargetPosition(t);return this}setMode(t){return typeof t=="string"&&(t=e3[t]),this.mode=t,this}setTargetPosition(t,s){if(typeof t=="number"||typeof s=="number")this.startX=this.parent.x,this.startY=this.parent.y,this.endX=t,this.endY=s;else{var o=t;this.startX=kr(o,"startX",void 0),this.startY=kr(o,"startY",void 0),this.endX=kr(o,"endX",void 0),this.endY=kr(o,"endY",void 0)}return this.hasMoveX=this.startX!==void 0&&this.endX!==void 0,this.hasMoveY=this.startY!==void 0&&this.endY!==void 0,this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.hasMoveX&&(t.x=this.startX),this.hasMoveY&&(t.y=this.startY),this.timer.setDelay(this.delay).setDuration(this.duration).setRepeat(this.mode===2?-1:0),super.start(),this}updateTarget(t,s){var o=s.t;s.isOddIteration&&(o=1-o),o=this.easeFn(o),this.hasMoveX&&(t.x=yp(this.startX,this.endX,o)),this.hasMoveY&&(t.y=yp(this.startY,this.endY,o))}complete(){return super.complete(),this.mode===1&&this.parent.destroy(),this}}const e3={stop:0,destroy:1,yoyo:2};var po=function(e,t){if(typeof e=="number")return e;var s=e[0],o=parseFloat(e.substr(2));switch(s){case"+":return t+o;case"-":return t-o;case"*":return t*o;case"/":return t/o}},Dx=function(e,t,s,o,y,S,r){S instanceof vo&&(r=S,S=void 0),S===void 0&&(S=!1);var C={};return C.mode=S?1:0,s!==void 0&&(C.startX=e.x,C.endX=po(s,e.x)),o!==void 0&&(C.startY=e.y,C.endY=po(o,e.y)),C.duration=t,C.ease=y===void 0?"Linear":y,r===void 0?r=new vo(e,C):r.resetFromJSON(C),r.restart(),r},Ix=function(e,t,s,o,y,S,r){S instanceof vo&&(r=S,S=void 0),S===void 0&&(S=!1);var C={};return C.mode=S?1:0,s!==void 0&&(C.startX=po(s,e.x),C.endX=e.x),o!==void 0&&(C.startY=po(o,e.y),C.endY=e.y),C.duration=t,C.ease=y===void 0?"Linear":y,r===void 0?r=new vo(e,C):r.resetFromJSON(C),r.restart(),r};const Tp=Phaser.Utils.Objects.IsPlainObject,Cp=Phaser.Math.Distance.Between,Bx={onInitEaseMove(){var e=this,t=this._easeMove;t.completeEventName=void 0,t.on("complete",function(){t.completeEventName&&(e.emit(t.completeEventName,e),t.completeEventName=void 0)})},moveFrom(e,t,s,o,y){if(Tp(e)){var S=e;t=S.x,s=S.y,S.hasOwnProperty("speed")?e=Cp(t,s,this.x,this.y)*1e3/S.speed:e=S.duration,o=S.ease}var r=this._easeMove===void 0;return this._easeMove=Ix(this,e,t,s,o,y,this._easeMove),r&&this.onInitEaseMove(),this._easeMove.completeEventName="movefrom.complete",this},moveFromPromise(e,t,s,o,y){return this.moveFrom(e,t,s,o,y),ge(this._easeMove)},moveFromDestroy(e,t,s,o){return this.moveFrom(e,t,s,o,!0),this},moveFromDestroyPromise(e,t,s,o){return this.moveFromDestroy(e,t,s,o),ge(this._easeMove)},isRunningMoveFrom(){return this._easeMove&&(this._easeMove.completeEventName="movefrom.complete")},moveTo(e,t,s,o,y){if(Tp(e)){var S=e;t=S.x,s=S.y,S.hasOwnProperty("speed")?e=Cp(t,s,this.x,this.y)*1e3/S.speed:e=S.duration,o=S.ease}var r=this._easeMove===void 0;return this._easeMove=Dx(this,e,t,s,o,y,this._easeMove),r&&this.onInitEaseMove(),this._easeMove.completeEventName,this},moveToPromise(e,t,s,o,y){return this.moveTo(e,t,s,o,y),ge(this._easeMove)},moveToDestroy(e,t,s,o){return this.moveTo(e,t,s,o,!0),this},moveToDestroyPromise(e,t,s,o){return this.moveToDestroy(e,t,s,o,!0),ge(this._easeMove)},isRunningMoveTo(){return this._easeMove&&this._easeMove.completeEventName==="moveto.complete"},isRunningEaseMove(){return this.isRunningMoveFrom()||this.isRunningMoveTo()},moveStop(e){return this._easeMove?(this._easeMove.stop(e),this):this}};var Xo={};Object.assign(Xo,Bx);Xo.onInitEaseMove=function(){Bx.onInitEaseMove.call(this);var e=this,t=this._easeMove;t.on("update",function(){var s=gn.getParentSizer(e);s&&s.resetChildPositionState(e)})};const Qe=Phaser.Utils.Objects.GetValue;class Rf extends bo{constructor(t,s){super(t,s),this.timer=new Gm,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.timer.resetFromJSON(Qe(t,"timer")),this.setEnable(Qe(t,"enable",!0)),this.setMode(Qe(t,"mode",1)),this.isRunning=Qe(t,"isRunning",!1),this.setMagnitudeMode(Qe(t,"magnitudeMode",1)),this.setAxisMode(Qe(t,"axis",0)),this.setDuration(Qe(t,"duration",500)),this.setMagnitude(Qe(t,"magnitude",10)),this.ox=Qe(t,"ox",void 0),this.oy=Qe(t,"oy",void 0),this}toJSON(){return{timer:this.timer.toJSON(),enable:this.enable,mode:this.mode,isRunning:this.isRunning,magnitudeMode,duration:this.duration,magnitude:this.magnitude,ox:this.ox,oy:this.oy}}shutdown(t){this.isShutdown||(super.shutdown(t),this.timer.destroy(),this.timer=void 0)}startTicking(){super.startTicking(),this.mode===0?(this.scene.game.events.on("poststep",this.update,this),this.scene.game.events.on("prestep",this.backToOrigin,this)):this.scene.sys.events.on("preupdate",this.update,this)}stopTicking(){super.stopTicking(),this.scene&&(this.mode===0?(this.scene.game.events.off("poststep",this.update,this),this.scene.game.events.off("prestep",this.backToOrigin,this)):this.scene.sys.events.off("preupdate",this.update,this))}setEnable(t){return t==null&&(t=!0),this.enable=t,this}setMode(t){return typeof t=="string"&&(t=i3[t]),this.mode=t,this}setMagnitudeMode(t){return typeof t=="string"&&(t=r3[t]),this.magnitudeMode=t,this}setAxisMode(t){return typeof t=="string"&&(t=s3[t]),this.axisMode=t,this}setDuration(t){return this.duration=t,this}setMagnitude(t){return this.magnitude=t,this}start(t,s){if(typeof t!="number"){var o=t;s=Qe(o,"magnitude",void 0),t=Qe(o,"duration",void 0)}return s!==void 0&&this.setMagnitude(s),t!==void 0&&this.setDuration(t),this.timer.setDuration(this.duration).start(),super.start(),this}shake(t,s){return this.start(t,s),this}update(t,s){if(!this.isRunning||!this.enable)return this;var o=this.parent;if(!o.active)return this;if(this.timer.update(t,s),this.timer.isDone)this.backToOrigin(),this.complete();else{this.ox===void 0&&(this.ox=o.x,this.oy=o.y);var y=this.magnitude;this.magnitudeMode===1&&(y*=1-this.timer.t);var S=Math.random()*Math.PI*2,r=this.ox+Math.cos(S)*y,C=this.oy+Math.sin(S)*y;switch(this.axisMode){case 1:o.x=r;break;case 2:o.y=C;break;default:o.x=r,o.y=C;break}}return this}backToOrigin(){if(!this.isRunning||!this.enable)return this;if(this.ox===void 0)return this;var t=this.parent;switch(this.axisMode){case 1:t.x=this.ox;break;case 2:t.y=this.oy;break;default:t.x=this.ox,t.y=this.oy;break}return this.ox=void 0,this.oy=void 0,this}}const i3={effect:0,behavior:1},s3={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2},r3={constant:0,decay:1},n3=Phaser.Utils.Objects.IsPlainObject;var a3=function(e,t){t.on("complete",function(){e.emit("shake.complete",e)})};const h3={shake(e,t,s){if(n3(e)){var o=e;e=o.duration,t=o.magnitude,s=o.magnitudeMode}return this._shake===void 0&&(this._shake=new Rf(this,{mode:0,magnitudeMode:1}),a3(this,this._shake)),e!==void 0&&this._shake.setDuration(e),t!==void 0&&this._shake.setMagnitude(t),s!==void 0&&this._shake.setMagnitudeMode(s),this._shake.shake(),this},shakePromise(e,t){return this.shake(e,t),ge(this._shake)}},Sp=Phaser.Utils.Objects.IsPlainObject;class o3 extends zt{constructor(t,s){super(t,s),this.parent.setDataEnabled(),this.easeTasks={}}complete(t){this.emit(`complete-${t}`,this.parent,this),this.emit("complete",t,this.parent,this)}getEaseTask(t){var s=this.easeTasks[t];return s===void 0&&(s=new ji(this.parent),this.easeTasks[t]=s,s.setTarget(this.parent.data.values).on("complete",function(){this.complete(t)},this)),s}easeTo(t,s,o,y){if(Sp(t)){var S=t;t=S.key,s=S.value,o=S.duration,y=S.ease;var r=S.speed;o===void 0&&r!==void 0&&(o=Math.abs(s-this.parent.data.values[t])/r*1e3)}o===void 0&&(o=1e3),y===void 0&&(y="Linear");var C=this.getEaseTask(t);return C.restart({key:t,to:s,duration:o,ease:y}),this}easeFrom(t,s,o,y){if(Sp(t)){var S=t;t=S.key,s=S.value,o=S.duration,y=S.ease;var r=S.speed;o===void 0&&r!==void 0&&(o=Math.abs(s-this.parent.data.values[t])/r*1e3)}o===void 0&&(o=1e3),y===void 0&&(y="Linear");var C=this.getEaseTask(t);return C.restart({key:t,from:s,duration:o,ease:y}),this}stopEase(t,s){s===void 0&&(s=!0);var o=this.easeTasks[t];return o&&o.stop(s),this}stopAll(t){t===void 0&&(t=!0);for(var s in this.easeTasks)this.stopEase(s,t);return this}}var l3=function(e,t){t.on("complete",function(s){e.emit(`easedata.${s}.complete`,e),e.emit("easedata.complete",s,e)})};const u3={easeDataTo(e,t,s,o){return this._easeData||(this._easeData=new o3(this),l3(this,this._easeData)),this._easeData.easeTo(e,t,s,o),this},easeDataToPromise(e,t,s,o){return this.easeDataTo(e,t,s,o),Do(this._easeData,`complete-${e}`)},stopEaseData(e,t){return this._easeData?(this._easeData.stopEase(e,t),this):this},stopAllEaseData(e){return this._easeData?(this._easeData.stopAll(e),this):this}};var d3=Phaser.Utils.Array.Remove,f3=function(e){e._delayCallTimers=[],e.once("destroy",function(){for(var t=e._delayCallTimers,s=0,o=t.length;s<o;s++)t[s].remove();e._delayCallTimers=void 0})};const Gx={delayCall(e,t,s){var o=this._delayCallTimers;o===void 0&&f3(this);var y,S=this,r=function(){d3(S._delayCallTimers,y),s?t.call(s):t()};return y=this.scene.time.delayedCall(e,r),this._delayCallTimers.push(y),this}};var Ps=function(e){Nx(e,!1)},Es=function(e){Nx(e,!0)},Af=function(e){if(!e)return!1;var t=ko(e);return!t.hidden},Nx=function(e,t){if(e){var s=ko(e);s.hidden=t;var o=He(e);o?o.setChildVisible(e,!t):e.setVisible(!t)}};const c3={show(e){return e===void 0&&(e=this),Ps(e),this},hide(e){return e===void 0&&(e=this),Es(e),this},isShow(e){return e===void 0&&(e=this),Af(e)}},v3=["next","exit","enter"];let kx=class{constructor(t){var s=Ot(t,"states",void 0);s&&this.addStates(s);var o=Ot(t,"extend",void 0);if(o)for(var y in o)(!this.hasOwnProperty(y)||this[y]===void 0)&&(this[y]=o[y]);var S=Ot(t,"eventEmitter",void 0),r=Ot(t,"EventEmitterClass",void 0);this.setEventEmitter(S,r),this._stateLock=!1,this.resetFromJSON(t)}shutdown(){this.destroyEventEmitter()}destroy(){this.shutdown()}resetFromJSON(t){this.setEnable(Ot(t,"enable",!0)),this.start(Ot(t,"start",void 0));var s=Ot(t,"init",void 0);return s&&s.call(this),this}toJSON(){return{curState:this.state,prevState:this.prevState,enable:this.enable,start:this._start}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}set state(t){if(!(!this.enable||this._stateLock)&&this._state!==t){if(this._prevState=this._state,this._state=t,this._stateLock=!0,this.emit("statechange",this),this._prevState!=null){var s="exit_"+this._prevState,o=this[s];o&&o.call(this),this.emit(s,this)}if(this._stateLock=!1,this._state!=null){var y="enter_"+this._state,S=this[y];S&&S.call(this),this.emit(y,this)}}}get state(){return this._state}get prevState(){return this._prevState}start(t){return this._start=t,this._prevState=void 0,this._state=t,this}goto(t){return t!=null&&(this.state=t),this}next(){var t,s=this["next_"+this.state];return s&&(typeof s=="string"?t=s:t=s.call(this)),this.goto(t),this}get stateProperties(){return v3}addState(t,s){typeof t!="string"&&(s=t,t=s.name);for(var o=this.stateProperties,y=0,S=o.length;y<S;y++){var r=o[y],C=s[r];C&&(this[`${r}_${t}`]=C)}return this}addStates(t){if(Array.isArray(t))for(var s=0,o=t.length;s<o;s++)this.addState(t[s]);else for(var y in t)this.addState(y,t[y]);return this}runMethod(t,s,o,y,S,r){var C=this[t+"_"+this.state];if(C){var i=arguments.length;switch(i){case 1:return C.call(this);case 2:return C.call(this,s);case 3:return C.call(this,s,o);case 4:return C.call(this,s,o,y);case 5:return C.call(this,s,o,y,S);case 6:return C.call(this,s,o,y,S,r)}for(var h=new Array(i-1),x=1;x<i;x++)h[x-1]=arguments[x];return C.apply(this,h)}}};Object.assign(kx.prototype,$m);var hu=function(e,t,s,o,y){y===void 0&&(y=!1);var S=e._events[t];if(!S)return!1;for(var r=0,C=S.length;r<C;r++){var i=S[r];if(i.fn===s&&i.context===o&&i.once===y)return!0}return!1};const p3=["next","exit","enter","update","preupdate","postupdate"];class is extends kx{shutdown(){this.stopUpdate(),this.stopPreUpdate(),this.stopPostUpdate(),this._scene=void 0,super.shutdown()}resetFromJSON(t){return super.resetFromJSON(t),this._scene=Ot(t,"scene",void 0),this}get stateProperties(){return p3}update(t,s){this.runMethod("update",t,s)}preupdate(t,s){this.runMethod("preupdate",t,s)}postupdate(t,s){this.runMethod("postupdate",t,s)}startUpdate(t){t||(t=this._scene);var s=t.sys.events;return hu(s,"update",this.update,this)?this:(this._scene=t,s.on("update",this.update,this),this)}stopUpdate(){return this._scene?(this._scene.sys.events.off("update",this.update,this),this):this}startPreUpdate(t){t||(t=this._scene);var s=t.sys.events;return hu(s,"preupdate",this.preupdate,this)?this:(this._scene=t,s.on("preupdate",this.preupdate,this),this)}stopPreUpdate(){return this._scene?(this._scene.sys.events.off("preupdate",this.preupdate,this),this):this}startPostUpdate(t){t||(t=this._scene);var s=t.sys.events;return hu(s,"postupdate",this.postupdate,this)?this:(this._scene=t,s.on("postupdate",this.postupdate,this),this)}stopPostUpdate(){return this._scene?(this._scene.sys.events.off("postupdate",this.postupdate,this),this):this}}let g3=class extends is{constructor(t,s){super(s),this.parent=t;var o=s.initState||"IDLE";this.start(o)}init(){this.start("IDLE")}next_IDLE(){return"TRANS_OPNE"}next_TRANS_OPNE(){return"OPEN"}enter_TRANS_OPNE(){var t=this.parent;if(t.transitInTime>0){var s=t.runTransitionInCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_OPNE(){var t=this.parent;t.removeDelayCall()}next_OPEN(){return"TRANS_CLOSE"}enter_OPEN(){var t=this.parent;t.onOpen()}exit_OPEN(){var t=this.parent;t.removeDelayCall()}next_TRANS_CLOSE(){return"CLOSE"}enter_TRANS_CLOSE(){var t=this.parent;if(t.transitOutTime>0){var s=t.runTransitionOutCallback();t.delayCall(s,this.next,this)}else this.next()}exit_TRANS_CLOSE(){var t=this.parent;t.removeDelayCall()}next_CLOSE(){return"TRANS_OPNE"}enter_CLOSE(){var t=this.parent;t.onClose()}exit_CLOSE(){}canOpen(){return this.state==="IDLE"||this.state==="CLOSE"}canClose(){return this.state==="IDLE"||this.state==="OPEN"}};var m3=function(e,t,s,o,y){var S=cn(e),r=S.time.delayedCall(t,function(){S.game.events.once("poststep",function(){s.call(o,y)})});return r};const x3={delayCall(e,t,s){return this.delayCallTimer=m3(this,e,t,s),this},removeDelayCall(){return this.delayCallTimer&&(this.delayCallTimer.remove(!1),this.delayCallTimer=void 0),this}},y3={setTransitInTime(e){return this.transitInTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInCallback(e){return e||(e=ae),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=ae),this.transitOutCallback=e,this}},T3={runTransitionInCallback(){return this.transitInCallback(this.parent,this.transitInTime),this.transitInTime},onOpen(){},requestOpen(e,t){if(!this._state.canOpen())return this;this.openEventData=arguments.length>0?e:this.parent;var s=this.transitInTime;return t!==void 0&&(this.transitInTime=t),this._state.goto("TRANS_OPNE"),this.transitInTime=s,this}},C3={runTransitionOutCallback(){return this.transitOutCallback(this.parent,this.transitOutTime),this.transitOutTime},onClose(){this.oneShotMode&&this.parent.destroy()},requestClose(e,t){if(!this._state.canClose)return this;this.closeEventData=arguments.length>0?e:this.parent;var s=this.transitOutTime;return t!==void 0&&(this.transitOutTime=t),this._state.goto("TRANS_CLOSE"),this.transitOutTime=s,this}};var Vx={};Object.assign(Vx,x3,y3,T3,C3);const Vr=Phaser.Utils.Objects.GetValue;class Yo extends zt{constructor(t,s){super(t,s),this.setTransitInTime(Vr(s,"duration.in",200)),this.setTransitOutTime(Vr(s,"duration.out",200)),this.setTransitInCallback(Vr(s,"transitIn")),this.setTransitOutCallback(Vr(s,"transitOut")),this.oneShotMode=Vr(s,"destroy",!1),this.delayCallTimer=void 0,this._state=new g3(this,{eventEmitter:!1,initState:Vr(s,"initState","IDLE")}),this.openEventData=void 0,this.closeEventData=void 0}get state(){return this._state.state}shutdown(t){this.isShutdown||(this.transitInCallback=void 0,this.transitOutCallback=void 0,this.openEventData=void 0,this.closeEventData=void 0,this.removeDelayCall(),super.shutdown(t))}}Object.assign(Yo.prototype,Vx);const S3=Phaser.GameObjects.Rectangle;class Of extends S3{constructor(t,s,o){super(t,0,0,2,2,s,1),this.fullWindow=new ox(this),this.setAlpha(o)}get tint(){return this.fillColor}set tint(t){this.setFillStyle(t,this.fillAlpha)}}const ou=Phaser.Utils.Objects.GetValue;class Wo extends zt{constructor(t,s){super(t,{eventEmitter:!1}),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setHitAreaMode(ou(t,"hitAreaMode",0)),this.setEnable(ou(t,"enable",!0)),this.setStopMode(ou(t,"stopAllLevels",!0)),this}boot(){this.parent.on("pointerdown",function(t,s,o,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerup",function(t,s,o,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointermove",function(t,s,o,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerover",function(t,s,o,y){this.stopAllLevels&&y.stopPropagation()},this).on("pointerout",function(t,s){this.stopAllLevels&&s.stopPropagation()},this)}setHitAreaMode(t){typeof t=="string"&&(t=P3[t]);var s=this.parent;return s.input&&s.removeInteractive(),t===0?s.setInteractive():s.setInteractive({hitArea:{},hitAreaCallback:function(){return!0}}),this}setEnable(t){return t===void 0&&(t=!0),t?this.parent.setInteractive():this.parent.disableInteractive(),this.enable=t,this}setStopMode(t){return t===void 0&&(t=!0),this.stopAllLevels=t,this}toggleEnable(){return this.setEnable(!this.enable),this}}var P3={default:0,fullWindow:1};const Pp=Phaser.Utils.Objects.GetValue;class Lf extends Of{constructor(t,s){var o=Pp(s,"color",0),y=Pp(s,"alpha",.8);super(t,o,y),this.touchEventStop=new Wo(this,{hitAreaMode:1})}}var E3=function(e,t){var s=e.scene,o=new Lf(s,t);return s.add.existing(o),e.isRexContainerLite?(e.pin(o,{syncPosition:!1,syncRotation:!1,syncScale:!1,syncAlpha:!1,syncScrollFactor:!1}),e.moveDepthBelow(o)):s.children.moveBelow(o,e),o};const Ph={popUp(e,t){e._modalScaleSave!==void 0?(e.scaleX=e._modalScaleSave,e.scaleY=e._modalScaleSave):e._modalScaleSave=e.scaleX,wf(e,t)},scaleDown(e,t){Lx(e,t,void 0,void 0,!1)},fadeIn(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Vo(e,t)},fadeOut(e,t){zo(e,t,!1)}};var M3=function(e,t){e._modalAlphaSave!==void 0?e.alpha=e._modalAlphaSave:e._modalAlphaSave=e.alpha,Vo(e,t,e.alpha)},w3=function(e,t){zo(e,t,!1)},Uo=function(e,t,s,o,y){if(!e||o&&!o(e,t,s))return!1;var S=$d(e,!0);return!(!S.contains(t,s)||y&&!y(e,t,s))};const Si=Phaser.Utils.Objects.GetValue;let R3=class extends Yo{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=ds.popUp),s.transitOut==null&&(s.transitOut=ds.scaleDown),s.destroy=Si(s,"destroy",!0),super(t,s);var o=Si(s,"cover");this.cover=o!==!1?E3(t,o):void 0,this.cover&&(this.setCoverTransitInCallback(Si(o,"transitIn",M3)),this.setCoverTransitOutCallback(Si(o,"transitOut",w3)));var y=Si(s,"touchOutsideClose",!1),S=Si(s,"duration.hold",-1),r=Si(s,"timeOutClose",S>=0),C=Si(s,"anyTouchClose",!1),i=Si(s,"manualClose",!1);i&&(y=!1,C=!1,r=!1),C&&(y=!1),r?this.setDisplayTime(S):this.setDisplayTime(-1),C?this.once("open",this.anyTouchClose,this):y&&this.once("open",this.touchOutsideClose,this),Si(s,"openOnStart",!0)&&this.delayCall(0,this.requestOpen,this)}shutdown(t){this.isShutdown||(this.cover||this.scene.input.off("pointerup",this.touchCloseCallback,this),this.cover&&!t&&(this.cover.destroy(),this.cover=void 0),super.shutdown(t))}touchOutsideClose(){return this.cover?this.cover.on("pointerup",this.touchCloseCallback,this):this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.cover?this.cover.once("pointerup",this.touchCloseCallback,this):this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Uo(this.parent,t.worldX,t.worldY)||this.requestClose()}runTransitionInCallback(){var t=super.runTransitionInCallback(),s=this.cover;return s&&this.coverTransitInCallback&&this.coverTransitInCallback(s,t),t}runTransitionOutCallback(){var t=super.runTransitionOutCallback(),s=this.cover;return s&&this.coverTransitOutCallback&&this.coverTransitOutCallback(s,t),t}onOpen(){var t=this.displayTime;t>=0&&this.delayCall(t,this.requestClose,this),this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.closeEventData),super.onClose()}setDisplayTime(t){return this.displayTime=t,this}setTransitInCallback(t){switch(typeof t=="string"&&(t=ds[t]),t){case ds.popUp:t=Ph.popUp;break;case ds.fadeIn:t=Ph.fadeIn;break}return super.setTransitInCallback(t),this}setTransitOutCallback(t){switch(typeof t=="string"&&(t=ds[t]),t){case ds.scaleDown:t=Ph.scaleDown;break;case ds.fadeOut:t=Ph.fadeOut;break}return super.setTransitOutCallback(t),this}setCoverTransitInCallback(t){return this.coverTransitInCallback=t,this}setCoverTransitOutCallback(t){return this.coverTransitOutCallback=t,this}};const ds={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1};var bf=function(e,t){var s=new R3(e,t);return s.on("open",function(){e.emit("modal.open",s)}),s.on("close",function(o){e.emit("modal.close",o,s)}),e.on("modal.requestClose",s.requestClose,s),s},A3=function(e,t){var s=bf(e,t);return new Promise(function(o,y){s.once("close",function(S){o(S)})})},zx=function(e,t){e.emit("modal.requestClose",t)},xi=function(e){return e&&typeof e=="function"};const Ho={modal(e,t){return xi(e)&&(t=e,e=void 0),this._modalBehavior===void 0&&(this.onCreateModalBehavior&&this.onCreateModalBehavior(this,e),this._modalBehavior=bf(this,e)),t&&this._modalBehavior.once("close",t),this._modalBehavior.requestOpen(),this},modalPromise(e){var t=this;return new Promise(function(s,o){t.modal(e,s)})},modalClose(e){return zx(this,e),this}};var O3=function(e,t,s,o,y,S){return S===void 0&&(S=!1),t[S?"once":"on"](s,o,y),e.once("destroy",function(){t.off(s,o,y)}),e},Xi=function(e,t,s,o,y){xi(t)&&(y=o,o=s,s=t,t=this);var S=this.scene.events;return this.bindEvent(t,S,e,s,o,y),this};const L3={bindEvent(e,t,s,o,y,S){return typeof t=="string"&&(S=y,y=o,o=s,s=t,t=e,e=this),O3(e,t,s,o,y,S),this},bindScenePreupdateEvent(e,t,s,o){return Xi.call(this,"preupdate",e,t,s,o),this},bindSceneUpdateEvent(e,t,s,o){return Xi.call(this,"update",e,t,s,o),this},bindScenePostupdateEvent(e,t,s,o){return Xi.call(this,"postupdate",e,t,s,o),this},bindSceneRenderEvent(e,t,s,o){return Xi.call(this,"render",e,t,s,o),this},bindScenePauseEvent(e,t,s,o){return Xi.call(this,"pause",e,t,s,o),this},bindSceneResumeEvent(e,t,s,o){return Xi.call(this,"resume",e,t,s,o),this},bindSceneSleepEvent(e,t,s,o){return Xi.call(this,"sleep",e,t,s,o),this},bindSceneWakeEvent(e,t,s,o){return Xi.call(this,"wake",e,t,s,o),this},bindSceneShutdownEvent(e,t,s,o){return Xi.call(this,"shutdown",e,t,s,o),this}};var go=function(e,t,s){var o=e.camera;return o?(s===void 0?s={}:s===!0&&(s=b3),o===t?(s.x=e.worldX,s.y=e.worldY):o.getWorldPoint(e.x,e.y,s),s):null},b3={},F3=function(e,t,s,o,y){var S=e.scene.sys.cameras.main,r,C=e.scrollFactorX===0&&e.scrollFactorY===0;if(t)return C?s(e,t.x,t.y,o,y):(r=go(t,S,!0),r?s(e,r.x,r.y,o,y):!1);for(var i=e.scene.input.manager,h=i.pointersTotal,x=i.pointers,f=0;f<h;f++)if(t=x[f],C){if(s(e,t.x,t.y,o,y))return!0}else{if(r=go(t,S,!0),!r)continue;if(s(e,r.x,r.y,o,y))return!0}return!1},Bi=function(e,t,s,o){return F3(e,t,Uo,s,o)},D3=function(e,t){return(Ge(e)||typeof e=="string")&&(t=e,e=void 0),t===void 0?t=this:typeof t=="string"&&(t=this.getElement(t)),Bi(t,e)},yi=function(e){return Object.prototype.toString.call(e)==="[object Array]"},cr=function(e,t,s,o,y){return Uo(e,t,s,I3(o),y)},Ep=function(e){var t=e.rexSizer&&e.rexSizer.hidden;return!t},I3=function(e){return e?function(t,s,o){return Ep(t)?(e(t,s,o),!0):!1}:Ep},Xx=function(e,t,s,o,y){if(xi(s)||(y=s,s=void 0,o=void 0),y===void 0&&(this.sizerChildren?y=this.sizerChildren:this.isRexContainerLite?y=this.children:y=this.list),yi(y)){for(var S,r=0,C=y.length;r<C;r++)if(S=y[r],cr(S,e,t,s,o))return S}else{var S;for(var i in y)if(S=y[i],cr(S,e,t,s,o))return S}return null},B3=function(e,t){return t===void 0?t={}:t===!0&&(t=G3),t.x=e.x,t.y=e.y,t.scaleX=e.scaleX,t.scaleY=e.scaleY,t.width=e.width,t.height=e.height,t.displayWidth=e.displayWidth,t.displayHeight=e.displayHeight,t},G3={},Ma=function(e){this.sizerEventsEnable&&(B3(e,this.getChildPrevState(e)),this.layoutedChildren.push(e))},wa=function(e,t,s,o,y,S,r,C){r===void 0&&(r=0),C===void 0&&(C=0),Ca(e,t,s,o,y,S),e.x+=r,e.y+=C,this.resetChildPositionState(e),this.sizerEventsEnable&&e.emit("sizer.postlayout",e,this)};const N3=Phaser.Display.Align.CENTER;var k3=function(){if(this.backgroundChildren!==void 0)for(var e=this.backgroundChildren,t=this.left,s=this.top,o=this.width*this.scaleX,y=this.height*this.scaleY,S,r,C,i,h,x,f,l=0,a=e.length;l<a;l++)S=e[l],r=S.rexSizer,!r.hidden&&(C=r.padding,Ma.call(this,S),i=t+C.left*this.scaleX,h=s+C.top*this.scaleY,x=o-(C.left+C.right)*this.scaleX,f=y-(C.top+C.bottom)*this.scaleY,Pe(S,x,f),wa.call(this,S,i,h,x,f,N3,0,0))};const V3=Phaser.Utils.Objects.IsPlainObject;var z3=function(e,t,s){if(V3(e)){var o=e;e=o.sensor,s=o.target,t=o.draggable}else typeof t!="boolean"&&(s=t,t=void 0);var y=typeof e;if(y==="string"){var S=e;if(e=this.getElement(S),!e)return console.error(`Can get element '${S}'`),this}else(e===void 0||y!="object")&&(t=e,e=this);return t===void 0&&(t=!0),e.input&&e.input._rexUIDragSizer?e.input.draggable=t:t&&(e.setInteractive(),e.scene.input.setDraggable(e),e.on("drag",function(r,C,i){var h=s===void 0?this.getTopmostSizer():s;h.x+=C-e.x,h.y+=i-e.y,h.emit("sizer.drag",r,C,i)},this).on("dragstart",function(r,C,i){var h=s===void 0?this.getTopmostSizer():s;h.emit("sizer.dragstart",r,C,i)},this).on("dragend",function(r,C,i,h){var x=s===void 0?this.getTopmostSizer():s;x.emit("sizer.dragend",r,C,i,h)},this).on("drop",function(r,C){var i=s===void 0?this.getTopmostSizer():s;i.emit("sizer.drop",r,C)}),e.input._rexUIDragSizer=!0),this};const Ff={onClick(e,t,s,o){return e?(typeof e=="function"&&(o=s,s=t,t=e,e=this),e._click===void 0&&(e._click=new ts(e,o)),e._click.on("click",t,s),this):this},offClick(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._click===void 0?this:(e._click.off("click",t,s),this)},enableClick(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(t),this)},disableClick(e){return e===void 0&&(e=this),e._click===void 0?this:(e._click.setEnable(!1),this)}},Dn=Phaser.Utils.Objects.GetValue;class Df extends zt{constructor(t,s){super(t,s),this._enable=void 0;var o=Dn(s,"inputConfig",void 0);o&&t.setInteractive(o),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.lastClickTime=void 0,this.setEnable(Dn(t,"enable",!0)),this.setMode(Dn(t,"mode",1)),this.setClickInterval(Dn(t,"clickInterval",100)),this.setDragThreshold(Dn(t,"threshold",void 0)),this}boot(){var t=this.parent.scene;t.input.on("pointerdown",this.onPress,this),t.input.on("pointerup",this.onRelease,this),t.input.on("pointermove",this.onMove,this)}shutdown(t){if(!this.isShutdown){var s=this.parent.scene;s.input.off("pointerdown",this.onPress,this),s.input.off("pointerup",this.onRelease,this),s.input.off("pointermove",this.onMove,this),this.pointer=null,super.shutdown(t)}}get enable(){return this._enable}set enable(t){if(this._enable!==t){t||this.cancel(),this._enable=t;var s=t?"enable":"disable";this.emit(s,this,this.parent)}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setMode(t){return typeof t=="string"&&(t=X3[t]),this.mode=t,this}setClickInterval(t){return this.clickInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}isPointerInside(t){var s=this.parent,o=s.input?Qd:Bi;return o(s,t)}onPress(t){this.parent.willRender(t.camera)&&this.pointer===void 0&&(this.isPointerInside(t)||(this.pointer=t,this.mode===0&&(this.isPointerInside(t)||this.click(t.downTime,t))))}onRelease(t){this.parent.willRender(t.camera)&&this.pointer===t&&(this.mode===1&&(this.isPointerInside(t)||this.click(t.upTime,t)),this.pointer=void 0)}onMove(t,s,o,y){this.pointer===t&&this.dragThreshold!==void 0&&this.mode===1&&(t.getDistance()>=this.dragThreshold||this.isPointerInside(t))&&this.cancel()}click(t,s){if(!this.enable)return this;if(t===void 0)return this.emit("clickoutside",this,this.parent,s),this;this.pointer=void 0;var o=this.lastClickTime;return o!==void 0&&t-o<=this.clickInterval?this:(this.lastClickTime=t,this.emit("clickoutside",this,this.parent,s),this)}cancel(){return this.pointer=void 0,this}}const X3={press:0,pointerdown:0,release:1,pointerup:1},Y3={onClickOutside(e,t,s,o){return e?(typeof e=="function"&&(o=s,s=t,t=e,e=this),e._clickOutside===void 0&&(e._clickOutside=new Df(e,o)),e._clickOutside.on("clickoutside",t,s),this):this},offClickOutside(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._clickOutside===void 0?this:(e._clickOutside.off("clickoutside",t,s),this)},enableClickOutside(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(t),this)},disableClickOutside(e){return e===void 0&&(e=this),e._clickOutside===void 0?this:(e._clickOutside.setEnable(!1),this)}};class W3 extends is{constructor(){super({eventEmitter:!1}),this.goto("IDLE")}setCooldownTime(t){return this.cooldownTime=t,this.cooldownMode=t!==void 0,this}request(){return this.runMethod("request")}update_IDLE(){this.compensationTime=0}request_IDLE(){return this.next(),!0}next_IDLE(){if(this.cooldownMode)return"COOLDOWN"}enter_COOLDOWN(){this.remainderTime=this.cooldownTime+this.compensationTime}update_COOLDOWN(t,s){this.remainderTime-=s,this.remainderTime<0&&(this.compensationTime=this.cooldownTime>s?-this.remainderTime:0,this.goto("IDLE"))}request_COOLDOWN(){return!1}}const lu=Phaser.Utils.Objects.GetValue;class ln extends zt{constructor(t,s){super(t,s),this._enable=void 0,this.cooldown=new W3,this.parent.setInteractive(lu(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.prevIsInTouch=!1,this.isInTouching=!1,this.setEnable(lu(t,"enable",!0)),this.setCooldown(lu(t,"cooldown",void 0)),this}boot(){var t=this.parent;t.on("pointerdown",this.onPointIn,this),t.on("pointerover",this.onPointIn,this),t.on("pointerup",this.onPointOut,this),t.on("pointerout",this.onPointOut,this),this.scene.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||(this.prevIsInTouch=!1,this.isInTouching=!1,this.pointer=void 0),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get cooldownTime(){return this.cooldown.cooldownTime}set cooldownTime(t){this.cooldown.setCooldownTime(t)}setCooldown(t){return this.cooldownTime=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointIn(t,s,o){!this.enable||!t.isDown||this.pointer!==void 0||(this.pointer=t,this.isInTouching=!0)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0,this.isInTouching=!1)}preupdate(t,s){this.cooldown.update(t,s),!this.prevIsInTouch&&this.isInTouching&&this.emit("touchstart",this,this.parent),this.isInTouching&&this.cooldown.request()&&this.emit("intouch",this,this.parent,this.pointer),this.prevIsInTouch&&!this.isInTouching&&this.emit("touchend",this,this.parent),this.prevIsInTouch=this.isInTouching}}const U3={isPointerInBounds(e){return e===void 0?e=this:typeof e=="string"&&(e=this.getElement(e)),e?Bi(e):!1},onTouching(e,t,s,o){return e?(typeof e=="function"&&(o=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new ln(e,o)),e._inTouching.on("intouch",t,s),this):this},offTouching(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("intouch",t,s),this)},onTouchingEnd(e,t,s,o){return e?(typeof e=="function"&&(o=s,s=t,t=e,e=this),e._inTouching===void 0&&(e._inTouching=new ln(e,o)),e._inTouching.on("touchend",t,s),this):this},offTouchingEnd(e,t,s){return typeof e=="function"&&(s=t,t=e,e=this),e._inTouching===void 0?this:(e._inTouching.off("touchend",t,s),this)},enableTouching(e,t){return typeof e=="boolean"&&(t=e,e=void 0),e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(t),this)},disableTouching(e){return e===void 0&&(e=this),e._inTouching===void 0?this:(e._inTouching.setEnable(!1),this)}},H3={onOver(e,t,s){return e?(typeof e=="function"&&(s=t,t=e,e=this),e.setInteractive().on("pointerover",t,s),this):this},onOut(e,t,s){return e?(typeof e=="function"&&(s=t,t=e,e=this),e.setInteractive().on("pointerout",t,s),this):this}};var Yx=function(e,t,s,o){if(e==="parent"){for(var y,S=0,r=t.length;S<r;S++)if(y=t[S],!!cr(y,s,o))return y.pointToChild?y.pointToChild(s,o):Xx.call(y,s,o)}else for(var S=0,r=t.length;S<r;S++){var C=t[S];if(cr(C,s,o))return C}return null},ni=function(e,t,s,o,y,S,r,C){var i;if(S===void 0)i=y;else{var h=s[0];if(!h)return;var x=r.camera,f=y+x.scrollX*(h.scrollFactorX-1),l=S+x.scrollY*(h.scrollFactorY-1);i=Yx(o,s,f,l)}i&&e.emit(t,i,r,C)};const $3=Phaser.Utils.Objects.GetValue;var K3=function(e){var t=$3(e,"down",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerdown",Z3,this))},Z3=function(e,t,s,o){var y=this._childrenInteractive;ni(y.eventEmitter,`${y.eventNamePrefix}down`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,o)};const J3=Phaser.Utils.Objects.GetValue;var Q3=function(e){var t=J3(e,"up",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointerup",j3,this))},j3=function(e,t,s,o){var y=this._childrenInteractive;ni(y.eventEmitter,`${y.eventNamePrefix}up`,y.targetSizers,y.targetMode,e.worldX,e.worldY,e,o)};const q3=Phaser.Utils.Objects.GetValue;var _3=function(e){var t=q3(e,"over",void 0);t!==!1&&(t===!0&&(t=void 0),this.on("pointermove",Mp,this).on("pointerover",Mp,this).on("pointerout",tD,this))},Mp=function(e,t,s,o){var y=this._childrenInteractive,S=y.targetSizers[0];if(S){var r=e.camera,C=e.worldX+r.scrollX*(S.scrollFactorX-1),i=e.worldY+r.scrollY*(S.scrollFactorY-1),h=Yx(y.targetMode,y.targetSizers,C,i),x=y.lastOverChild;h&&x&&h===x||(y.lastOverChild=h,ni(y.eventEmitter,`${y.eventNamePrefix}out`,y.targetSizers,y.targetMode,x,void 0,e,o),ni(y.eventEmitter,`${y.eventNamePrefix}over`,y.targetSizers,y.targetMode,h,void 0,e,o))}},tD=function(e,t){var s=this._childrenInteractive,o=s.lastOverChild;s.lastOverChild=null,ni(s.eventEmitter,`${s.eventNamePrefix}out`,s.targetSizers,s.targetMode,o,void 0,e,t)};const eD=Phaser.Utils.Objects.GetValue;var iD=function(e){var t=eD(e,"click",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("threshold")||(t.threshold=10);var s=this._childrenInteractive;this._click=new ts(this,t),this._click.on("click",function(o,y,S,r){ni(s.eventEmitter,`${s.eventNamePrefix}click`,s.targetSizers,s.targetMode,S.worldX,S.worldY,S,r)},this)}};const uu=Phaser.Utils.Objects.GetValue;class $o extends bo{constructor(t,s){var o=cn(t);o===t&&(t=void 0),super(o,s),this.gameObject=t,t&&t.setInteractive(uu(s,"inputConfig",void 0)),this._enable=void 0,this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(uu(t,"enable",!0)),this.setDetectBounds(),this.gameObject===void 0?this.setDetectBounds(uu(t,"bounds",void 0)):this.setDetectBounds(),this.tracerState=du,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,this.isTouchingAnyObject=!1,this}boot(){super.boot(),this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(t){this.scene&&(this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.gameObject=void 0,this.bounds=void 0,this.pointer=void 0,this.lastPointer=void 0,this.movedState=!1,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setDetectBounds(t){return this.bounds=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t,s){if(this.enable&&this.pointer===void 0){var o=this.bounds?this.bounds.contains(t.x,t.y):!0;o&&this.pointer!==t&&(this.pointer=t,this.pointerCamera=t.camera,this.lastPointer=t,this.movedState=!1,this.tracerState=wp,this.gameObject===void 0&&(this.isTouchingAnyObject=s.length>0),this.onDragStart())}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;s&&this.pointer===t&&(this.pointer=void 0,this.pointerCamera=void 0,this.movedState=!1,this.tracerState=du,this.onDragEnd())}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,o=this.pointer===t;!o&&s||(o&&!s?this.onPointerUp(t):(this.movedState||(this.movedState=t.x!==t.downX||t.y!==t.downY),this.movedState&&this.onDrag()))}}dragCancel(){return this.tracerState===wp&&this.onDragEnd(),this.pointer=void 0,this.tracerState=du,this}onDragStart(){this.emit("dragstart",this)}onDragEnd(){this.emit("dragend",this)}onDrag(){this.emit("drag",this)}preUpdate(t,s){}postUpdate(t,s){}startTicking(){super.startTicking(),this.scene.sys.events.on("preupdate",this.preUpdate,this),this.scene.sys.events.on("postupdate",this.postUpdate,this)}stopTicking(){super.stopTicking(),this.scene&&(this.scene.sys.events.off("preupdate",this.preUpdate,this),this.scene.sys.events.off("postupdate",this.postUpdate,this))}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=sD,this}isPointerInGameObject(t,s,o){var y=this.lastPointer;return y?Bi(t,y,s,o):!1}}const du=0,wp=1,sD="IDLE",Js=Phaser.Utils.Objects.GetValue,rD=Phaser.Math.Distance.Between;class Ko extends $o{constructor(t,s){super(t,s);var o=this,y={states:{IDLE:{enter:function(){o.stop(),o.tapsCount=0,o.x=0,o.y=0,o.worldX=0,o.worldY=0,o.lastPointer=void 0},exit:function(){var S=o.lastPointer;o.x=S.x,o.y=S.y,o.worldX=S.worldX,o.worldY=S.worldY}},BEGIN:{enter:function(){o.start(),o.tapsCount=0,o.emit("tappingstart",o,o.gameObject,o.lastPointer)}},RECOGNIZED:{enter:function(){o.start(),o.emit("tap",o,o.gameObject,o.lastPointer),o.emit(`${o.tapsCount}tap`,o,o.gameObject,o.lastPointer)}}},init:function(){this.state=Qs},eventEmitter:!1};this.setRecongizedStateObject(new is(y))}resetFromJSON(t){super.resetFromJSON(t),this.setHoldTime(Js(t,"time",250)),this.setTapInterval(Js(t,"tapInterval",200)),this.setDragThreshold(Js(t,"threshold",9)),this.setTapOffset(Js(t,"tapOffset",10));var s=Js(t,"taps",void 0);return s!==void 0?this.setTaps(s):(this.setMaxTaps(Js(t,"maxTaps",void 0)),this.setMinTaps(Js(t,"minTaps",void 0))),this}onDragStart(){switch(this.state){case Qs:this.state=zr;break;case zr:var t=this.lastPointer,s=rD(t.upX,t.upY,t.x,t.y);s>this.tapOffset&&(this.state=Xr,this.state=zr);break;case Xr:this.state=zr;break}}onDragEnd(){this.state===zr&&(this.tapsCount++,this.emit("tapping",this,this.gameObject,this.lastPointer),this.maxTaps!==void 0&&this.tapsCount===this.maxTaps&&(this.state=Xr))}onDrag(){this.state!==Qs&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Qs)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===zr){var o=this.lastPointer;if(o.isDown){var y=t-o.downTime;y>this.holdTime&&(this.state=Qs)}else{var S=t-o.upTime;S>this.tapInterval&&(this.minTaps===void 0||this.tapsCount>=this.minTaps?this.state=Xr:this.state=Qs)}}}postUpdate(t,s){!this.isRunning||!this.enable||this.state===Xr&&(this.state=Qs)}get isTapping(){return this.state===Xr}get isTapped(){return this.isTapping}setHoldTime(t){return this.holdTime=t,this}setTapInterval(t){return this.tapInterval=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setTapOffset(t){return this.tapOffset=t,this}setMaxTaps(t){return this.maxTaps=t,this}setMinTaps(t){return this.minTaps=t,this}setTaps(t,s){return s===void 0&&(s=t),this.setMinTaps(t).setMaxTaps(s),this}}const Qs="IDLE",zr="BEGIN",Xr="RECOGNIZED",Rp=Phaser.Utils.Objects.GetValue;class Zo extends $o{constructor(t,s){super(t,s);var o=this,y={states:{IDLE:{enter:function(){o.x=0,o.y=0,o.worldX=0,o.worldY=0,o.lastPointer=void 0},exit:function(){var S=o.lastPointer;o.x=S.x,o.y=S.y,o.worldX=S.worldX,o.worldY=S.worldY}},BEGIN:{enter:function(){o.start()},exit:function(){o.stop()}},RECOGNIZED:{enter:function(){o.emit("pressstart",o,o.gameObject,o.lastPointer)},exit:function(){o.emit("pressend",o,o.gameObject,o.lastPointer)}}},init:function(){this.state=Eh},eventEmitter:!1};this.setRecongizedStateObject(new is(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(Rp(t,"threshold",9)),this.setHoldTime(Rp(t,"time",251)),this}onDragStart(){this.state=Ap,this.holdTime===0&&(this.state=fu)}onDragEnd(){this.state=Eh}onDrag(){this.state!==Eh&&this.pointer.getDistance()>this.dragThreshold&&(this.state=Eh)}preUpdate(t,s){if(!(!this.isRunning||!this.enable)&&this.state===Ap){var o=t-this.pointer.downTime;o>=this.holdTime&&(this.state=fu)}}get isPressing(){return this.state===fu}get isPressed(){return this.isPressing}setHoldTime(t){return this.holdTime=t,this}setDragThreshold(t){return this.dragThreshold=t,this}}const Eh="IDLE",Ap="BEGIN",fu="RECOGNIZED",nD=Phaser.Utils.Objects.GetValue;class Wx extends $o{constructor(t,s){super(t,s);var o=this,y={states:{IDLE:{},BEGIN:{enter:function(){var S=o.pointer;o.startX=S.x,o.startY=S.y,o.startWorldX=S.worldX,o.startWorldY=S.worldY}},RECOGNIZED:{enter:function(){o.emit("panstart",o,o.gameObject,o.lastPointer)},exit:function(){var S=o.lastPointer;o.endX=S.x,o.endY=S.y;var r=go(S,o.pointerCamera,!0);o.endWorldX=r.x,o.endWorldY=r.y,o.emit("panend",o,o.gameObject,o.lastPointer)}}},init:function(){this.state=Op},eventEmitter:!1};this.setRecongizedStateObject(new is(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(nD(t,"threshold",10)),this}onDragStart(){this.state=Lp,this.dragThreshold===0&&(this.state=Mh)}onDragEnd(){this.state=Op}onDrag(){switch(this.state){case Lp:if(this.pointer.getDistance()>=this.dragThreshold){this.state=Mh,this.dx=0,this.dy=0,this.dWorldX=0,this.dWorldY=0;var y=this.pointer;this.x=y.x,this.y=y.y,this.worldX=y.worldX,this.worldY=y.worldY}break;case Mh:var t=this.pointerCamera,s=this.pointer.position,o=this.pointer.prevPosition;this.dx=s.x-o.x,this.dy=s.y-o.y,this.dWorldX=this.dx/t.zoom,this.dWorldY=this.dy/t.zoom;var y=this.pointer;this.x=y.x,this.y=y.y;var S=go(y,t,!0);this.worldX=S.x,this.worldY=S.y,this.emit("pan",this,this.gameObject,this.lastPointer);break}}get isPanning(){return this.state===Mh}get isPanned(){return this.isPanning}setDragThreshold(t){return this.dragThreshold=t,this}}const Op="IDLE",Lp="BEGIN",Mh="RECOGNIZED",aD=Phaser.Math.Distance.Between,hD=Phaser.Math.Angle.Between,oD={getDt:function(){var e=_d(this.scene);return e},getVelocity:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=aD(t.x,t.y,e.x,e.y),o=s/(this.getDt()*.001);return o},getVelocityX:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.x-t.x),o=s/(this.getDt()*.001);return o},getVelocityY:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=Math.abs(e.y-t.y),o=s/(this.getDt()*.001);return o},getVelocityAngle:function(){var e=this.pointer.position,t=this.pointer.prevPosition,s=hD(t.x,t.y,e.x,e.y);return s}},lD={"up&down":0,"left&right":1,"4dir":2,"8dir":3};var uD=function(e,t,s){switch(s===void 0?s={}:s===!0&&(s=dD),s.left=!1,s.right=!1,s.up=!1,s.down=!1,e=(e+360)%360,t){case 0:e<180?s.down=!0:s.up=!0;break;case 1:e>90&&e<=270?s.left=!0:s.right=!0;break;case 2:e>45&&e<=135?s.down=!0:e>135&&e<=225?s.left=!0:e>225&&e<=315?s.up=!0:s.right=!0;break;case 3:e>22.5&&e<=67.5?(s.down=!0,s.right=!0):e>67.5&&e<=112.5?s.down=!0:e>112.5&&e<=157.5?(s.down=!0,s.left=!0):e>157.5&&e<=202.5?s.left=!0:e>202.5&&e<=247.5?(s.left=!0,s.up=!0):e>247.5&&e<=292.5?s.up=!0:(e>292.5&&e<=337.5&&(s.up=!0),s.right=!0);break}return s},dD={};const cu=Phaser.Utils.Objects.GetValue,fD=Phaser.Math.RadToDeg;class Ra extends $o{constructor(t,s){super(t,s);var o=this,y={states:{IDLE:{enter:function(){o.x=0,o.y=0,o.worldX=0,o.worldY=0},exit:function(){var S=o.lastPointer;o.x=S.x,o.y=S.y,o.worldX=S.worldX,o.worldY=S.worldY}},BEGIN:{enter:function(){o.validDrag=!1}},RECOGNIZED:{enter:function(){o.start(),o.updateDirectionStates(),o.emit("swipe",o,o.gameObject,o.lastPointer)},exit:function(){o.stop(),o.clearDirectionStates()}}},init:function(){this.state=vu},eventEmitter:!1};this.setRecongizedStateObject(new is(y)),this.clearDirectionStates()}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(cu(t,"threshold",10)),this.setVelocityThreshold(cu(t,"velocityThreshold",1e3)),this.setDirectionMode(cu(t,"dir","8dir")),this}onDragStart(){this.state=bp}onDragEnd(){this.state=vu}onDrag(){this.state===bp&&(this.validDrag||(this.validDrag=this.dragThreshold===0||this.pointer.getDistance()>=this.dragThreshold),this.validDrag&&this.dragVelocity>this.velocityThreshold&&(this.state=pu))}postUpdate(t,s){!this.isRunning||!this.enable||this.state===pu&&(this.state=vu)}get isSwiping(){return this.state===pu}get isSwiped(){return this.isSwiping}get dragVelocity(){var t;switch(this.dirMode){case 0:t=this.getVelocityY();break;case 1:t=this.getVelocityX();break;default:t=this.getVelocity();break}return t}setDragThreshold(t){return this.dragThreshold=t,this}setVelocityThreshold(t){return this.velocityThreshold=t,this}setDirectionMode(t){return typeof t=="string"&&(t=lD[t]),this.dirMode=t,this}updateDirectionStates(){var t=fD(this.getVelocityAngle());return uD(t,this.dirMode,this),this}clearDirectionStates(){return this.left=!1,this.right=!1,this.up=!1,this.down=!1,this}}Object.assign(Ra.prototype,oD);const vu="IDLE",bp="BEGIN",pu="RECOGNIZED",wh=Phaser.Utils.Objects.GetValue,cD=Phaser.Utils.Array.SpliceOne,vD=Phaser.Math.Distance.Between,pD=Phaser.Math.Angle.Between;class If{constructor(t,s){var o=cn(t);o===t&&(t=void 0);var y=o.input.manager.pointersTotal-1;y<2&&o.input.addPointer(2-y),this.scene=o,this.gameObject=t,t&&t.setInteractive(wh(s,"inputConfig",void 0)),this.setEventEmitter(wh(s,"eventEmitter",void 0)),this._enable=void 0,this.pointers=[],this.movedState={},this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.setEnable(wh(t,"enable",!0)),this.bounds=wh(t,"bounds",void 0),this.tracerState=Rh,this.pointers.length=0,ws(this.movedState),this}boot(){this.gameObject?this.gameObject.on("pointerdown",this.onPointerDown,this):this.scene.input.on("pointerdown",this.onPointerDown,this),this.scene.input.on("pointerup",this.onPointerUp,this),this.scene.input.on("gameout",this.dragCancel,this),this.scene.input.on("pointermove",this.onPointerMove,this),this.scene.sys.events.once("shutdown",this.destroy,this)}shutdown(){this.scene&&(this.destroyEventEmitter(),this.pointers.length=0,ws(this.movedState),this.gameObject||this.scene.input.off("pointerdown",this.onPointerDown,this),this.scene.input.off("pointerup",this.onPointerUp,this),this.scene.input.off("gameout",this.dragCancel,this),this.scene.input.off("pointermove",this.onPointerMove,this),this.scene.sys.events.off("shutdown",this.destroy,this),this.scene=void 0,this.gameObject=void 0)}destroy(){this.shutdown()}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragCancel(),this._enable=t,this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}onPointerDown(t){if(this.enable&&this.pointers.length!==2){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var o=this.pointers.indexOf(t);if(o===-1)switch(this.movedState[t.id]=!1,this.pointers.push(t),this.pointerCamera=t.camera,this.tracerState){case Rh:this.tracerState=Bn,this.onDrag1Start();break;case Bn:this.tracerState=Pi,this.onDrag2Start();break}}}}onPointerUp(t){if(this.enable){var s=this.bounds?this.bounds.contains(t.x,t.y):!0;if(s){var o=this.pointers.indexOf(t);if(o!==-1)switch(delete this.movedState[t.id],cD(this.pointers,o),this.tracerState){case Bn:this.tracerState=Rh,this.onDrag1End();break;case Pi:this.tracerState=Bn,this.onDrag2End(),this.onDrag1Start();break}}}}onPointerMove(t){if(this.enable&&t.isDown){var s=this.bounds?this.bounds.contains(t.x,t.y):!0,o=this.pointers.indexOf(t)!==-1;if(!(!o&&s)){if(o&&!s)this.onPointerUp(t);else if(this.movedState[t.id]||(this.movedState[t.id]=t.x!==t.downX||t.y!==t.downY),this.movedState[t.id])switch(this.tracerState){case Bn:this.onDrag1();break;case Pi:this.onDrag2();break}}}}dragCancel(){return this.tracerState===Pi&&this.onDrag2End(),this.pointers.length=0,ws(this.movedState),this.tracerState=Rh,this}onDrag1Start(){this.emit("drag1start",this)}onDrag1End(){this.emit("drag1end",this)}onDrag1(){this.emit("drag1",this)}onDrag2Start(){this.emit("drag2start",this)}onDrag2End(){this.emit("drag2end",this)}onDrag2(){this.emit("drag2",this)}get distanceBetween(){if(this.tracerState!==Pi)return 0;var t=this.pointers[0],s=this.pointers[1];return vD(t.x,t.y,s.x,s.y)}get angleBetween(){if(this.tracerState!==Pi)return 0;var t=this.pointers[0],s=this.pointers[1];return pD(t.x,t.y,s.x,s.y)}get drag1Vector(){var t=this.pointers[0];if(t&&this.movedState[t.id]){var s=t.position,o=t.prevPosition;In.x=s.x-o.x,In.y=s.y-o.y}else In.x=0,In.y=0;return In}get centerX(){if(this.tracerState!==Pi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.x+s.x)/2}get centerY(){if(this.tracerState!==Pi)return 0;var t=this.pointers[0].position,s=this.pointers[1].position;return(t.y+s.y)/2}get prevCenterX(){if(this.tracerState!==Pi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.x+s.x)/2}get prevCenterY(){if(this.tracerState!==Pi)return 0;var t=this.movedState[this.pointers[0].id]?this.pointers[0].prevPosition:this.pointers[0].position,s=this.movedState[this.pointers[1].id]?this.pointers[1].prevPosition:this.pointers[1].position;return(t.y+s.y)/2}get movementCenterX(){return this.centerX-this.prevCenterX}get movementCenterY(){return this.centerY-this.prevCenterY}setRecongizedStateObject(t){return this.recongizedState=t,this}get state(){return this.recongizedState.state}set state(t){this.recongizedState.state=t}cancel(){return this.state=gD,this}isPointer0InGameObject(t,s,o){var y=this.pointers[0];return y?Bi(t,y,s,o):!1}isPointer1InGameObject(t,s,o){var y=this.pointers[1];return y?Bi(t,y,s,o):!1}}Object.assign(If.prototype,ca);var In={};const Rh=0,Bn=1,Pi=2,gD="IDLE",mD=Phaser.Utils.Objects.GetValue;class Ux extends If{constructor(t,s){super(t,s);var o=this,y={states:{IDLE:{enter:function(){o.prevDistance=void 0,o.scaleFactor=1}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("pinchstart",o)},exit:function(){o.emit("pinchend",o)}}},init:function(){this.state=Fp},eventEmitter:!1};this.setRecongizedStateObject(new is(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(mD(t,"threshold",0)),this}onDrag2Start(){this.scaleFactor=1,this.prevDistance=this.distanceBetween,this.state=Dp,this.dragThreshold===0&&(this.state=Ah)}onDrag2End(){this.state=Fp}onDrag2(){switch(this.state){case Dp:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.prevDistance=t,this.state=Ah}break;case Ah:var t=this.distanceBetween;this.scaleFactor=t/this.prevDistance,this.emit("pinch",this),this.prevDistance=t;break}}get isPinching(){return this.state===Ah}get isPinched(){return this.isPinching}setDragThreshold(t){return this.dragThreshold=t,this}}const Fp="IDLE",Dp="BEGIN",Ah="RECOGNIZED",xD=Phaser.Math.RotateAround;var Ip=function(e,t,s,o){return xD(e,t,s,o),e.rotation+=o,e},yD=function(e,t,s,o){return o===void 0?o={}:o===!0&&(o=TD),s.getWorldPoint(e,t,o),o},TD={},CD=function(e,t){if(!this.isRotation)return this;t===void 0&&(t=this.pointers[0].camera);var s=this.movementCenterX,o=this.movementCenterY,y=yD(this.centerX,this.centerY,t,!0),S=y.x,r=y.y,C=this.rotation;if(Array.isArray(e))for(var i=e,h=0,x=i.length;h<x;h++)e=i[h],e.x+=s,e.y+=o,Ip(e,S,r,C);else e.x+=s,e.y+=o,Ip(e,S,r,C);return this};const SD=Phaser.Utils.Objects.GetValue,gu=Phaser.Math.Angle.WrapDegrees,Bp=Phaser.Math.Angle.ShortestBetween,mu=Phaser.Math.RadToDeg,PD=Phaser.Math.DegToRad;class Bf extends If{constructor(t,s){super(t,s);var o=this,y={states:{IDLE:{enter:function(){o.prevAngle=void 0,o.angle=0}},BEGIN:{},RECOGNIZED:{enter:function(){o.emit("rotatestart",o)},exit:function(){o.emit("rotateend",o)}}},init:function(){this.state=Gp},eventEmitter:!1};this.setRecongizedStateObject(new is(y))}resetFromJSON(t){return super.resetFromJSON(t),this.setDragThreshold(SD(t,"threshold",0)),this}onDrag2Start(){this.prevAngle=gu(mu(this.angleBetween)),this.state=Np,this.dragThreshold===0&&(this.state=Oh)}onDrag2End(){this.state=Gp}onDrag2(){switch(this.state){case Np:if(this.pointers[0].getDistance()>=this.dragThreshold&&this.pointers[1].getDistance()>=this.dragThreshold){var t=gu(mu(this.angleBetween));this.angle=Bp(this.prevAngle,t),this.prevAngle=t,this.state=Oh}break;case Oh:var t=gu(mu(this.angleBetween));this.angle=Bp(this.prevAngle,t),this.prevAngle=t,this.emit("rotate",this);break}}get isRotating(){return this.state===Oh}get isRotated(){return this.isRotating}get rotation(){return PD(this.angle)}setDragThreshold(t){return this.dragThreshold=t,this}}var ED={spinObject:CD};Object.assign(Bf.prototype,ED);const Gp="IDLE",Np="BEGIN",Oh="RECOGNIZED",MD=Phaser.Utils.Objects.GetValue;var wD=function(e){var t=MD(e,"tap",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._tap=new Ko(this,t),this._tap.on("tap",function(o,y,S){ni(s.eventEmitter,`${s.eventNamePrefix}${o.tapsCount}tap`,s.targetSizers,s.targetMode,o.worldX,o.worldY,S,o),ni(s.eventEmitter,`${s.eventNamePrefix}tap`,s.targetSizers,s.targetMode,o.worldX,o.worldY,S,o)},this)}};const RD=Phaser.Utils.Objects.GetValue;var AD=function(e){var t=RD(e,"press",void 0);if(t!==!1){t===!0&&(t=void 0);var s=this._childrenInteractive;this._press=new Zo(this,t),this._press.on("pressstart",function(o,y,S){ni(s.eventEmitter,`${s.eventNamePrefix}pressstart`,s.targetSizers,s.targetMode,o.worldX,o.worldY,S,o)},this).on("pressend",function(o,y,S){ni(s.eventEmitter,`${s.eventNamePrefix}pressend`,s.targetSizers,s.targetMode,o.worldX,o.worldY,S,o)},this)}};const OD=Phaser.Utils.Objects.GetValue;var LD=function(e){var t=OD(e,"swipe",void 0);if(t!==!1){t===!0&&(t=void 0),t===void 0&&(t={}),t.hasOwnProperty("dir")||(t.dir="4dir");var s=this._childrenInteractive;this._swipe=new Ra(this,t),this._swipe.on("swipe",function(o,y,S){var r=o.left?"left":o.right?"right":o.up?"up":"down";ni(s.eventEmitter,`${s.eventNamePrefix}swipe${r}`,s.targetSizers,s.targetMode,o.worldX,o.worldY,S,o),ni(s.eventEmitter,`${s.eventNamePrefix}swipe`,s.targetSizers,s.targetMode,o.worldX,o.worldY,S,o)},this)}};const Gn=Phaser.Utils.Objects.GetValue;var Jo=function(e,t){return e.setInteractive(),Gn(t,"dropZone",!1)&&(e.input.dropZone=!0),e._childrenInteractive={targetSizers:Gn(t,"targets",[e]),targetMode:Gn(t,"targetMode","parent"),eventEmitter:Gn(t,"eventEmitter",e),eventNamePrefix:Gn(t,"inputEventPrefix","child.")},K3.call(e,t),Q3.call(e,t),_3.call(e,t),iD.call(e,t),wD.call(e,t),AD.call(e,t),LD.call(e,t),e},bD=function(e){return Jo(this,e),this},FD=function(){for(var e=this.getAllChildren([this]),t=0,s=e.length;t<s;t++){var o=e[t];o.emit.apply(o,arguments)}return this},Hx={getSizerConfig:Qb,getChildPrevState:jb,pushIntoBounds:qb,drawBounds:dF,resolveWidth:yf,hasWidthWrap:Tf,resolveChildrenWidth:wF,runWidthWrap:Cf,resolveHeight:Sf,hasHeightWrap:Pf,resolveChildrenHeight:RF,runHeightWrap:Ef,getChildWidth:AF,getChildHeight:OF,getExpandedChildWidth:LF,getExpandedChildHeight:bF,getChildrenWidth:FF,getChildrenHeight:DF,addChildrenMap:fp,addElement:fp,removeChildrenMap:CF,getElement:SF,getChildIndex:EF,getAllChildrenSizers:IF,getChildrenSizers:BF,preLayout:Ea,layout:NF,runLayout:zF,layoutChildren:WF,layoutBackgrounds:k3,postLayout:UF,setAnchor:$F,isInTouching:D3,pointToChild:Xx,setDraggable:z3,setChildrenInteractive:bD,broadcastEvent:FD};Object.assign(Hx,MF,vF,TF,gn,Ki,oa,Xo,h3,u3,Gx,Ff,Y3,U3,H3,c3,Ho,GF,L3);const Yi=Phaser.Utils.Objects.GetValue;let Cr=class extends $e{constructor(t,s,o,y,S,r){super(t,s,o,1,1),this.isRexSizer=!0;var C=Yi(r,"origin",.5),i=Yi(r,"originX",C),h=Yi(r,"originY",C);this.setOrigin(i,h),this.setMinSize(y,S),this.setName(Yi(r,"name","")),this.rexSizer={},this.space={},this.backgroundChildren=void 0,this.sizerChildren=void 0,this.childrenMap={},this.layoutedChildren=void 0,this.runChildrenWrapFlag=!1,this.enableLayoutWarn(!1);var x=Yi(r,"anchor",void 0);x&&this.setAnchor(x),this.setInnerPadding(Yi(r,"space",0));var f=Yi(r,"draggable",!1);f&&this.setDraggable(f),this.setSizerEventsEnable(Yi(r,"sizerEvents",!1)),this.setDirty(!0),Yi(r,"enableLayer",!1)&&this.enableLayer()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(t)for(var s=this.getAllChildrenSizers([this]),o=0,y=s.length;o<y;o++)s[o].sizerEventsEnable=!1;super.destroy(t),ws(this.backgroundChildren),ws(this.sizerChildren),this.childrenMap=void 0,this.space=void 0,this.rexSizer=void 0,this.layoutedChildren=void 0}}setMinSize(t,s){return this.setMinWidth(t).setMinHeight(s),this}setMinWidth(t){return t==null&&(t=0),this.minWidth=t,this}setMinHeight(t){return t==null&&(t=0),this.minHeight=t,this}setDirty(t){return t===void 0&&(t=!0),this.dirty=t,this}setSizerEventsEnable(t){return t===void 0&&(t=!0),this.sizerEventsEnable=t,this}enableLayoutWarn(t){return t===void 0&&(t=!0),this.layoutWarnEnable=t,this}get ignoreLayout(){return this.rexSizer.hidden||!this.dirty}get childrenWidth(){return this._childrenWidth===void 0&&(this._childrenWidth=this.getChildrenWidth()),this._childrenWidth}get childrenHeight(){return this._childrenHeight===void 0&&(this._childrenHeight=this.getChildrenHeight()),this._childrenHeight}get left(){return this.x-Rt(this)*this.originX}set left(t){this.x+=t-this.left}alignLeft(t){return this.left=t,this}get right(){return this.left+Rt(this)}set right(t){this.x+=t-this.right}alignRight(t){return this.right=t,this}get centerX(){return this.left+Rt(this)/2}set centerX(t){this.x+=t-this.centerX}alignCenterX(t){return this.centerX=t,this}get top(){return this.y-At(this)*this.originY}set top(t){this.y+=t-this.top}alignTop(t){return this.top=t,this}get bottom(){return this.top+At(this)}set bottom(t){this.y+=t-this.bottom}alignBottom(t){return this.bottom=t,this}get centerY(){return this.top+At(this)/2}set centerY(t){this.y+=t-this.centerY}alignCenterY(t){return this.centerY=t,this}get innerLeft(){return this.left+this.space.left*this.scaleX}get innerRight(){return this.right-this.space.right*this.scaleX}get innerTop(){return this.top+this.space.top*this.scaleY}get innerBottom(){return this.bottom-this.space.bottom*this.scaleY}get innerWidth(){return(this.width-this.space.left-this.space.right)*this.scaleX}get innerHeight(){return(this.height-this.space.top-this.space.bottom)*this.scaleY}get minInnerWidth(){var t=(this.minWidth-this.space.left-this.space.right)*this.scaleX;return Math.max(t,0)}get minInnerHeight(){var t=(this.minHeight-this.space.top-this.space.bottom)*this.scaleY;return Math.max(t,0)}};Object.assign(Cr.prototype,Hx);var DD=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,o,y,S=!1;for(var r in t)s=t[r],y=this.getChildWidth(s),y===void 0&&(S=!0),!S&&(o=s.rexSizer.padding,y+=(o.left+o.right)*this.scaleX,e=Math.max(y,e));if(!S)return e+(this.space.left+this.space.right)*this.scaleX},ID=function(){if(this.rexSizer.hidden)return 0;var e=0,t=this.sizerChildren,s,o,y,S=!1;for(var r in t)s=t[r],y=this.getChildHeight(s),y===void 0&&(S=!0),!S&&(o=s.rexSizer.padding,y+=(o.top+o.bottom)*this.scaleY,e=Math.max(y,e));if(!S)return e+(this.space.top+this.space.bottom)*this.scaleY},BD=function(e,t){t===void 0&&(t=this.width*this.scaleX);var s,o=e.rexSizer;if(o.expandWidth){var y=t-(this.space.left+this.space.right)*this.scaleX,S=o.padding;s=y-(S.left+S.right)*this.scaleX}return s},GD=function(e,t){t===void 0&&(t=this.height);var s,o=e.rexSizer;if(o.expandHeight){var y=t-(this.space.top+this.space.bottom)*this.scaleY,S=o.padding;s=y-(S.top+S.bottom)*this.scaleY}return s},ND=function(e){e===void 0&&(e=[]);var t=this.sizerChildren,s;for(var o in t)s=t[o],s.isRexSizer&&e.push(s);return e},Gf=function(e,t,s,o){if(s===void 0)s=0;else{var y=typeof s;y==="boolean"?(o=s,s=0):y==="string"&&(s=kD[s])}o===void 0?o={}:o===!0&&(o=VD);var S=t.width/e.width,r=t.height/e.height,C=s?Math.max(S,r):Math.min(S,r);return o.width=e.width*C,o.height=e.height*C,o};const kD={fit:0,FIT:0,envelop:1,ENVELOP:1};var VD={},Nf=function(e,t){e.layoutWarnEnable&&(e.width<e.childrenWidth&&console.warn(`Layout width error: Parent=${t.constructor.name}, Child=${e.constructor.name}`),e.height<e.childrenHeight&&console.warn(`Layout height error: Parent=${t.constructor.name}, Child=${e.constructor.name}`))},zD=function(){var e,t,s,o=this.innerLeft,y=this.innerTop,S=this.innerWidth,r=this.innerHeight,C,i,h,x,f,l,a,n,d,c=this.sizerChildren;for(var u in c)e=c[u],!e.rexSizer.hidden&&(t=e.rexSizer,s=t.padding,Ma.call(this,e),a=this.getExpandedChildWidth(e),n=this.getExpandedChildHeight(e),t.aspectRatio>0&&(xu.width=t.aspectRatio,xu.height=1,yu.width=a,yu.height=n,d=Gf(xu,yu,"FIT",!0),a=d.width,n=d.height),e.isRexSizer?(e.runLayout(this,a,n),Nf(e,this)):Pe(e,a,n),C=o+s.left*this.scaleX,h=S-(s.left+s.right)*this.scaleX,i=y+s.top*this.scaleY,x=r-(s.top+s.bottom)*this.scaleY,a===void 0&&(a=Rt(e)),n===void 0&&(n=At(e)),f=(t.alignOffsetX+t.alignOffsetOriginX*a)*this.scaleX,l=(t.alignOffsetY+t.alignOffsetOriginY*n)*this.scaleY,wa.call(this,e,C,i,h,x,t.align,f,l))},xu={},yu={};const kp=Phaser.Utils.Objects.IsPlainObject,Ve=Phaser.Utils.Objects.GetValue,Vp=Phaser.Display.Align.CENTER,XD=Phaser.Utils.String.UUID;var YD=function(e,t,s,o,y,S,r,C,i,h){var x,f;if(Sa.call(this,e),kp(t)){var a=t;t=Ve(a,"key",void 0),s=Ve(a,"align",Vp),o=Ve(a,"padding",0),y=Ve(a,"expand",!0),e.isRexSizer||(S=Ve(a,"minWidth",e._minWidth),r=Ve(a,"minHeight",e._minHeighted)),C=Ve(a,"offsetX",0),i=Ve(a,"offsetY",0),x=Ve(a,"offsetOriginX",0),f=Ve(a,"offsetOriginY",0),h=Ve(a,"aspectRatio",0)}var l=t!==void 0;l||(t=XD()),typeof s=="string"&&(s=pn[s]),s===void 0&&(s=Vp),o===void 0&&(o=0),y===void 0&&(y=!0),e.isRexSizer||(S===void 0&&(S=e._minWidth),r===void 0&&(r=e._minHeight)),C===void 0&&(C=0),i===void 0&&(i=0),x===void 0&&(x=0),f===void 0&&(f=0),h===void 0?h=0:h===!0&&(h=Rt(e)/At(e)),h>0&&(y=!0,S===void 0&&(S=0),r===void 0&&(r=0));var a=this.getSizerConfig(e);return a.align=s,a.padding=Tr(o),kp(y)?(a.expandWidth=Ve(y,"width",!1),a.expandHeight=Ve(y,"height",!1)):(a.expandWidth=y,a.expandHeight=y),e.isRexSizer||(a.expandWidth&&(e.minWidth=S===void 0?Rt(e):S),a.expandHeight&&(e.minHeight=r===void 0?At(e):r)),a.alignOffsetX=C,a.alignOffsetY=i,a.alignOffsetOriginX=x,a.alignOffsetOriginY=f,a.aspectRatio=h,this.sizerChildren.hasOwnProperty(t)&&this.sizerChildren[t].destroy(),this.sizerChildren[t]=e,l&&this.addChildrenMap(t,e),this};const WD={add:YD},UD=$e.prototype.clear;var Qo=function(e){this.backgroundChildren&&(this.backgroundChildren.length=0);var t=!e&&this.sizerEventsEnable,s;if(t&&(s=this.getChildren([])),UD.call(this,e),t)for(var o,y=0,S=s.length;y<S;y++)o=s[y],o.emit("sizer.remove",o,this),this.emit("remove",o,this);return this};const HD={remove(e,t){var s;if(typeof e=="string"){if(s=e,e=this.sizerChildren[s],!e)return this}else{if(this.getParentSizer(e)!==this)return this;s=this.childToKey(e)}return s&&(delete this.sizerChildren[s],this.childrenMap.hasOwnProperty(s)&&delete this.childrenMap[s]),Pa.call(this,e,t),this},removeAll(e){for(var t in this.sizerChildren)this.remove(t,e);return this},clear(e){for(var t in this.sizerChildren)delete this.sizerChildren[t],this.childrenMap.hasOwnProperty(t)&&delete this.childrenMap[t];return Qo.call(this,e),this}};var $x={getChildrenWidth:DD,getChildrenHeight:ID,getExpandedChildWidth:BD,getExpandedChildHeight:GD,getChildrenSizers:ND,layoutChildren:zD};Object.assign($x,WD,HD);var jo=function(e,t){if(Array.isArray(e))return e.indexOf(t);for(var s in e)if(e[s]===t)return s;return null};const zp=Phaser.Utils.Objects.IsPlainObject,Yr=Phaser.Utils.Objects.GetValue;class ai extends Cr{constructor(t,s,o,y,S,r){zp(s)?(r=s,s=Yr(r,"x",0),o=Yr(r,"y",0),y=Yr(r,"width",void 0),S=Yr(r,"height",void 0)):zp(y)&&(r=y,y=Yr(r,"width",void 0),S=Yr(r,"height",void 0)),super(t,s,o,y,S,r),this.type="rexOverlapSizer",this.sizerChildren={},this.addChildrenMap("items",this.sizerChildren)}childToKey(t){if(typeof t=="string"){var s=t;if(this.sizerChildren.hasOwnPropery(s))return s}else return jo(this.sizerChildren,t);return null}}Object.assign(ai.prototype,$x);var $D=Phaser.Math.Distance.Between,mo=function(e,t,s){var o=e.width/2;return $D(o,o,t,s)<=o};const KD=Phaser.Math.Angle.Between,ZD=Phaser.Math.Angle.Normalize;var Xp=function(e,t,s){if(this.enable&&e.isDown){var o=this.sizerChildren.knob;if(mo(o,t,s)){var y=o.width/2,S=o.startAngle,r=KD(y,y,t,s),C=o.anticlockwise?S-r:r-S,i=ZD(C)/(2*Math.PI);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-i)<.1?this.value=i:this.easeValueTo(i)}}},JD=function(){var e=this.sizerChildren.knob;e.on("pointerdown",Xp,this).on("pointermove",Xp,this).setInteractive()};const Yp=Phaser.Math.Angle.Between,QD=Phaser.Math.Angle.Wrap;var jD=function(e,t,s){if(!(!this.enable||this.panPointer)){var o=this.sizerChildren.knob;mo(o,t,s)&&Kx.call(this,e)}},qD=function(e,t,s){if(this.enable&&e.isDown){var o=this.sizerChildren.knob;switch(this.panState){case kf:mo(o,t,s)&&Kx.call(this,e);break;case Jx:mo(o,t,s)?t5.call(this):Zx.call(this);break}}},_D=function(e,t,s){!this.enable||this.panPointer!==e||Zx.call(this)},Kx=function(e){this.panPointer=e,this.panState=Jx},Zx=function(){this.panPointer=void 0,this.panState=kf},t5=function(){var e=this.panPointer.prevPosition,t=this.panPointer.position,s=this.sizerChildren.knob,o=Yp(s.x,s.y,e.x,e.y),y=Yp(s.x,s.y,t.x,t.y),S=s.anticlockwise?o-y:y-o,r=QD(S)/(Math.PI*2);this.stopEaseValue(),this.value+=r};const kf=0,Jx=1;var e5=function(){var e=this.sizerChildren.knob;e.on("pointerdown",jD,this).on("pointermove",qD,this).on("pointerup",_D,this).setInteractive(),this.panPointer=void 0,this.panState=kf},i5=function(e,t){return this.textFormatCallback=e,this.textFormatCallbackScope=t,this},Qx=function(e){e===void 0&&(e=this.value);var t;return this.textFormatCallbackScope?t=this.textFormatCallback(e):t=this.textFormatCallback.call(this.textFormatCallbackScope,e),t},s5=function(e){var t=this.sizerChildren.text;return t&&this.textFormatCallback&&(t.setText(Qx.call(this,e)),t.layout&&t.layout()),this};const r5={setTextFormatCallback:i5,getFormatText:Qx,updateText:s5},oi=Phaser.Utils.Objects.GetValue,n5=Phaser.Math.Snap.To;class Vf extends Ds(ai){constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexKnob",this.bootProgressBase(s);var o=oi(s,"background",void 0),y=oi(s,"text",void 0);o&&this.addBackground(o),y&&(s.textColor=void 0,s.textStrokeColor=void 0,this.setTextFormatCallback(oi(s,"textFormatCallback",void 0),oi(s,"textFormatCallbackScope",void 0)),s.textFormatCallback=void 0,s.textFormatCallbackScope=void 0);var S=new Go(t,s);S.setDepth(oi(s,"knobDepth",0)),S._value=-1,t.add.existing(S),this.add(S,"knob"),y&&(this.add(y,"text","center",0,!1),t.children.moveBelow(S,y)),this.addChildrenMap("background",o),this.addChildrenMap("knob",S),this.addChildrenMap("text",y),this.setEnable(oi(s,"enable",void 0)),this.setGap(oi(s,"gap",void 0)),this.setValue(oi(s,"value",0),oi(s,"min",void 0),oi(s,"max",void 0));var r=oi(s,"input",0);switch(typeof r=="string"&&(r=a5[r]),r){case 0:e5.call(this);break;case 1:JD.call(this);break}}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t){return this.gap=t,this}get value(){return this.sizerChildren.knob.value}set value(t){this.gap!==void 0&&(t=n5(t,this.gap));var s=this.value;this.sizerChildren.knob.value=t;var o=this.value;s!==o&&(this.updateText(),this.eventEmitter.emit("valuechange",o,s,this.eventEmitter))}}const a5={pan:0,drag:0,click:1,none:-1};Object.assign(Vf.prototype,r5);st.register("knob",function(e){var t=new Vf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Knob",Vf);const h5={arc:vn,circle:ri,curve:zO,ellipse:XO,line:Os,lines:me,rectangle:oL,roundRectangle:fo,triangle:uL},Wp=Phaser.Utils.Objects.GetValue,o5=Phaser.Utils.Objects.IsPlainObject,l5=function(){for(var e=this.getShapes(),t=0,s=e.length;t<s;t++)e[t].lineStyle().fillStyle()},u5={createShape(e,t){var s=h5[e],o=new s;return t&&o.setName(t),o},buildShapes(e){var t=Wp(e,"create",void 0);if(o5(t)){var s=t;for(var o in s){var y=s[o];switch(typeof y){case"number":for(var S=0;S<y;S++)this.addShape(this.createShape(o));break;case"string":this.addShape(this.createShape(o,y));break;default:for(var r=y,S=0,C=r.length;S<C;S++)this.addShape(this.createShape(o,r[S]));break}}}else if(Array.isArray(t))for(var s=t,S=0,C=s.length;S<C;S++){var i=s[S];this.addShape(this.createShape(i.type,i.name))}else typeof t=="function"&&t.call(this);this.setUpdateShapesCallback(Wp(e,"update"))},setUpdateShapesCallback(e){return e===void 0&&(e=l5),this.dirty=this.dirty||this.updateCallback!==e,this.updateCallback=e,this},updateShapes(){this.updateCallback.call(this)}},Nn=Phaser.Utils.Objects.GetValue,d5=Phaser.Utils.Objects.IsPlainObject;class qo extends _i{constructor(t,s,o,y,S,r){d5(s)&&(r=s,s=Nn(r,"x",0),o=Nn(r,"y",0),y=Nn(r,"width",2),S=Nn(r,"height",2)),super(t,s,o,y,S),this.type=Nn(r,"type","rexCustomShapes"),this.buildShapes(r)}get centerX(){return this.width/2}get centerY(){return this.height/2}worldToLocalXY(t,s,o,y){return typeof o=="boolean"&&(y=o,o=void 0),tm(this,t,s,o,y)}}Object.assign(qo.prototype,u5);st.register("customShapes",function(e,t,s,o,y){var S=new qo(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CustomShapes",qo);const kn=Phaser.Utils.Objects.GetValue,f5=Phaser.Utils.Objects.IsPlainObject;class ki extends Ds(qo){constructor(t,s,o,y,S,r){f5(s)&&(r=s,s=kn(r,"x",0),o=kn(r,"y",0),y=kn(r,"width",2),S=kn(r,"height",2)),r===void 0&&(r={}),r.type||(r.type="rexCustomProgress"),super(t,s,o,y,S,r),this.bootProgressBase(r),this.setValue(kn(r,"value",0))}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}}st.register("customProgress",function(e,t,s,o,y){var S=new ki(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.CustomProgress",ki);var c5=function(e){return this.easeValueTask||(this.easeValueTask=new ji(this,{eventEmitter:null})),e!==void 0&&(this.duration=e,this.easeValueTask.stop()),this.easeValueTask.isRunning?this:(this.easeValueTask.restart({key:"value",from:0,to:1,duration:this.duration,ease:this.ease,repeat:-1,delay:this.delay,repeatDelay:this.repeatDelay}),this.setDirty(),this)},v5=function(){return this.easeValueTask?(this.easeValueTask.stop(),this.setDirty(),this):this},p5=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this},g5=function(){return this.easeValueTask?(this.easeValueTask.pause(),this.setDirty(),this):this};const m5={start:c5,stop:v5,pause:p5,resume:g5},li=Phaser.Utils.Objects.GetValue;class jx extends _i{constructor(t,s){var o=li(s,"x",0),y=li(s,"y",0),S=li(s,"width",64),r=li(s,"height",64);super(t,o,y,S,r),this.resetFromConfig(s,!0),this.buildShapes(s),li(s,"start",!0)&&this.start()}resetFromConfig(t,s){s===void 0&&(s=!1);var o;return o=s?1e3:this.duration,this.setDuration(li(t,"duration",o)),o=s?"Linear":this.ease,this.setEase(li(t,"ease",o)),o=s?0:this.delay,this.setDelay(li(t,"delay",o)),o=s?0:this.repeatDelay,this.setRepeatDelay(li(t,"repeatDelay",o)),o=s?16777215:this.color,this.setColor(li(t,"color",o)),o=s?0:this.value,this.setValue(li(t,"value",o)),this}buildShapes(){}get centerX(){return this.width/2}get centerY(){return this.height/2}get radius(){return Math.min(this.centerX,this.centerY)}get color(){return this._color}set color(t){this.isColorChanged=this.isColorChanged||this._color!==t,this.dirty=this.dirty||this.isColorChanged,this._color=t,this.setShapesColor(t)}setColor(t){return this.color=t,this}setShapesColor(t){}get value(){return this._value}set value(t){t=Phaser.Math.Clamp(t,0,1),this.dirty=this.dirty||this._value!=t,this._value=t}setValue(t){return this.value=t,this}setDuration(t){return this.duration=t,this}setDelay(t){return this.delay=t,this}setRepeatDelay(t){return this.repeatDelay=t,this}setEase(t){return this.ease=t,this}get isRunning(){return this.tweenTask?this.tweenTask.isRunning:!1}}Object.assign(jx.prototype,m5);const fs=Phaser.Math.DegToRad,x5=Phaser.Math.Linear,y5=Phaser.Math.Easing.Expo.In,T5={right:0,down:1,left:2,up:3};var C5=function(e,t,s,o,y,S,r,C,i,h,x){var f=Wr(t,0,o,y,S,r,C,i,h,x);e.startAt(f.x,f.y);var l=Wr(s,0,o,y,S,r,C,i,h,x);e.lineTo(l.x,l.y);var a=Wr(s,s,o,y,S,r,C,i,h,x);e.lineTo(a.x,a.y);var n=Wr(0,s,o,y,S,r,C,i,h,x);e.lineTo(n.x,n.y);var d=Wr(0,t,o,y,S,r,C,i,h,x);e.lineTo(d.x,d.y);var c=Wr(t,t,o,y,S,r,C,i,h,x);e.lineTo(c.x,c.y),e.close()},Tu={},Wr=function(e,t,s,o,y,S,r,C,i,h){var x=e*s,f=t*o;return Tu.x=r*x+C*f+y,Tu.y=i*x+h*f+S,Tu};const Lh={setDirection(e){return typeof e=="string"&&(e=T5[e]),this.direction=e,this},buildShapes(){for(var e=0;e<3;e++)this.addShape(new me)},updateShapes(){var e,t,s,o,y,S;switch(this.direction){case 1:e=this.centerX,t=this.centerY-this.radius;var r=fs(315);s=Math.cos(r),o=Math.sin(r);var C=fs(45);y=Math.cos(C),S=Math.sin(C);break;case 3:e=this.centerX,t=this.centerY+this.radius;var r=fs(135);s=Math.cos(r),o=Math.sin(r);var C=fs(225);y=Math.cos(C),S=Math.sin(C);break;case 2:e=this.centerX+this.radius,t=this.centerY;var r=fs(225);s=Math.cos(r),o=Math.sin(r);var C=fs(315);y=Math.cos(C),S=Math.sin(C);break;default:e=this.centerX-this.radius,t=this.centerY;var r=fs(45);s=Math.cos(r),o=Math.sin(r);var C=fs(135);y=Math.cos(C),S=Math.sin(C);break}for(var i=this.radius/7,h=this.getShapes(),x=0,f=h.length;x<f;x++){var l=h[x],a=(this.value+(f-x)*.1)%1;a=y5(It(a));var n=x5(.25,1,a);l.fillStyle(this.color,n);var d=x*3+1,c=d+2;C5(l,d,c,i,i,e,t,s,o,y,S)}}},S5=Phaser.Math.Linear,P5={buildShapes(){for(var e=0;e<4;e++)this.addShape(new Os);this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=e-s,y=t+s,S=s*2,r=this.getShapes(),C=r.length,i=s*2/C,h=i*.7;if(this.prevValue===void 0||this.prevValue>this.value)for(var x=0;x<C;x++){var f=r[x],l=this.prevValue===void 0?Math.random():f.getData("to");f.setData("from",l).setData("to",Math.random())}this.prevValue=this.value;for(var x=0;x<C;x++){var f=r[x],l=f.getData("from"),a=f.getData("to"),n=S5(l,a,this.value),d=n*S,c=o+i*(x+.5);f.lineStyle(h,this.color,1).setP0(c,y).setP1(c,y-d)}}},E5=Phaser.Math.Linear,M5={buildShapes(){for(var e=0;e<3;e++)this.addShape(new ri)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=s*.1,y=Math.ceil(o*.25),S=1-It(this.value),r=E5(.3,.9,S)*s,C=this.getShapes(),i=0,h=C.length;i<h;i++){var x=C[i],S=(this.value+i/h)%1,f=Math.PI*2*S;x.lineStyle(y,this.color).setRadius(o).setCenterPosition(e+Math.cos(f)*r,t+Math.sin(f)*r)}}},w5=Phaser.Math.Linear,R5=Phaser.Math.Easing.Expo.In,A5={buildShapes(){for(var e=5,t=0;t<e;t++){var s=new Os;this.addShape(s);var o=It(t/(e-1))/2;s.setData("offset",o)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=e-s,y=s*2,S=this.getShapes(),r=S.length,C=s*2/r,i=C*.7,h=0;h<r;h++){var x=S[h],f=(this.value+x.getData("offset"))%1;f=R5(It(f));var l=w5(.4,1,f)*y,a=o+C*(h+.5);x.lineStyle(i,this.color,1).setP0(a,t-l/2).setP1(a,t+l/2)}}},O5={buildShapes(){this.addShape(new me().setName("border")),this.addShape(new me().setName("fill"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=s*.7,y=e-o,S=t-o,r=o*2;if(this.getShape("border").lineStyle(2,this.color,1).startAt(y,S).lineTo(r,0,!0).lineTo(0,r,!0).lineTo(-r,0,!0).lineTo(0,-r,!0).close(),this.value<.5){var C=(.5-this.value)*2,i=r*C;this.getShape("fill").fillStyle(this.color,1).startAt(y,S).lineTo(r,0,!0).lineTo(0,i,!0).lineTo(-r,0,!0).lineTo(0,-i,!0).close()}else{var C=(this.value-.5)*2,h=180*C;this.getShape("border").rotateAround(e,t,h),this.getShape("fill").fillStyle().lineStyle()}}},Up=Phaser.Math.RadToDeg,Hp=Phaser.Math.Angle.WrapDegrees,L5=Phaser.Math.Angle.Wrap,b5=Phaser.Math.Angle.ShortestBetween,F5=Phaser.Math.DegToRad,$p=Phaser.Math.DegToRad(270),D5={buildShapes(){this.addShape(new ri().setName("border")),this.addShape(new Os().setName("minuteHand")),this.addShape(new Os().setName("hourHand")),this.minuteHandAngle=0,this.hourHandAngle=0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=Math.ceil(s/25),y=s-o/2,S=s*.8,r=s*.5,C=this.minuteHandAngle;this.minuteHandAngle=Math.PI*2*this.value;var i=Hp(Up(C)),h=Hp(Up(this.minuteHandAngle)),x=b5(i,h);this.hourHandAngle=L5(this.hourHandAngle+F5(x)/12),this.getShape("border").lineStyle(o,this.color).setRadius(y).setCenterPosition(e,t);var f=this.minuteHandAngle+$p;this.getShape("minuteHand").lineStyle(o,this.color).setP0(e,t).setP1(e+Math.cos(f)*S,t+Math.sin(f)*S);var f=this.hourHandAngle+$p;this.getShape("hourHand").lineStyle(o,this.color).setP0(e,t).setP1(e+Math.cos(f)*r,t+Math.sin(f)*r)}},Kp=Phaser.Math.Linear,I5=Phaser.Math.Easing.Expo.In,Cu=2,Su=2,B5={buildShapes(){for(var e=Cu*Su,t=0;t<e;t++){var s=new Os;this.addShape(s)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=e-s,y=t-s,S=s*2/Su,r=s*2/Cu,C=this.getShapes(),i=C.length,h=0;h<i;h++){var x=h%Su,f=Math.floor(h/Cu),l=o+S*(x+.5),a=y+r*(f+.5),n=C[h],d=(this.value+(i-h)*.1)%1;d=I5(It(d));var c=(i-h)/i,u=Kp(.7,1,d)*r,v=Kp(.7,1,d)*S;n.lineStyle(v,this.color,c).setP0(l-u/2,a).setP1(l+u/2,a)}}},Zp=Phaser.Math.Linear,G5={buildShapes(){for(var e=3,t=0;t<e;t++){var s=new ri;this.addShape(s);var o=It(t/(e-1))/2;s.setData("offset",o)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=e-s,y=this.getShapes(),S=y.length,r=s*2/S,C=r/2,i=0;i<S;i++){var h=y[i],x=(this.value+h.getData("offset"))%1;x=It(x);var f=Zp(.25,1,x),l=Zp(.5,1,x)*C;h.fillStyle(this.color,f).setRadius(l).setCenterPosition(o+r*(i+.5),t)}}},Jp=Phaser.Math.Linear,N5=Phaser.Math.Easing.Expo.In,k5={buildShapes(){for(var e=0;e<3;e++){var t=new Os;this.addShape(t)}},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=e-s,y=this.getShapes(),S=y.length,r=s*2/S,C=s*2,i=0;i<S;i++){var h=y[i],x=(this.value+(S-i)*.1)%1;x=N5(It(x));var f=(i+1)/S,l=Jp(.7,1,x)*C,a=Jp(.7,1,x)*r,n=o+r*(i+.5);h.lineStyle(a,this.color,f).setP0(n,t-l/2).setP1(n,t+l/2)}}},V5=Phaser.Math.Linear,Pu=3,Eu=3,z5={buildShapes(){for(var e=Pu*Eu,t=0;t<e;t++){var s=new ri;this.addShape(s),s.setData("offset",Math.random())}this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=this.isInitialize||this.isSizeChanged,y=e-s,S=t-s,r=s*2/Eu,C=s*2/Pu,i=Math.min(r,C)/2*.8,h=this.getShapes(),x=0,f=h.length;x<f;x++){var l=x%Eu,a=Math.floor(x/Pu),n=y+r*(l+.5),d=S+C*(a+.5),c=h[x],u=(this.value+c.getData("offset"))%1;u=It(u),c.fillStyle(this.color,V5(.25,1,u)),o&&c.setRadius(i).setCenterPosition(n,d)}this.isInitialize=!1}},X5={buildShapes(){for(var e=0;e<2;e++)this.addShape(new me)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=Math.ceil(s/25),y=s-o,S=y*.6,r=y*.7,C=y*1.2,i=this.getShapes(),h=0,x=i.length;h<x;h++){var f=i[h],l=(this.value+h/x)%1,a=It(l),n=e,d=t-15*l,c=y*l,u=S*l,v=r*l,p=C*l;f.lineStyle(o,this.color,a).startAt(n,d).cubicBezierTo(n,d-u,n-c,d-u,n-c,d).cubicBezierTo(n-c,d+u,n,d+v,n,d+p).cubicBezierTo(n,d+v,n+c,d+u,n+c,d).cubicBezierTo(n+c,d-u,n,d-u,n,d).close()}}},Y5=Phaser.Math.Linear,W5={buildShapes(){for(var e=0;e<12;e++)this.addShape(new Os);this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.isInitialize||this.isSizeChanged,o=this.radius,y=o/2,S=Math.ceil(o/20),r=this.getShapes(),C=0,i=r.length;C<i;C++){var h=r[C],x=C/i,f=Math.PI*2*x,l=Y5(.25,1,(1-this.value+x)%1);h.lineStyle(S,this.color,l),s&&h.setP0(e+Math.cos(f)*y,t+Math.sin(f)*y).setP1(e+Math.cos(f)*o,t+Math.sin(f)*o)}this.isInitialize=!1}},U5={buildShapes(){this.addShape(new ri().setName("track")),this.addShape(new ri().setName("thumb"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=s*.9,y=Math.ceil(o/25),S=s*.1,r=Math.PI*2*this.value;this.getShape("track").lineStyle(y,this.color,.7).setRadius(o).setCenterPosition(e,t),this.getShape("thumb").fillStyle(this.color).setRadius(S).setCenterPosition(e+Math.cos(r)*o,t+Math.sin(r)*o)}},H5={buildShapes(){this.addShape(new ri().setName("track")),this.addShape(new vn().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=Math.ceil(s/25),y=s-o/2;this.getShape("track").lineStyle(o,this.color,.5).setRadius(y).setCenterPosition(e,t);var S=this.value*360,r=S+60;this.getShape("arc").lineStyle(o,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(S,r)}},$5=Phaser.Math.Linear,K5={buildShapes(){for(var e=0;e<4;e++){var t=new vn().setPie();this.addShape(t),t.setData("speed",$5(180,360,Math.random()))}this.prevValue=void 0},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o;this.prevValue!==void 0&&(o=this.value-this.prevValue,this.prevValue>this.value&&(o+=1));for(var y=this.getShapes(),S=0,r=y.length;S<r;S++){var C=y[S],i=(S+1)/r;if(this.prevValue===void 0){var h=S/r*360,x=h+90;C.fillStyle(this.color,i).setRadius(s).setCenterPosition(e,t).setAngle(h,x).setData("angle",h)}else{var h=C.getData("angle")+C.getData("speed")*o;h=h%360;var x=h+90;C.fillStyle(this.color,i).setRadius(s).setCenterPosition(e,t).setAngle(h,x).setData("angle",h)}}this.prevValue=this.value}},Z5={buildShapes(){this.addShape(new ri)},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=s*this.value,y=Math.ceil(s/25),S=It(this.value);this.getShapes()[0].lineStyle(y,this.color,S).setRadius(o).setCenterPosition(e,t)}},J5=Phaser.Math.Linear,Q5=Phaser.Math.Easing.Expo.In,j5={buildShapes(){this.addShape(new ri().setName("center")),this.addShape(new me().setName("arc0")),this.addShape(new me().setName("arc1")),this.isInitialize=!0},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=this.isInitialize||this.isSizeChanged,y=s*2/6,S=e-s+y,r=t+s-y,C=this.getShapes(),i=0,h=C.length;i<h;i++){var x=C[i],f=(this.value+(h-i)*.1)%1;f=Q5(It(f));var l=J5(.25,1,f);switch(x.name){case"center":x.fillStyle(this.color,l),o&&x.setRadius(y).setCenterPosition(S,r);break;case"arc0":if(x.fillStyle(this.color,l),o){var a=y*2,n=y*3;x.startAt(S,r-a).lineTo(S,r-n).setIterations(8).arc(S,r,n,270,360).lineTo(S+a,r).setIterations(6).arc(S,r,a,360,270,!0).close()}break;case"arc1":if(x.fillStyle(this.color,l),o){var a=y*4,n=y*5;x.startAt(S,r-a).lineTo(S,r-n).setIterations(8).arc(S,r,n,270,360).lineTo(S+a,r).setIterations(6).arc(S,r,a,360,270,!0).close()}break}}this.isInitialize=!1}},q5={buildShapes(){for(var e=0;e<2;e++)this.addShape(new ri)},updateShapes(){for(var e=this.centerX,t=this.centerY,s=this.radius,o=Math.ceil(s/25),y=s-o,S=this.getShapes(),r=0,C=S.length;r<C;r++){var i=S[r],h=(this.value+r/C)%1,x=It(h);i.lineStyle(o,this.color,x).setRadius(h*y).setCenterPosition(e,t)}}},_5={buildShapes(){this.addShape(new vn().setName("arc"))},updateShapes(){var e=this.centerX,t=this.centerY,s=this.radius,o=Math.ceil(s/10),y=s-o,S=this.value*720,r=It(this.value)*180,C=S-r;this.getShape("arc").lineStyle(o,this.color,1).setRadius(y).setCenterPosition(e,t).setAngle(C+315,S+315)}};Phaser.Utils.Objects.GetValue;const wd={leftArrow:Lh,rightArrow:Lh,upArrow:Lh,downArrow:Lh,audio:P5,ball:M5,bars:A5,box:O5,clock:D5,cube:B5,dots:G5,facebook:k5,grid:z5,hearts:X5,ios:W5,oribit:U5,oval:H5,pie:K5,puff:Z5,radio:j5,rings:q5,spinner:_5},Rd=[];for(var t4 in wd)Rd.push(t4);const Qp=Phaser.Utils.Array.GetRandom,e4={setAnimationMode(e,t){wd.hasOwnProperty(e)||(e=Qp(Rd)),this.animationMode=e;var s=wd[e];switch(t&&this.resetFromConfig(t),e){case"leftArrow":s.setDirection.call(this,"left");break;case"rightArrow":s.setDirection.call(this,"right");break;case"upArrow":s.setDirection.call(this,"up");break;case"downArrow":s.setDirection.call(this,"down");break}return this.clear(),s.buildShapes.call(this),this.updateShapes=s.updateShapes.bind(this),this.stop().start(),this},setRandomAnimationMode(e){var t=Qp(Rd);return this.setAnimationMode(t,e),this}},i4=Phaser.Utils.Objects.GetValue;class zf extends jx{constructor(t,s){super(t,s),this.type="rexSpinnerAIO",this.setAnimationMode(i4(s,"animationMode"))}}Object.assign(zf.prototype,e4);st.register("aioSpinner",function(e){var t=new zf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.AIOSpinner",zf);const s4={setTransitionStartCallback(e,t){return this.onStartCallback=e,this.onStartCallbackScope=t,this},setTransitionProgressCallback(e,t){return this.onProgressCallback=e,this.onProgressCallbackScope=t,this},setTransitionCompleteCallback(e,t){return this.onCompleteCallback=e,this.onCompleteCallbackScope=t,this}};var qx=function(){for(var e=this.scaleMode-1,t=0,s=this.images.length;t<s;t++){var o=this.images[t],y=Gf(o,this,e,!0),S=y.width/o.width;this.setChildLocalScale(o,S),o.biasScale=S}},ro=function(e){this.scaleMode===0?this.resize(e.width,e.height):qx.call(this)};const jp=Phaser.Utils.Objects.IsPlainObject,Mu=Phaser.Utils.Objects.GetValue,r4=Phaser.Utils.Array.GetRandom;var n4={out:0,in:1},Ei=function(e,t,...s){for(var o=0,y=s.length;o<y;o++){var S=s[o];if(S&&S.hasOwnProperty(e))return S[e]}return t};const a4={setTransitionDirection(e){return typeof e=="string"&&(e=n4[e]),this.dir=e,this},setDuration(e){return this.duration=e,this},setEaseFunction(e){return this.easeFunction=e,this},setNextTexture(e,t){return this.nextImage.setTexture(e,t),ro.call(this,this.nextImage),this},transit(e,t,s){if(this.isRunning&&(this.ignoreCompleteEvent=!0,this.stop(),this.ignoreCompleteEvent=!1),s!==void 0&&(e={key:e,frame:t,mode:s}),this.currentTransitionMode=void 0,jp(e)){var o=e;e=Mu(o,"key",void 0),t=Mu(o,"frame",void 0),s=Mu(o,"mode"),Array.isArray(s)&&(s=r4(s));var y;this.transitionModes&&this.transitionModes.hasOwnProperty(s)&&(y=this.transitionModes[s],this.currentTransitionMode=s),this.setDuration(Ei("duration",this.duration,o,y)).setEaseFunction(Ei("ease",this.easeFunction,o,y)).setTransitionDirection(Ei("dir",this.dir,o,y));var S=Ei("mask",void 0,o,y);S&&this.setMaskGameObject(S),this.setMaskEnable(S===!0);var r=Ei("onStart",void 0,o,y),C=Ei("onProgress",void 0,o,y),i=Ei("onComplete",void 0,o,y);(r!==void 0||C!==void 0||i!==void 0)&&this.setTransitionStartCallback(r,Ei("onStartScope",void 0,o,y)).setTransitionProgressCallback(C,Ei("onProgressScope",void 0,o,y)).setTransitionCompleteCallback(i,Ei("onCompleteScope",void 0,o,y))}return this.setNextTexture(e,t),this.start(),this},addTransitionMode(e,t){return this.transitionModes===void 0&&(this.transitionModes={}),jp(e)&&(t=e,e=t.name,delete t.name),this.transitionModes[e]=t,this},start(){return this.easeValueTask===void 0&&(this.easeValueTask=new ji(this,{eventEmitter:null})),this.easeValueTask.restart({key:"t",from:0,to:1,duration:this.duration,ease:this.easeFunction}),this},pause(){return this.easeValueTask&&this.easeValueTask.pause(),this},resume(){return this.easeValueTask&&this.easeValueTask.resume(),this},stop(){return this.easeValueTask&&this.easeValueTask.stop(),this.setT(1),this}},h4=Phaser.GameObjects.Graphics.prototype.setPosition;var o4=function(e,t){var s=this.parent;return e===void 0&&(e=s.x),t===void 0&&(t=s.y),h4.call(this,e,t),this};const qp=Phaser.Geom.Rectangle,_p=Phaser.Geom.Circle;var l4=function(e,t,s,o,y,S,r){switch(e){case 1:o=o.left;var C=-t*(y-.5),i=-s*(S-.5),h=Math.min(t,s)/2+o;(r===void 0||!(r instanceof _p))&&(r=new _p),r.setTo(C,i,h);break;default:var x=-(t*y)-o.left,f=-(s*S)-o.top,l=t+o.left+o.right,a=s+o.top+o.bottom;(r===void 0||!(r instanceof qp))&&(r=new qp),r.setTo(x,f,l,a);break}return r},_x=function(e,t,s,o,y){switch(this.geom=l4(this.shapeType,e,t,s,o,y,this.geom),this.clear().fillStyle(16777215),this.shapeType){case 1:this.fillCircleShape(this.geom);break;default:this.fillRectShape(this.geom);break}},u4=function(e,t,s){var o=this.parent;e===void 0&&(e=o.width),t===void 0&&(t=o.height),s===void 0?s=this.padding:typeof s=="number"&&(s=GetBoundsConfig(s));var y=this.width!==e||this.height!==t,S=this.padding!==s&&!ga(this.padding,s);return!y&&!S?this:(this.width=e,this.height=t,S&&mi(s,this.padding),this.originX=o.originX,this.originY=o.originY,_x.call(this,e,t,s,o.originX,o.originY),this)},d4=function(e,t){t===void 0&&(t=e);var s=this.parent;return e===void 0&&(e=s.originX),t===void 0&&(t=s.originY),this.originX===e&&this.originY===t?this:(this.originX=e,this.originY=t,_x.call(this,this.width,this.height,this.padding,e,t),this)},f4=function(e,t){return e-=this.x,t-=this.y,this.geom.contains(e,t)},c4={setPosition:o4,resize:u4,setOrigin:d4,contains:f4};const v4=Phaser.GameObjects.Graphics;class xo extends v4{constructor(t,s,o){s===void 0&&(s=0),typeof s=="string"&&(s=p4[s]),super(t.scene),this.parent=t,this.shapeType=s,this.padding=Tr(o),this.setPosition().resize().setVisible(!1)}destroy(){return this.parent=void 0,super.destroy(),this}}const p4={rectangle:0,circle:1};Object.assign(xo.prototype,c4);const g4={setMaskGameObject(e){if(!e)return this.removeMaskGameObject(),this;if(this.maskGameObject){if(e===!0&&this.maskGameObject instanceof xo)return this;if(this.maskGameObject===e)return this;this.removeMaskGameObject()}return e===!0&&(e=new xo(this)),e.resize(this.width,this.height).setOrigin(this.originX,this.originY).setPosition(0,0).setScale(1).setVisible(!1),this.addLocal(e),this.maskGameObject=e,e._maskObject||(e._maskObject=e.createGeometryMask(),e.once("destroy",function(){e._maskObject.destroy(),e._maskObject=void 0})),this.childrenMask=e._maskObject,this},removeMaskGameObject(e){return e===void 0&&(e=!0),this.backImage.clearMask(),this.frontImage.clearMask(),this.childrenMask=void 0,this.remove(this.maskGameObject,e),this.maskGameObject=void 0,this},setImageMaskEnable(e,t,s){return t===void 0&&(t=!0),s===void 0&&(s=!1),t?(this.childrenMask||this.setMaskGameObject(!0),e.setMask(this.childrenMask),this.childrenMask.setInvertAlpha(s)):e.clearMask(),this},setCurrentImageMaskEnable(e,t){return this.setImageMaskEnable(this.currentImage,e,t),this},setNextImageMaskEnable(e,t){return this.setImageMaskEnable(this.nextImage,e,t),this},setCellImagesMaskEnable(e,t){for(var s=this.getCellImages(),o=0,y=s.length;o<y;o++)this.setImageMaskEnable(s[o],e,t);return this},setMaskEnable(e,t){return this.setImageMaskEnable(this.backImage,e,t),this.setImageMaskEnable(this.frontImage,e,t),this.setCellImagesMaskEnable(e,t),this}};var m4=function(e,t){typeof e=="object"&&(e=e.name),t===void 0&&(t=",");var s;return e==="__BASE"?s=function(o,y){return`${o}${t}${y}`}:s=function(o,y){return`${e}_${o}${t}${y}`},s},x4=function(e,t,s,o,y,S){s==null&&(s="__BASE"),S||(S=m4(s,S));for(var r=e.sys.textures.get(t),C=typeof s=="object"?s:r.get(s),i=C.width,h=C.height,x,f,l,a=i/o,n=h/y,d=C.cutX,c=C.cutY,u=0,v=0,p=0;p<y;p++){u=0;for(var g=0;g<o;g++)l=S(g,p),x=u+d,f=v+c,r.add(l,0,x,f,a,n),u+=a;v+=n}return{getFrameNameCallback:S,cellWidth:a,cellHeight:n,columns:o,rows:y}};const Wi=Phaser.Utils.Objects.GetValue,y4=Phaser.GameObjects.Image,T4=Phaser.Utils.Objects.IsPlainObject,C4=Phaser.Math.RotateAround;var S4=function(e,t,s,o){T4(t)&&(o=t,t=Wi(o,"columns",1),s=Wi(o,"rows",1));var y=Wi(o,"createImageCallback");if(!y){var S=Wi(o,"ImageClass",y4);y=function(D,I,k){return new S(D,0,0,I,k)}}for(var r=Wi(o,"originX",.5),C=Wi(o,"originY",.5),i=Wi(o,"add",!0),h=Wi(o,"align",i),x=Wi(o,"objectPool",void 0),f=e.scene,l=e.texture,a=e.frame,n=x4(f,l,a,t,s),d=n.getFrameNameCallback,c=e.scaleX,u=e.scaleY,v=e.rotation,p=e.getTopLeft(),g=p.x,m=p.y,T=[],P=n.cellWidth*c,E=n.cellHeight*u,M=0;M<s;M++)for(var w=0;w<t;w++){var R,A=d(w,M);if(x&&x.length>0?R=x.pop().setTexture(l,A):R=y(f,l,A),i&&f.add.existing(R),h){var O=g+P*w,F=m+E*M,L=O+r*P,b=F+C*E;R.setOrigin(r,C).setPosition(L,b).setScale(c,u).setRotation(v),C4(R,g,m,v)}T.push(R)}return T};const P4={gridCutImage(e,t,s,o){o===void 0&&(o={}),o.objectPool=this.imagesPool;for(var y=S4(e,t,s,o),S,r=0,C=y.length;r<C;r++)S=y[r],S.setVisible(!0),this.add(S);return this.cellImages=y,this.setChildLocalVisible(e,!1),y},gridCutCurrentImage(e,t,s){return this.gridCutImage(this.currentImage,e,t,s)},gridCutNextImage(e,t,s){return this.gridCutImage(this.nextImage,e,t,s)},getCellImages(){return this.cellImages},freeCellImages(){if(this.cellImages.length===0)return this;for(var e=this.cellImages[0].texture,t=this.cellImages,s,o,y=0,S=t.length;y<S;y++)s=t[y],this.setChildLocalAlpha(s,1).setChildLocalScale(s,1).setChildLocalVisible(s,!1),s.clearMask(),o=s.frame.name,s.setTexture(),e.remove(o);return this.imagesPool.push(...t),t.length=0,this}},ty={setFlipX(e){return this.flipX=e,this},setFlipY(e){return this.flipY=e,this},toggleFlipX(){return this.flipX=!this.flipX,this},toggleFlipY(){return this.flipY=!this.flipY,this},setFlip(e,t){return this.flipX=e,this.flipY=t,this},resetFlip(){return this.flipX=!1,this.flipY=!1,this}};var ey={};Object.assign(ey,s4,a4,g4,P4,ty);var E4=function(e,t,s,o){},M4=function(e,t,s,o){e.setChildLocalAlpha(t,1-o).setChildLocalAlpha(s,o)},w4=function(e,t,s,o){e.setChildLocalAlpha(t,1)};const tg=Phaser.Utils.Objects.IsPlainObject,ne=Phaser.Utils.Objects.GetValue,R4=Phaser.Math.Clamp;class _o extends $e{constructor(t,s,o,y,S,r){tg(s)?(r=s,s=ne(r,"x",0),o=ne(r,"y",0),y=ne(r,"key",void 0),S=ne(r,"frame",void 0)):tg(S)&&(r=S,S=void 0);var C=ne(r,"back",void 0),i=ne(r,"front",void 0);C||(C=t.add.image(s,o,y,S)),i||(i=t.add.image(s,o,y,S));var h=ne(r,"width",void 0),x=ne(r,"height",void 0),f=h!==void 0&&x!==void 0?1:0;h===void 0&&(h=i.width),x===void 0&&(x=i.height),super(t,s,o,h,x),this.type="rexTransitionImage",this._flipX=!1,this._flipY=!1,f=ne(r,"scaleMode",f),typeof f=="string"&&(f=A4[f]),this.scaleMode=f,C.setVisible(!1),this.addMultiple([C,i]),this.backImage=C,this.frontImage=i,this.images=[this.backImage,this.frontImage],this.maskGameObject=void 0,this.cellImages=[],this.imagesPool=[],this.transitionModes=void 0,this.currentTransitionMode=void 0;var l=ne(r,"onStart",void 0),a=ne(r,"onProgress",void 0),n=ne(r,"onComplete",void 0),d=ne(r,"dir",0);l===void 0&&a===void 0&&n===void 0&&(l=E4,a=M4,n=w4,d=0),this.setTransitionStartCallback(l,ne(r,"onStartScope",void 0)).setTransitionProgressCallback(a,ne(r,"onProgressScope",void 0)).setTransitionCompleteCallback(n,ne(r,"onCompleteScope",void 0)).setTransitionDirection(d).setDuration(ne(r,"duration",1e3)).setEaseFunction(ne(r,"ease","Linear"));var c=ne(r,"mask",void 0);c&&this.setMaskGameObject(c),this.setMaskEnable(!1),this.ignoreCompleteEvent=!1,ro.call(this,this.frontImage)}destroy(t){!this.scene||this.ignoreDestroy||(this.childrenMask&&(this.childrenMask.destroy(),this.childrenMask=void 0),this.backImage=void 0,this.frontImage=void 0,this.images.length=0,this.maskGameObject=void 0,this.cellImages.length=0,this.imagesPool.length=0,this.transitionModes=void 0,super.destroy(t),this.onStartCallback=void 0,this.onStartCallbackScope=void 0,this.onProgressCallback=void 0,this.onProgressCallbackScope=void 0,this.onCompleteCallback=void 0,this.onCompleteCallbackScope=void 0,this.easeValueTask=void 0)}get currentImage(){return this.dir===0?this.frontImage:this.backImage}get nextImage(){return this.dir===0?this.backImage:this.frontImage}get texture(){return this.nextImage.texture}get frame(){return this.nextImage.frame}get tint(){return this._tint}set tint(t){this._tint!==t&&(this._tint=t,this.backImage.setTint(t),this.frontImage.setTint(t))}setTint(t){return this.tint=t,this}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.backImage.setFlipX(t),this.frontImage.setFlipX(t))}setFlipX(t){return this.flipX=t,this}toggleFlipX(){return this.flipX=!this.flipX,this}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.backImage.setFlipY(t),this.frontImage.setFlipY(t))}setFlipY(t){return this.flipY=t,this}toggleFlipY(){return this.flipY=!this.flipY,this}setFlip(t,s){return this.flipX=t,this.flipY=s,this}get t(){return this._t}set t(t){if(t=R4(t,0,1),this._t!==t){this._t=t;var s=this.currentImage,o=this.nextImage;if(t===0&&(this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!0),wu.call(this,this.onStartCallback,this.onStartCallbackScope,this,s,o,t)),wu.call(this,this.onProgressCallback,this.onProgressCallbackScope,this,s,o,t),t===1){wu.call(this,this.onCompleteCallback,this.onCompleteCallbackScope,this,s,o,t);var y=o.texture.key,S=o.frame.name;this.frontImage.setTexture(y,S),this.backImage.setTexture(y,S),ro.call(this,o),this.setChildVisible(this.frontImage,!0).setChildVisible(this.backImage,!1).setMaskEnable(!1).freeCellImages()}t===1&&!this.ignoreCompleteEvent&&this.emit("complete")}}setT(t){return this.t=t,this}get isRunning(){return this.easeValueTask?this.easeValueTask.isRunning:!1}setOrigin(t,s){return super.setOrigin(t,s),this.backImage.setOrigin(t,s),this.frontImage.setOrigin(t,s),this.maskGameObject&&this.maskGameObject.setOrigin(t,s),this}setTexture(t,s){return this.frontImage.setTexture(t,s),this.backImage.setTexture(t,s).setVisible(!1),ro.call(this,this.frontImage),this}setSize(t,s){return super.setSize(t,s),this.scaleMode&&qx.call(this),this}}var wu=function(e,t,s,o,y,S){if(e){if(this.scaleMode){var r;o.biasScale>0&&(r=this.getChildLocalScaleX(o),r=r/o.biasScale,this.setChildLocalScale(o,r)),y.biasScale&&(r=this.getChildLocalScaleX(y),r=r/y.biasScale,this.setChildLocalScale(y,r))}if(t?e.call(t,s,o,y,S):e(s,o,y,S),this.scaleMode){var r;o.biasScale>0&&(r=this.getChildLocalScaleX(o),r=r*o.biasScale,this.setChildLocalScale(o,r)),y.biasScale&&(r=this.getChildLocalScaleX(y),r=r*y.biasScale,this.setChildLocalScale(y,r))}}};Object.assign(_o.prototype,ey);const A4={fit:1,FIT:1,envelop:2,ENVELOP:2};st.register("transitionImage",function(e,t,s,o,y){var S=new _o(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TransitionImage",_o);const O4="slideLeft",L4="slideRight",b4="slideUp",F4="slideDown",D4="slideAwayLeft",I4="slideAwayRight",B4="slideAwayUp",G4="slideAwayDown",N4="pushLeft",k4="pushRight",V4="pushUp",z4="pushDown",X4="zoomOut",Y4="zoomIn",W4="zoomInOut",U4="fade",H4="crossFade",$4="wipeLeft",K4="wipeRight",Z4="wipeUp",J4="wipeDown",Q4="irisOut",j4="irisIn",q4="irisInOut",_4="pieOut",tI="pieIn",eI="pieInOut",iI="blinds",sI="squares",rI="diamonds",nI="circles",aI="curtain",hI="pixellate",oI="dissolve",lI="revealLeft",uI="revealRight",dI="revealUp",fI="revealDown";var cI=function(e){e.addTransitionMode(I4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.width*y;t.setChildLocalPosition(s,S,0)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(D4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.width*-y;t.setChildLocalPosition(s,S,0)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(G4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.height*y;t.setChildLocalPosition(s,0,S)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0)}}).addTransitionMode(B4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.height*-y;t.setChildLocalPosition(s,0,S)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0)}})},vI=function(e){e.addTransitionMode(L4,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=o.width*(y-1);t.setChildLocalPosition(o,S,0)},onComplete:function(t,s,o,y){t.setChildLocalPosition(o,0,0)}}).addTransitionMode(O4,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=o.width*(1-y);t.setChildLocalPosition(o,S,0)},onComplete:function(t,s,o,y){t.setChildLocalPosition(o,0,0)}}).addTransitionMode(F4,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=o.height*(y-1);t.setChildLocalPosition(o,0,S)},onComplete:function(t,s,o,y){t.setChildLocalPosition(o,0,0)}}).addTransitionMode(b4,{ease:"Linear",dir:"in",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=o.height*(1-y);t.setChildLocalPosition(o,0,S)},onComplete:function(t,s,o,y){t.setChildLocalPosition(o,0,0)}})},pI=function(e){e.addTransitionMode(k4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.width*y;t.setChildLocalPosition(s,S,0);var S=o.width*(y-1);t.setChildLocalPosition(o,S,0)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(o,0,0)}}).addTransitionMode(N4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.width*-y;t.setChildLocalPosition(s,S,0);var S=o.width*(1-y);t.setChildLocalPosition(o,S,0)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(o,0,0)}}).addTransitionMode(z4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.height*y;t.setChildLocalPosition(s,0,S);var S=o.height*(y-1);t.setChildLocalPosition(o,0,S)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(o,0,0)}}).addTransitionMode(V4,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=s.height*-y;t.setChildLocalPosition(s,0,S);var S=o.height*(1-y);t.setChildLocalPosition(o,0,S)},onComplete:function(t,s,o,y){t.setChildLocalPosition(s,0,0),t.setChildLocalPosition(o,0,0)}})},gI=function(e){e.addTransitionMode(X4,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=1-y;t.setChildLocalScale(s,S,S)},onComplete:function(t,s,o,y){t.setChildLocalScale(s,1,1)}}).addTransitionMode(Y4,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){var S=y;t.setChildLocalScale(o,S,S)},onComplete:function(t,s,o,y){t.setChildLocalScale(o,1,1)}}).addTransitionMode(W4,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,o,y){o.tint=0},onProgress:function(t,s,o,y){var S;y<.5?(S=1-It(y),t.setChildLocalScale(s,S,S)):(s.visible&&t.setChildVisible(s,!1),S=1-It(y),t.setChildLocalScale(o,S,S))},onComplete:function(t,s,o,y){t.setChildLocalScale(s,1,1),t.setChildVisible(s,!0),s.tint=16777215,t.setChildLocalScale(o,1,1),t.setChildVisible(o,!0),o.tint=16777215}})},mI=function(e){e.addTransitionMode(U4,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,o,y){o.tint=0},onProgress:function(t,s,o,y){var S;y<.5?(y=It(y),S=Math.floor(255*(1-y)),s.tint=(S<<16)+(S<<8)+S):(s.visible&&t.setChildVisible(s,!1),y=It(y),S=Math.floor(255*(1-y)),o.tint=(S<<16)+(S<<8)+S)},onComplete:function(t,s,o,y){t.setChildVisible(s,!0),s.tint=16777215,t.setChildVisible(o,!0),o.tint=16777215}}).addTransitionMode(H4,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,o,y){},onProgress:function(t,s,o,y){t.setChildLocalAlpha(s,1-y),t.setChildLocalAlpha(o,y)},onComplete:function(t,s,o,y){t.setChildLocalAlpha(s,1)}})},xI=function(e){var t=new ki(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){var s=this.getShape("rect").fillStyle(16777215),o=1-this.value;switch(this.wipeMode){case"right":s.setSize(this.width*o,this.height).setTopLeftPosition(this.width-s.width,0);break;case"left":s.setSize(this.width*o,this.height).setTopLeftPosition(0,0);break;case"down":s.setSize(this.width,this.height*o).setTopLeftPosition(0,this.height-s.height);break;case"up":s.setSize(this.width,this.height*o).setTopLeftPosition(0,0);break}}});return t},yI=function(e){var t=xI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(K4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="right"},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode($4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="left"},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode(J4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="down"},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode(Z4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0),s.maskGameObject.wipeMode="up"},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}})},TI=function(e){var t=new ki(e,{type:"Graphics",create:[{name:"rect",type:"rectangle"}],update:function(){this.getShape("rect").fillStyle(16777215).setSize(this.width*this.value,this.height*this.value).setCenterPosition(this.centerX,this.centerY)}});return t},CI=function(e){var t=TI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(Q4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode(j4,{ease:"Linear",dir:"in",mask:t,onStart:function(s,o,y,S){s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(1-S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode(q4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){y.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},onProgress:function(s,o,y,S){var r;S<.5?(S=It(S),r=Math.floor(255*(1-S)),s.maskGameObject.setValue(1-S),o.tint=(r<<16)+(r<<8)+r):(o.visible&&s.setChildVisible(o,!1),S=It(S),r=Math.floor(255*(1-S)),s.maskGameObject.setValue(1-S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1),s.setChildVisible(o,!0),o.tint=16777215,s.setChildVisible(y,!0),y.tint=16777215}})},SI=function(e){var t=new ki(e,{type:"Graphics",create:[{name:"pie",type:"arc"}],update:function(){var s=Math.max(this.width,this.height)*2,o=90*this.value;this.getShape("pie").fillStyle(16777215).setCenterPosition(this.centerX,0).setRadius(s).setAngle(90-o,90+o).setPie()}});return t},PI=function(e){var t=SI(e.scene);e.once("destroy",function(){t.destroy()}).addTransitionMode(_4,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode(tI,{ease:"Linear",dir:"in",mask:t,onStart:function(s,o,y,S){s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(1-S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}}).addTransitionMode(eI,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){y.tint=0,s.setCurrentImageMaskEnable(!0),s.setNextImageMaskEnable(!0)},onProgress:function(s,o,y,S){var r;S<.5?(S=It(S),r=Math.floor(255*(1-S)),s.maskGameObject.setValue(1-S),o.tint=(r<<16)+(r<<8)+r):(o.visible&&s.setChildVisible(o,!1),S=It(S),r=Math.floor(255*(1-S)),s.maskGameObject.setValue(1-S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1),s.setChildVisible(o,!0),o.tint=16777215,s.setChildVisible(y,!0),y.tint=16777215}})},EI=function(e,t){var s=new ki(e,{type:"Graphics",create:{rectangle:t},update:function(){for(var o=this.getShapes(),y=this.width/t,S=0;S<t;S++)o[S].fillStyle(16777215).setSize(y*this.value,this.height).setTopLeftPosition(y*S,0)}});return s},MI=function(e){var t=EI(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(iI,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}})},wI=function(e,t,s){var o=new ki(e,{type:"Graphics",create:{rectangle:t*s},update:function(){for(var y=this.getShapes(),S=this.width/t,r=this.height/s,C=0;C<s;C++)for(var i=0;i<t;i++)y[i*s+C].fillStyle(16777215).setSize(S*this.value,r*this.value).setCenterPosition(S*(i+.5),r*(C+.5))}});return o},RI=function(e){var t=wI(e.scene,Math.ceil(e.width/40),Math.ceil(e.height/40));e.once("destroy",function(){t.destroy()}).addTransitionMode(sI,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}})},AI=function(e,t,s){var o=new ki(e,{type:"Graphics",create:{lines:t*s},update:function(){for(var y=this.getShapes(),S=this.width/(t-1),r=this.height/s,C=r*2,i=S*this.value,h=r*this.value,x=0;x<s;x++)for(var f=0;f<t;f++){var l=f*S,a=x*C+f%2*r;y[f*s+x].fillStyle(16777215).start(l+i,a).lineTo(l,a+h).lineTo(l-i,a).lineTo(l,a-h).lineTo(l+i,a).close()}}});return o},OI=function(e){var t=AI(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(rI,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}})},LI=function(e,t,s){var o=new ki(e,{type:"Graphics",create:{circle:t*s},update:function(){for(var y=this.getShapes(),S=this.width/(t-1),r=this.height/s,C=r*2,i=Math.max(S,r)*this.value,h=0;h<s;h++)for(var x=0;x<t;x++){var f=x*S,l=h*C+x%2*r;y[x*s+h].fillStyle(16777215).setCenterPosition(f,l).setRadius(i)}}});return o},bI=function(e){var t=LI(e.scene,Math.ceil(e.width/60),Math.ceil(e.height/60));e.once("destroy",function(){t.destroy()}).addTransitionMode(nI,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){s.setCurrentImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){s.maskGameObject.setValue(S)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1)}})},FI=function(e,t){var s=new ki(e,{type:"Graphics",create:{lines:t},update:function(){for(var o=this.getShapes(),y=this.width/t,S=y/2,r=0;r<t;r++){var C=y*r,i=this.height*this.value,h=C+S;o[r].fillStyle(16777215).start(C,0).horizontalLineTo(i).arc(h,i,S,180,0,!0).horizontalLineTo(-i).lineTo(C,0).close()}}});return s},DI=function(e){var t=FI(e.scene,10);e.once("destroy",function(){t.destroy()}).addTransitionMode(aI,{ease:"Linear",dir:"out",mask:t,onStart:function(s,o,y,S){y.tint=0,s.setCurrentImageMaskEnable(!0,!0),s.setNextImageMaskEnable(!0,!0)},onProgress:function(s,o,y,S){var r;S<.5?(S=It(S),r=Math.floor(255*(1-S)),s.maskGameObject.setValue(S),o.tint=(r<<16)+(r<<8)+r):(o.visible&&s.setChildVisible(o,!1),S=It(S),r=Math.floor(255*(1-S)),s.maskGameObject.setValue(S),y.tint=(r<<16)+(r<<8)+r)},onComplete:function(s,o,y,S){s.removeMaskGameObject(!1),s.setChildVisible(o,!0),o.tint=16777215,s.setChildVisible(y,!0),y.tint=16777215}})},II=function(e){e.addTransitionMode(hI,{ease:"Linear",dir:"out",mask:!0,onStart:function(t,s,o,y){t.setChildVisible(o,!1),s.effect=s.preFX.addPixelate(0),o.effect=o.preFX.addPixelate(0)},onProgress:function(t,s,o,y){if(y<.5){y=It(y);var S=Math.min(s.width,s.height)/5;s.effect.amount=Math.ceil(S*y)}else{s.visible&&t.setChildVisible(s,!1),o.visible||t.setChildVisible(o,!0),y=It(y);var S=Math.min(o.width,o.height)/5;o.effect.amount=Math.ceil(S*y)}},onComplete:function(t,s,o,y){s.preFX.remove(s.effect),delete s.effect,t.setChildVisible(s,!0),o.preFX.remove(o.effect),delete o.effect}})};const BI=`vec3 mod289(vec3 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 mod289(vec4 x) { return x - floor(x * (1.0 / 289.0)) * 289.0; }
vec4 permute(vec4 x) { return mod289(((x*34.0)+1.0)*x); }
vec4 taylorInvSqrt(vec4 r) { return 1.79284291400159 - 0.85373472095314 * r; }
vec3 fade(vec3 t) { return t*t*t*(t*(t*6.0-15.0)+10.0); }
float Perlin(vec3 P) {
    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));
    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);
    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);
    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;
    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);
    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;
    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;
    gx0 = fract(gx0); gx1 = fract(gx1);
    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));
    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));
    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);
    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);
    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),
        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),
        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),
        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);
    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));
    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));
    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;
    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;
    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),
        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),
        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),
            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);
    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);
}
float Perlin(vec2 P) { return Perlin(vec3(P, 0.0)); }
`,GI=`#ifdef GL_FRAGMENT_PRECISION_HIGH
#define highmedp highp
#else
#define highmedp mediump
#endif
precision highmedp float;
// Scene buffer
uniform sampler2D uMainSampler;
uniform sampler2D uMainSampler2;

uniform int resizeMode;
uniform float progress;
uniform float fromRatio;
uniform float toRatio;
varying vec2 outFragCoord;
// Effect parameters
uniform float noiseX;
uniform float noiseY;
uniform float noiseZ;
uniform float fromEdgeStart;
uniform float fromEdgeWidth;
uniform float toEdgeStart;
uniform float toEdgeWidth;

${BI}

vec4 getFromColor (vec2 uv) {
  return texture2D(uMainSampler, uv);
}

vec4 getToColor (vec2 uv) {
  if (resizeMode == 2) {
    //  cover
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(min(fromRatio / toRatio, 1.0), min((toRatio / fromRatio), 1.0)));
  } else if (resizeMode == 1) {
    //  contain
    return texture2D(uMainSampler2, 0.5 + (vec2(uv.x, 1.0 - uv.y) - 0.5) * vec2(max(fromRatio / toRatio, 1.0), max((toRatio / fromRatio), 1.0)));
  } else {
    //  stretch
    return texture2D(uMainSampler2, vec2(uv.x, 1.0 - uv.y));
  }
}

vec4 transition (vec2 uv) {    
  vec4 colorFront = getFromColor(uv);
  vec4 colorTo = getToColor(uv);

  float noise = (Perlin(vec3(uv.x * noiseX, uv.y * noiseY, noiseZ)) + 1.0) / 2.0
    * (1.0 - (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth))
    + (fromEdgeStart + fromEdgeWidth + toEdgeStart + toEdgeWidth) * 0.5;
  vec4 colorResult = colorFront * smoothstep(progress - (fromEdgeStart + fromEdgeWidth), progress - fromEdgeStart, noise)
    + colorTo * smoothstep((1.0 - progress) - (toEdgeStart + toEdgeWidth), (1.0 - progress) - toEdgeStart, (1.0 - noise));
  return colorResult;
}

void main () {
  vec2 uv = outFragCoord;
  gl_FragColor = transition(uv);
}
`,NI=Phaser.Renderer.WebGL.Pipelines.PostFXPipeline,ui=Phaser.Utils.Objects.GetValue,kI=Phaser.Math.Clamp;class Ru extends NI{constructor(t){super({name:"rexDissolvePostFx",game:t,renderTarget:!0,fragShader:GI}),this._progress=0,this.toFrame=null,this.targetTexture=null,this.resizeMode=1,this.toRatio=1,this.noiseX=0,this.noiseY=0,this.noiseZ=0,this.fromEdgeStart=.01,this.fromEdgeWidth=.05,this.toEdgeStart=.01,this.toEdgeWidth=.05}resetFromJSON(t){return this.setProgress(ui(t,"progress",0)),this.setTransitionTargetTexture(ui(t,"toTexture","__DEFAULT"),ui(t,"toFrame",void 0),ui(t,"resizeMode",1)),this.setNoise(ui(t,"noiseX",void 0),ui(t,"noiseY",void 0),ui(t,"noiseZ",void 0)),this.setFromEdge(ui(t,"fromEdgeStart",.01),ui(t,"fromEdgeWidth",.05)),this.setToEdge(ui(t,"toEdgeStart",.01),ui(t,"toEdgeWidth",.05)),this}onBoot(){}onPreRender(){this.set1f("progress",this.progress),this.set1i("resizeMode",this.resizeMode),this.set1f("noiseX",this.noiseX),this.set1f("noiseY",this.noiseY),this.set1f("noiseZ",this.noiseZ),this.set1f("fromEdgeStart",this.fromEdgeStart),this.set1f("fromEdgeWidth",this.fromEdgeWidth),this.set1f("toEdgeStart",this.toEdgeStart),this.set1f("toEdgeWidth",this.toEdgeWidth)}onDraw(t){this.set1f("fromRatio",t.width/t.height),this.set1f("toRatio",this.toRatio),this.set1i("uMainSampler2",1),this.bindTexture(this.targetTexture,1),this.bindAndDraw(t)}get progress(){return this._progress}set progress(t){this._progress=kI(t,0,1)}setProgress(t){return this.progress=t,this}setTransitionTargetTexture(t,s,o){t===void 0&&(t="__DEFAULT");var y=this.game.textures.getFrame(t,s);return y||(y=this.game.textures.getFrame("__DEFAULT")),this.toRatio=y.width/y.height,this.toFrame=y,this.targetTexture=y.glTexture,o!==void 0&&(this.resizeMode=o),this}setResizeMode(t){return typeof t=="string"&&(t=VI[t]),this.resizeMode=t,this}setNoise(t,s,o){return t===void 0&&(t=4+Math.random()*6),s===void 0&&(s=4+Math.random()*6),o===void 0&&(o=Math.random()*10),this.noiseX=t,this.noiseY=s,this.noiseZ=o,this}setFromEdge(t,s){return this.fromEdgeStart=t,this.fromEdgeWidth=s,this}setToEdge(t,s){return this.toEdgeStart=t,this.toEdgeWidth=s,this}}var VI={stretch:0,contain:1,cover:2},zI=function(e){G0(e.scene.game,"rexDissolvePostFx",Ru),e.addTransitionMode(oI,{ease:"Linear",dir:"out",mask:!1,onStart:function(t,s,o,y){s.effect=N0(s,Ru)},onProgress:function(t,s,o,y){s.effect.setProgress(y)},onComplete:function(t,s,o,y){k0(s,Ru),delete s.effect}})};const bh=.1,XI=0,YI=0,WI=1,UI=1,eg=0,ig=1;var HI=function(e){e.addTransitionMode(uI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,o,y){o.effect=o.preFX.addReveal(bh,XI,eg)},onProgress:function(t,s,o,y){o.effect.progress=y},onComplete:function(t,s,o,y){o.preFX.remove(o.effect),delete o.effect}}).addTransitionMode(lI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,o,y){o.effect=o.preFX.addReveal(bh,WI,eg)},onProgress:function(t,s,o,y){o.effect.progress=y},onComplete:function(t,s,o,y){o.preFX.remove(o.effect),delete o.effect}}).addTransitionMode(fI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,o,y){o.effect=o.preFX.addReveal(bh,YI,ig)},onProgress:function(t,s,o,y){o.effect.progress=y},onComplete:function(t,s,o,y){o.preFX.remove(o.effect),delete o.effect}}).addTransitionMode(dI,{ease:"Linear",dir:"in",mask:!1,onStart:function(t,s,o,y){o.effect=o.preFX.addReveal(bh,UI,ig)},onProgress:function(t,s,o,y){o.effect.progress=y},onComplete:function(t,s,o,y){o.preFX.remove(o.effect),delete o.effect}})};const sg=[cI,vI,pI,gI,mI,CI,PI,yI,MI,RI,OI,bI,DI,II,zI,HI];class iy extends _o{constructor(t,s,o,y,S,r){super(t,s,o,y,S,r);for(var C=0,i=sg.length;C<i;C++)sg[C](this)}}st.register("transitionImagePack",function(e,t,s,o,y){var S=new iy(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.TransitionImagePack",iy);var $I=function(){var e=this.image;if(!this.scaleUp&&e.width<=this.width&&e.height<=this.height)return this;var t=Gf(e,this,"FIT",!0);return e.setDisplaySize(t.width,t.height),this.resetChildScaleState(e),this},sy={scaleImage:$I};Object.assign(sy,ty);var KI=function(){var e=this.background;return e?(e.setOrigin(this.originX,this.originY),e.setPosition(this.x,this.y),Pe(e,this.displayWidth,this.displayHeight),this.resetChildScaleState(e),this):this};const rg=Phaser.Utils.Objects.IsPlainObject,Ui=Phaser.Utils.Objects.GetValue;class tl extends $e{constructor(t,s,o,y,S,r){rg(s)?(r=s,s=Ui(r,"x",0),o=Ui(r,"y",0),y=Ui(r,"key",void 0),S=Ui(r,"frame",void 0)):rg(S)&&(r=S,S=void 0);var C=Ui(r,"image");C?C.setPosition(s,o).setOrigin(.5):(C=t.add.image(s,o,y,S),y===void 0&&C.setVisible(!1)),super(t,s,o,1,1),this.type="rexImageBox";var i=Ui(r,"background");i&&this.add(i),this.background=i,this.add(C),this.image=C,this.scaleUp=Ui(r,"scaleUp",!1);var h=Ui(r,"width",C.width),x=Ui(r,"height",C.height);this.resize(h,x)}get texture(){return this.image.texture}get frame(){return this.image.frame}get flipX(){return this._flipX}set flipX(t){this._flipX!==t&&(this._flipX=t,this.image.setFlipX(t))}get flipY(){return this._flipY}set flipY(t){this._flipY!==t&&(this._flipY=t,this.image.setFlipY(t))}resize(t,s){return super.resize(t,s),KI.call(this),this.scaleImage(),this}setTexture(t,s){var o=this.image;return o.setTexture(t,s),t!==null?(this.setChildVisible(o,!0),this.scaleImage()):this.setChildVisible(o,!1),this}}Object.assign(tl.prototype,sy);st.register("imageBox",function(e,t,s,o,y){var S=new tl(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.ImageBox",tl);st.register("fullWindowRectangle",function(e,t){var s=new Of(this.scene,e,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.FullWindowRectangle",Of);st.register("fullWindowZone",function(){var e=new qd(this.scene);return this.scene.add.existing(e),e});et(window,"RexPlugins.UI.FullWindowZone",qd);st.register("cover",function(e){var t=new Lf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Cover",Lf);var Xf=function(e,t){if(this.scene.sys.scale.autoRound&&(e=Math.floor(e),t=Math.floor(t)),this.width===e&&this.height===t)return this;var s=this.node.style;return s.width=`${e}px`,s.height=`${t}px`,this.updateSize(),this};const ng={id:["id",void 0],text:["value",void 0],maxLength:["maxLength",void 0],minLength:["minLength",void 0],placeholder:["placeholder",void 0],tooltip:["title",void 0],readOnly:["readOnly",!1],spellCheck:["spellcheck",!1],autoComplete:["autocomplete","off"],autoCapitalize:["autocapitalize","off"]},ag={align:["textAlign",void 0],paddingLeft:["padding-left",void 0],paddingRight:["padding-right",void 0],paddingTop:["padding-top",void 0],paddingBottom:["padding-bottom",void 0],fontFamily:["fontFamily",void 0],fontSize:["font-size",void 0],color:["color","#ffffff"],backgroundColor:["backgroundColor","transparent"],border:["border",0],borderColor:["borderColor","transparent"],borderRadius:["border-radius",void 0],outline:["outline","none"],direction:["direction",void 0]},ZI={input:"textchange",click:"click",dblclick:"dblclick",mousedown:"pointerdown",mousemove:"pointermove",mouseup:"pointerup",touchstart:"pointerdown",touchmove:"pointermove",touchend:"pointerup",keydown:"keydown",keyup:"keyup",keypress:"keypress",compositionstart:"compositionStart",compositionend:"compositionEnd",compositionupdate:"compositionUpdate",focus:"focus",blur:"blur",select:"select"},hg=Phaser.Utils.Objects.GetValue;var ry=function(e,t,s,o){var y=hg(o,"preventDefault",!1),S=hg(o,"preTest");for(let r in s)t.addEventListener(r,function(C){(!S||S(e,r))&&e.emit(s[r],e,C),y&&C.preventDefault()})};const JI=Phaser.GameObjects.DOMElement,og=Phaser.Utils.Objects.IsPlainObject,Mi=Phaser.Utils.Objects.GetValue;class el extends JI{constructor(t,s,o,y,S,r){og(s)?(r=s,s=Mi(r,"x",0),o=Mi(r,"y",0),y=Mi(r,"width",0),S=Mi(r,"height",0)):og(y)&&(r=y,y=Mi(r,"width",0),S=Mi(r,"height",0)),r===void 0&&(r={});var C,i=Mi(r,"inputType",void 0);i===void 0&&(i=Mi(r,"type","text")),i==="textarea"?(C=document.createElement("textarea"),C.style.resize="none"):(C=document.createElement("input"),C.type=i),lo(ng,r,C);var h=Mi(r,"style",void 0);h=lo(ag,r,h);var x=C.style;for(var f in r)if(!(f in ng||f in ag)){if(f in x)h[f]=r[f];else if(f in C){if(f==="type")continue;C[f]=r[f]}}h["box-sizing"]="border-box",super(t,s,o,C,h),this.type="rexInputText",this.resize(y,S),ry(this,C,ZI),nx(C),Mi(r,"selectAll",!1)&&this.selectAll(),this._isFocused=!1,this.on("focus",function(){this._isFocused=!0},this).on("blur",function(){this._isFocused=!1},this)}get inputType(){return this.node.tagName.toLowerCase()==="textarea"?"textarea":this.node.type}get text(){return this.node.value}set text(t){this.node.value=t}setText(t){return this.text=t,this}get maxLength(){return this.node.maxLength}set maxLength(t){this.node.maxLength=t}setMaxLength(t){return this.maxLength=t,this}get minLength(){return this.node.minLength}set minLength(t){this.node.minLength=t}setMinLength(t){return this.minLength=t,this}get placeholder(){return this.node.placeholder}set placeholder(t){this.node.placeholder=t}setPlaceholder(t){return this.placeholder=t,this}selectText(t,s){return t===void 0?this.node.select():this.node.setSelectionRange(t,s),this}selectAll(){return this.selectText(),this}get selectionStart(){return this.node.selectionStart}get selectionEnd(){return this.node.selectionEnd}get selectedText(){var t=this.node;return t.value.substring(t.selectionStart,t.selectionEnd)}get cursorPosition(){return this.node.selectionStart}set cursorPosition(t){this.node.setSelectionRange(t,t)}setCursorPosition(t){return t===void 0?t=this.text.length:t<0&&(t=this.text.length+t),this.cursorPosition=t,this}get tooltip(){return this.node.title}set tooltip(t){this.node.title=t}setTooltip(t){return this.tooltip=t,this}setTextChangedCallback(t){return this.onTextChanged=t,this}get readOnly(){return this.node.readOnly}set readOnly(t){this.node.readOnly=t}setReadOnly(t){return t===void 0&&(t=!0),this.readOnly=t,this}get spellCheck(){return this.node.spellcheck}set spellCheck(t){this.node.spellcheck=t}setSpellCheck(t){return this.spellCheck=t,this}get fontColor(){return this.node.style.color}set fontColor(t){this.node.style.color=t}setFontColor(t){return this.fontColor=t,this}setStyle(t,s){return this.node.style[t]=s,this}getStyle(t){return this.node.style[t]}scrollToBottom(){return this.node.scrollTop=this.node.scrollHeight,this}setEnabled(t){return t===void 0&&(t=!0),this.node.disabled=!t,this}setBlur(){return this.node.blur(),this}setFocus(){return this.node.focus(),this}get isFocused(){return this._isFocused}}var QI={resize:Xf};Object.assign(el.prototype,QI);st.register("inputText",function(e){var t=new el(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.InputText",el);const lg=Phaser.Utils.Objects.GetValue;var jI=function(e,t){var s=document.createElement("input");s.type="file";var o=lg(t,"accept",""),y=lg(t,"multiple",!1);return s.setAttribute("accept",o),y?s.setAttribute("multiple",""):s.removeAttribute("multiple"),s},ny=function(e,t){return e===void 0&&(e=0),new Promise(function(s,o){setTimeout(function(){s(t)},e)})},ay=function({game:e,fileInput:t,closeDelay:s}){return Do(fr(e).events,"focus").then(function(){return ny(s)}).then(function(){var o={files:t.files};return Promise.resolve(o)})};const qI=Phaser.Utils.Objects.GetValue,_I=Phaser.DOM.RemoveFromDOM;var hy=function(e,t){var s=qI(t,"closeDelay",200),o=jI(e,t);return o.click(),ay({game:e,fileInput:o,closeDelay:s}).then(function(y){return _I(o),o.remove(),Promise.resolve(y)})},oy=function(e){return this.setOrigin(e.originX,e.originY),this.setPosition(e.x,e.y),this.resize(e.displayWidth,e.displayHeight),this},tB=function(e,t,s){if(s===void 0)switch(t){case"image":case"svg":s="textures";break;case"animation":s="json";break;case"tilemapTiledJSON":case"tilemapCSV":s="tilemap";break;case"glsl":s="shader";break;default:s=t;break}e=fr(e);var o;return s==="textures"?o=e.textures:o=e.cache[s],o},ly=function(e,t,s,o,y,S){if(!(y===null||y===!1))if(xi(y))y();else{var r=tB(e,s,y);r.exists(o)&&r.remove(o)}var C=e.load;if(S&&C.once(`filecomplete-${s}-${o}`,function(h,x,f){S(f)}),xi(t))t();else{var i=window.URL.createObjectURL(t);C[s](o,i)}C.start()},eB=function(e,t,s,o,y){var S=this.scene;return ly(S,e,t,s,o,y),this},iB=function(e,t,s,o){var y=this.scene;return new Promise(function(S,r){var C=function(i){S(i)};ly(y,e,t,s,o,C)})};const uy={loadFile:eB,loadFilePromise:iB},sB=Phaser.GameObjects.DOMElement,ug=Phaser.Utils.Objects.IsPlainObject,wi=Phaser.Utils.Objects.GetValue;class Aa extends sB{constructor(t,s,o,y,S,r){ug(s)?(r=s,s=wi(r,"x",0),o=wi(r,"y",0),y=wi(r,"width",0),S=wi(r,"height",0)):ug(y)&&(r=y,y=wi(r,"width",0),S=wi(r,"height",0));var C=document.createElement("input");C.type="file";var i=C.style;i.display="none";var h=document.createElement("label");h.appendChild(C);var x=wi(r,"style",void 0);super(t,s,o,h,x),this.type="rexFileChooser",this.resetFromJSON(r),this.resize(y,S);var f=this;C.onchange=function(){f.emit("change",f)},this.setCloseDelay(wi(r,"closeDelay",200)),C.onclick=function(){ay({game:t,fileInput:C,closeDelay:f.closeDelay}).then(function(){f.emit("select",f)})}}resetFromJSON(t){return this.setAccept(wi(t,"accept","")),this.setMultiple(wi(t,"multiple",!1)),this}setAccept(t){return t===void 0&&(t=""),this.fileInput.setAttribute("accept",t),this}setMultiple(t){return t===void 0&&(t=!0),t?this.fileInput.setAttribute("multiple",""):this.fileInput.removeAttribute("multiple"),this}setCloseDelay(t){return t===void 0&&(t=200),this.closeDelay=t,this}get fileInput(){return this.node.children[0]}open(){return this.fileInput.click(),this}get files(){return this.fileInput.files}setOpenEnable(t){return t===void 0&&(t=!0),this.fileInput.disabled=!t,this}}var rB={resize:Xf,syncTo:oy};Object.assign(Aa.prototype,rB,uy);st.register("fileChooser",function(e){var t=new Aa(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileChooser",Aa);const nB={setDropEnable(e){return e===void 0&&(e=!0),this.dropEnable=e,this},toggleDropEnable(){return this.dropEnable=!this.dropEnable,this}},aB={addFilter(e,t){return this.filters||(this.filters={}),this.filters[e]=t,this},addFilters(e){this.filters||(this.filters={});for(var t in e)this.filters[t]=e[t];return this}};var dy={resize:Xf,syncTo:oy};Object.assign(dy,nB,aB,uy);const hB={dragenter:"dragenter",dragleave:"dragleave",dragover:"dragover",drop:"drop"},oB=Phaser.GameObjects.DOMElement,dg=Phaser.Utils.Objects.IsPlainObject,Hi=Phaser.Utils.Objects.GetValue;class Yf extends oB{constructor(t,s,o,y,S,r){dg(s)?(r=s,s=Hi(r,"x",0),o=Hi(r,"y",0),y=Hi(r,"width",0),S=Hi(r,"height",0)):dg(y)&&(r=y,y=Hi(r,"width",0),S=Hi(r,"height",0)),r===void 0&&(r={});var C=document.createElement("div"),i=Hi(r,"style",void 0);super(t,s,o,C,i),this.type="rexFileDropZone",this.resize(y,S),this._files=[],this.setDropEnable(Hi(r,"dropEnable",!0));var h=Hi(r,"filters");h&&this.addFilters(h),ry(this,C,hB,{preventDefault:!0,preTest(x){return x.dropEnable}}),this.on("drop",function(x,f){this._files=f.dataTransfer.files;var l=this._files;if(l&&this.filters)for(var a in this.filters){for(var n=this.filters[a],d=[],c=0,u=l.length;c<u;c++){var v=l[c];n(v,l)&&d.push(v)}d.length>0&&this.emit(`drop.${a}`,d)}},this)}get files(){return this._files}}Object.assign(Yf.prototype,dy);st.register("fileDropZone",function(e){var t=new Yf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileDropZone",Yf);var lB=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,o,y,S,r,C,i=!1;if(this.childrenProportion,this.orientation===0)for(var h=!0,x=0,f=s.length;x<f;x++)o=s[x],o.hasOwnProperty("rexSizer")&&(y=o.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(C=this.getChildWidth(o),y.fitRatio>0&&!y.resolved&&(C=void 0),C===void 0&&(S!==0&&!this.hasProportion0Child?C=0:i=!0)):C=0,!i&&(r=o.rexSizer.padding,C+=(r.left+r.right)*this.scaleX,h?h=!1:C+=this.space.item*this.scaleX,t+=C)));else for(var x=0,f=s.length;x<f;x++)o=s[x],o.hasOwnProperty("rexSizer")&&(y=o.rexSizer,!y.hidden&&(C=this.getChildWidth(o),C===void 0&&(i=!0),!i&&(r=y.padding,C+=(r.left+r.right)*this.scaleX,t=Math.max(C,t))));if(!i)return t+(this.space.left+this.space.right)*this.scaleX},uB=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s=this.sizerChildren,o,y,S,r,C,i=!1;if(this.childrenProportion,this.orientation===0)for(var h=0,x=s.length;h<x;h++)o=s[h],o.hasOwnProperty("rexSizer")&&(y=o.rexSizer,!y.hidden&&(C=this.getChildHeight(o),C===void 0&&(i=!0),!i&&(r=y.padding,C+=(r.top+r.bottom)*this.scaleY,t=Math.max(C,t))));else for(var f=!0,h=0,x=s.length;h<x;h++)o=s[h],o.hasOwnProperty("rexSizer")&&(y=o.rexSizer,!y.hidden&&(S=y.proportion,S===0||e?(C=this.getChildHeight(o),y.fitRatio>0&&!y.resolved&&(C=void 0),C===void 0&&(S!==0&&!this.hasProportion0Child?C=0:i=!0)):C=0,!i&&(r=y.padding,C+=(r.top+r.bottom)*this.scaleY,f?f=!1:C+=this.space.item*this.scaleY,t+=C)));if(!i)return t+(this.space.top+this.space.bottom)*this.scaleY},dB=function(e,t){t===void 0&&(t=this.width*this.scaleX);var s,o=e.rexSizer;if(this.orientation===0)o.proportion>0&&this.proportionLength>0&&(s=o.proportion*this.proportionLength);else if(o.expand){var y=this.space,S=t-(y.left+y.right)*this.scaleX,r=o.padding;s=S-(r.left+r.right)*this.scaleX}return s},fB=function(e,t){t===void 0&&(t=this.height);var s,o=e.rexSizer;if(this.orientation===0){if(o.expand){var y=this.space,S=t-(y.top+y.bottom)*this.scaleY,r=o.padding;s=S-(r.top+r.bottom)*this.scaleY}}else o.proportion>0&&this.proportionLength>0&&(s=o.proportion*this.proportionLength);return s},cB=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,o=0,y=t.length;o<y;o++)s=t[o],s.isRexSizer&&e.push(s);return e},vB=function(){this.hasRatioFitChild=!1;for(var e,t,s=this.sizerChildren,o=0,y=s.length;o<y;o++)e=s[o],t=e.rexSizer,!t.hidden&&t.fitRatio>0&&(Pe(e,0,0),t.resolved=!1,this.hasRatioFitChild=!0);return this._childrenProportion=void 0,this.hasProportion0Child=!1,this.proportionLength=void 0,Ea.call(this),this};const pB=Phaser.Math.Wrap;var gB=function(){for(var e=this.sizerChildren,t,s,o,y=this.innerLeft,S=this.innerTop,r=this.innerWidth,C=this.innerHeight,i=y,h=S,x,f,l,a,n,d,c,u,v,p=this.startChildIndex,g=0,m=e.length;g<m;g++)p===0?v=g:v=pB(g+p,0,m),this.rtl&&(v=m-v-1),t=e[v],!t.rexSizer.hidden&&(s=t.rexSizer,o=s.padding,Ma.call(this,t),t.isRexSpace?(c=0,u=0):(c=this.getExpandedChildWidth(t),u=this.getExpandedChildHeight(t)),t.isRexSizer?(t.runLayout(this,c,u),Nf(t,this)):Pe(t,c,u),c===void 0&&(c=Rt(t)),u===void 0&&(u=At(t)),this.orientation===0?(x=i+o.left*this.scaleX,s.proportion===0||this.proportionLength===0?l=c:l=s.proportion*this.proportionLength,f=h+o.top*this.scaleY,a=C-(o.top+o.bottom)*this.scaleY):(x=i+o.left*this.scaleX,l=r-(o.left+o.right)*this.scaleX,f=h+o.top*this.scaleY,s.proportion===0||this.proportionLength===0?a=u:a=s.proportion*this.proportionLength),c===void 0&&(c=Rt(t)),u===void 0&&(u=At(t)),n=(s.alignOffsetX+s.alignOffsetOriginX*c)*this.scaleX,d=(s.alignOffsetY+s.alignOffsetOriginY*u)*this.scaleY,wa.call(this,t,x,f,l,a,s.align,n,d),this.orientation===0?i+=l+(o.left+o.right)*this.scaleX+this.space.item*this.scaleX:h+=a+(o.top+o.bottom)*this.scaleY+this.space.item*this.scaleY)},mB=function(t){var t=yf.call(this,t);if(t!==void 0&&this.orientation===0&&this.proportionLength===void 0){var s=t-this.childrenWidth;s>0?(s=t-this.getChildrenWidth(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},xB=function(t){var t=Sf.call(this,t);if(t!==void 0&&this.orientation===1&&this.proportionLength===void 0){var s=t-this.childrenHeight;s>0?(s=t-this.getChildrenHeight(!1),this.proportionLength=s/this.childrenProportion):this.proportionLength=0}return t},yB=function(){return this.hasRatioFitChild&&this.orientation===1?!0:Tf.call(this)},fy=function(e,t){if(this.hasRatioFitChild){var s;this.orientation===0?s=t-(this.getInnerPadding("top")+this.getInnerPadding("bottom"))*this.scaleY:e-(this.getInnerPadding("left")+this.getInnerPadding("right"))*this.scaleX;for(var o,y,S,r,C=this.sizerChildren,i=0,h=C.length;i<h;i++){var o=C[i],y=o.rexSizer;if(!y.hidden){var x=y.fitRatio;x&&(this.orientation===0?(r=s-(this.getChildOuterPadding(o,"top")+this.getChildOuterPadding(o,"bottom"))*this.scaleY,S=r*x):(S=s-(this.getChildOuterPadding(o,"top")+this.getChildOuterPadding(o,"bottom"))*this.scaleX,r=S/x),Pe(o,S,r),o.isRexSizer&&o.setMinSize(S,r),y.resolved=!0)}}}},TB=function(e){this.wrapResult||(this.orientation===1&&fy.call(this,e,void 0),Cf.call(this,e))},CB=function(){return this.hasRatioFitChild&&this.orientation===0?!0:Pf.call(this)},SB=function(e){this.wrapResult||(this.orientation===0&&fy.call(this,void 0,e),Ef.call(this,e))};const PB=Phaser.GameObjects.Zone;class Wf extends PB{constructor(t){super(t,0,0,1,1),this.isRexSpace=!0}}var EB=function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var o=-1,y=1/0,S=0,r=s.length;S<r;S++){var C=s[S],i;this.orientation===0?i=Math.abs(C.left-e):i=Math.abs(C.top-t),y>i&&(y=i,o=S)}var C=s[s.length-1],i;return this.orientation===0?i=Math.abs(C.right-e):i=Math.abs(C.bottom-t),y>i&&(y=i,o=S+1),o};const cy=Phaser.Utils.Objects.IsPlainObject,ze=Phaser.Utils.Objects.GetValue,fg=Phaser.Display.Align.CENTER,MB={min:0,full:-1};var Au=function(e,t,s,o,y,S,r,C,i,h){var x,f,l,a;Sa.call(this,e);var n=e.isRexSpace,d=typeof t;if(t===null)return this;if(d!=="number"){if(d==="string")t=MB[t];else if(cy(t)){var c=t;t=ze(c,"proportion",void 0),s=ze(c,"align",fg),o=ze(c,"padding",0),y=ze(c,"expand",!1),S=ze(c,"key",void 0),r=ze(c,"index",void 0),e.isRexSizer||(C=ze(c,"minWidth",void 0),i=ze(c,"minHeight",void 0)),h=ze(c,"fitRatio",0),x=ze(c,"offsetX",0),f=ze(c,"offsetY",0),l=ze(c,"offsetOriginX",0),a=ze(c,"offsetOriginY",0)}}typeof s=="string"&&(s=pn[s]),t===void 0&&(t=n?1:0),s===void 0&&(s=fg),o===void 0&&(o=0),y===void 0&&(y=!1),C===void 0&&(n?C=0:e.isRexSizer||(C=e._minWidth)),i===void 0&&(n?i=0:e.isRexSizer||(i=e._minHeight)),h===void 0||h===!1?h=0:h===!0&&(h=Rt(e)/At(e)),x===void 0&&(x=0),f===void 0&&(f=0),l===void 0&&(l=0),a===void 0&&(a=0);var c=this.getSizerConfig(e);return c.proportion=t,c.align=s,c.padding=Tr(o),c.expand=y,c.fitRatio=t===0?h:0,c.alignOffsetX=x,c.alignOffsetY=f,c.alignOffsetOriginX=l,c.alignOffsetOriginY=a,r===void 0||r>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(r,0,e),e.isRexSizer||(t>0&&(this.orientation===0?e.minWidth=C===void 0?Rt(e):C:e.minHeight=i===void 0?At(e):i),y&&(this.orientation===0?e.minHeight=i:e.minWidth=C)),S!==void 0&&this.addChildrenMap(S,e),this};const wB={add:Au,addSpace(e){return this.insertSpace(void 0,e),this},insertSpace(e,t){return t===void 0&&(t=1),Au.call(this,new Wf(this.scene),{proportion:t,minWidth:0,minHeight:0,index:e}),this},insert(e,t,s,o,y,S,r,C){return cy(s)&&(s.index=e),Au.call(this,t,s,o,y,S,r,e,C),this},insertAtPosition(e,t,s,o,y,S,r,C,i){var h=EB.call(this,e,t);return h===-1&&(h=void 0),this.insert(h,s,o,y,S,r,C,i),this}},RB=Phaser.Utils.Array.Remove,AB={remove(e,t){return this.getParentSizer(e)!==this?this:(RB(this.sizerChildren,e),Pa.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Qo.call(this,e),this}},OB={getChildAlign(e){return this.getSizerConfig(e).align},setChildAlign(e,t){return typeof t=="string"&&(t=pn[t]),this.getSizerConfig(e).align=t,this}},LB={getChildProportion(e){return this.getSizerConfig(e).proportion},setChildProportion(e,t){return this.getSizerConfig(e).proportion=t,this}},bB={getChildExpand(e){return this.getSizerConfig(e).expand},setChildExpand(e,t){return this.getSizerConfig(e).expand=t,this}};var FB=function(e){e===void 0&&(e="left");var t=this.sizerChildren,s=t[0],o=s&&s.isRexSpace;e==="right"||e==="bottom"||e==="center"?o||this.insertSpace(0):o&&this.remove(s,!0);var y=t.length-1,S=t[y],r=S&&S.isRexSpace;return e==="center"?r||this.insertSpace(y+1):r&&this.remove(S,!0),this};const Uf={sortChildren(e){return this.sizerChildren.sort(e),this},sortChildrenByData(e,t){return this.sizerChildren.sort(function(s,o){var y=s.getData(e),S=o.getData(e);return t?S-y:y-S}),this},sortChildrenByProperty(e,t){return this.sizerChildren.sort(function(s,o){var y=s[e],S=o[e];return t?S-y:y-S}),this}};var vy={getChildrenWidth:lB,getChildrenHeight:uB,getExpandedChildWidth:dB,getExpandedChildHeight:fB,getChildrenSizers:cB,preLayout:vB,layoutChildren:gB,resolveWidth:mB,resolveHeight:xB,hasWidthWrap:yB,runWidthWrap:TB,hasHeightWrap:CB,runHeightWrap:SB,setChildrenAlignMode:FB};Object.assign(vy,wB,AB,OB,LB,bB,Uf);var DB=function(){for(var e=0,t=this.sizerChildren,s,o,y=0,S=t.length;y<S;y++)s=t[y],!s.rexSizer.hidden&&(o=s.rexSizer.proportion,o>0?e+=o:o===0&&(this.hasProportion0Child=!0));return e};const Ou=Phaser.Utils.Objects.IsPlainObject,je=Phaser.Utils.Objects.GetValue;class Tt extends Cr{constructor(t,s,o,y,S,r,C){Ou(s)?(C=s,s=je(C,"x",0),o=je(C,"y",0),y=je(C,"width",void 0),S=je(C,"height",void 0),r=je(C,"orientation",0)):Ou(y)?(C=y,y=je(C,"width",void 0),S=je(C,"height",void 0),r=je(C,"orientation",0)):Ou(r)&&(C=r,r=je(C,"orientation",0)),r===void 0&&(r=0),super(t,s,o,y,S,C),this.type="rexSizer",this.sizerChildren=[],this.setOrientation(r),this.setItemSpacing(je(C,"space.item",0)),this.setStartChildIndex(je(C,"startChildIndex",0)),this.setRTL(je(C,"rtl",!1)),this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=yr(t),this}setItemSpacing(t){return this.space.item=t,this}setStartChildIndex(t){return this.startChildIndex=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get childrenProportion(){return this._childrenProportion===void 0&&(this._childrenProportion=DB.call(this)),this._childrenProportion}}Object.assign(Tt.prototype,vy);var Fh=function(e,t,s){if(e){var o=t==null,y=s==null;return o&&y||(o||(e.displayWidth=t),y||(e.displayHeight=s),o&&(e.scaleX=e.scaleY),y&&(e.scaleY=e.scaleX)),e}},IB=function(e){e===void 0?e={}:typeof e=="string"&&(e={text:e});var t=e.text||"";this.setText(t);var s=this.childrenMap.icon;if(s){e.icon?this.show(s):this.hide(s);var o=e.iconSize;o&&(this.setChildDisplaySize(s,o,o),this.iconWidth!==void 0&&this.setIconSize(o)),e.icon!==!0&&this.setIconTexture(e.icon,e.iconFrame)}var y=this.childrenMap.action;if(y){e.action?this.show(y):this.hide(y);var S=e.actionSize;S&&(this.setChildDisplaySize(y,S,S),this.actionWidth!==void 0&&this.setActionSize(S)),e.action!==!0&&this.setActionTexture(e.action,e.actionFrame)}return this},BB={appendText:nm,resetDisplayContent:IB};class Hf extends Tt{get text(){var t=this.childrenMap.text;return t?t.text:""}set text(t){var s=this.childrenMap.text;s&&s.setText(t)}setText(t){return this.text=t,this}setIconTexture(t,s){var o=this.childrenMap.icon;return!o||!o.setTexture?this:(o.setTexture(t,s),this.iconWidth!==void 0&&this.iconHeight!==void 0&&(Fh(o,this.iconWidth,this.iconHeight),this.resetChildScaleState(o)),this)}setTexture(t,s){return this.setIconTexture(t,s),this}setIconSize(t,s){return s===void 0&&(s=t),this.iconWidth=t,this.iconHeight=s,this}get texture(){var t=this.childrenMap.icon;if(t)return t.texture}get frame(){var t=this.childrenMap.icon;if(t)return t.frame}setActionTexture(t,s){var o=this.childrenMap.action;return!o||!o.setTexture?this:(o.setTexture(t,s),this.actionWidth!==void 0&&this.actionHeight!==void 0&&(Fh(o,this.actionWidth,this.actionHeight),this.resetChildScaleState(o)),this)}get actionTexture(){var t=this.childrenMap.action;if(t)return t.texture}get actionFrame(){var t=this.childrenMap.action;if(t)return t.frame}setActionSize(t,s){return s===void 0&&(s=t),this.actionWidth=t,this.actionHeight=s,this}preLayout(){var t=this.childrenMap.icon;t&&this.iconWidth!==void 0&&this.iconHeight!==void 0&&Fh(t,this.iconWidth,this.iconHeight);var s=this.childrenMap.action;s&&this.actionWidth!==void 0&&this.actionHeight!==void 0&&Fh(s,this.actionWidth,this.actionHeight),super.preLayout()}postLayout(t,s,o){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,s,o),this}resize(t,s){super.resize(t,s);var o=this.childrenMap.iconMask;o&&o.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(Hf.prototype,BB);var Ti=function(e,t,s,o){var y=new xo(t,s,o);if(e&&!e.isRexSizer){var S=y.createGeometryMask();e.setMask(S),this.once("destroy",function(){e.setMask(),S.destroy()})}return this.pin(y),y};const GB=Phaser.GameObjects.Text;var $f=function(e){return e instanceof GB};const NB=Phaser.GameObjects.BitmapText;var py=function(e){return e instanceof NB};const Ee=0,Me=1,Ue=2;var Is=function(e){var t;return py(e)?t=Ue:$f(e)?t=Ee:t=Me,t},kB=function(e,t){for(var s=[],o=e.split(`
`),y=t.style,S=y.wordWrapWidth,r=y.hasOwnProperty("wrapMode")?y.wrapMode:3,C=t.context,i=0,h=o.length;i<h;i++)zB(C,o[i],S,r,s);return s},VB=function(e,t){var s;if(t===2)s=e.split("");else{s=[];for(var o=e.split(" "),y,S=0,r=o.length;S<r;S++)y=o[S],S<r-1?_n(y)?s.push(y+" "):(s.push(...y.split("")),s.push(" ")):y!==""&&(_n(y)?s.push(y):s.push(...y.split("")))}return s},zB=function(e,t,s,o,y){if(t.length<=100){var S=e.measureText(t).width;if(S<=s)return y.push(t),y}for(var r=VB(t,o),C,i,h=[],x=s,f=0,l=r.length;f<l;f++)C=r[f],i=e.measureText(C).width,x-=i,x<0&&(y.push(h.join("")),h.length=0,x=s-i),h.push(C);return h.length>0&&y.push(h.join("")),y},Ad=function(e,t){var s=Is(e);switch(s){case Ee:switch(typeof t=="string"&&(t=oo[t]||0),e.style.wrapMode=t,t){case 2:case 3:e.style.wordWrapCallback=kB;break;case 1:default:e.style.wordWrapCallback=null;break}break;case Me:typeof t=="string"&&(t=oo[t]||0),e.style.wrapMode=t;break}},XB=function(e){var t=function(s){var o=e.padding,y=s-(o.left+o.right)*e.scaleX,S=e.style;return $f(e)?(S.wordWrapWidth=y,S.maxLines=0):(S.wrapMode===0&&(S.wrapMode=1),S.wrapWidth=y,S.maxLines=0),S.fixedWidth=s,S.fixedHeight=0,e.updateText(),e.minHeight=e.height,e};return t},YB=function(e){var t=function(s){return e.setFixedSize(s,0).runWordWrap(),e.minHeight=e.height,e};return t},WB=function(e){var t=function(s){return e.setMaxWidth(s),e.minHeight=e.height,e};return t},UB=function(e){return e instanceof un},yo=function(e,t){return t===void 0&&(t=0),e._minWidth=t,e.runWidthWrap=UB(e)?YB(e):py(e)?WB(e):XB(e),e};const Lu=65535;var To=function(e,t,s){if(t==null)return e;if(t===0)return bu(e,0,s),e;var o=e.text.length;if(o===0)return bu(e,t,s),e;var y=Math.floor(t*1.5/o);s!==void 0&&y>s&&(y=Math.floor(s));for(var S={},r=vg(e,y,t,s,S),C=0;C<=Lu&&r!==0;C++){if(y+=r,y<0){y=0;break}r=vg(e,y,t,s,S)}return C===Lu&&console.warn(`FontSizeFit: Test count exceeds ${Lu}`),e.setFontSize(y),bu(e,t,s),e},cg=function(e,t,s){return s[t]===void 0&&(e.setFontSize(t),s[t]={width:e.width,height:e.height}),s[t]},vg=function(e,t,s,o,y){var S=cg(e,t,y),r=cg(e,t+1,y),C;if(o!==void 0)if(S.height<=o&&r.height>o)C=0;else{if(S.height>o)return-1;C=Math.floor(o-S.height)}var i;if(S.width<=s&&r.width>s)return 0;if(S.width>s)return-1;var i=Math.floor(s-S.width);return C===void 0?i:Math.min(i,C)},bu=function(e,t,s){var o=e.style;o&&(o.fixedWidth=t,o.parent.width=t,s!==void 0&&(o.fixedHeight=s,o.parent.height=s),o.update(!1))};const Fu=Phaser.Utils.Objects.GetValue;var Co=function(e,t){typeof t=="number"&&(t={minWidth:t});var s=Fu(t,"minWidth",0),o=Fu(t,"minHeight",0),y=Fu(t,"fitHeight",!1);return e._minWidth=s,e._minHeight=o,y?(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),e.setFontSize(1),e},e.resize=function(S,r){return To(e,S,r),e}):(e.runWidthWrap=function(S){return e.setFixedSize&&e.setFixedSize(0,0),To(e,S,void 0),e},e.resize=function(S,r){return e.width===S&&e.height===r||e.setFixedSize(S,r),e}),e};const Et=Phaser.Utils.Objects.GetValue;class ss extends Hf{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexLabel";var o=Et(s,"background",void 0),y=Et(s,"icon",void 0),S=Et(s,"iconMask",void 0),r=Et(s,"text",void 0),C=Et(s,"action",void 0),i=Et(s,"actionMask",void 0),h=Et(s,"align",void 0);if(o&&this.addBackground(o),y){var x;this.orientation===0?(r||C)&&(x={right:Et(s,"space.icon",0),top:Et(s,"space.iconTop",0),bottom:Et(s,"space.iconBottom",0),left:Et(s,"space.iconLeft",0)}):(r||C)&&(x={bottom:Et(s,"space.icon",0),left:Et(s,"space.iconLeft",0),right:Et(s,"space.iconRight",0),top:Et(s,"space.iconTop",0)});var f=Et(s,"squareFitIcon",!1)?1:0;if(this.add(y,{proportion:0,padding:x,fitRatio:f}),S&&(S=Ti.call(this,y,y,1)),!f){var l=Et(s,"iconSize",void 0);this.setIconSize(Et(s,"iconWidth",l),Et(s,"iconHeight",l))}}if(r){var a=Et(s,"wrapText",!1),n=Et(s,"adjustTextFontSize",!1);a?(a===!0&&(a="word"),Ad(r,a),s.expandTextWidth=!0,yo(r)):n&&(s.expandTextWidth=!0,s.expandTextHeight=!0,Co(r,{fitHeight:!0}));var d=Et(s,"space.text",0),c=Et(s,"expandTextWidth",!1),u=Et(s,"expandTextHeight",!1),v,x,p;this.orientation===0?(v=c?1:0,C&&(x={right:d}),p=u):(v=u?1:0,C&&(x={bottom:d}),p=c),this.add(r,{proportion:v,expand:p,padding:x})}if(C){var x;this.orientation===0?x={top:Et(s,"space.actionTop",0),bottom:Et(s,"space.actionBottom",0),right:Et(s,"space.actionRight",0)}:x={left:Et(s,"space.actionLeft",0),right:Et(s,"space.actionRight",0),bottom:Et(s,"space.actionBottom",0)};var f=Et(s,"squareFitAction",!1)?1:0;if(this.add(C,{proportion:0,padding:x,fitRatio:f}),i&&(i=Ti.call(this,C,C,1)),!f){var g=Et(s,"actionSize");this.setActionSize(Et(s,"actionWidth",g),Et(s,"actionHeight",g))}}this.setChildrenAlignMode(h),this.addChildrenMap("background",o),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("text",r),this.addChildrenMap("action",C),this.addChildrenMap("actionMask",i)}}const Ts=Phaser.Utils.Objects.GetValue;var HB=function(e,t){var s=Ts(t,"canvas"),o=Ts(s,"width",128),y=Ts(s,"height",128),S=new xr(e,0,0,o,y);e.add.existing(S);var r=Ts(s,"key"),C=Ts(s,"frame"),i=Ts(s,"fill");return i!==void 0?S.fill(i):r!==void 0&&S.loadTexture(r,C),S.setTexture=S.loadTexture.bind(S),S},$B=function(e,t){var s=new tl(e,{scaleUp:Ts(t,"scaleUpIcon",!1),background:Ts(t,"iconBackground"),image:HB(e,t)});return e.add.existing(s),s};const KB=Phaser.Utils.Objects.GetValue;var gy=function(e,t){var s=KB(t,"clickTarget",this);return typeof s=="string"&&(s=e.getElement(s)),s};const ZB=Phaser.Utils.Objects.GetValue;var JB=function(e,t){var s=gy(e,t);if(s){var o=ZB(t,"click"),y=new ts(s,o);return y.on("click",e.open,e),y}};const my={accept:"image/*",multiple:!1};var xy=function(e,t){if(t.length!==0){var s=e.childrenMap.icon,o=s.image,y=t[0];return o.loadFromFilePromise(y).then(function(){return s.scaleImage(),e.emit("select",y,e),Promise.resolve(y)})}},QB=function(e,t){var s=e.scene,o=new Aa(s,my);return s.add.existing(o),e.pin(o),o.on("change",function(){xy(e,o.files)}),o};const jB={async openPromise(){var e=this;return hy(this.scene.game,my).then(function(t){return xy(e,t.files)})},open(){return this.openPromise(),this},setClickOpenEnable(e){return e===void 0&&(e=!0),this.clickBehavior&&this.clickBehavior.setEnable(e),this.fileChooser&&this.fileChooser.setOpenEnable(e),this}};var qB=function(e){if(!e)return null;var t=e.name;return t.substr(0,t.lastIndexOf("."))},_B=function(e){var t=this.childrenMap.canvas;return t.generateTexture(e),this},yy={getFileName:qB,saveTexture:_B};Object.assign(yy,jB);const t9=Phaser.Utils.Objects.GetValue;class Kf extends ss{constructor(t,s){var o=$B(t,s);s.icon=o,super(t,s),this.type="rexImageFileInputLabel";var y=this.iconWidth,S=this.iconWidth;y!==void 0&&S!==void 0&&o.resize(y,S),this.clickTarget=gy(this,s),this.clickTarget&&(t9(s,"domButton",!0)?this.fileChooser=QB(this):this.clickBehavior=JB(this,s)),this.addChildrenMap("canvas",o.image),this.addChildrenMap("iconBackground",o.background),this.addChildrenMap("fileChooser",this.fileChooser)}postLayout(t,s,o){this.fileChooser&&(this.fileChooser.syncTo(this.clickTarget),this.resetChildState(this.fileChooser)),super.postLayout(t,s,o)}}Object.assign(Kf.prototype,yy);st.register("imageInputLabel",function(e){var t=new Kf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ImageInputLabel",Kf);let e9=class extends zt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(wt(t,s))return t[s];var o=t.parent;if(wt(o,s))return o[s]}set(t,s,o){return wt(t,s)?t[s]=o:wt(t.parent,s)&&(t.parent[s]=o),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.parent.setFrame(t)}get scale(){return this.parent.scaleX}set scale(t){this.parent.setScale(t)}};const Du=Phaser.Utils.Objects.GetValue;class i9 extends zt{constructor(t,s){super(t,s),this.style=Du(s,"style",this);var o=Du(s,"propertiesMap");this.activeStyle=Iu(s,"active",o),this.hoverStyle=Iu(s,"hover",o),this.disableStyle=Iu(s,"disable",o),this.onModifyStyle=Du(s,"onModifyStyle")}getStyle(t){return Io(this.style,t)}modifyStyle(t){for(var s in t)this.style[s]=t[s];return this.onModifyStyle&&this.onModifyStyle(this.parent,t),this}applyStyle(t){if(t){var s=this.getStyle(t);if(!ga(s,t))return this.modifyStyle(t),s}}setActiveState(t){return Bu.call(this,"active",t),this}setHoverState(t){return Bu.call(this,"hover",t),this}setDisableState(t){return Bu.call(this,"disable",t),this}}var Iu=function(e,t,s){var o=so(e,t);if(s)for(var y in o)s.hasOwnProperty(y)&&(o[s[y]]=o[y],delete o[y]);return o},Bu=function(e,t){t===void 0&&(t=!0);var s=`${e}State`,o=`${e}Style`,y=`${e}StyleSave`;this[s]!==t&&(this[s]=t,t?this[y]=this.applyStyle(this[o]):(this.applyStyle(this[y]),this[y]=void 0))};const Sr={addStyleManager(e){return this.styleManager=new i9(this,e),this},setActiveState(e){return this.styleManager.setActiveState(e),this},setHoverState(e){return this.styleManager.setHoverState(e),this},setDisableState(e){return this.styleManager.setDisableState(e),this}},s9=Phaser.GameObjects.Image,Vn=Phaser.Utils.Objects.GetValue;class Oa extends s9{constructor(t,s){s===void 0&&(s={});var o=Vn(s,"x",0),y=Vn(s,"y",0),S=Vn(s,"key",""),r=Vn(s,"frame",void 0);super(t,o,y,S,r),this.type="rexStatesImage";var C=Vn(s,"effects",!0);C&&dn(this,C),this.style=new e9(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(Oa.prototype,Sr);st.register("statesImage",function(e){var t=new Oa(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesImage",Oa);class La extends pr{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesRoundRectangleShape",s.style=this,s.propertiesMap=r9,this.addStyleManager(s),delete s.style,delete s.propertiesMap}}const r9={color:"fillColor",alpha:"fillAlpha",strokeWidth:"lineWidth"};Object.assign(La.prototype,Sr);st.register("statesRoundRectangle",function(e){var t=new La(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesRoundRectangle",La);let n9=class extends zt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(wt(t,s))return t[s];var o=t.parent;if(wt(o,s))return o[s]}set(t,s,o){return wt(t,s)?t[s]=o:wt(t.parent,s)&&(t.parent[s]=o),!0}get key(){return this.parent.texture.key}set key(t){this.key!==t&&this.parent.setTexture(t,this.frame)}get frame(){return this.parent.frame.name}set frame(t){this.frame!==t&&this.parent.setFrame(t)}};const a9=Phaser.GameObjects.NineSlice,di=Phaser.Utils.Objects.GetValue;class ba extends a9{constructor(t,s){s===void 0&&(s={});var o=di(s,"x",0),y=di(s,"y",0),S=di(s,"key",null),r=di(s,"frame",null),C=di(s,"width",0),i=di(s,"height",0),h=di(s,"leftWidth",0),x=di(s,"rightWidth",0),f=di(s,"topHeight",0),l=di(s,"bottomHeight",0);super(t,o,y,S,r,C,i,h,x,f,l),this.type="rexStatesNineSlice";var a=di(s,"effects",!0);a&&dn(this,a),this.style=new n9(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(ba.prototype,Sr);st.register("statesNineSlice",function(e){var t=new ba(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesNineSlice",ba);let h9=class extends zt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(wt(t,s))return t[s];var o=t.parent;if(wt(o,s))return o[s]}set(t,s,o){return wt(t,s)?t[s]=o:wt(t.parent,s)&&(t.parent[s]=o),!0}get key(){return this.parent.textureKey}set key(t){this.key!==t&&this.parent.setBaseTexture(t,this.baseFrameName)}get frame(){return this.parent.baseFrameName}set frame(t){this.frame!==t&&this.parent.setBaseTexture(this.parent.textureKey,t)}};const o9=Phaser.Utils.Objects.GetValue;class Fa extends Eo{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexStatesNinePatch";var o=o9(s,"effects",!0);o&&dn(this,o),this.style=new h9(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(Fa.prototype,Sr);st.register("statesNinePatch",function(e){var t=new Fa(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesNinePatch",Fa);const l9=Phaser.GameObjects.Text,Gu=Phaser.Utils.Objects.GetValue;class il extends l9{constructor(t,s){s===void 0&&(s={});var o=Gu(s,"x",0),y=Gu(s,"y",0),S=Gu(s,"text","");super(t,o,y,S,s),this.type="rexStatesText",s.style=this.style,s.onModifyStyle=function(r,C){var i=C.hasOwnProperty("fontStyle")||C.hasOwnProperty("fontSize")||C.hasOwnProperty("fontFamily");r.style.update(i)},this.addStyleManager(s),delete s.style}}Object.assign(il.prototype,Sr);st.register("statesText",function(e){var t=new il(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesText",il);class u9 extends zt{constructor(t,s){return super(t),new Proxy(this,this)}get(t,s){if(wt(t,s))return t[s];var o=t.parent;if(wt(o,s))return o[s]}set(t,s,o){return wt(t,s)?t[s]=o:wt(t.parent,s)&&(t.parent[s]=o),!0}get key(){return this.parent.texture.key}set key(t){this.parent.setTexture(t,this.frame)}get fontSize(){return this.parent.fontSize}set fontSize(t){this.parent.setFontSize(t)}get tint(){return this.parent.tintTopLeft}set tint(t){this.parent.setTint(t)}get letterSpacing(){return this.parent.letterSpacing}set letterSpacing(t){this.parent.setLetterSpacing(t)}get lineSpacing(){return this.parent.lineSpacing}set lineSpacing(t){this.parent.setLineSpacing(t)}}const d9=Phaser.GameObjects.BitmapText,js=Phaser.Utils.Objects.GetValue;class sl extends d9{constructor(t,s){s===void 0&&(s={});var o=js(s,"x",0),y=js(s,"y",0),S=js(s,"font",""),r=js(s,"fontSize",!1),C=js(s,"align",0),i=js(s,"tint");super(t,o,y,S,"",r,C),this.type="rexStatesBitmapText",i!==void 0&&this.setTint(i);var h=js(s,"effects",!0);h&&dn(this,h),this.style=new u9(this,s),s.style=this.style,this.addStyleManager(s),delete s.style}}Object.assign(sl.prototype,Sr);st.register("statesBitmapText",function(e){var t=new sl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesBitmapText",sl);class rl extends No{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("value")||(s.value=0),s.hasOwnProperty("hover.bar")||(s["hover.bar"]=!0),s.hasOwnProperty("easeDuration")||(s.easeDuration=200),s.hasOwnProperty("ease")||(s.ease="Quad"),et(s,"easeValue.duration",s.easeDuration),et(s,"easeValue.ease",s.ease),super(t,s),this.type="rexStatesBarRectangleShape",this.barState=!1,s.style=this,s.propertiesMap=f9,this.addStyleManager(s),delete s.style,delete s.propertiesMap}get bar(){return this.barState}set bar(t){t=!!t,this.barState!==t&&(this.barState=t,this.easeValueTo(this.barState?1:0))}}const f9={color:"trackColor",strokeColor:"trackStrokeColor",strokeWidth:"trackStrokeThickness"};Object.assign(rl.prototype,Sr);st.register("statesBarRectangle",function(e){var t=new rl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.StatesBarRectangle",rl);var c9=function(e){if(!window.Chart){var t=`Can not find chartjs! Load chartjs in preload stage.
scene.load.script('chartjs', 'https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.8.0/Chart.min.js');`;return console.error(t),this}return this.chart&&this.chart.destroy(),this.chart=new Chart(this.context,v9(this,e)),this},v9=function(e,t){t===void 0&&(t={}),t.options===void 0&&(t.options={});var s=t.options;s.responsive=!1,s.maintainAspectRatio=!1,s.hasOwnProperty("devicePixelRatio")||(s.devicePixelRatio=1);var o=!1;s.animation===void 0?s.animation={}:s.animation===!1&&(o=!0,s.animation={});var y=s.animation;o&&(y.duration=0);var S=y.onProgress;y.onProgress=function(C){S&&S(C),e.needRedraw()};var r=y.onComplete;return y.onComplete=function(C){r&&r(C),e.needRedraw()},t},p9=function(e){if(this.chart!==void 0)if(typeof e=="string"){for(var t=this.chart.data.datasets,s,o=0,y=t.length;o<y;o++)if(s=t[o],s.label===e)return s}else return this.chart.data.datasets[e]},g9=function(e,t){var s=this.getChartDataset(e);if(s!==void 0){if(typeof t=="string"){var o=this.chart.data.labels;if(t=o.indexOf(t),t===-1)return}return s.data[t]}},m9=function(e,t,s){if(this.chart===void 0)return this;var o=this.getChartDataset(e);if(typeof t=="string"){var y=this.chart.data.labels;if(t=y.indexOf(t),t===-1)return this}return o.data[t]=s,this},x9=function(){return this.chart===void 0?this:(this.chart.update(),this)};let Zf=class extends xr{constructor(t,s,o,y,S,r){super(t,s,o,y,S),this.type="rexChart",this.chart=void 0,r!==void 0&&this.setChart(r)}destroy(t){this.scene&&(this.chart&&(this.chart.destroy(),this.chart=void 0),super.destroy(t))}resize(t,s){if(t===this.width&&s===this.height)return this;if(super.resize(t,s),this.chart){var o=this.chart;o.height=this.canvas.height,o.width=this.canvas.width,o.aspectRatio=o.height?o.width/o.height:null,o.update()}return this}};var y9={setChart:c9,getChartDataset:p9,getChartData:g9,setChartData:m9,updateChart:x9};Object.assign(Zf.prototype,y9);st.register("chart",function(e,t,s,o,y){var S=new Zf(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.Chart",Zf);st.register("container",function(e,t,s,o,y){var S=new $e(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.Container",$e);st.register("sizer",function(e,t,s,o,y,S){var r=new Tt(this.scene,e,t,s,o,y,S);return this.scene.add.existing(r),r});et(window,"RexPlugins.UI.Sizer",Tt);var Ty=function(){return Array.prototype.reduce.call(arguments,T9,0)},T9=function(e,t){return e+t},C9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s,o=this.sizerChildren,y,S,r,C,i=!1;this.totalColumnProportions;for(var h=0;h<this.columnCount;h++){if(C=this.columnProportions[h],s=0,C===0||e){for(var x=0;x<this.rowCount;x++)y=o[x*this.columnCount+h],y&&(y.rexSizer.hidden||(r=this.getChildWidth(y),r===void 0&&(C!==0&&!this.hasColumnProportion0Child?r=0:i=!0),!i&&(S=y.rexSizer.padding,r+=(S.left+S.right)*this.scaleX,s=Math.max(s,r))));i||(t+=s)}i||e&&(this.columnWidth[h]=s)}if(!i){var f=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven),l=Ty(this.space.left,f,...this.space.column,this.space.right);return t+l*this.scaleX}},S9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t=0,s,o=this.sizerChildren,y,S,r,C,i=!1;this.totalRowProportions;for(var h=0;h<this.rowCount;h++){if(C=this.rowProportions[h],s=0,C===0||e){for(var x=0;x<this.columnCount;x++)y=o[h*this.columnCount+x],y&&(y.rexSizer.hidden||(r=this.getChildHeight(y),r===void 0&&(C!==0&&!this.hasRowProportion0Child?r=0:i=!0),!i&&(S=y.rexSizer.padding,r+=(S.top+S.bottom)*this.scaleY,s=Math.max(s,r))));i||(t+=s)}i||e&&(this.rowHeight[h]=s)}if(!i){var f=Math.max(this.space.indentTopOdd,this.space.indentTopEven),l=Ty(this.space.top,f,...this.space.row,this.space.bottom);return t+l*this.scaleY}},P9=function(e,t){var s,o=e.rexSizer;if(o.expandWidth){var y=o.padding;s=t-(y.left+y.right)*this.scaleX}return s},E9=function(e,t){var s,o=e.rexSizer;if(o.expandHeight){var y=o.padding;s=t-(y.top+y.bottom)*this.scaleY}return s},M9=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,o=0,y=t.length;o<y;o++)s=t[o],s&&s.isRexSizer&&e.push(s);return e},w9=function(){return this._totalColumnProportions=void 0,this._totalRowProportions=void 0,this.hasColumnProportion0Child=!1,this.hasRowProportion0Child=!1,this.proportionWidthLength=void 0,this.proportionHeightLength=void 0,Ea.call(this),this},R9=function(){for(var e,t,s,o=this.innerLeft,y=this.innerTop,S,r=y,C,i,h,x,f,l,a,n,d,c,u,v,p=0;p<this.rowCount;p++){c=this.getRowHeight(p),u=p%2?this.space.indentLeftEven:this.space.indentLeftOdd,S=o+u*this.scaleX;for(var g=0;g<this.columnCount;g++){if(d=this.getColumnWidth(g),e=this.getChildAt(g,p),!e||e.rexSizer.hidden){S+=d+this.space.column[g]*this.scaleX;continue}Ma.call(this,e),a=this.getExpandedChildWidth(e,d),n=this.getExpandedChildHeight(e,c),e.isRexSizer?(e.runLayout(this,a,n),Nf(e,this)):Pe(e,a,n),t=e.rexSizer,s=t.padding,C=S+s.left*this.scaleX,h=d-(s.left+s.right)*this.scaleX,v=g%2?this.space.indentTopEven:this.space.indentTopOdd,i=r+v*this.scaleY+s.top*this.scaleY,x=c-(s.top+s.bottom)*this.scaleY,a===void 0&&(a=Rt(e)),n===void 0&&(n=At(e)),f=(t.alignOffsetX+t.alignOffsetOriginX*a)*this.scaleX,l=(t.alignOffsetY+t.alignOffsetOriginY*n)*this.scaleY,wa.call(this,e,C,i,h,x,t.align,f,l),S+=d+this.space.column[g]*this.scaleX}r+=c+this.space.row[p]*this.scaleY}},A9=function(t){var t=yf.call(this,t);if(t!==void 0&&this.proportionWidthLength===void 0){var s=this.totalColumnProportions;if(s>0){var o=t-this.getChildrenWidth(!1);o>=0&&(this.proportionWidthLength=o/s)}else this.proportionWidthLength=0}return t},O9=function(t){var t=Sf.call(this,t);if(t!==void 0&&this.proportionHeightLength===void 0){var s=this.totalRowProportions;if(s>0){var o=t-this.getChildrenHeight(!1);o>=0&&(this.proportionHeightLength=o/s)}else this.proportionHeightLength=0}return t},L9=function(e){var t,s,o,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),s=this.getExpandedChildWidth(t,y),o=t.resolveWidth(s),o===void 0&&(o=s),t.resolveChildrenWidth(o))},b9=function(e){var t,s,o,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],t&&t.isRexSizer&&!t.ignoreLayout&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),s=this.getExpandedChildHeight(t,y),o=t.resolveHeight(s),o===void 0&&(o=s),t.resolveChildrenHeight(o))},F9=function(e){var t,s,o,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runWidthWrap)&&(y=this.getColumnWidth(parseInt(S)%this.columnCount),s=this.getExpandedChildWidth(t,y),t.isRexSizer&&(o=t.resolveWidth(s),o===void 0&&(o=s)),t.runWidthWrap(o));return this},D9=function(e){var t,s,o,y;for(var S in this.sizerChildren)t=this.sizerChildren[S],!(!t||t.isRexSizer&&t.ignoreLayout||!t.runHeightWrap)&&(y=this.getRowHeight(Math.floor(parseInt(S)/this.rowCount)),s=this.getExpandedChildHeight(t,y),t.isRexSizer&&(o=t.resolveHeight(s),o===void 0&&(o=s)),t.runHeightWrap(o));return this};const pg=Phaser.Utils.Objects.IsPlainObject,qe=Phaser.Utils.Objects.GetValue,gg=Phaser.Display.Align.CENTER;var mg=function(e,t,s,o,y){if(typeof e=="number"||typeof t=="number")if(e===void 0){for(var S,r=0;r<o;r++)if(S=t*o+r,!s[S])return S}else if(t===void 0){for(var S,r=0;r<y;r++)if(S=r*o+e,!s[S])return S}else{var S=t*o+e;if(!s[S])return S}else if(t===!0){for(var S,r=0;r<o;r++)for(var C=0;C<y;C++)if(S=C*o+r,!s[S])return S}else for(var r=0,i=s.length;r<i;r++)if(!s[r])return r;return null},I9=function(e,t,s,o,y,S,r){var C,i,h,x;if(Sa.call(this,e),pg(t)){var l=t;t=qe(l,"column",void 0),s=qe(l,"row",void 0),o=qe(l,"align",gg),y=qe(l,"padding",0),S=qe(l,"expand",!1),r=qe(l,"key",void 0),C=qe(l,"offsetX",0),i=qe(l,"offsetY",0),h=qe(l,"offsetOriginX",0),x=qe(l,"offsetOriginY",0)}var f=mg(t,s,this.sizerChildren,this.columnCount,this.rowCount);if(f===null){if(typeof t=="number"&&typeof s=="number")return this;s===!0||typeof s=="number"?this.addEmptyColumn():this.addEmptyRow(),f=mg(t,s,this.sizerChildren,this.columnCount,this.rowCount)}typeof o=="string"&&(o=pn[o]),o===void 0&&(o=gg),y===void 0&&(y=0),S===void 0&&(S=!0),C===void 0&&(C=0),i===void 0&&(i=0),h===void 0&&(h=0),x===void 0&&(x=0);var l=this.getSizerConfig(e);return l.align=o,l.padding=Tr(y),pg(S)?(l.expandWidth=qe(S,"width",!1),l.expandHeight=qe(S,"height",!1)):(l.expandWidth=S,l.expandHeight=S),l.alignOffsetX=C,l.alignOffsetY=i,l.alignOffsetOriginX=h,l.alignOffsetOriginY=x,this.sizerChildren[f]=e,r!==void 0&&this.addChildrenMap(r,e),this};const B9={add:I9};var nn=function(e,t,s,o){s===void 0&&(s=0),o===void 0&&(o=e.length-1);for(var y=s;y<=o;y++)e[y]=t;return e};const G9={remove(e,t){if(this.getParentSizer(e)!==this)return this;var s=this.sizerChildren.indexOf(e);return s!==-1&&(this.sizerChildren[s]=null),Pa.call(this,e,t),this},removeAt(e,t,s){var o=this.getChildAt(e,t);return o&&this.remove(o,s),this},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--){var s=this.sizerChildren[t];s&&this.remove(s,e)}return this},clear(e){return nn(this.sizerChildren,null),Qo.call(this,e),this}},N9={setColumnSpace(e){if(this.space.column||(this.space.column=[]),this.space.column.length=this.columnCount-1,typeof e=="number")this.space.column0=e,nn(this.space.column,e);else{this.space.column0=e[0];for(var t=0,s=this.columnCount-1;t<s;t++)this.space.column[t]=e[t]||0}return this},setRowSpace(e){if(this.space.row||(this.space.row=[]),this.space.row.length=this.rowCount-1,typeof e=="number")this.space.row0=e,nn(this.space.row,e);else{this.space.row0=e[t];for(var t=0,s=this.rowCount-1;t<s;t++)this.space.row[t]=e[t]||0}return this},setIndentLeft(e,t){return this.space.indentLeftOdd=e,this.space.indentLeftEven=t,this},setIndentTop(e,t){return this.space.indentTopOdd=e,this.space.indentTopEven=t,this}},xg=Phaser.Utils.Objects.GetValue;var k9=function(e,t,s,o,y){if(e===void 0&&(e=0),t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),this.columnCount=e,this.rowCount=t,this.gridCount=e*t,this.removeAll(),this.sizerChildren.length=e*t,nn(this.sizerChildren,null),this.columnProportions=[],this.columnProportions.length=e,typeof s=="number")nn(this.columnProportions,s);else for(var S=0;S<e;S++)this.columnProportions[S]=s[S]||0;if(this.rowProportions=[],this.rowProportions.length=t,typeof o=="number")nn(this.rowProportions,o);else for(var S=0;S<t;S++)this.rowProportions[S]=o[S]||0;this.columnWidth=[],this.columnWidth.length=e,this.rowHeight=[],this.rowHeight.length=t,this.setColumnSpace(xg(y,"column",0)),this.setRowSpace(xg(y,"row",0));var r=this.scene,C=this.createCellContainerCallback;if(C)for(var i=0,h=this.rowCount;i<h;i++)for(var x=0,f=this.columnCount;x<f;x++){var l={column:x,row:i},a=C(r,x,i,l);a&&this.add(a,l)}return this},Cy=function(e,t,s){t===void 0&&(t=this.rowProportions[0]||0),s===void 0&&(s=this.space.row0||0),this.rowCount+=1,this.gridCount+=this.columnCount;for(var o=[e*this.columnCount,0],y=0;y<this.columnCount;y++)o.push(null);return this.sizerChildren.splice.apply(this.sizerChildren,o),this.rowProportions.push(t),this.rowHeight.length+=1,this.space.row.splice(e,0,s),this},V9=function(e,t){return Cy.call(this,this.rowCount,e,t),this},Sy=function(e,t,s){t===void 0&&(t=this.columnProportions[0]||0),s===void 0&&(s=this.space.column0||0),this.columnCount+=1,this.gridCount+=this.rowCount;for(var o=this.rowCount-1;o>=0;o--){var y=o*this.columnCount+e;this.sizerChildren.splice(y,0,null)}return this.columnProportions.push(t),this.columnWidth.length+=1,this.space.column.splice(e,0,s),this},z9=function(e,t){return Sy.call(this,this.columnCount,e,t),this},Py={getChildrenWidth:C9,getChildrenHeight:S9,getExpandedChildWidth:P9,getExpandedChildHeight:E9,getChildrenSizers:M9,preLayout:w9,layoutChildren:R9,resolveWidth:A9,resolveHeight:O9,resolveChildrenWidth:L9,resolveChildrenHeight:b9,runWidthWrap:F9,runHeightWrap:D9,resetGrid:k9,insertEmptyRow:Cy,addEmptyRow:V9,insertEmptyColumn:Sy,addEmptyColumn:z9};Object.assign(Py,B9,G9,N9,Uf);var X9=function(){for(var e=0,t,s=0;s<this.columnCount;s++)t=this.columnProportions[s],t>0?e+=t:t===0&&(this.hasColumnProportion0Child=!0);return e},Y9=function(){for(var e=0,t,s=0;s<this.rowCount;s++)t=this.rowProportions[s],t>0?e+=t:t===0&&(this.hasRowProportion0Child=!0);return e};const Dh=Phaser.Utils.Objects.IsPlainObject,Bt=Phaser.Utils.Objects.GetValue;class Ci extends Cr{constructor(t,s,o,y,S,r,C,i,h,x){Dh(s)?(x=s,s=Bt(x,"x",0),o=Bt(x,"y",0),y=Bt(x,"width",void 0),S=Bt(x,"height",void 0),r=Bt(x,"column",x.col||0),C=Bt(x,"row",0),i=Bt(x,"columnProportions",0),h=Bt(x,"rowProportions",0)):Dh(y)?(x=y,y=Bt(x,"width",void 0),S=Bt(x,"height",void 0),r=Bt(x,"column",x.col||0),C=Bt(x,"row",0),i=Bt(x,"columnProportions",0),h=Bt(x,"rowProportions",0)):Dh(r)?(x=r,r=Bt(x,"column",x.col||0),C=Bt(x,"row",0),i=Bt(x,"columnProportions",0),h=Bt(x,"rowProportions",0)):Dh(i)&&(x=i,i=Bt(x,"columnProportions",0),h=Bt(x,"rowProportions",0)),super(t,s,o,y,S,x),this.type="rexGridSizer",this.sizerChildren=[],this.addChildrenMap("items",this.sizerChildren),this.setCreateCellContainerCallback(Bt(x,"createCellContainerCallback")),this.setIndentLeft(Bt(x,"space.indentLeftOdd",0),Bt(x,"space.indentLeftEven",0)),this.setIndentTop(Bt(x,"space.indentTopOdd",0),Bt(x,"space.indentTopEven",0)),this.resetGrid(r,C,i,h,Bt(x,"space",void 0))}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.columnProportions=void 0,this.rowProportions=void 0,this.columnWidth=void 0,this.rowHeight=void 0,this.createCellContainerCallback=void 0)}setColumnProportion(t,s){return t>=this.columnProportions.length?this:(this.columnProportions[t]=s,this)}setRowProportion(t,s){return t>=this.rowProportions.length?this:(this.rowProportions[t]=s,this)}get totalColumnProportions(){return this._totalColumnProportions===void 0&&(this._totalColumnProportions=X9.call(this)),this._totalColumnProportions}get totalRowProportions(){return this._totalRowProportions===void 0&&(this._totalRowProportions=Y9.call(this)),this._totalRowProportions}getChildAt(t,s){return this.sizerChildren[s*this.columnCount+t]}childToGridIndex(t,s){if(!t)return null;var o=this.sizerChildren.indexOf(t);return o===-1?null:(s===void 0&&(s={}),s.x=o%this.columnCount,s.y=Math.floor(o/this.columnCount),s)}getColumnWidth(t){var s=this.columnProportions[t],o=s===0?this.columnWidth[t]:s*this.proportionWidthLength;return o}getRowHeight(t){var s=this.rowProportions[t],o=s===0?this.rowHeight[t]:s*this.proportionHeightLength;return o}setCreateCellContainerCallback(t){return this.createCellContainerCallback=t,this}}Object.assign(Ci.prototype,Py);st.register("gridSizer",function(e,t,s,o,y,S,r,C,i){var h=new Ci(this.scene,e,t,s,o,y,S,r,C,i);return this.scene.add.existing(h),h});et(window,"RexPlugins.UI.GridSizer",Ci);var W9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===0?e?t=this.maxChildWidth:t=this.rexSizer.resolved?this.wrapResult.width:void 0:t=this.rexSizer.resolved?this.wrapResult.width:void 0,t!==void 0)return t+(this.space.left+this.space.right)*this.scaleX},U9=function(e){if(this.rexSizer.hidden)return 0;e===void 0&&(e=!0);var t;if(this.orientation===1?e?t=this.maxChildHeight:t=this.rexSizer.resolved?this.wrapResult.height:void 0:t=this.rexSizer.resolved?this.wrapResult.height:void 0,t!==void 0)return t+(this.space.top+this.space.bottom)*this.scaleY},H9=function(e){e===void 0&&(e=[]);for(var t=this.sizerChildren,s,o=0,y=t.length;o<y;o++)s=t[o],s!==`
`&&s.isRexSizer&&e.push(s);return e},$9=function(){return this._maxChildWidth=void 0,this._maxChildHeight=void 0,this.wrapResult=void 0,this.rexSizer.resolved=!1,Ea.call(this),this},K9=function(){for(var e=this.orientation===0,t=e?this.innerWidth:this.innerHeight,s,o,y,S=0,r,C,i=this.innerLeft,h=this.innerTop,x,f,l,a,n,d,c=this.wrapResult.lines,u,v,p,g=i,m=h,T=0,P=c.length;T<P;T++){switch(u=c[T],v=u.children,this.rtl&&v.reverse(),e?(r=T%2?this.space.indentLeftEven:this.space.indentLeftOdd,g=i+r*this.scaleX):(C=T%2?this.space.indentTopEven:this.space.indentTopOdd,m=h+C*this.scaleY),p=t-(e?u.width:u.height),this.align){case 0:break;case 1:e?g+=p:m+=p;break;case 2:e?g+=p/2:m+=p/2;break;case 3:S=Nu(t,p,this.justifyPercentage,v.length);break;case 4:S=Nu(t,p,this.justifyPercentage,v.length),S===0&&(e?g+=p:m+=p);break;case 5:S=Nu(t,p,this.justifyPercentage,v.length),S===0&&(e?g+=p/2:m+=p/2);break}for(var E=!0,M=0,w=v.length;M<w;M++)s=v[M],!s.rexSizer.hidden&&(o=s.rexSizer,y=o.padding,Ma.call(this,s),e?x=g+y.left*this.scaleX:f=m+y.top*this.scaleY,E?E=!1:e?x+=this.space.item*this.scaleX:f+=this.space.item*this.scaleY,l=Rt(s),a=At(s),e?(C=M%2?this.space.indentTopEven:this.space.indentTopOdd,f=m+C*this.scaleY+y.top*this.scaleY,g=x+l+y.right*this.scaleX+S):(r=M%2?this.space.indentLeftEven:this.space.indentLeftOdd,x=g+r*this.scaleX+y.left*this.scaleX,m=f+a+y.top*this.scaleY+S),n=(o.alignOffsetX+o.alignOffsetOriginX*l)*this.scaleX,d=(o.alignOffsetY+o.alignOffsetOriginY*a)*this.scaleY,wa.call(this,s,x,f,l,a,o.align,n,d));e?m+=u.height+this.space.line*this.scaleY:g+=u.width+this.space.line*this.scaleX}},Nu=function(e,t,s,o){return t/e<=s?t/(o-1):0},Z9=function(){return this.orientation===0?!0:Tf.call(this)},Ey=function(e){var t={lines:[],width:0,height:0},s=this.sizerChildren,o,y,S,r,C=0,i,h,x=t.lines,f=void 0,l;if(this.orientation===0){for(var a=0,n=s.length;a<n;a++){if(o=s[a],o===`
`)o=void 0,S=0,l=!0;else{if(o.rexSizer.hidden)continue;o.isRexSizer&&o.runLayout(this),S=this.getChildWidth(o),y=o.rexSizer.padding,S+=(y.left+y.right)*this.scaleX,l=C<S||f===void 0}l&&(f&&(f.width=e-(C+this.space.item*this.scaleX),t.width=Math.max(t.width,f.width),t.height+=f.height+this.space.line*this.scaleY),f={children:[],width:0,height:0},x.push(f),i=x.length%2?this.space.indentLeftOdd:this.space.indentLeftEven,C=e-i*this.scaleX),C-=S+this.space.item*this.scaleX,o&&(f.children.push(o),r=this.getChildHeight(o),y=o.rexSizer.padding,r+=(y.top+y.bottom)*this.scaleY,f.height=Math.max(f.height,r))}f&&(f.width=e-(C+this.space.item*this.scaleX),t.width=Math.max(t.width,f.width),t.height+=f.height),t.height+=Math.max(this.space.indentTopOdd,this.space.indentTopEven)*this.scaleY}else{for(var d=e,a=0,n=s.length;a<n;a++){if(o=s[a],o===`
`)o=void 0,S=0,l=!0;else{if(o.rexSizer.hidden)continue;o.isRexSizer&&o.layout(),r=this.getChildHeight(o),y=o.rexSizer.padding,r+=(y.top+y.bottom)*this.scaleY,l=C<r||f===void 0}l&&(f&&(f.height=d-(C+this.space.item*this.scaleY),t.height=Math.max(t.height,f.height),t.width+=f.width+this.space.line*this.scaleX),f={children:[],width:0,height:0},x.push(f),h=x.length%2?this.space.indentTopOdd:this.space.indentTopEven,C=d-h*this.scaleY),C-=r+this.space.item*this.scaleY,o&&(f.children.push(o),S=this.getChildWidth(o),y=o.rexSizer.padding,S+=(y.left+y.right)*this.scaleX,f.width=Math.max(f.width,S))}f&&(f.height=d-(C+this.space.item*this.scaleY),t.height=Math.max(t.height,f.height),t.width+=f.width),t.width+=Math.max(this.space.indentLeftOdd,this.space.indentLeftEven)*this.scaleX}return t},J9=function(e){if(!this.wrapResult&&this.orientation===0){var t=e-(this.space.left+this.space.right)*this.scaleX;this.wrapResult=Ey.call(this,t),this.rexSizer.resolved=!0,Cf.call(this,e)}},Q9=function(){return this.orientation===1?!0:Pf.call(this)},j9=function(e){if(!this.wrapResult&&this.orientation===1){var t=e-(this.space.top+this.space.bottom)*this.scaleY;this.wrapResult=Ey.call(this,t),this.rexSizer.resolved=!0,Ef.call(this,e)}},q9=function(e,t){},_9=function(e,t){};const yg=Phaser.Math.Distance.Between;var tG=function(e,t){var s=this.sizerChildren;if(s.length===0)return-1;for(var o=-1,y=1/0,S=0,r=s.length;S<r;S++){var C=s[S];if(!(Math.abs(C.centerY-t)>C.height/2)){var h=yg(C.left,C.centerY,e,t);y>h&&(y=h,o=S);var i=s[S+1];if(!(i&&i.y===C.y)){var h=yg(C.right,C.centerY,e,t);y>h&&(y=h,o=S+1)}}}return o};const eG=Phaser.Utils.Objects.IsPlainObject,qs=Phaser.Utils.Objects.GetValue,iG=Phaser.Display.Align.CENTER;var ku=function(e,t,s,o){if(e===`
`)return this.addNewLine(),this;var y,S,r,C;if(Sa.call(this,e),eG(t)){var i=t;t=qs(i,"padding",0),s=qs(i,"key",void 0),o=qs(i,"index",void 0),y=qs(i,"offsetX",0),S=qs(i,"offsetY",0),r=qs(i,"offsetOriginX",0),C=qs(i,"offsetOriginY",0)}t===void 0&&(t=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),C===void 0&&(C=0);var i=this.getSizerConfig(e);return i.align=iG,i.padding=Tr(t),i.alignOffsetX=y,i.alignOffsetY=S,i.alignOffsetOriginX=r,i.alignOffsetOriginY=C,o===void 0||o>=this.sizerChildren.length?this.sizerChildren.push(e):this.sizerChildren.splice(o,0,e),s!==void 0&&this.addChildrenMap(s,e),this};const sG={add(e,t,s){if(yi(e))for(var o=e,y=0,S=o.length;y<S;y++)ku.call(this,o[y],t);else ku.call(this,e,t,s);return this},addNewLine(){return this.sizerChildren.push(`
`),this},insert(e,t,s,o){return ku.call(this,t,s,o,e),this},insertAtPosition(e,t,s,o,y){var S=tG.call(this,e,t);return S===-1&&(S=void 0),this.insert(S,s,o,y),this}},rG=Phaser.Utils.Array.Remove,nG={remove(e,t){return this.getParentSizer(e)!==this?this:(rG(this.sizerChildren,e),Pa.call(this,e,t),this)},removeAll(e){for(var t=this.sizerChildren.length-1;t>=0;t--)this.remove(this.sizerChildren[t],e);return this},clear(e){return this.sizerChildren.length=0,Qo.call(this,e),this}};var My={getChildrenWidth:W9,getChildrenHeight:U9,getChildrenSizers:H9,preLayout:$9,layoutChildren:K9,hasWidthWrap:Z9,runWidthWrap:J9,hasHeightWrap:Q9,runHeightWrap:j9,getExpandedChildWidth:q9,getExpandedChildHeight:_9};Object.assign(My,sG,nG,Uf);var aG=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,o,y=!1,S=0,r=e.length;S<r;S++)s=e[S],s!==`
`&&(o=this.getChildWidth(s),o===void 0&&(y=!0),!y&&(t=Math.max(o,t)));if(!y)return t},hG=function(e){e===void 0&&(e=this.sizerChildren);for(var t=0,s,o,y=!1,S=0,r=e.length;S<r;S++)s=e[S],s!==`
`&&(o=this.getChildHeight(s),o===void 0&&(y=!0),!y&&(t=Math.max(o,t)));if(!y)return t};const Tg=Phaser.Utils.Objects.IsPlainObject,Ce=Phaser.Utils.Objects.GetValue;class Bs extends Cr{constructor(t,s,o,y,S,r){Tg(s)?(r=s,s=Ce(r,"x",0),o=Ce(r,"y",0),y=Ce(r,"width",void 0),S=Ce(r,"height",void 0)):Tg(y)&&(r=y,y=Ce(r,"width",void 0),S=Ce(r,"height",void 0)),super(t,s,o,y,S,r),this.type="rexFixWidthSizer",this.sizerChildren=[],this.runChildrenWrapFlag=!0,this.setOrientation(Ce(r,"orientation",0)),this.setItemSpacing(Ce(r,"space.item",0)),this.setLineSpacing(Ce(r,"space.line",0)),this.setIntentLeft(Ce(r,"space.indentLeftOdd",0),Ce(r,"space.indentLeftEven",0)),this.setIntentTop(Ce(r,"space.indentTopOdd",0),Ce(r,"space.indentTopEven",0)),this.setAlign(Ce(r,"align",0)),this.setJustifyPercentage(Ce(r,"justifyPercentage",.25)),this.setRTL(Ce(r,"rtl",!1)),this.wrapResult=void 0,this.addChildrenMap("items",this.sizerChildren)}setOrientation(t){return this.orientation=yr(t),this}setItemSpacing(t){return this.space.item=t,this}setLineSpacing(t){return this.space.line=t,this}setIntentLeft(t,s){return this.space.indentLeftOdd=t,this.space.indentLeftEven=s,this}setIntentTop(t,s){return this.space.indentTopOdd=t,this.space.indentTopEven=s,this}setAlign(t){return typeof t=="string"&&(t=oG[t]),this.align=t,this}setJustifyPercentage(t){return this.justifyPercentage=t,this}setRTL(t){return t===void 0&&(t=!0),this.rtl=t,this}get maxChildWidth(){return this._maxChildWidth===void 0&&(this._maxChildWidth=aG.call(this)),this._maxChildWidth}get maxChildHeight(){return this._maxChildHeight===void 0&&(this._maxChildHeight=hG.call(this)),this._maxChildHeight}}const oG={left:0,top:0,right:1,bottom:1,center:2,justify:3,"justify-left":3,"justify-top":3,"justify-right":4,"justify-bottom":4,"justify-center":5};Object.assign(Bs.prototype,My);st.register("fixWidthSizer",function(e,t,s,o,y){var S=new Bs(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.FixWidthSizer",Bs);st.register("overlapSizer",function(e,t,s,o,y){var S=new ai(this.scene,e,t,s,o,y);return this.scene.add.existing(S),S});et(window,"RexPlugins.UI.OverlapSizer",ai);st.register("space",function(){var e=new Wf(this.scene);return e});et(window,"RexPlugins.UI.Space",Wf);st.register("label",function(e){var t=new ss(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Label",ss);const Cg=["alpha","tint","flipX","flipY"];var Jf=function(e,t){if(!t)return e;for(var s=0,o=Cg.length;s<o;s++){var y=Cg[s];y in t&&y in e&&(e[y]=t[y])}if("origin"in t&&"originX"in e)e.setOrigin(t.origin);else{var S,r;"originX"in t&&"originX"in e&&(S=t.originX),"originY"in t&&"originY"in e&&(r=t.originY),S!==void 0&&r!==void 0&&e.setOrigin(S,r)}return e},he=function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("barColor")?s="bar":t.hasOwnProperty("leftWidth")?s="nineSlice":t.hasOwnProperty("key")&&(s="image"));var o;switch(s){case"bar":o=new rl(e,t);break;case"image":o=new Oa(e,t);break;case"nineSlice":t.hasOwnProperty("stretchMode")?o=new Fa(e,t):o=new ba(e,t);break;default:o=new La(e,t);break}return Jf(o,t),e.add.existing(o),o},lG=function(){switch(this.scrollMode){case 0:case 1:Vu.call(this),this.updateController(),zu.call(this),Xu.call(this);break;default:Vu.call(this,"y"),Vu.call(this,"x"),this.updateController(),zu.call(this,"y"),zu.call(this,"x"),Xu.call(this,"y"),Xu.call(this,"x");break}return this},Vu=function(e){var t,s,o,y;switch(this.scrollMode){case 0:case 1:t=this.topChildOY,s=this.bottomChildOY,o=this.childrenMap.scroller,y=this.childrenMap.slider,e=this.scrollMode===0?"Y":"X";break;default:e=e.toUpperCase(),e==="Y"?(t=this.topChildOY,s=this.bottomChildOY):(t=this.leftChildOX,s=this.rightChildOX),o=this.childrenMap[`scroller${e}`],y=this.childrenMap[`slider${e}`]}var S=e==="Y"?this.scaleY:this.scaleX;s*=S,o&&o.setBounds(t,s),y&&(y.setEnable(t!==s),y.tickLength&&y.setTick(y.tickLength,t,s))},zu=function(e){switch(this.scrollMode){case 0:case 1:var s=this.childrenMap.slider;s&&this.hideUnscrollableSlider&&this.setChildVisible(s,this.isOverflow);var y=this.childrenMap.scroller;y&&this.disableUnscrollableDrag&&y.setEnable(this.isOverflow);break;default:e=e.toUpperCase();var t=this[`isOverflow${e}`],s=this.childrenMap[`slider${e}`],o=this[`hideUnscrollableSlider${e}`];s&&o&&this.setChildVisible(s,t);var y=this.childrenMap.scroller,S=this[`disableUnscrollableDrag${e}`];y&&S&&y.setEnable(t);break}},Xu=function(e){switch(this.scrollMode){case 0:case 1:if(!this.adaptThumbSizeMode)return;var S=this.childrenMap.slider;if(!S)return;var t=Math.min(this.childVisibleHeight/this.childHeight,1),r=S.childrenMap.track,C=S.childrenMap.thumb,i=this.minThumbSize;if(this.scrollMode===0){var s=r.displayHeight*t;i!==void 0&&s<i&&(s=i),Pe(C,void 0,s)}else{var o=r.displayWidth*t;i!==void 0&&o<i&&(o=i),Pe(C,o,void 0)}Sg(S);break;default:e=e.toUpperCase();var y=this[`adaptThumb${e}SizeMode`];if(!y)return;var S=this.childrenMap[`slider${e}`];if(!S)return;var r=S.childrenMap.track,C=S.childrenMap.thumb,i=this[`minThumb${e}Size`];if(e==="Y"){var t=Math.min(this.childVisibleHeight/this.childHeight,1),s=r.displayHeight*t;i!==void 0&&s<i&&(s=i),Pe(C,void 0,s)}else{var t=Math.min(this.childVisibleWidth/this.childWidth,1),o=r.displayWidth*t;i!==void 0&&o<i&&(o=i),Pe(C,o,void 0)}Sg(S);break}},Sg=function(e){var t=e.minWidth,s=e.minHeight;e.minWidth=e.width,e.minHeight=e.height,e.layout(),e.minWidth=t,e.minHeight=s},uG=function(){switch(this.scrollMode){case 0:case 1:var e=this.childrenMap.scroller,t=this.childrenMap.slider;e&&e.setValue(this.childOY),t&&t.setValue(this.t);break;default:var s=this.childrenMap.scrollerY,o=this.childrenMap.sliderY,y=this.childrenMap.scrollerX,S=this.childrenMap.sliderX;s&&s.setValue(this.childOY),o&&o.setValue(this.t),y&&y.setValue(this.childOX),S&&S.setValue(this.s);break}};const Ih=Phaser.Math.Clamp,dG={setChildOY(e,t){return t===void 0&&(t=!1),t&&(e=Ih(e,this.bottomChildOY,this.topChildOY)),this.childOY=e,this},addChildOY(e,t){return this.setChildOY(this.childOY+e,t),this},setT(e,t){return t===void 0&&(t=!1),t&&(e=Ih(e,0,1)),this.t=e,this},addT(e,t){return this.setT(this.t+e,t),this},scrollToTop(){return this.t=0,this},scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this},setChildOX(e,t){return t===void 0&&(t=!1),t&&(e=Ih(e,this.leftChildOX,this.rightChildOX)),this.childOX=e,this},addChildOX(e,t){return this.setChildOX(this.childOX+e,t),this},setS(e,t){return t===void 0&&(t=!1),t&&(e=Ih(e,0,1)),this.s=e,this},addS(e,t){return this.setS(this.s+e,t),this},scrollToLeft(){return this.s=0,this},scrollToRight(){if(this.s=1,this.s===0)return this;do this.s=1;while(this.s!==1);return this}};var wy={resizeController:lG,updateController:uG};Object.assign(wy,dG);const Ry={v:0,vertical:0,y:0,h:1,horizontal:1,x:1,xy:2,vh:2};var Qf=function(e,t){t===void 0&&(t="scrollMode"),e.hasOwnProperty(t)||(e[t]=fG(e));var s=e[t];return typeof s=="string"&&(s=Ry[s]),s},fG=function(e){var t=!!e.sliderY||!!e.scrollerY,s=!!e.sliderX||!!e.scrollerX,o;return t&&s?o=2:t?o=0:s?o=1:o=0,o};const oe=Phaser.Utils.Objects.GetValue;var cG=function(e,t,s){var o=oe(s,"child"),y=oe(o,"gameObject",void 0);if(y){var S=oe(s,"space.child",0);e.childMargin={};var r=e.childMargin,C={};if(typeof S=="number")switch(e.scrollMode){case 0:case 1:r.top=0,r.bottom=0,r.left=0,r.right=0;break;default:r.top=S,r.bottom=S,r.left=S,r.right=S;break}else switch(e.scrollMode){case 0:r.top=oe(S,"top",0),r.bottom=oe(S,"bottom",0),C.left=oe(S,"left",0),C.right=oe(S,"right",0);break;case 1:r.top=oe(S,"left",0),r.bottom=oe(S,"right",0),C.top=oe(S,"top",0),C.bottom=oe(S,"bottom",0);break;default:r.top=oe(S,"top",0),r.bottom=oe(S,"bottom",0),r.left=oe(S,"left",0),r.right=oe(S,"right",0);break}t.add(y,{column:1,row:1,align:oe(o,"align","center"),padding:C,expand:{width:oe(o,"expandWidth",!0),height:oe(o,"expandHeight",!0)}})}e.addChildrenMap("child",y)};const Pg=Phaser.Math.Percent;var vG=function(e,t,s){var o;return e.y===t.y?o=Pg(s.x,e.x,t.x):e.x===t.x&&(o=Pg(s.y,e.y,t.y)),o},Ay=function(e,t){Yu.x=e,Yu.y=t;var s,o;this.reverseAxis?(s=this.getEndPoint(),o=this.getStartPoint()):(s=this.getStartPoint(),o=this.getEndPoint());var y=vG(s,o,Yu);return y},Yu={},pG=function(e,t,s){!this.enable||!this.inputActive||(this.value=Ay.call(this,t,s))},Wu=function(e){if(!(!this.enable||!this.inputActive)&&e.isDown){var t=Ay.call(this,e.worldX,e.worldY);this.stopEaseValue(),this.easeValueDuration===0||Math.abs(this.value-t)<.1?this.value=t:this.easeValueTo(t)}};const gG=Phaser.Utils.Objects.GetValue;var mG=function(e){this.inputActive=!1;var t=gG(e,"input",0);typeof t=="string"&&(t=xG[t]);var s=this.childrenMap.thumb;switch(t){case 0:s&&(s.setInteractive(),this.scene.input.setDraggable(s),s.on("dragstart",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("dragend",function(y){this.inputActive=!1,this.eventEmitter.emit("inputend",y)},this).on("drag",pG,this));break;case 1:this.setInteractive().on("pointerdown",function(y){this.inputActive=!0,this.eventEmitter.emit("inputstart",y)},this).on("pointerdown",Wu,this);var o=function(y){this.inputActive&&(this.inputActive=!1,this.eventEmitter.emit("inputend",y))};this.scene.input.on("pointerup",o,this).on("pointermove",Wu,this),this.once("destroy",function(){this.scene.input.on("pointerup",o,this).off("pointermove",Wu,this)},this);break}};const xG={pan:0,drag:0,click:1,none:-1};var Oy=function(e,t){t===void 0&&(t=yG);var s=this.childrenMap.thumb,o=s.x,y=s.y;return Ca(s,this.innerLeft,this.innerTop,this.innerWidth,this.innerHeight,e),t.x=s.x,t.y=s.y,s.x=o,s.y=y,t},yG={};const TG=Phaser.Display.Align.LEFT_CENTER,CG=Phaser.Display.Align.TOP_CENTER;var SG=function(e){if(e===void 0&&(e=PG),this.childrenMap.thumb){var t=this.orientation===0?TG:CG;Oy.call(this,t,e)}else this.orientation===0?(e.x=this.innerLeft+1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerTop+1);return e},PG={};const EG=Phaser.Display.Align.RIGHT_CENTER,MG=Phaser.Display.Align.BOTTOM_CENTER;var wG=function(e){if(e===void 0&&(e=RG),this.childrenMap.thumb){var t=this.orientation===0?EG:MG;Oy.call(this,t,e)}else this.orientation===0?(e.x=this.innerRight-1,e.y=this.centerY):(e.x=this.centerX,e.y=this.innerBottom-1);return e},RG={};const Eg=Phaser.Math.Linear;var AG=function(e,t,s,o){return o===void 0&&(o=OG),o.x=Eg(t.x,s.x,e),o.y=Eg(t.y,s.y,e),o},OG={},LG=function(e){var t=this.childrenMap.thumb;if(t===void 0)return this;e===void 0&&(e=this.value);var s,o;return this.reverseAxis?(s=this.getEndPoint(),o=this.getStartPoint()):(s=this.getStartPoint(),o=this.getEndPoint()),AG(e,s,o,t),t.x+=this.thumbOffsetX,t.y+=this.thumbOffsetY,this.resetChildPositionState(t),this};const bG=Phaser.Display.Align.LEFT_CENTER,FG=Phaser.Display.Align.TOP_CENTER,DG=Phaser.Display.Align.RIGHT_CENTER,IG=Phaser.Display.Align.BOTTOM_CENTER;var BG=function(e){var t=this.childrenMap.indicator;if(t===void 0)return this;e===void 0&&(e=this.value);var s=this.reverseAxis,o,y,S=this.childrenMap.thumb;if(S)if(this.orientation===0){var r=Rt(S);if(s){var C=S.x-r*S.originX;o=this.right-C}else{var C=S.x-r*S.originX,i=C+r;o=i-this.left}}else{var h=At(S);if(s){var x=S.y-h*S.originY;y=this.bottom-x}else{var x=S.y-h*S.originY,f=x+h;y=f-this.top}}else this.orientation===0?o=this.width*e:y=this.height*e;Pe(t,o,y);var l;s?l=this.orientation===0?DG:IG:l=this.orientation===0?bG:FG,Ax(t,this,l),this.resetChildPositionState(t)};const Xe=Phaser.Utils.Objects.GetValue,Bh=Phaser.Utils.Objects.IsPlainObject,GG=Phaser.Math.Clamp,NG=Phaser.Math.Snap.To;class mn extends Ds(Tt){constructor(t,s){super(t,s),this.type="rexSlider",this.bootProgressBase(s),this.reverseAxis=Xe(s,"reverseAxis",!1);var o=Xe(s,"background",void 0),y=Xe(s,"track",void 0),S=Xe(s,"indicator",void 0),r=Xe(s,"thumb",void 0);if(o&&(Bh(o)&&(o=he(t,o)),this.addBackground(o)),y&&(Bh(y)&&(y=he(t,y)),this.add(y,{proportion:1,expand:!0,minWidth:this.orientation===0?0:void 0,minHeight:this.orientation===1?0:void 0})),S&&(Bh(S)&&(S=he(t,S)),this.pin(S)),r){Bh(r)&&(r=he(t,r)),this.pin(r);var C=Xe(s,"thumbOffsetX",0),i=Xe(s,"thumbOffsetY",0);this.setThumbOffset(C,i)}this.addChildrenMap("background",o),this.addChildrenMap("track",y),this.addChildrenMap("indicator",S),this.addChildrenMap("thumb",r),this.setEnable(Xe(s,"enable",void 0));var h=Xe(s,"tick",void 0);h===void 0&&(h=Xe(s,"gap",void 0)),this.setGap(h),mG.call(this,s),this.setValue(Xe(s,"value",0),Xe(s,"min",void 0),Xe(s,"max",void 0))}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setGap(t,s,o){return t&&s!==void 0&&(t=t/(o-s)),this.gap=t,this}setTick(t,s,o){return this.setGap(t,s,o),this}get tick(){return this.gap}set tick(t){this.gap=t}setThumbOffset(t,s){return this.thumbOffsetX=t,this.thumbOffsetY=s,this}get value(){return this._value}set value(t){this.gap!==void 0&&(t=NG(t,this.gap));var s=this._value;this._value=GG(t,0,1),s!==this._value&&(this.updateThumb(this._value),this.updateIndicator(this._value),this.eventEmitter.emit("valuechange",this._value,s,this.eventEmitter))}postLayout(t,s,o){return this.updateThumb(),this.updateIndicator(),super.postLayout(t,s,o),this}}var kG={getStartPoint:SG,getEndPoint:wG,updateThumb:LG,updateIndicator:BG};Object.assign(mn.prototype,kG);const Ie=Phaser.Utils.Objects.GetValue;class jf extends Tt{constructor(t,s){super(t,s),this.type="rexScrollBar";var o=Ie(s,"background",void 0),y=Ie(s,"buttons",void 0),S=Ie(y,"top",Ie(y,"left",void 0)),r=Ie(y,"bottom",Ie(y,"right",void 0)),C,i=Ie(s,"slider",void 0);if(o&&this.addBackground(o),S){this.add(S);var h=new ln(S);h.on("intouch",function(){if(this.enable){var c=C.reverseAxis?this.scrollStep:-this.scrollStep;this.value+=c}},this)}if(i){i.orientation=this.orientation,i.eventEmitter=this,i.value=null;var x;if(this.orientation===0){var f=Ie(i,"width",void 0);x=f===void 0?1:0}else{var l=Ie(i,"height",void 0);x=l===void 0?1:0}C=new mn(t,i),t.add.existing(C),this.add(C,{proportion:x})}if(r){this.add(r);var h=new ln(r);h.on("intouch",function(){if(this.enable){var u=C.reverseAxis?-this.scrollStep:this.scrollStep;this.value+=u}},this)}var a=[S,r];this.addChildrenMap("background",o),this.addChildrenMap("slider",C),this.addChildrenMap("buttons",a);var n=Ie(s,"valuechangeCallback",null);if(n!==null){var d=Ie(s,"valuechangeCallbackScope",void 0);this.on("valuechange",n,d)}this.setEnable(Ie(s,"enable",void 0)),this.setValue(Ie(s,"value",0)),this.setScrollStep(Ie(y,"step",.01))}setScrollStep(t){return this.scrollStep=t,this}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,o),this}addValue(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,o),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,o),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}setGap(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.setGap(t,s,o),this}get gap(){if(this.childrenMap.slider)return this.childrenMap.slider.gap}set gap(t){this.childrenMap.slider&&(this.childrenMap.slider.gap=t)}setTick(t,s,o){return this.setGap(t,s,o),this}get tick(){if(this.childrenMap.slider)return this.childrenMap.slider.tick}set tick(t){this.childrenMap.slider&&(this.childrenMap.slider.tick=t)}}var VG=function(e,t){t===void 0&&(t={});var s=mi(t);t={slider:s},t.orientation=s.orientation,delete s.orientation,t.background=s.background,delete s.background,t.buttons=s.buttons,delete s.buttons,t.value=null;var o=new jf(e,t);e.add.existing(o);var y=o.childrenMap.slider;return o.addChildrenMap("track",y.childrenMap.track),o.addChildrenMap("indicator",y.childrenMap.indicator),o.addChildrenMap("thumb",y.childrenMap.thumb),o};const zG=Phaser.Math.Snap.To;Phaser.Math.Clamp;var XG=function(){this.emit("dragstart")},YG=function(){this.emit("dragend")},WG=function(){this.value+=this.dragDelta},UG=function(){var e=this.value,t=this.dragSpeed,s=this.snapStep,o=!!s;if(o){var S=e,r=t===0?0:t*t/(2*this.slidingDeceleration);if(S+=t>0?r:-r,S=zG(S,s,this.minValue),r=Math.abs(S-e),r>0){var y;t===0?(y=this.backDeceleration,t=Math.sqrt(2*y*r)):(y=t*t/(2*r),y*=.99),this._slowDown.init(e,void 0,t,y,S)}else this._slowDown.stop(),this._state.next()}else if(t===0)this._slowDown.stop(),this._state.next();else{var y=this.slidingDeceleration;this._slowDown.init(e,t>0,t,y)}},HG=function(e,t){t*=.001;var s=this._slowDown.update(t).value;this.overMax(s)?(this.value=this.maxValue,this._slowDown.stop()):this.overMin(s)?(this.value=this.minValue,this._slowDown.stop()):this.value=s},$G=function(){var e=this.value,t=this.outOfMinBound?this.minValue:this.maxValue,s=Math.abs(t-e),o=this.backDeceleration,y=Math.sqrt(2*o*s);this._slowDown.init(e,void 0,y,o,t)},KG=function(e,t){t*=.001,this.value=this._slowDown.update(t).value,this._slowDown.isMoving||this._state.next()},Mg=function(){this._slowDown.stop()};class ZG extends is{constructor(t,s){super(s),this.parent=t,this.init()}init(){this.start("IDLE")}next_IDLE(){var t,s=this.parent,o=s.dragState;return o.isDown&&(t=s.dragThreshold===0?"DRAG":"DRAGBEGIN"),t}update_IDLE(t,s){this.next()}next_DRAGBEGIN(){var t,s=this.parent,o=s.dragState;return o.isDown?t=o.pointer.getDistance()>=s.dragThreshold?"DRAG":"DRAGBEGIN":t="IDLE",t}update_DRAGBEGIN(t,s){this.next()}next_DRAG(){var t,s=this.parent,o=s.dragState;return o.isUp&&(s.outOfBounds?t="BACK":s.slidingEnable?t="SLIDE":t="IDLE"),t}update_DRAG(t,s){var o=this.parent,y=o.dragState;y.justMoved&&WG.call(o),this.next()}enter_DRAG(){XG.call(this.parent)}exit_DRAG(){YG.call(this.parent)}next_SLIDE(){var t,s=this.parent,o=s.dragState;return o.isDown?t="DRAG":s.isSliding||(t="IDLE"),t}enter_SLIDE(){UG.call(this.parent)}exit_SLIDE(){Mg.call(this.parent)}update_SLIDE(t,s){HG.call(this.parent,t,s),this.next()}next_BACK(){var t,s=this.parent,o=s.dragState;return o.isDown?t="DRAG":s.isPullBack||(t="IDLE"),t}enter_BACK(){$G.call(this.parent)}exit_BACK(){Mg.call(this.parent)}update_BACK(t,s){KG.call(this.parent,t,s),this.next()}}const zn=Phaser.Utils.Objects.GetValue,JG=Phaser.Math.Distance.Between;class QG extends zt{constructor(t,s){super(t,s),this._enable=void 0,this.rectBoundsInteractive=zn(s,"rectBoundsInteractive",!1),this.rectBoundsInteractive||t.setInteractive(zn(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.isInTouched=!1,this.holdStartTime=void 0,this.x=void 0,this.y=void 0,this.preX=void 0,this.preY=void 0,this.localX=void 0,this.localY=void 0,this.justMoved=!1,this.setEnable(zn(t,"enable",!0)),this.holdThreshold=zn(t,"holdThreshold",50),this.pointerOutReleaseEnable=zn(t,"pointerOutRelease",!0),this}boot(){var t=this.scene,s=this.parent;this.rectBoundsInteractive?(t.input.on("pointerdown",this.onPointIn,this),t.input.on("pointerup",this.onPointOut,this),t.input.on("pointermove",this.onPointerMove,this)):(s.on("pointerdown",this.onPointIn,this),s.on("pointerup",this.onPointOut,this),this.pointerOutReleaseEnable&&s.on("pointerout",this.onPointOut,this),s.on("pointermove",this.onPointerMove,this)),t.sys.events.on("preupdate",this.preupdate,this)}shutdown(t){if(!this.isShutdown){var s=this.scene;this.parent,this.rectBoundsInteractive&&(s.input.off("pointerdown",this.onPointIn,this),s.input.off("pointerup",this.onPointOut,this),s.input.off("pointermove",this.onPointerMove,this)),s.sys.events.off("preupdate",this.preupdate,this),this.pointer=void 0,super.shutdown(t)}}get enable(){return this._enable}set enable(t){this._enable!==t&&(t||(this.isInTouched=!1,this.pointer=void 0),this._enable=t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setPointerOutReleaseEnable(t){return t===void 0&&(t=!0),this.pointerOutReleaseEnable=t,this}get isDown(){return this.pointer&&this.pointer.isDown}get isUp(){return!this.isDown}get dx(){return this.x-this.preX}get dy(){return this.y-this.preY}get dt(){var t=_d(this.scene);return t}get speed(){if(this.x===this.preX&&this.y===this.preY)return 0;var t=JG(this.preX,this.preY,this.x,this.y),s=t/(this.dt*.001);return s}get speedX(){return this.dx/(this.dt*.001)}get speedY(){return this.dy/(this.dt*.001)}onPointIn(t,s,o){!this.enable||!t.isDown||this.pointer!==void 0||this.rectBoundsInteractive&&!Bi(this.parent,t)||(this.pointer=t,this.localX=s,this.localY=o)}onPointOut(t){!this.enable||this.pointer!==t||(this.pointer=void 0)}onPointerMove(t,s,o){if(!(!this.enable||!t.isDown||this.pointer!==t)){if(this.rectBoundsInteractive&&this.pointerOutReleaseEnable&&!Bi(this.parent,t)){this.onPointOut(t);return}this.localX=s,this.localY=o}}preupdate(t,s){if(this.enable){var o=this.pointer;this.justMoved=!1,o&&!this.isInTouched?(this.x=o.worldX,this.y=o.worldY,this.preX=o.worldX,this.preY=o.worldY,this.isInTouched=!0,this.holdStartTime=void 0,this.emit("touchstart",o,this.localX,this.localY)):o&&this.isInTouched?this.x===o.x&&this.y===o.y?this.holdStartTime===void 0?this.holdStartTime=t:t-this.holdStartTime>this.holdThreshold&&(this.preX=this.x,this.preY=this.y):(this.preX=this.x,this.preY=this.y,this.x=o.worldX,this.y=o.worldY,this.holdStartTime=void 0,this.justMoved=!0,this.emit("touchmove",o,this.localX,this.localY)):!o&&this.isInTouched&&(this.isInTouched=!1,this.holdStartTime=void 0,this.emit("touchend",o))}}}const Uu=Phaser.Utils.Objects.GetValue;class jG{constructor(t){this.resetFromJSON(t)}resetFromJSON(t){return this.setValue(Uu(t,"value",0)),this.setSpeed(Uu(t,"speed",0)),this.setAcceleration(Uu(t,"acceleration",0)),this}reset(){this.setValue(0),this.setSpeed(0),this.setAcceleration(0)}setValue(t){return this.value=t,this}setSpeed(t){return this.speed=t,this}setAcceleration(t){return this.acceleration=t,this}updateSpeed(t){return this.acceleration!==0&&(this.speed+=this.acceleration*t,this.speed<0&&(this.speed=0)),this}getDeltaValue(t){return this.updateSpeed(t),this.speed<=0?0:this.speed*t}update(t){return this.updateSpeed(t),this.speed>0&&(this.value+=this.getDeltaValue(t)),this}get isMoving(){return this.speed>0}}class qG{constructor(){this.value,this.dir,this.movement=new jG}init(t,s,o,y,S){return this.value=t,this.end=S,S!==void 0?this.dir=t<S:this.dir=s,o=Math.abs(o),this.movement.setSpeed(o).setAcceleration(-y),this}stop(){this.movement.reset()}update(t){var s=this.movement.getDeltaValue(t);return this.dir||(s=-s),this.end===void 0?this.value+=s:s===0?this.value=this.end:(this.value+=s,this.dir?this.value>this.end&&(this.value=this.end):this.value<this.end&&(this.value=this.end)),this}get isMoving(){return this.movement.isMoving}}const Jt=Phaser.Utils.Objects.GetValue,_G=Phaser.Math.Clamp;class t8 extends zt{constructor(t,s){super(t,s);var o=Jt(s,"enable",!0);this._state=new ZG(this,{enable:o,eventEmitter:!1});var y={rectBoundsInteractive:Jt(s,"rectBoundsInteractive",!1),inputConfig:Jt(s,"inputConfig",void 0),enable:o,pointerOutRelease:Jt(s,"pointerOutRelease",!0),eventEmitter:!1};this.dragState=new QG(t,y),this._enable=void 0,this._value=void 0,this._slowDown=new qG,this.setSnapStep(Jt(s,"snapStep",void 0));var S=Jt(s,"valuechangeCallback",null);if(S!==null){var r=Jt(s,"valuechangeCallbackScope",void 0);this.on("valuechange",S,r)}if(S=Jt(s,"overmaxCallback",null),S!==null){var r=Jt(s,"overmaxCallbackScope",void 0);this.on("overmax",S,r)}if(S=Jt(s,"overminCallback",null),S!==null){var r=Jt(s,"overminCallbackScope",void 0);this.on("overmin",S,r)}this.resetFromJSON(s),this.boot()}resetFromJSON(t){this.setOrientationMode(Jt(t,"orientation",0)),this.setDragThreshold(Jt(t,"threshold",10)),this.setSlidingDeceleration(Jt(t,"slidingDeceleration",5e3)),this.setBackDeceleration(Jt(t,"backDeceleration",2e3));var s=Jt(t,"dragRate",1);s=s*(Jt(t,"dragReverse",!1)?-1:1),this.setDragRate(s);var o=Jt(t,"bounds",void 0);return o?this.setBounds(o):this.setBounds(Jt(t,"max",0),Jt(t,"min",0)),this.setValue(Jt(t,"value",this.maxValue||0)),this.setEnable(Jt(t,"enable",!0)),this}boot(){this.scene.sys.events.on("preupdate",this._state.update,this._state)}shutdown(t){this.isShutdown||(this.scene.sys.events.off("preupdate",this._state.update,this._state),this._state.destroy(t),this.dragState.destroy(t),this._state=void 0,this.dragState=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return this._enable=t,this._state.setEnable(t),this.dragState.setEnable(t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setOrientationMode(t){return typeof t=="string"&&(t=e8[t]),this.orientationMode=t,this}setDragThreshold(t){return this.dragThreshold=t,this}setSlidingDeceleration(t){return this.slidingDeceleration=t,this}setBackDeceleration(t){return this.backDeceleration=t,this}setDragRate(t){return this.dragRate=t,this}setBounds(t,s){if(Array.isArray(t)){var o=t;t=o[0],s=o[1]}return t<s?(this.minValue=t,this.maxValue=s):(this.minValue=s,this.maxValue=t),this}setSnapStep(t){return this.snapStep=t,this}get value(){return this._value}set value(t){if(t!==this._value){var s=this._value,o=this.overMax(t),y=this.overMin(t);o&&this.emit("overmax",t,s),y&&this.emit("overmin",t,s),this.backEnable||(o&&(t=this.maxValue),y&&(t=this.minValue)),this._value=t,this.emit("valuechange",t,s)}}setValue(t,s){return s===void 0&&(s=!1),s&&(t=_G(t,this.minValue,this.maxValue)),this.value=t,this}addValue(t,s){return this.setValue(this.value+t,s),this}get state(){return this._state.state}get isDragging(){return this.dragState.isInTouched}get outOfMaxBound(){return this.overMax(this.value)}get outOfMinBound(){return this.overMin(this.value)}get outOfBounds(){return this.outOfMinBound||this.outOfMaxBound}overMax(t){return this.maxValue!=null&&t>this.maxValue}overMin(t){return this.minValue!=null&&t<this.minValue}get backEnable(){return typeof this.backDeceleration=="number"}get isPullBack(){return this._slowDown.isMoving}get slidingEnable(){return typeof this.slidingDeceleration=="number"}get isSliding(){return this._slowDown.isMoving}get dragDelta(){var t;return this.orientationMode===0?t=this.dragState.dy:this.orientationMode===1?t=this.dragState.dx:t=0,t*=this.dragRate,t}get dragSpeed(){var t;return this.orientationMode===0?t=this.dragState.speedY:this.orientationMode===1?t=this.dragState.speedX:t=0,t*=this.dragRate,t}}const e8={y:0,v:0,vertical:0,x:1,h:1,horizontal:1},Gh=Phaser.Utils.Objects.GetValue;class i8 extends zt{constructor(t,s){switch(super(t,s),this.parent!==this.scene?this.focusMode=Gh(s,"focus",!0):this.focusMode=!1,typeof this.focusMode=="boolean"&&(this.focusMode=this.focusMode?1:0),this.setSpeed(Gh(s,"speed",.1)),this.setEnable(Gh(s,"enable",!0)),this.focusMode){case 0:case 2:this.scene.input.on("wheel",this.onSceneScroll,this);break;default:t.setInteractive(Gh(s,"inputConfig",void 0)).on("wheel",function(o,y,S,r,C){this.tryScroll(S)},this);break}}destroy(){switch(this.focusMode){case 0:case 2:this.scene.input.off("wheel",this.onSceneScroll,this);break}}onSceneScroll(t,s,o,y,S,r){this.focusMode===2&&!Bi(this.parent,t)||this.tryScroll(y)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}setSpeed(t){return this.speed=t,this}tryScroll(t){if(this.enable)return this.scroll(t),this}scroll(t){return t*=this.speed,this.emit("scroll",t,this.parent,this),this}}const Wt=Phaser.Utils.Objects.GetValue,s8=Phaser.Math.Snap.To;var Nh=function(e,t,s,o){s=s.toUpperCase();var y=s==="Y",S=e.scrollMode===2,r=e.childrenMap.child,C,i=`snapStep${s}`;if(S)C=Wt(o,i,void 0);else{var C=Wt(o,"snapStep",void 0);C===void 0&&(C=Wt(o,i,void 0))}e[i]=C;var h,x,f=`slider${s}`;if(S||o.hasOwnProperty(f)?h=Wt(o,f,void 0):h=Wt(o,"slider",void 0),h){h===!0&&(h={}),h.orientation=y?1:0,x=VG(e.scene,h);var l,a,n,d=Wt(h,"position",0);typeof d=="string"&&(d=r8[d]);var c=Wt(o,`space.slider${s}`,void 0),u;c===void 0&&(c=Wt(o,"space.slider",void 0),c===void 0&&(S?c=0:u=Wt(o,"space.child",0)));var v;u===void 0?v=typeof c=="number":v=typeof u=="number",y?d===0?(l=2,a=1,u===void 0?n=v?{left:c}:c:n={left:Wt(u,"right",u)}):(l=0,a=1,u===void 0?n=v?{right:c}:c:n={right:Wt(u,"left",u)}):d===0?(l=1,a=2,u===void 0?n=v?{top:c}:c:n={top:Wt(u,"bottom",u)}):(l=1,a=0,u===void 0?n=v?{bottom:c}:c:n={bottom:Wt(u,"top",u)}),t.add(x,{column:l,row:a,align:"center",padding:n,expand:!0}),e[`hideUnscrollableSlider${s}`]=Wt(h,"hideUnscrollableSlider",!1),e[`disableUnscrollableDrag${s}`]=Wt(h,"disableUnscrollableDrag",!1),e[`adaptThumb${s}SizeMode`]=Wt(h,"adaptThumbSize",!1),e[`minThumb${s}Size`]=Wt(h,"minThumbSize",void 0)}else e[`hideUnscrollableSlider${s}`]=!1,e[`disableUnscrollableDrag${s}`]=!1,e[`adaptThumb${s}SizeMode`]=!1,e[`minThumb${s}Size`]=void 0;var p=Wt(o,"scrollDetectionMode");typeof p=="string"&&(p=n8[p]);var g,m,T=`scroller${s}`;S||o.hasOwnProperty(T)?g=Wt(o,T,!0):g=Wt(o,"scroller",!0),g&&r&&(g===!0&&(g={}),g.orientation=y?0:1,p!==void 0&&(g.rectBoundsInteractive=p===1),g.snapStep=C,m=new t8(r,g),r.isRexContainerLite&&r.sendChildToBack(r));var P=Wt(o,S?`mouseWheelScroller${s}`:"mouseWheelScroller",!1),E;if(P&&r&&(p!==void 0&&(P.focus=p===1?2:0),E=new i8(r,P)),e.addChildrenMap(`slider${s}`,x),e.addChildrenMap(`scroller${s}`,m),e.addChildrenMap(`mouseWheelScroller${s}`,E),(!S||y)&&(e.hideUnscrollableSlider=e[`hideUnscrollableSlider${s}`],e.disableUnscrollableDrag=e[`disableUnscrollableDrag${s}`],e.adaptThumbSizeMode=e[`adaptThumb${s}SizeMode`],e.minThumbSize=e[`minThumb${s}Size`],e.addChildrenMap("slider",x),e.addChildrenMap("scroller",m),e.addChildrenMap("mouseWheelScroller",E)),x){var M,w;S?(M=y?"t":"s",w=`scroll${s}`):(M="t",w="scroll"),x.on("valuechange",function(O){e[M]=O,e.emit(w,e)}).on("inputend",function(){var O=e[`snapStep${s}`];if(O){var F=e[y?"topChildOY":"leftChildOX"],L=e[y?"bottomChildOY":"rightChildOX"],b=e[`childO${s}`],D=s8(b,O,F),I=500*(Math.abs(D-b)/O);x.setEaseValueDuration(I).easeValueTo(D,F,L)}})}if(m){var R,w;S?(R=`childO${s}`,w=`scroll${s}`):(R="childOY",w="scroll"),m.on("valuechange",function(F){e[R]=F,e.emit(w,e)})}if(E){var A;S?A=`addChildO${s}`:A="addChildOY",E.on("scroll",function(O){var F=e[i];F&&(O=F),e[A](-O,!0)})}};const r8={right:0,left:1,bottom:0,top:1},n8={gameObject:0,rectBounds:1},kh=Phaser.Utils.Objects.GetValue;var a8=function(e,t){var s=e.scene,o=[0,1,0],y=[0,1,0],S=kh(t,"width"),r=kh(t,"height");if(!S){var C=kh(t,"child.expandWidth",!0);C||(o[1]=0)}if(!r){var i=kh(t,"child.expandHeight",!0);i||(y[1]=0)}var h=new Ci(s,{column:3,row:3,columnProportions:o,rowProportions:y});switch(cG(e,h,t),e.scrollMode){case 0:Nh(e,h,"y",t);break;case 1:Nh(e,h,"x",t);break;default:Nh(e,h,"y",t),Nh(e,h,"x",t);break}return h};const Ri=Phaser.Utils.Objects.GetValue;let Da=class extends Tt{constructor(t,s){s===void 0&&(s={});var o=Qf(s),y=o===1;s.orientation=y?0:1,super(t,s),this.type=Ri(s,"type","rexScrollable"),this.scrollMode=o;var S=Ri(s,"background",void 0);S&&this.addBackground(S);var r=Ri(s,"header",void 0);if(r){var C=Ri(s,"align.header","center"),i=Ri(s,"space.header",0),h;y?h={right:i}:h={bottom:i},this.add(r,{proportion:0,align:C,padding:h,expand:Ri(s,"expand.header",!0)})}var x=a8(this,s);x&&this.add(x,{proportion:1,align:"center",padding:0,expand:!0});var f=Ri(s,"footer",void 0);if(f){var C=Ri(s,"align.footer","center"),l=Ri(s,"space.footer",0),h;y?h={left:l}:h={top:l},this.add(f,{proportion:0,align:C,padding:h,expand:Ri(s,"expand.footer",!0)})}this.addChildrenMap("background",S),this.addChildrenMap("header",r),this.addChildrenMap("footer",f),this.runLayoutFlag=!1}postLayout(t,s,o){var y=0,S=0;return this.runLayoutFlag?(S=this.t,this.scrollMode===2&&(y=this.s)):this.runLayoutFlag=!0,this.resizeController(),this.setT(S),this.scrollMode===2&&this.setS(y),super.postLayout(t,s,o),this}set t(t){var s=this.childMargin;if(s.top!==0||s.bottom!==0){var o=this.childrenMap.child,y=o.topChildOY-o.bottomChildOY,S=y+s.top+s.bottom,r=S*t-s.top;t=y!==0?r/y:0}this.childrenMap.child.t=t,this.updateController()}get t(){var t=this.childrenMap.child.t,s=this.childMargin;if(s.top!==0||s.bottom!==0){var o=this.childrenMap.child,y=o.topChildOY-o.bottomChildOY,S=y+s.top+s.bottom,r=y*t+s.top;t=S!==0?r/S:0}return t}set s(t){var s=this.childMargin;if(s.left!==0||s.right!==0){var o=this.childrenMap.child,y=o.leftChildOX-o.rightChildOX,S=y+s.left+s.right,r=S*t-s.left;t=y!==0?r/y:0}this.childrenMap.child.s=t,this.updateController()}get s(){var t=this.childrenMap.child.s,s=this.childMargin;if(s.left!==0||s.right!==0){var o=this.childrenMap.child,y=o.leftChildOX-o.rightChildOX,S=y+s.left+s.right,r=y*t+s.left;t=S!==0?r/S:0}return t}set childOY(t){this.childrenMap.child.childOY=t,this.updateController()}get childOY(){return this.childrenMap.child.childOY}set childOX(t){this.childrenMap.child.childOX=t,this.updateController()}get childOX(){return this.childrenMap.child.childOX}get topChildOY(){return this.childrenMap.child.topChildOY+this.childMargin.top}get bottomChildOY(){return this.childrenMap.child.bottomChildOY-this.childMargin.bottom}get leftChildOX(){return this.childrenMap.child.leftChildOX+this.childMargin.left}get rightChildOX(){return this.childrenMap.child.rightChildOX-this.childMargin.right}get childVisibleHeight(){return this.childrenMap.child.childVisibleHeight}get childHeight(){return this.childrenMap.child.childHeight}get childVisibleWidth(){return this.childrenMap.child.childVisibleWidth}get childWidth(){return this.childrenMap.child.childWidth}get isOverflow(){var t=this.childrenMap.child;return t.topChildOY!==t.bottomChildOY}get isOverflowY(){return this.isOverflow}get isOverflowX(){var t=this.childrenMap.child;return t.leftChildOX!==t.rightChildOX}get sliderEnable(){var t=this.childrenMap.slider;return t?t.enable:!1}set sliderEnable(t){var s=this.childrenMap.slider;s&&s.setEnable(t)}setSliderEnable(t){return t===void 0&&(t=!0),this.sliderEnable=t,this}get sliderYEnable(){return this.sliderEnable}set sliderYEnable(t){this.sliderEnable=t}setSliderYEnable(t){return this.setSliderEnable(t),this}get sliderXEnable(){var t=this.childrenMap.sliderX;return t?t.enable:!1}set sliderXEnable(t){var s=this.childrenMap.sliderX;s&&s.setEnable(t)}setSliderXEnable(t){return t===void 0&&(t=!0),this.sliderXEnable=t,this}get scrollerEnable(){var t=this.childrenMap.scroller;return t?t.enable:!1}set scrollerEnable(t){var s=this.childrenMap.scroller;s&&s.setEnable(t)}setScrollerEnable(t){return t===void 0&&(t=!0),this.scrollerEnable=t,this}get scrollerYEnable(){return this.scrollerEnable}set scrollerYEnable(t){this.scrollerEnable=t}setScrollerYEnable(t){return this.setScrollerEnable(t),this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get scrollerXEnable(){var t=this.childrenMap.scrollerX;return t?t.enable:!1}set scrollerXEnable(t){var s=this.childrenMap.scrollerX;s&&s.setEnable(t)}setScrollerXEnable(t){return t===void 0&&(t=!0),this.scrollerXEnable=t,this}get mouseWheelScrollerEnable(){var t=this.childrenMap.mouseWheelScroller;return t?t.enable:!1}set mouseWheelScrollerEnable(t){var s=this.childrenMap.mouseWheelScroller;s&&s.setEnable(t)}setMouseWheelScrollerEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerEnable=t,this}get mouseWheelScrollerYEnable(){return this.mouseWheelScrollerEnable}set mouseWheelScrollerYEnable(t){this.mouseWheelScrollerEnable=t}setMouseWheelScrollerYEnable(t){return this.setMouseWheelScrollerEnable(t),this}get mouseWheelScrollerXEnable(){var t=this.childrenMap.mouseWheelScrollerX;return t?t.enable:!1}set mouseWheelScrollerXEnable(t){var s=this.childrenMap.mouseWheelScrollerX;s&&s.setEnable(t)}setMouseWheelScrollerXEnable(t){return t===void 0&&(t=!0),this.mouseWheelScrollerXEnable=t,this}setDropZoneEnable(t){t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setInteractive(),s.input.dropZone=t,this}};Object.assign(Da.prototype,wy);var qf=function(e,t,s){var o=Is(e);switch(o){case Ee:s=e.getWrappedText(t);break;case Me:s=e.getPenManager(t,s);break;case Ue:e.maxWidth>0?s=e.setText(t).getTextBounds().wrappedText.split(`
`):s=t.split(`
`);break}return s},h8=function(e){return e!==void 0&&(this.text=e),this.lines=qf(this.textObject,this.text,this.lines),this.linesCount=this.lines.length,this._textHeight=void 0,this._textVisibleHeight=void 0,this.updateTextObject(),this},Ly=function(e){return(e-this.textLineSpacing)/(this.textLineHeight+this.textLineSpacing)},by=function(e){return e*(this.textLineHeight+this.textLineSpacing)-this.textLineSpacing},o8=function(e){var t=e+this.visibleLinesCount+1,s;switch(this.textObjectType){case Ee:s=this.lines.slice(e,t).join(`
`);break;case Me:var o=this.lines.getLineStartIndex(e),y=this.lines.getLineEndIndex(t-1);s=this.lines.getSliceTagText(o,y,!0);break;case Ue:s=this.lines.slice(e,t).join(`
`);break}return s},nl=function(e,t){var s=Is(e);switch(s){case Ee:var S=e.style,o=S.wordWrapWidth,y=S.wordWrapCallback;S.wordWrapWidth=0,S.wordWrapCallback=void 0,e.setText(t),S.wordWrapWidth=o,S.wordWrapCallback=y;break;case Me:var S=e.style,r=S.wrapMode;S.wrapMode=0,e.setText(t),S.wrapMode=r;break;case Ue:var C=e._maxWidth;e._maxWidth=0,e.setText(t),e._maxWidth=C;break}},Fy=function(){var e=this.textObject.rexSizer;this.textObject.y+=e.offsetY-e.preOffsetY,e.preOffsetY=e.offsetY,this.resetChildPositionState(this.textObject),this.textCropEnable&&l8.call(this)},l8=function(){if(this.textObject.setCrop){var e=this.textObject.rexSizer.offsetY,t,s;e<=0?(t=-e,s=this.height):(t=0,s=this.height-e),this.textObject.setCrop(0,t,this.width,s)}},u8=function(){var e=Math.max(Math.floor(Ly.call(this,-this.textOY)),0),t=by.call(this,e)+this.textOY,s=o8.call(this,e);return nl(this.textObject,s),this.textObject.rexSizer.offsetY=t,Fy.call(this),this},d8=function(){return this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,Ea.call(this),this},f8=function(e,t,s){if(s+=this.textLineHeight+this.textLineSpacing,!(this.textObjectWidth===t&&this._textObjectRealHeight===s)){switch(this.textObjectWidth=t,this._textObjectRealHeight=s,this.textObjectType){case Ee:case Me:e.setFixedSize(t,s);var o=e.style,y=Math.max(t,0);this.textObjectType===Ee?o.wordWrapWidth=y:(o.wrapMode===0&&(o.wrapMode=1),o.wrapWidth=y);break;case Ue:e.setMaxWidth(t);break}this.setText()}},c8=function(){var e,t,s,o=this.left,y=this.top,S,r,C,i;e=this.textObject,e.rexSizer.hidden||(t=e.rexSizer,s=t.padding,S=o+s.left*this.scaleX,r=y+s.top*this.scaleY,C=this.width*this.scaleX-(s.left+s.right)*this.scaleX,i=this.height*this.scaleY-(s.top+s.bottom)*this.scaleY,f8.call(this,e,C,i),Ca(e,S,r,C,i,t.align),t.preOffsetY=0,Fy.call(this),this.textMask&&(this.textMask.setPosition().resize(),this.resetChildPositionState(this.textMask)))};const v8={setText:h8,updateTextObject:u8,preLayout:d8,layoutChildren:c8},wg=Phaser.Utils.Objects.IsPlainObject,Ye=Phaser.Utils.Objects.GetValue,p8=Phaser.Display.Align.TOP_LEFT;class Dy extends Cr{constructor(t,s,o,y,S,r){wg(s)?(r=s,s=Ye(r,"x",0),o=Ye(r,"y",0),y=Ye(r,"width",void 0),S=Ye(r,"height",void 0)):wg(y)&&(r=y,y=Ye(r,"width",void 0),S=Ye(r,"height",void 0)),super(t,s,o,y,S,r),this.type="rexTextBlock",this.textObject=void 0,this.linesCount=0,this.textMask=void 0,this.textObjectType=void 0,this._textLineHeight=void 0,this._textLineSpacing=void 0,this._visibleLinesCount=void 0,this._textHeight=void 0,this._textVisibleHeight=void 0,this._textObjectRealHeight=0,this.lines=void 0,this.text=Ye(r,"content",""),this._textOY=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.setClampMode(Ye(r,"clampTextOY",!0)),this.alwaysScrollable=Ye(r,"alwaysScrollable",!1);var C=Ye(r,"background",void 0),i=Ye(r,"text",void 0);i===void 0&&(i=g8(t)),this.textCropEnable=Ye(r,"textCrop",!!i.setCrop);var h=Ye(r,"textMask",!this.textCropEnable);C&&this.addBackground(C),this.add(i),this.sizerChildren=[i];var x=this.getSizerConfig(i);x.align=p8,x.padding=Tr(0),x.expand=!0,this.textObject=i,this.textObjectType=Is(i),x.preOffsetY=0,x.offsetY=0,h&&(this.textMask=Ti.call(this,this.textObject,this)),this.addChildrenMap("background",C),this.addChildrenMap("text",i)}destroy(t){if(!(!this.scene||this.ignoreDestroy)){if(this.textObject=void 0,this.textMask=void 0,this.lines){switch(this.textObjectType){case Ee:this.lines.length=0;break;case Me:this.lines.destroy();break;case Ue:this.lines.length=0;break}this.lines=void 0}super.destroy(t)}}setClampMode(t){return t===void 0&&(t=!0),this.clampTextOY=t,this}get textLineHeight(){if(this._textLineHeight===void 0){var t;switch(this.textObjectType){case Ee:case Me:var s=this.textObject.style;t=s.metrics.fontSize+s.strokeThickness;break;case Ue:var o=this.textObject.fontSize/this.textObject.fontData.size;t=this.textObject.fontData.lineHeight*o;break}this._textLineHeight=t}return this._textLineHeight}get textLineSpacing(){if(this._textLineSpacing===void 0){var t;switch(this.textObjectType){case Ee:case Me:t=this.textObject.lineSpacing;break;case Ue:t=0;break}this._textLineSpacing=t}return this._textLineSpacing}get visibleLinesCount(){return this._visibleLinesCount===void 0&&(this._visibleLinesCount=Math.floor(Ly.call(this,this._textObjectRealHeight))),this._visibleLinesCount}get topTextOY(){return 0}get bottomTextOY(){return-this.textVisibleHeight}get textHeight(){return this._textHeight===void 0&&(this._textHeight=by.call(this,this.linesCount)),this._textHeight}get textObjectHeight(){return this._textObjectRealHeight-(this.textLineHeight+this.textLineSpacing)}get textVisibleHeight(){if(this._textVisibleHeight===void 0){var t=this.textHeight-this.textObjectHeight;!this.alwaysScrollable&&t<0&&(t=0),this._textVisibleHeight=t}return this._textVisibleHeight}textOYExceedTop(t){return t===void 0&&(t=this.textOY),t>this.topTextOY}textOYExeceedBottom(t){return t===void 0&&(t=this.textOY),t<this.bottomTextOY}get textOY(){return this._textOY}set textOY(t){var s=this.topTextOY,o=this.bottomTextOY,y=this.textOYExceedTop(t),S=this.textOYExeceedBottom(t);this.clampTextOY&&(this.visibleLinesCount>this.linesCount?t=0:y?t=s:S&&(t=o)),this._textOY!==t&&(this._textOY=t,this.updateTextObject()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,o)),this.execeedBottomState=S}setTextOY(t){return this.textOY=t,this}set t(t){this.textOY=-this.textVisibleHeight*t}get t(){var t=this.textVisibleHeight;return t===0?0:this.textOY/-t}setTextOYByPercentage(t){return this.t=t,this}}var g8=function(e){return e.add.text(0,0,"")};Object.assign(Dy.prototype,v8);var m8=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textObjectHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.textHeight}})};const x8={setText(e){var t=this.childrenMap.child;return t.setText(e),this.resizeController(),this},appendText(e){return this.setText(this.text+e),this}},y8={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Ai=Phaser.Utils.Objects.GetValue;class Ia extends Da{constructor(t,s){s===void 0&&(s={});var o=Ai(s,"text",void 0),y=Ai(s,"textWidth",void 0),S=Ai(s,"textHeight",void 0),r=Ai(s,"textCrop",!!o.setCrop),C=Ai(s,"textMask",!r),i=Ai(s,"content",""),h=new Dy(t,{width:y,height:S,text:o,textMask:C,textCrop:r&&!C,content:i,clampTextOY:Ai(s,"clampChildOY",!1),alwaysScrollable:Ai(s,"alwaysScrollable",!1)});t.add.existing(h),m8(h),s.scrollMode=0,s.type="rexTextArea",s.child={gameObject:h,expandWidth:y===void 0,expandHeight:S===void 0};var x=Ai(s,"space",void 0);x&&(x.child=Ai(x,"text",0)),super(t,s),this.addChildrenMap("text",o)}get text(){return this.childrenMap.child.text}get lineHeight(){var t=this.childrenMap.child;return t.textLineHeight+t.textLineSpacing}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.textHeight}}Object.assign(Ia.prototype,x8,y8);const Vh=Phaser.Utils.Objects.GetValue;var Iy=function(e,t,s){t=t?ce(t):{};var o=Vh(s,"background",he),y=Vh(s,"text",_f),S=Vh(s,"track",he),r=Vh(s,"thumb",he);o?t.background=o(e,t.background):delete t.background,y?t.text=y(e,t.text):delete t.text;var C=t.slider;C!==!1&&C!==null&&(C===void 0&&(C={}),S?C.track=S(e,C.track):delete C.track,r?C.thumb=r(e,C.thumb):delete C.thumb,t.slider=C);var i=new Ia(e,t);return e.add.existing(i),i},_f=function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("key")&&(s="bitmaptext",t.font=t.key));var o;switch(s){case"bitmaptext":case"bitmap":o=new sl(e,t);break;case"bbcodetext":case"bbcode":o=new Xd(e,0,0,"",t);break;case"label":o=new Ba(e,t);break;case"textarea":o=Iy(e,t);break;default:o=new il(e,t);break}return Jf(o,t),e.add.existing(o),o},Rg=function(e,t){var s;t&&(t.hasOwnProperty("$type")?s=t.$type:t.hasOwnProperty("leftWidth")?s="nineSlice":(t.hasOwnProperty("color")||t.hasOwnProperty("strokeColor"))&&(s="roundRectangle"));var o;switch(s){case"nineSlice":t.hasOwnProperty("stretchMode")?o=new Fa(e,t):o=new ba(e,t);break;case"roundRectangle":o=new La(e,t);break;default:o=new Oa(e,t);break}return Jf(o,t),e.add.existing(o),o};const zh=Phaser.Utils.Objects.GetValue;var al=function(e,t,s){t=t?ce(t):{};var o=zh(s,"background",he),y=zh(s,"text",_f),S=zh(s,"icon",Rg),r=zh(s,"action",Rg);return t.background!==null&&o?t.background=o(e,t.background):delete t.background,t.text!==null&&y?t.text=y(e,t.text):delete t.text,t.icon!==null&&S?t.icon=S(e,t.icon):delete t.icon,t.action!==null&&r?t.action=r(e,t.action):delete t.action,t};class Ba extends ss{constructor(t,s,o){s=al(t,s,o),super(t,s),this.type="rexSimpleLabel"}setActiveState(t){return Hu(this.getChildren(),"setActiveState",t),this}setHoverState(t){return Hu(this.getChildren(),"setHoverState",t),this}setDisableState(t){return Hu(this.getChildren(),"setDisableState",t),this}}var Hu=function(e,t,s){for(var o=0,y=e.length;o<y;o++){var S=e[o];S&&S[t]&&S[t](s)}};st.register("simpleLabel",function(e,t){var s=new Ba(this.scene,e,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.SimpleLabel",Ba);const vt=Phaser.Utils.Objects.GetValue;var T8=function(e){var t=this.scene,s=vt(e,"orientation",0);this.setOrientation(s);var o=vt(e,"icon",void 0),y=vt(e,"iconMask",void 0),S=vt(e,"innerBackground",void 0),r=vt(e,"title",void 0),C=vt(e,"separator",void 0),i=vt(e,"text",void 0),h=vt(e,"action",void 0),x=vt(e,"actionMask",void 0);if(o){var f=vt(e,"align.icon","center"),T;this.orientation===0?T={right:vt(e,"space.icon",0),top:vt(e,"space.iconTop",0),bottom:vt(e,"space.iconBottom",0),left:vt(e,"space.iconLeft",0)}:T={bottom:vt(e,"space.icon",0),left:vt(e,"space.iconLeft",0),right:vt(e,"space.iconRight",0),top:vt(e,"space.iconTop",0)};var l=vt(e,"squareFitIcon",!1)?1:0;if(this.add(o,{proportion:0,align:f,padding:T,fitRatio:l}),y&&(y=Ti.call(this,o,o,1)),!l){var a=vt(e,"iconSize",void 0);this.setIconSize(vt(e,"iconWidth",a),vt(e,"iconHeight",a))}}var n=new Tt(t,{orientation:1});S&&n.addBackground(S);var d=vt(e,"space.separator",0);if(r){var f=vt(e,"align.title","left"),c=vt(e,"expandTitleWidth",!1),u=vt(e,"expandTitleHeight",!1),v,T,p;v=u?1:0,p=c,T={bottom:!C&&i?vt(e,"space.title",d):0,left:vt(e,"space.titleLeft",0),right:vt(e,"space.titleRight",0)},n.add(r,{proportion:v,expand:p,align:f,padding:T})}if(C){var T={top:r?d:0,bottom:i?d:0,left:vt(e,"space.separatorLeft",0),right:vt(e,"space.separatorRight",0)};n.add(C,{expand:!0,padding:T})}if(i){var f=vt(e,"align.text","left"),g=vt(e,"expandTextWidth",!1),m=vt(e,"expandTextHeight",!1),v,T,p;v=m?1:0,p=g,T={left:vt(e,"space.textLeft",0),right:vt(e,"space.textRight",0)},n.add(i,{proportion:v,expand:p,align:f,padding:T})}var T=void 0;if(h&&(T={right:vt(e,"space.text",0)}),this.add(n,{proportion:1,padding:T}),h){var f=vt(e,"align.action","center"),T;this.orientation===0?T={top:vt(e,"space.actionTop",0),bottom:vt(e,"space.actionBottom",0),right:vt(e,"space.actionRight",0)}:T={left:vt(e,"space.actionLeft",0),right:vt(e,"space.actionRight",0),bottom:vt(e,"space.actionBottom",0)};var l=vt(e,"squareFitAction",!1)?1:0;if(this.add(h,{proportion:0,align:f,padding:T,fitRatio:l}),x&&(x=Ti.call(this,h,h,1)),!l){var P=vt(e,"actionSize");this.setActionSize(vt(e,"actionWidth",P),vt(e,"actionHeight",P))}}this.addChildrenMap("icon",o),this.addChildrenMap("iconMask",y),this.addChildrenMap("innerSizer",n),this.addChildrenMap("innerBackground",S),this.addChildrenMap("title",r),this.addChildrenMap("separator",C),this.addChildrenMap("text",i),this.addChildrenMap("action",h),this.addChildrenMap("actionMask",x)};const ft=Phaser.Utils.Objects.GetValue;var C8=function(e){this.setOrientation(1),this.setRTL(!1);var t=this.scene,s=ft(e,"title",void 0),o=ft(e,"separator",void 0),y=ft(e,"innerBackground",void 0),S=ft(e,"icon",void 0),r=ft(e,"iconMask",void 0),C=ft(e,"text",void 0),i=ft(e,"action",void 0),h=ft(e,"actionMask",void 0);if(s){var x=ft(e,"align.title","left"),f=ft(e,"expandTitleWidth",!1),l=ft(e,"expandTitleHeight",!1),a,n,d;a=l?1:0,d=f,n={bottom:ft(e,"space.title",0),left:ft(e,"space.titleLeft",0),right:ft(e,"space.titleRight",0)},this.add(s,{proportion:a,expand:d,align:x,padding:n})}if(o){var c=ft(e,"space.separator",0),n={top:s?c:0,bottom:C?c:0,left:ft(e,"space.separatorLeft",0),right:ft(e,"space.separatorRight",0)};this.add(o,{proportion:0,expand:!0,padding:n})}var u=ft(e,"orientation",0),v=new Tt(t,{orientation:u,rtl:ft(e,"rtl",!1),space:{left:ft(e,"space.innerLeft",0),right:ft(e,"space.innerRight",0),top:ft(e,"space.innerTop",0),bottom:ft(e,"space.innerBottom",0)}});if(y&&v.addBackground(y),this.add(v,{proportion:1,expand:!0}),S){var x=ft(e,"align.icon","center"),n;v.orientation===0?n={right:ft(e,"space.icon",0),top:ft(e,"space.iconTop",0),bottom:ft(e,"space.iconBottom",0),left:ft(e,"space.iconLeft",0)}:n={bottom:ft(e,"space.icon",0),left:ft(e,"space.iconLeft",0),right:ft(e,"space.iconRight",0),top:ft(e,"space.iconTop",0)};var p=ft(e,"squareFitIcon",!1)?1:0;if(v.add(S,{proportion:0,align:x,padding:n,fitRatio:p}),r&&(r=Ti.call(this,S,S,1)),!p){var g=ft(e,"iconSize",void 0);this.setIconSize(ft(e,"iconWidth",g),ft(e,"iconHeight",g))}}if(C){var x=ft(e,"align.text","left"),m=ft(e,"space.text",0),T=ft(e,"expandTextWidth",!1),P=ft(e,"expandTextHeight",!1),a,n,d;v.orientation===0?(a=T?1:0,i&&(n={right:m}),d=P):(a=P?1:0,i&&(n={bottom:m}),d=T),v.add(C,{proportion:a,expand:d,align:x,padding:n})}if(i){var x=ft(e,"align.action","center"),n;v.orientation===0?n={top:ft(e,"space.actionTop",0),bottom:ft(e,"space.actionBottom",0),right:ft(e,"space.actionRight",0)}:n={left:ft(e,"space.actionLeft",0),right:ft(e,"space.actionRight",0),bottom:ft(e,"space.actionBottom",0)};var p=ft(e,"squareFitAction",!1)?1:0;if(v.add(i,{proportion:0,align:x,padding:n,fitRatio:p}),h&&(h=Ti.call(this,i,i,1)),!p){var E=ft(e,"actionSize");this.setActionSize(ft(e,"actionWidth",E),ft(e,"actionHeight",E))}}this.addChildrenMap("title",s),this.addChildrenMap("separator",o),this.addChildrenMap("innerSizer",v),this.addChildrenMap("innerBackground",y),this.addChildrenMap("icon",S),this.addChildrenMap("iconMask",r),this.addChildrenMap("text",C),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",h)};const cs=Phaser.Utils.Objects.GetValue,Ag=[T8,C8];class hl extends Hf{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTitleLabel";var o=cs(s,"background",void 0);o&&this.addBackground(o);var y=cs(s,"title",void 0),S=cs(s,"text",void 0);if(y){var r=cs(s,"wrapTitle",!1),C=cs(s,"adjustTitleFontSize",!1);r?(r===!0&&(r="word"),Ad(y,r),s.expandTitleWidth=!0,yo(y)):C&&(s.expandTextWidth=!0,s.expandTextHeight=!0,Co(y,{fitHeight:!0}))}if(S){var i=cs(s,"wrapText",!1),h=cs(s,"adjustTextFontSize",!1);i?(i===!0&&(i="word"),Ad(S,i),s.expandTextWidth=!0,yo(S)):h&&(s.expandTextWidth=!0,s.expandTextHeight=!0,Co(S,{fitHeight:!0}))}var x=cs(s,"layoutMode",0),f=Ag[x]||Ag[0];f.call(this,s),this.addChildrenMap("background",s.background)}get title(){var t=this.childrenMap.title;return t?t.title:""}set title(t){var s=this.childrenMap.title;s&&s.setText(t)}setTitle(t){return this.title=t,this}resetDisplayContent(t){t===void 0?t={}:typeof t=="string"&&(t={text:t}),super.resetDisplayContent(t);var s=this.childrenMap.title;return s&&(t.title===void 0||(t.title?(this.show(s),this.setTitle(t.title)):this.hide(s))),this}}st.register("titleLabel",function(e){var t=new hl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TitleLabel",hl);const $u=Phaser.Utils.Objects.GetValue;var By=function(e,t,s){var o=$u(s,"innerBackground",he),y=$u(s,"separator",he),S=$u(s,"title",_f),r,C;t.innerBackground!==null&&o&&(r=o(e,t.innerBackground)),t.separator!==null&&y&&(C=y(e,t.separator)),t=al(e,t,s),r?t.innerBackground=r:delete t.innerBackground,C?t.separator=C:delete t.separator,t.title!==null&&S?t.title=S(e,t.title):delete t.title;var i=t.background;return i&&(r?e.children.moveBelow(i,r):C&&e.children.moveBelow(i,C)),t};class Gy extends hl{constructor(t,s,o){s=By(t,s,o),super(t,s),this.type="rexSimpleTitleLabel"}setActiveState(t){return Ku(this.getChildren(),"setActiveState",t),this}setHoverState(t){return Ku(this.getChildren(),"setHoverState",t),this}setDisableState(t){return Ku(this.getChildren(),"setDisableState",t),this}}var Ku=function(e,t,s){for(var o=0,y=e.length;o<y;o++){var S=e[o];S&&S[t]&&S[t](s)}};st.register("simpleTitleLabel",function(e,t){var s=new Gy(this.scene,e,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.SimpleTitleLabel",Gy);const Mt=Phaser.Utils.Objects.GetValue,S8=Phaser.Utils.Objects.IsPlainObject;var P8=function(e,t){var s=Mt(t,"background",void 0),o=Mt(t,"icon",void 0),y=Mt(t,"iconMask",void 0),S=Mt(t,"nameText",void 0),r=Mt(t,"valueText",void 0),C=Mt(t,"bar",void 0),i=Mt(t,"action",void 0),h=Mt(t,"actionMask",void 0),x=Mt(t,"barShape","line")==="line";if(S8(C)){var f=x?nf:Go;C=new f(e,C),e.add.existing(C),S&&e.children.moveBelow(C,S),r&&e.children.moveBelow(C,r)}var l=S||r||C;if(s&&this.addBackground(s),o){var a=void 0;this.orientation===0?(l||i)&&(a={right:Mt(t,"space.icon",0),top:Mt(t,"space.iconTop",0),bottom:Mt(t,"space.iconBottom",0)}):(l||i)&&(a={bottom:Mt(t,"space.icon",0),left:Mt(t,"space.iconLeft",0),right:Mt(t,"space.iconRight",0)}),this.add(o,{proportion:0,padding:a}),y&&(y=Ti.call(this,o,o,1))}if(l){var n=new Tt(e,{orientation:1}),d;if(S||r){if(d=new Tt(e,{orientation:0}),S){S.text===""&&S.setText(" "),S.setOrigin(0,S.originY);var a={left:Mt(t,"space.name",0)};d.add(S,{padding:a})}if(r){r.text===""&&r.setText(" "),r.setOrigin(1,r.originY),d.addSpace();var a={right:Mt(t,"space.value",0)};d.add(r,{padding:a}),this.setValueTextFormatCallback(Mt(t,"valueTextFormatCallback",E8),Mt(t,"valueTextFormatCallbackScope",void 0))}n.add(d,{expand:!0})}if(C)if(x){var c=d?Mt(t,"space.bar"):0;c===void 0&&(c=Mt(t,"space.barTop",0));var a={top:c,bottom:Mt(t,"space.barBottom",0),left:Mt(t,"space.barLeft",0),right:Mt(t,"space.barRight",0)};n.add(C,{expand:!0,padding:a})}else{var a={top:Mt(t,"space.barTop",0),bottom:Mt(t,"space.barBottom",0),left:Mt(t,"space.barLeft",0),right:Mt(t,"space.barRight",0)};this.addBackground(C,a)}var a=void 0;i&&(a={right:Mt(t,"space.text",0)});var u=Mt(t,"align.text","bottom");this.add(n,{proportion:1,align:u,padding:a})}if(i){var a;this.orientation===0?a={top:Mt(t,"space.actionTop",0),bottom:Mt(t,"space.actionBottom",0)}:a={left:Mt(t,"space.actionLeft",0),right:Mt(t,"space.actionRight",0)},this.add(i,{proportion:0,padding:a}),h&&(h=Ti.call(this,i,i,1))}this.addChildrenMap("background",s),this.addChildrenMap("icon",o),this.addChildrenMap("iconMask",y),this.addChildrenMap("name",S),this.addChildrenMap("value",r),this.addChildrenMap("bar",C),this.addChildrenMap("action",i),this.addChildrenMap("actionMask",h)},E8=function(e,t,s){return e.toString()};const M8=Phaser.Math.Clamp,w8={setValueTextFormatCallback(e,t){return this.valueTextFormatCallback=e,this.valueTextFormatCallbackScope=t,this},getFormatValueText(e,t,s){e===void 0&&(e=this.value),t===void 0&&(t=this.minValue),s===void 0&&(s=this.maxValue);var o;return this.valueTextFormatCallbackScope?o=this.valueTextFormatCallback(e,t,s):o=this.valueTextFormatCallback.call(this.valueTextFormatCallbackScope,e,t,s),o},updateValueText(e,t,s){var o=this.childrenMap.value;return o&&this.valueTextFormatCallback&&(o.setText(this.getFormatValueText(e,t,s)),o.layout&&o.layout()),this},setValue(e,t,s){return t===void 0?t=this.minValue:this.minValue=t,s===void 0?s=this.maxValue:this.maxValue=s,e=M8(e,t,s),this.value=e,this.updateValueText(e,t,s),this.setBarValue(e,t,s),this},setEaseValueDuration(e){return this.easeValueDuration=e,this},easeValueTo(e,t,s){return t===void 0?t=this.minValue:this.minValue=t,s===void 0?s=this.maxValue:this.maxValue=s,this.easeValueTask===void 0&&(this.easeValueTask=new ji(this),this.easeValueTask.on("update",function(){this.setValue(this.value,this.minValue,this.maxValue)},this)),this.easeValueTask.restart({key:"value",to:e,duration:this.easeValueDuration}),this}};class ol extends Tt{constructor(t,s){super(t,s),this.type="rexNameValueLabel",P8.call(this,t,s),this.setEaseValueDuration(1e3)}get nameText(){var t=this.childrenMap.name;return t===void 0?"":t.text}set nameText(t){var s=this.childrenMap.name;s!==void 0&&s.setText(t)}setNameText(t){return this.nameText=t,this}get valueText(){var t=this.childrenMap.value;return t===void 0?"":t.text}set valueText(t){var s=this.childrenMap.value;s!==void 0&&s.setText(t)}setValueText(t){return this.valueText=t,this}get barValue(){var t=this.childrenMap.bar;if(t!==void 0)return t.value}set barValue(t){var s=this.childrenMap.bar;s!==void 0&&s.setValue(t)}setBarValue(t,s,o){var y=this.childrenMap.bar;return y===void 0?this:(y.setValue(t,s,o),this)}easeBarValueTo(t,s,o){var y=this.childrenMap.bar;return y===void 0?this:(y.easeValueTo(t,s,o),this)}setTexture(t,s){var o=this.childrenMap.icon;if(o!==void 0)return o.setTexture(t,s),this}get texture(){var t=this.childrenMap.icon;if(t!==void 0)return t.texture}get frame(){var t=this.childrenMap.icon;if(t!==void 0)return t.frame}postLayout(t,s,o){var y=this.childrenMap.iconMask;y&&(y.setPosition(),this.resetChildPositionState(y));var S=this.childrenMap.actionMask;return S&&(S.setPosition(),this.resetChildPositionState(S)),super.postLayout(t,s,o),this}resize(t,s){super.resize(t,s);var o=this.childrenMap.iconMask;o&&o.resize();var y=this.childrenMap.actionMask;return y&&y.resize(),this}}Object.assign(ol.prototype,w8);st.register("nameValueLabel",function(e){var t=new ol(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NameValueLabel",ol);class R8 extends Hm{constructor(t){super(),this.setTable(Ot(t,"table")),this.setMaxLevel(Ot(t,"maxLevel"));var s=Ot(t,"exp",0),o=Ot(t,"level",void 0);o!==void 0&&!this.checkLevel(o,s)&&(console.error(`Level ${o} and Exp ${s} are mismatch`),o=void 0),this.resetExp(s,o)}setTable(t){return this.levelTable=t,this.isLevelMapFunction=xi(t),this}setMaxLevel(t){t===void 0&&(Array.isArray(this.levelTable)?t=this.levelTable.length-1:t=-1);var s;return t!==-1?s=this.getExp(t):s=-1,this.hasMaxLevel=t!==-1,this.maxLevel=t,this.maxExp=s,this}resetExp(t,s){return this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),s===void 0&&(s=this.getLevel(t)),this._exp=t,this._level=s,this._requiredExp=this.getRequiredExpToNextLevel(s,t),this}get exp(){return this._exp}set exp(t){if(this.hasMaxLevel&&t>this.maxExp&&(t=this.maxExp),t<this._exp){this.resetExp(t);return}if(t!==this._exp){for(var s=this.getLevel(t,this._level),o=this._level,y=this._exp,S;;){var r=this.getExp(o),C=this.getExp(o+1);if(S=Math.min(C,t),this.emit("levelup",o,y,S,r,C),o===s&&S===t)break;o++,y=C}this.resetExp(t,s)}}get level(){return this._level}set level(t){this.hasMaxLevel&&t>this.maxLevel?this.exp=this.maxExp:this.exp=this.getExp(t)}get requiredExp(){return this._requiredExp}getExp(t){return t===void 0?this._exp:this.isLevelMapFunction?this.levelTable(t):(this.hasMaxLevel&&t>this.maxLevel&&(t=this.maxLevel),this.levelTable[t])}getLevel(t,s){if(t===void 0)return this._level;for(s===void 0&&(s=0);;){var o=this.getExp(s+1);if(o>t||(s++,this.hasMaxLevel&&o===this.maxExp))break}return s}getRequiredExpToNextLevel(t,s){return t===void 0&&(t=this.level),s===void 0&&(s=this.exp),this.getExp(t+1)-s}checkLevel(t,s){return s>=this.getExp(t)&&s<this.getExp(t+1)}gainExp(t,s,o){return s&&this.on("levelup",s,o),this.exp+=t,s&&this.off("levelup",s,o),this}setExp(t,s,o){return s&&this.on("levelup",s,o),this.exp=t,s&&this.off("levelup",s,o),this}setLevel(t,s,o){return s&&this.on("levelup",s,o),this.level=t,s&&this.off("levelup",s,o),this}}var Od=function(e,t,s){var o=Ot(s,"reverse",!1),y;if(yi(e[0]))if(o)for(var r=e.length,S=r-1;S>=0;S--)y=Od(e[S],t,s);else for(var S=0,r=e.length;S<r;S++)y=Od(e[S],t,s);else y=A8(e,t,s);return y},A8=function(e,t,s){var o=Ot(s,"argsConvert",void 0),y=Ot(s,"argsConvertScope",void 0),S=e[0];if(vs=uo(vs,e,1),o){o===!0&&(o=Zd,y=void 0);for(var r=0,C=vs.length;r<C;r++)y?vs[r]=o.call(y,vs[r],e):vs[r]=o(vs[r],e)}var i;typeof S=="string"?(i=t[S],i==null&&(i=Ot(t,S,null))):i=S;var h=i.apply(t,vs);return h},vs=[];const fi=Phaser.Utils.Objects.GetValue;class Ny extends zt{constructor(t,s){super(t,s);var o=fi(s,"clock",void 0);o||(o=new zm(t)),this.clock=o,this.clock.on("update",this.update,this),this.commands=[],this.resetFromJSON(s)}resetFromJSON(t){return this.clock.resetFromJSON(fi(t,"clock",void 0)),this.state=fi(t,"state",0),this.commands=fi(t,"commands",[]),this.scope=fi(t,"scope",void 0),this.setTimeUnit(fi(t,"timeUnit",0)),this.setDtMode(fi(t,"dtMode",0)),this.index=fi(t,"index",0),this.nextTime=fi(t,"nextTime",0),this}toJSON(){return{clock:this.clock.toJSON(),state:this.state,commands:this.commands,scope:this.scope,timeUnit:this.timeUnit,dtMode:this.dtMode,index:this.index,nextTime:this.nextTime}}shutdown(t){this.isShutdown||(this.clock.shutdown(t),this.commands=void 0,super.shutdown(t))}load(t,s,o){this.stop();var y=fi(o,"timeUnit",void 0);y!==void 0&&this.setTimeUnit(y);var S=fi(o,"dtMode",void 0);return S!==void 0&&this.setDtMode(S),t=t.filter(function(r){var C=r[0];return!isNaN(C)}).map(function(r){var C=r[0];return typeof C=="string"&&(r[0]=parseFloat(r[0])),r}),this.dtMode===0&&t.sort(function(r,C){var i=r[0],h=C[0];return i>h?1:i<h?-1:0}),uo(this.commands,t),this.scope=s,this}clear(){return this.commands.length=0,this}append(t,s,...o){var y;return Array.isArray(s)?y=s:y=[s,...o],this.commands.push([t,y]),this}start(t){return t===void 0&&(t=0),this.stop(),this.index=0,this.state=1,this.nextTime=this.getNextDt(0),this.clock.start(t),this.update(t),this.emit("start",this.parent,this),this}pause(){return this.clock.pause(),this.emit("pause",this.parent,this),this}resume(){return this.clock.resume(),this.emit("resume",this.parent,this),this}stop(){return this.clock.stop(),this.state=0,this.emit("stop",this.parent,this),this}seek(t){return this.clock.seek(t),this}seekToNext(){return this.seek(this.nextTime),this}get isPlaying(){return this.clock.isRunning}get completed(){return this.state===2}get timeScale(){return this.clock.timeScale}set timeScale(t){this.clock.timeScale=t}setTimeScale(t){return this.timeScale=t,this}get now(){return this.clock.now}update(t){if(this.nextTime>t)return this;for(var s=this.commands;;){var o=s[this.index],y=o[1];if(yi(y)||(y=uo(O8,o,1)),Od(y,this.scope),this.emit("runcommand",y,this.scope),this.index>=s.length-1)return this.nextTime=0,this.complete(),this;if(this.index++,this.nextTime=this.getNextDt(this.nextTime),this.nextTime>t)return this}}complete(){this.clock.stop(),this.state=2,this.emit("complete",this.parent,this)}getNextDt(t){var s=this.commands[this.index][0];return this.timeUnit===1&&(s=s*1e3),this.dtMode===1&&(s+=t),s}setDtMode(t){return typeof t=="string"&&(t=b8[t]),this.dtMode=t,this}setTimeUnit(t){return typeof t=="string"&&(t=L8[t]),this.timeUnit=t,this}}var O8=[];const L8={ms:0,s:1,sec:1},b8={abs:0,absolute:0,inc:1,increment:1};var F8=function(e,t,s,o,y){var S=(s-t)/(y-o)*this.totalEaseDuration,r=s===y?e+1:e;this.player.append(0,this.setEaseValueDuration,S).append(0,this.easeValueTo,s,o,y).append(0,this.emit,"levelup.start",e,t,s,this).append(S,ae).append(0,this.emit,"levelup.end",r,t,s,this),this.player.isPlaying||this.player.start()};const D8={setExpTable(e){return this.levelCounter.setTable(e),this},resetExp(e){return this.levelCounter.resetExp(e),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1)),this},getExp(e){return this.levelCounter.getExp(e)},getLevel(e,t){return this.levelCounter.getLevel(e,t)},getRequiredExpToNextLevel(e,t){return this.levelCounter.getRequiredExpToNextLevel(e,t)},gainExp(e){return this.levelCounter.gainExp(e),this},setExp(e){return this.levelCounter.setExp(e),this},setLevel(e){return this.levelCounter.setLevel(e),this}},Og=Phaser.Utils.Objects.GetValue;class tc extends ol{constructor(t,s){super(t,s),this.type="rexExpBar",this.setTotalEaseDuration(Og(s,"easeDuration",1e3)),this.levelCounter=new R8(Og(s,"levelCounter")),this.player=new Ny(this,{scope:this,dtMode:1}),this.levelCounter.on("levelup",F8,this),this.player.on("complete",function(){this.player.clear(),this.emit("levelup.complete",this.level,this)},this),this.setValue(this.exp,this.getExp(this.level),this.getExp(this.level+1))}destroy(t){!this.scene||this.ignoreDestroy||(this.levelCounter.destroy(),this.levelCounter=void 0,this.player.destroy(),this.player=void 0,super.destroy(t))}get exp(){return this.levelCounter.exp}set exp(t){this.levelCounter.exp=t}get level(){return this.levelCounter.level}set level(t){this.levelCounter.level=t}get requiredExp(){return this.levelCounter.requiredExp}setTotalEaseDuration(t){return this.totalEaseDuration=t,this}}Object.assign(tc.prototype,D8);st.register("expBar",function(e){var t=new tc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ExpBar",tc);const Xh=Tt.prototype.add,Lg=Tt.prototype.addSpace;var Zu=function(e){var t=!e.isRexSpace,s=!t||this.buttonsExpand?1:0;if(this.sizerChildren.length===0)if(t){var o=!this.buttonsExpand&&(this.buttonsAlign==="right"||this.buttonsAlign==="center"||this.buttonsAlign==="bottom");o&&Lg.call(this),Xh.call(this,e,{proportion:s,expand:!0});var y=!this.buttonsExpand&&this.buttonsAlign==="center";y&&Lg.call(this),this.hasTailSpace=y}else Xh.call(this,e,{proportion:s,expand:!0}),this.hasTailSpace=!1;else if(this.hasTailSpace){var S=this.sizerChildren.length-1;Xh.call(this,e,{index:S,proportion:s,expand:!0})}else Xh.call(this,e,{proportion:s,expand:!0});return t&&this.buttonGroup.add(e),this};const I8={addButton(e){if(yi(e))for(var t=e,s=0,o=t.length;s<o;s++)Zu.call(this,t[s]);else Zu.call(this,e);return this},addButtons(e){for(var t=0,s=e.length;t<s;t++)Zu.call(this,e[t]);return this}},B8=Tt.prototype.remove,G8=Tt.prototype.clear;var Ju=function(e,t){return this.getParentSizer(e)!==this?this:(this.buttonGroup.remove(e),B8.call(this,e,t),this)};const N8={remove(e,t){if(yi(e))for(var s=e,o=0,y=s.length;o<y;o++)Ju.call(this,s[o],t);else Ju.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,G8.call(this,e),this},removeButton(s,t){var s=this.getButton(s);return s?(this.remove(s,t),this):this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Ju.call(this,t[s],e);return this}};var k8=function(e,t,s){if(e){var o=this.setValueCallback,y=this.setValueCallbackScope;o&&(y?o.call(y,e,t,s):o(e,t,s)),this.fireEvent("button.statechange",e,t,s)}},V8=function(e){var t=this;e._selected=void 0,Object.defineProperty(e,"selected",{get:function(){return e._selected},set:function(s){if(e._selected!==s){var o=e._selected;e._selected=s,k8.call(t,e,s,o)}},enumerable:!0,configurable:!0}),e.selected=!1};const z8={add(e){return this.buttons.push(e),e._click||(e._click=new ts(e,this.clickConfig),e._click.on("click",function(t,s,o,y){this.fireEvent("button.click",s,o,y)},this).on("enable",function(t,s){this.fireEvent("button.enable",s)},this).on("disable",function(t,s){this.fireEvent("button.disable",s)},this).on("over",function(t,s,o,y){this.fireEvent("button.over",s,o,y)},this).on("out",function(t,s,o,y){this.fireEvent("button.out",s,o,y)},this).on("down",function(t,s,o,y){this.fireEvent("button.down",s,o,y)},this).on("up",function(t,s,o,y){this.fireEvent("button.up",s,o,y)},this),e.isRexContainerLite&&e.sendChildToBack(e)),this.buttonsType&&(e.name===void 0&&console.error(`${this.parent.constructor.name}: Option button miss value`),V8.call(this,e)),this},addMultiple(e){for(var t=0,s=e.length;t<s;t++)this.add(e[t]);return this}},X8=Phaser.Utils.Array.Remove,Y8={remove(e){return this.buttonsType&&delete e.selected,X8(this.buttons,e),this},clear(){if(this.buttonsType)for(var e=this.buttons,t=0,s=e.length;t<s;t++)delete e[t].selected;return this.buttons.length=0,this}};var W8=function(e,t,...s){if(this.buttons){var o;if(typeof t=="number"){if(o=t,t=this.buttons[o],!t)return}else if(o=this.buttons.indexOf(t),o===-1)return;this.eventEmitter!==this.parent&&this.parent.emit(e,t,o,...s),this.groupName!==void 0?this.eventEmitter.emit(e,t,this.groupName,o,...s):this.eventEmitter.emit(e,t,o,...s)}};const Xn=Phaser.Utils.Objects.GetValue,U8={setButtonsType(e){e===void 0&&(e={});var t=Xn(e,"buttonsType",e.type);if(this.buttonsType=t,!this.buttonsType)return this;var s,o;switch(s=Xn(e,"setValueCallback",void 0),o=Xn(e,"setValueCallbackScope",void 0),s===void 0&&(s=Xn(e,"setButtonStateCallback",void 0),o=Xn(e,"setButtonStateCallbackScope",void 0)),this.setValueCallback=s,this.setValueCallbackScope=o,t){case"radio":this.setRadioType();break;case"checkboxes":this.setCheckboxesType();break}return this},setRadioType(){var e=this.parent,t=this.buttons;e._value=void 0;var s=void 0;return Object.defineProperty(e,"value",{get:function(){return e._value},set:function(o){if(e._value!==o){e._value=o;for(var y=0,S=t.length;y<S;y++){var r=t[y];r.rexSizer.hidden||(s===void 0?r.name===o?r.selected=!0:r.selected=!1:s===y?r.selected=!0:r.selected=!1)}}},enumerable:!0,configurable:!0}),e.on("button.click",function(o){s=this.buttons.indexOf(o),e.value=o.name,s=void 0},this),this},setCheckboxesType(){var e=this.parent;return e.on("button.click",function(t){t.selected=!t.selected}),this},clearAllButtonsState(){for(var e=this.buttons,t=0,s=e.length;t<s;t++){var o=e[t];o.selected=!1}return this},getAllButtonsState(){for(var e={},t=this.buttons,s=0,o=t.length;s<o;s++){var y=t[s];y.rexSizer.hidden||(e[y.name]=y.selected)}return e},setSelectedButtonName(e){return this.parent.value=e,this},getSelectedButtonName(){return this.parent.value},setButtonState(e,t){t===void 0&&(t=!0);for(var s=this.buttons,o=0,y=s.length;o<y;o++){var S=s[o];if(!S.rexSizer.hidden&&S.name===e){S.selected=t;break}}return this},getButtonState(e){for(var t=this.buttons,s=0,o=t.length;s<o;s++){var y=t[s];if(!y.rexSizer.hidden&&y.name===e)return y.selected}}};var H8=function(e,t){if(e)if(yi(e)){for(var s,o=0,y=e.length;o<y;o++)if(s=bg(e[o],t),s)return s}else{var s;for(var S in e)if(s=bg(e[S],t),s)return s}else return null},bg=function(e,t){return e?e.hasOwnProperty("name")?e.name===t?e:null:GetElementByName(e,t):null};const ll={getButton(e){var t=this.buttons,s,o=typeof e;switch(o){case"number":s=t[e];break;case"string":s=H8(t,e);break;default:s=e,t.indexOf(s)===-1&&(s=void 0);break}return s},getButtons(){return this.buttons},hasAnyButton(){return this.buttons.length>0},setButtonEnable(e,t){var s=this.buttons;if(e===void 0||typeof e=="boolean"){t=e;for(var o=0,y=s.length;o<y;o++)s[o]._click.setEnable(t)}else this.getButton(e)._click.setEnable(t);return this},toggleButtonEnable(e){var t=this.buttons;if(e===void 0||typeof e=="boolean")for(var s=0,o=t.length;s<o;s++)t[s]._click.toggleEnable();else this.getButton(e)._click.toggleEnable();return this},getButtonEnable(e){return e===void 0&&(e=0),this.getButton(e)._click.enable},emitButtonClick(e){var t=this.buttonGroup?this.buttonGroup:this;return t.fireEvent("button.click",e),this},emitButtonOver(e){for(var t=this.buttonGroup?this.buttonGroup:this,s=this.buttons,o=0,y=s.length;o<y;o++){var S=s[o];S._click.isOver&&(S._click.isOver=!1,t.fireEvent("button.out",S))}var S=this.getButton(e);return S&&(S._click.isOver=!0,t.fireEvent("button.over",S)),this},showButton(e){return Ps(this.getButton(e)),this},hideButton(e){return Es(this.getButton(e)),this},isButtonShown(e){return Af(this.getButton(e)),this},forEachButtton(e,t){for(var s=this.buttons,o=0,y=s.length;o<y;o++)t?e.call(t,s[o],o,s):e(s[o],o,s);return this}};class ul{constructor(t){this.parent=t.parent,this.eventEmitter=t.eventEmitter,this.groupName=t.groupName,this.clickConfig=t.clickConfig,this.buttonsType=void 0,this.buttons=[]}destroy(){this.parent=void 0,this.eventEmitter=void 0,this.clickConfig=void 0,this.buttons=void 0}}var $8={fireEvent:W8};Object.assign(ul.prototype,z8,Y8,U8,ll,$8);const ec={clearAllButtonsState(){return this.buttonGroup.clearAllButtonsState(),this},getAllButtonsState(){return this.buttonGroup.getAllButtonsState()},setSelectedButtonName(e){return this.buttonGroup.setSelectedButtonName(e),this},getSelectedButtonName(){return this.buttonGroup.getSelectedButtonName()},setButtonState(e,t){return this.buttonGroup.setButtonState(e,t),this},getButtonState(e){return this.buttonGroup.getButtonState(e)}},_s=Phaser.Utils.Objects.GetValue;let de=class extends Tt{constructor(t,s){s===void 0&&(s={});var o=s.space;typeof o=="number"&&(s.space={item:o}),super(t,s),this.type="rexButtons",this.buttonGroup=new ul({parent:this,eventEmitter:_s(s,"eventEmitter",this),groupName:_s(s,"groupName",void 0),clickConfig:_s(s,"click",void 0)}).setButtonsType(s);var y=_s(s,"background",void 0),S=_s(s,"buttons",void 0);this.buttonsExpand=_s(s,"expand",!1),this.buttonsAlign=_s(s,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}};Object.assign(de.prototype,I8,N8,ll,ec);st.register("buttons",function(e){var t=new de(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Buttons",de);const K8=Ci.prototype.add,Z8={addButton(e,t,s){return K8.call(this,e,t,s,void 0,0,this.buttonsExpand),this.buttonGroup.add(e),this},addButtons(e,t){for(var s=0,o=e;s<o;s++)this.addButton(e[s],void 0,t);return this}},J8=Ci.prototype.remove,Q8=Ci.prototype.clear;var Qu=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),J8.call(this,s,t),this):this};const j8={remove(e,t){if(yi(e))for(var s=e,o=0,y=s.length;o<y;o++)Qu.call(this,s[o],t);else Qu.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,Q8.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)Qu.call(this,t[s],e);return this}},Oi=Phaser.Utils.Objects.GetValue;class dl extends Ci{constructor(t,s){s===void 0&&(s={});var o=Oi(s,"row",0),y=Oi(s,"column",s.col||0),S=Oi(s,"createCellContainerCallback"),r=Oi(s,"buttons",void 0),C=Oi(s,"expand",!0),i=C?1:0;if(S&&(s.createCellContainerCallback=void 0),r!==void 0){o=Math.max(o,r.length);for(var h=0,x=r.length;h<x;h++)y=Math.max(y,r[h].length)}s.row=o,s.column=y,s.columnProportions=i,s.rowProportions=i,super(t,s),this.type="rexGridButtons",this.buttonGroup=new ul({parent:this,eventEmitter:Oi(s,"eventEmitter",this),groupName:Oi(s,"groupName",void 0),clickConfig:Oi(s,"click",void 0)}).setButtonsType(s);var f=Oi(s,"background",void 0);if(this.buttonsExpand=C,Oi(s,"space",void 0),f&&this.addBackground(f),r)for(var l,a,n=0,d=r.length;n<d;n++){l=r[n];for(var c=0,u=l.length;c<u;c++)a=l[c],a&&this.addButton(a,c,n)}else if(S)for(var v=0;v<o;v++)for(var p=0;p<y;p++){var a=S(t,p,v);a&&this.addButton(a,p,v)}this.addChildrenMap("background",f),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(dl.prototype,Z8,j8,ll,ec);st.register("gridButtons",function(e){var t=new dl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridButtons",dl);const ky=Bs.prototype.add;var Yh=function(e){return ky.call(this,e),this.buttonGroup.add(e),this};const q8={addButton(e){if(yi(e))for(var t=e,s=0,o=t.length;s<o;s++)Yh.call(this,t[s]);else Yh.call(this,e);return this},addButtons(e){if(yi(e[0]))for(var t=e,s,o=0,y=t.length-1;o<=y;o++){s=t[o];for(var S=0,r=s.length;S<r;S++)Yh.call(this,s[S]);o>y&&ky.addNewLine(this)}else for(var S=0,r=e.length;S<r;S++)Yh.call(this,e[S]);return this}},_8=Bs.prototype.remove,t6=Bs.prototype.clear;var ju=function(s,t){var s=this.getButton(s);return s?(this.buttonGroup.remove(s),_8.call(this,s,t),this):this};const e6={remove(e,t){if(yi(e))for(var s=e,o=0,y=s.length;o<y;o++)ju.call(this,s[o],t);else ju.call(this,e,t);return this},clear(e){var t=this.buttonGroup.buttons;return t.length=0,t6.call(this,e),this},removeButton(e,t){return this.remove(e,t),this},clearButtons(e){for(var t=this.buttonGroup.buttons,s=t.length-1;s>=0;s--)ju.call(this,t[s],e);return this}},Ur=Phaser.Utils.Objects.GetValue;class Ls extends Bs{constructor(t,s){s===void 0&&(s={});var o=s.space;typeof o=="number"&&(s.space={item:o,line:o}),super(t,s),this.type="rexFixWidthButtons",this.buttonGroup=new ul({parent:this,eventEmitter:Ur(s,"eventEmitter",this),groupName:Ur(s,"groupName",void 0),clickConfig:Ur(s,"click",void 0)}).setButtonsType(s);var y=Ur(s,"background",void 0),S=Ur(s,"buttons",void 0);this.buttonsAlign=Ur(s,"align",void 0),y&&this.addBackground(y),S&&this.addButtons(S),this.addChildrenMap("background",y),this.addChildrenMap("buttons",this.buttonGroup.buttons)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.buttonGroup.destroy(),this.buttonGroup=void 0)}get buttons(){return this.buttonGroup.buttons}get groupName(){return this.buttonGroup.groupName}set groupName(t){this.buttonGroup.groupName=t}get eventEmitter(){return this.buttonGroup.eventEmitter}}Object.assign(Ls.prototype,q8,e6,ll,ec);st.register("fixWidthButtons",function(e){var t=new Ls(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FixWidthButtons",Ls);const i6={setAccept(e){return this.childrenMap.fileChooser.setAccept(e),this},setMultiple(e){return this.childrenMap.fileChooser.setMultiple(e),this},loadFile(e,t,s,o,y){return this.childrenMap.fileChooser.loadFile(e,t,s,o,y),this},loadFilePromise(e,t,s,o){return this.childrenMap.fileChooser.loadFilePromise(e,t,s,o)}},Fg=Phaser.Utils.Objects.GetValue;class ic extends ss{constructor(t,s){super(t,s),this.type="rexFileSelectorButton";var o=new Aa(t);t.add.existing(o),this.addBackground(o),this.addChildrenMap("fileChooser",o),this.setAccept(Fg(s,"accept","")),this.setMultiple(Fg(s,"multiple",!1)),o.on("change",function(y){var S=y.files;S.length!==0&&(S=Array.from(S),this.emit("select",S,this))},this)}get files(){return this.childrenMap.fileChooser.files}}Object.assign(ic.prototype,i6);st.register("fileSelectorButton",function(e){var t=new ic(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.FileSelectorButton",ic);const s6={getChoice(e){var t=this.childrenMap.choicesSizer;if(t)return t.getButton(e)},getAction(e){return this.childrenMap.actionsSizer.getButton(e)},getToolbar(e){return this.childrenMap.toolbarSizer.getButton(e)},getLeftToolbar(e){return this.childrenMap.leftToolbarSizer.getButton(e)},setChoiceEnable(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonEnable(e,t),this},setActionEnable(e,t){return this.childrenMap.actionsSizer.setButtonEnable(e,t),this},setToolbarEnable(e,t){return this.childrenMap.toolbarSizer.setButtonEnable(e,t),this},setLeftToolbarEnable(e,t){return this.childrenMap.leftToolbarSizer.setButtonEnable(e,t),this},toggleChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t&&t.toggleButtonEnable(e),this},toggleActionEnable(e){return this.childrenMap.actionsSizer.toggleButtonEnable(e),this},toggleToolbarEnable(e){return this.childrenMap.toolbarSizer.toggleButtonEnable(e),this},toggleLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.toggleButtonEnable(e),this},getChoiceEnable(e){var t=this.childrenMap.choicesSizer;return t?t.getButtonEnable(e):!1},getActionEnable(e){return this.childrenMap.actionsSizer.getButtonEnable(e)},getToolbarEnable(e){return this.childrenMap.toolbarSizer.getButtonEnable(e)},getLeftToolbarEnable(e){return this.childrenMap.leftToolbarSizer.getButtonEnable(e)},emitChoiceClick(e){var t=this.childrenMap.choicesSizer;return t&&t.emitButtonClick(e),this},emitActionClick(e){return this.childrenMap.actionsSizer.emitButtonClick(e),this},emitToolbarClick(e){return this.childrenMap.toolbarSizer.emitButtonClick(e),this},emitLeftToolbarClick(e){return this.childrenMap.leftToolbarSizer.emitButtonClick(e),this},showChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.showButton(e),this},showAction(e){return this.childrenMap.actionsSizer.showButton(e),this},showToolbar(e){return this.childrenMap.toolbarSizer.showButton(e),this},showLeftToolbar(e){return this.childrenMap.leftToolbarSizer.showButton(e),this},hideChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.hideButton(e),this},hideAction(e){return this.childrenMap.actionsSizer.hideButton(e),this},hideToolbar(e){return this.childrenMap.toolbarSizer.hideButton(e),this},hideLeftToolbar(e){return this.childrenMap.leftToolbarSizer.hideButton(e),this},addChoice(e){var t=this.childrenMap.choicesSizer;return t&&t.addButton(e),this},addAction(e){return this.childrenMap.actionsSizer.addButton(e),this},addToolbar(e){return this.childrenMap.toolbarSizer.addButton(e),this},addLeftToolbar(e){return this.childrenMap.leftToolbarSizer.addButton(e),this},removeChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.removeButton(e,t),this},removeAction(e,t){return this.childrenMap.actionsSizer.removeButton(e,t),this},removeToolbar(e,t){return this.childrenMap.toolbarSizer.removeButton(e,t),this},removeLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.removeButton(e,t),this},clearChoices(e){var t=this.childrenMap.choicesSizer;return t&&t.clearButtons(e),this},clearActions(e){return this.childrenMap.actionsSizer.clearButtons(e),this},clearToolbar(e){return this.childrenMap.toolbarSizer.clearButtons(e),this},clearLeftToolbar(e){return this.childrenMap.leftToolbarSizer.clearButtons(e),this},forEachChoice(e,t){var s=this.childrenMap.choicesSizer;return s&&s.forEachButtton(e,t),this},forEachAction(e,t){return this.childrenMap.actionsSizer.forEachButtton(e,t),this},forEachToolbar(e,t){return this.childrenMap.toolbarSizer.forEachButtton(e,t),this},forEachLeftToolbar(e,t){return this.childrenMap.leftToolbarSizer.forEachButtton(e,t),this},setAllButtonsEnable(e){return e===void 0&&(e=!0),this.childrenMap.toolbarSizer&&this.setToolbarEnable(e),this.childrenMap.leftToolbarSizer&&this.setLeftToolbarEnable(e),this.childrenMap.actionsSizer&&this.setActionEnable(e),this.childrenMap.choicesSizer&&this.setChoiceEnable(e),this},getChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e?e.getAllButtonsState():{}},getChoicesButtonState(e){var t=this.childrenMap.choicesSizer;return e===void 0?t?t.getAllButtonsState():{}:t?t.getButtonState(e):!1},setChoicesButtonState(e,t){var s=this.childrenMap.choicesSizer;return s&&s.setButtonState(e,t),this},clearChoicesButtonStates(){var e=this.childrenMap.choicesSizer;return e&&e.clearAllButtonsState(),this},getChoicesSelectedButtonName(){var e=this.childrenMap.choicesSizer;return e?e.getSelectedButtonName():""},setChoicesSelectedButtonName(e){var t=this.childrenMap.choicesSizer;return t&&t.setSelectedButtonName(e),this},hasAnyChoice(){var e=this.childrenMap.choicesSizer;return e?e.hasAnyButton():!1},hasAnyAction(){var e=this.childrenMap.actionsSizer;return e?e.hasAnyButton():!1},hasAnyToolbar(){var e=this.childrenMap.toolbarSizer;return e?e.hasAnyButton():!1},hasAnyLeftToolbar(){var e=this.childrenMap.leftToolbarSizer;return e?e.hasAnyButton():!1}},r6={onCreateModalBehavior(e){e.on("button.click",function(t,s,o,y,S){var r=!1;switch(s){case"actions":r=!0;break;case"choices":e.hasAnyAction()||(r=!0);break}if(r){var C={index:o,text:t.text,button:t,dialog:e};switch(e.buttonsType){case"radio":C.value=e.getChoicesSelectedButtonName();break;case"checkboxes":C.value=e.getChoicesButtonStates();break;default:C.value=void 0}e.modalClose(C)}})},modal(e,t){return e&&e.defaultBehavior===!1?this.onCreateModalBehavior=!1:delete this.onCreateModalBehavior,Ho.modal.call(this,e,t),this}};var Vy={};Object.assign(Vy,s6,r6);const ut=Phaser.Utils.Objects.GetValue;class Ga extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexDialog",this.eventEmitter=ut(s,"eventEmitter",this);var o=ut(s,"background",void 0),y=ut(s,"title",void 0),S=ut(s,"toolbar",void 0),r=ut(s,"toolbarBackground",void 0),C=ut(s,"leftToolbar",void 0),i=ut(s,"leftToolbarBackground",void 0),h=ut(s,"content",void 0),x=ut(s,"description",void 0),f,l=ut(s,"choices",void 0),a=ut(s,"choicesBackground",void 0),n,d=ut(s,"actions",void 0),c=ut(s,"actionsBackground",void 0),u=ut(s,"click",void 0);o&&this.addBackground(o);var v;S&&(v=new de(t,{groupName:"toolbar",background:r,buttons:S,orientation:0,space:{item:ut(s,"space.toolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(v));var p;if(C&&(p=new de(t,{groupName:"leftToolbar",background:i,buttons:C,orientation:0,space:{item:ut(s,"space.leftToolbarItem",0)},click:u,eventEmitter:this.eventEmitter}),t.add.existing(p)),y||S||C){var g=!!y&&ut(s,"expand.title",!0),m=ut(s,"align.title","center"),T=y&&!g&&m==="center"||!y&&(S||C),P=!T,E;P?E=new Tt(t,{orientation:0}):E=new ai(t),t.add.existing(E);var M=P?!0:{height:!0};if(p&&E.add(p,{align:"left",expand:M}),y){P&&!g&&m==="right"&&E.addSpace();var w={left:ut(s,"space.titleLeft",0),right:ut(s,"space.titleRight",0)},R=g?1:0;E.add(y,{align:m,proportion:R,expand:M,padding:w}),P&&!g&&m==="left"&&E.addSpace()}v&&(P&&!y&&E.addSpace(),E.add(v,{align:"right",expand:M}));var w;(h||x||l||d)&&(w={bottom:ut(s,"space.title",0),top:ut(s,"space.titleTop",0)});var R=ut(s,"proportion.title",0);this.add(E,{padding:w,proportion:R,expand:!0})}if(h){var A=ut(s,"align.content","center"),O=ut(s,"space.content",0),w={left:ut(s,"space.contentLeft",0),right:ut(s,"space.contentRight",0),bottom:x||l||d?O:0},R=ut(s,"proportion.content",0),F=ut(s,"expand.content",!0);this.add(h,{align:A,padding:w,proportion:R,expand:F})}if(x){var A=ut(s,"align.description","center"),L=ut(s,"space.description",0),w={left:ut(s,"space.descriptionLeft",0),right:ut(s,"space.descriptionRight",0),bottom:l||d?L:0},R=ut(s,"proportion.description",0),F=ut(s,"expand.description",!0);this.add(x,{align:A,padding:w,proportion:R,expand:F})}if(l){var b=ut(s,"choicesType","").split("-"),D=Yn(b,"wrap")?Ls:Yn(b,"grid")?dl:de,I=Yn(b,"radio")?"radio":Yn(b,"checkboxes")?"checkboxes":void 0,k={left:ut(s,"space.choicesBackgroundLeft",0),right:ut(s,"space.choicesBackgroundRight",0),top:ut(s,"space.choicesBackgroundTop",0),bottom:ut(s,"space.choicesBackgroundBottom",0)},X=ut(s,"space.choice",0);D===de?k.item=X:D===Ls?(k.item=X,k.line=ut(s,"space.choiceLine",X)):(k.column=ut(s,"space.choiceColumn",X),k.row=ut(s,"space.choiceRow",X));var W={width:ut(s,"choicesWidth",void 0),height:ut(s,"choicesHeight",void 0),groupName:"choices",buttonsType:I,background:a,buttons:l,space:k,click:u,eventEmitter:this.eventEmitter,setValueCallback:ut(s,"choicesSetValueCallback",void 0),setValueCallbackScope:ut(s,"choicesSetValueCallbackScope",void 0)};D===de&&(W.orientation=Yn(b,"x")?0:1),f=new D(t,W),t.add.existing(f);var Y=ut(s,"space.choices",0),w={left:ut(s,"space.choicesLeft",0),right:ut(s,"space.choicesRight",0),bottom:d?Y:0},A=ut(s,"align.choices","center"),R=ut(s,"proportion.choices",0),F=ut(s,"expand.choices",!0);this.add(f,{align:A,padding:w,proportion:R,expand:F}),this.buttonsType=I}if(d){n=new de(t,{groupName:"actions",background:c,buttons:d,orientation:0,space:{item:ut(s,"space.action",0)},expand:ut(s,"expand.actions",!1),align:ut(s,"align.actions","center"),click:u,eventEmitter:this.eventEmitter}),t.add.existing(n);var w={left:ut(s,"space.actionsLeft",0),right:ut(s,"space.actionsRight",0),bottom:ut(s,"space.actionsBottom",0)},R=ut(s,"proportion.action",0);this.add(n,{align:"center",padding:w,proportion:R,expand:!0})}Wn(this,"click"),Wn(this,"over"),Wn(this,"out"),Wn(this,"enable"),Wn(this,"disable"),this.addChildrenMap("background",o),this.addChildrenMap("title",y),this.addChildrenMap("toolbar",S),this.addChildrenMap("leftToolbar",C),this.addChildrenMap("content",h),this.addChildrenMap("description",x),this.addChildrenMap("choices",f?f.buttons:void 0),this.addChildrenMap("actions",n?n.buttons:void 0),this.addChildrenMap("choicesSizer",f),this.addChildrenMap("actionsSizer",n),this.addChildrenMap("toolbarSizer",v),this.addChildrenMap("leftToolbarSizer",p)}}var Yn=function(e,t){return e.indexOf(t)!==-1},Dg={actions:"action",choices:"choice",toolbar:"toolbar",leftToolbar:"leftToolbar"},Wn=function(e,t){e.on(`button.${t}`,function(s,o,y,S,r){Dg.hasOwnProperty(o)&&e.emit(`${Dg[o]}.${t}`,s,y,S,r)})};Object.assign(Ga.prototype,Vy);st.register("dialog",function(e){var t=new Ga(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Dialog",Ga);var fe=function(e,t,s){var o=new Ba(e,t,s);return e.add.existing(o),o},n6=function(e){return e===void 0&&(e={}),a6.call(this,e),h6.call(this,e),o6.call(this,e),l6.call(this,e),this},a6=function(e){var t=this.childrenMap.title;e=e.title,e===null?t.hide():(t.show(),t.resetDisplayContent(e))},h6=function(e){var t=this.childrenMap.content;if(e=e.content,e===null)t.hide();else if(t.show(),t.resetDisplayContent)t.resetDisplayContent(e);else{var s=e||"";t.setText(s)}},o6=function(e){var t=this.childrenMap.actions;if(t){var s=e.buttons;if(s){for(var S=this.scene,r=this.defaultActionConfig,C=this.defaultActionButtonCreator,i=0,h=s.length;i<h;i++){var x=s[i],f=t[i];f||(f=fe(S,r,C),this.addAction(f)),f.show().resetDisplayContent(x)}this.buttonMode=s.length;for(var i=s.length,h=t.length;i<h;i++)t[i].hide()}else{var o=t[0];o&&(e.buttonA===null?o.hide():(o.show(),o.resetDisplayContent(e.buttonA)));var y=t[1];y&&(e.buttonB===null?y.hide():(y.show(),y.resetDisplayContent(e.buttonB)))}}},l6=function(e){var t=this.childrenMap.choices;if(t){var s=e.choices;s||(s=[]);for(var o=this.scene,y=this.defaultChoiceConfig,S=this.defaultActionButtonCreator,r=0,C=s.length;r<C;r++){var i=s[r];typeof i=="string"&&(i={text:i});var h=t[r];h||(h=fe(o,y,S),this.addChoice(h)),h.show().resetDisplayContent(i);var x;i.hasOwnProperty("value")?x=i.value:x=i.text,h.setName(x)}for(var r=s.length,C=t.length;r<C;r++)t[r].hide()}};const u6=Phaser.Utils.Objects.Merge;var d6=function(e,t){xi(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=u6(e,this.modalStyle);var s;this.buttonMode===0?this.hasAnyChoice()?s=!1:s=!0:s=!1,e.hasOwnProperty("anyTouchClose")||(e.anyTouchClose=s),e.hasOwnProperty("manualClose")||(e.manualClose=!s);var o=this,y=function(S){var r=S.index;r===o.confirmButtonIndex?o.emit("confirm",S):r===o.cancelButtonIndex&&o.emit("cancel",S),t&&t(S)};return Ho.modal.call(this,e,y),this};const f6={setConfirmButtonIndex(e){return this.confirmButtonIndex=e,this},setCancelButtonIndex(e){return this.cancelButtonIndex=e,this}};var zy={resetDisplayContent:n6,modal:d6};Object.assign(zy,f6);var c6=function(e){e.setHoverState&&e.setHoverState(!0)},v6=function(e){e.setHoverState&&e.setHoverState(!1)},p6=function(e,t,s,o){e.setActiveState&&e.setActiveState(o)},g6=function(e){e.setDisableState&&e.setDisableState(!1)},m6=function(e){e.setDisableState&&e.setDisableState(!0)},Xy=function(){this.on("button.over",c6).on("button.out",v6).on("button.enable",g6).on("button.disable",m6).on("button.statechange",p6)};const x6=Phaser.Utils.Objects.GetValue;var y6=function(e,t,s){var o=x6(t,"$type");o===void 0&&t&&(t.hasOwnProperty("slider")||t.hasOwnProperty("scroller"))&&(o="textarea");var y;switch(o){case"textarea":y=new Iy(e,t,s);break;default:y=new fe(e,t,s);break}return e.add.existing(y),y};const qu=Phaser.Utils.Objects.GetValue;class fl extends Ga{constructor(t,s,o){s=s?ce(s):{},o===void 0&&(o={});var y=qu(o,"background",he);s.background=y(t,s.background),s.title=fe(t,s.title,o.title),s.content=y6(t,s.content,o.content),s.content instanceof Ia&&$i(s,"height")&&!$i(s,"proportion.content")&&et(s,"proportion.content",1);var S=s.button,r=s.buttonA||S,C=s.buttonB||S,i=s.buttonMode;i===void 0&&(i=r&&C?2:r?1:0);var h=o.button,x=o.buttonA||h,f=o.buttonB||h;switch(i){case 2:s.actions=[fe(t,r,x),fe(t,C,f)];break;case 1:s.actions=[fe(t,r,x)];break;case 0:break;default:s.actions=[];break}var l=s.choice;l&&(s.choices=[]),super(t,s),this.type="rexConfirmDialog",this.buttonMode=i,this.defaultActionConfig=S,this.defaultActionButtonCreator=h,this.defaultChoiceConfig=l,this.defaultChoiceCreator=o.choice;var a=this.childrenMap.actions;this.addChildrenMap("buttonA",a?a[0]:null),this.addChildrenMap("buttonB",a?a[1]:null),Xy.call(this),this.setConfirmButtonIndex(qu(s,"confirmButtonIndex",0)),this.setCancelButtonIndex(qu(s,"cancelButtonIndex",1)),this.modalStyle=s.modal||{}}}Object.assign(fl.prototype,zy);st.register("confirmDialog",function(e,t){var s=new fl(this.scene,e,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.ConfirmDialog",fl);const Ig=Phaser.Utils.Objects.GetValue;var Yy=function(e,t){var s=t.dialog,o=!s;if(o){var y=t.style;y.buttonMode=2,s=new fl(e,y,t.creators),e.add.existing(s)}s.setConfirmButtonIndex(Ig(t,"confirmButtonIndex",0)).setCancelButtonIndex(Ig(t,"cancelButtonIndex",1)).resetDisplayContent(t.content).layout(),o&&t.onCreateDialog&&t.onCreateDialog(s);var S=t.modal;S&&!S.hasOwnProperty("destroy")&&(S.destroy=o);var r=t.confirm,C=t.cancel,i=t.confirmScope,h=t.cancelScope;r&&s.once("confirm",r,i),C&&s.once("cancel",C,h);var x=function(f){s.off("confirm",r,i),s.off("cancel",C,h)};return s.modal(S,x),s};class Wy extends ss{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexConfirmActionButton",this.setConfirmDialogEnable(),this.confirmActionConfig=mi(s.confirmDialog||{}),s.confirm&&this.setConfirmCallback(s.confirm,s.confirmScope),s.cancel&&this.setCancelCallback(s.cancel,s.cancelScope),this.onClickCallback=function(){if(this.confirmDialogEnable){if(this.confirmDialog)return;this.confirmDialog=Yy(t,this.confirmActionConfig),this.confirmDialog.once("destroy",function(){this.confirmDialog=void 0},this)}else this.runConfirmCallback()},this.onClick(this.onClickCallback,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.confirmDialog&&this.confirmDialog.destroy(),super.destroy(t),this.confirmActionConfig=void 0,this.onClickCallback=void 0,this.confirmDialog=void 0)}setConfirmCallback(t,s){return this.confirmActionConfig.confirm=t,this.confirmActionConfig.confirmScope=s,this}setCancelCallback(t,s){return this.confirmActionConfig.cancel=t,this.confirmActionConfig.cancelScope=s,this}setConfirmDialogContent(t){return this.confirmActionConfig.content=t,this}setConfitmDialogStyle(t){return this.confirmActionConfig.style=t,this}setConfitmDialogModalConfig(t){return this.confirmActionConfig.modal=t,this}setConfirmDialogEnable(t){return t===void 0&&(t=!0),this.confirmDialogEnable=t,this}runConfirmCallback(){var t=this.confirmActionConfig.confirm,s=this.confirmActionConfig.confirmScope;return t&&t.call(s),this}}st.register("confirmActionButton",function(e){var t=new Wy(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ConfirmActionButton",Wy);var T6=function(e){return e===void 0&&(e={}),C6.call(this,e),S6.call(this,e),P6.call(this,e),this},C6=function(e){var t=this.childrenMap.title;e.title===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.title))},S6=function(e){var t=this.childrenMap.firstNameTitle;if(e.firstNameTitle===null)this.hide(t);else{this.show(t);var s=e.firstNameTitle||"";t.resetDisplayContent(s)}var o=this.childrenMap.firstNameInput;if(e.firstName===null)this.hide(o);else{this.show(o);var y=e.firstName||"";o.setText(y)}var S=this.childrenMap.lastNameTitle;if(e.lastNameTitle===null)this.hide(S);else{this.show(S);var r=e.lastNameTitle||"";S.resetDisplayContent(r)}var C=this.childrenMap.lastNameInput;if(e.lastName===null)this.hide(C);else{this.show(C);var i=e.lastName||"";C.setText(i)}},P6=function(e){var t=this.childrenMap.actions[0];e.button===null?this.hide(t):(this.show(t),t.resetDisplayContent(e.button))};const E6=Phaser.Utils.Objects.Merge;var M6=function(e,t){xi(e)&&(t=e,e=void 0),e===void 0&&(e={}),e=E6(e,this.modalStyle),e.anyTouchClose=!1,e.manualClose=!1;var s=this,o=function(y){y.firstName=s.firstName,y.lastName=s.lastName,s.emit("confirm",y),t&&t(y)};return Ho.modal.call(this,e,o),this},w6={resetDisplayContent:T6,modal:M6},bs=function(e,t,s){s===void 0&&(s=!0),s?t=t?ce(t):{}:t||(t={});var o=new ma(e,t);return e.add.existing(o),o};const _e=Phaser.Utils.Objects.GetValue;var R6=function(e,t,s){var o=yr(_e(t,"layoutMode",0)),y=o===0,S=new Tt(e,{orientation:o,space:{item:_e(t,"space.firstName",0)}});e.add.existing(S);var r=new Tt(e,{orientation:"x"});e.add.existing(r);var C=_e(t,"firstNameTitle",t.nameTitle),i=fe(e,C,s.firstNameTitle||s.nameTitle);r.add(i,{expand:!0,proportion:_e(t,"proportion.firstNameTitle",0),padding:{right:_e(t,"space.firstNameTitle",0)}});var h=t.nameInput||{},x=_e(t,"firstNameInput",h),f=bs(e,x,s.firstNameInput||s.nameInput),l=!x.hasOwnProperty("width");r.add(f,{expand:!0,proportion:l?1:0});var a=new Tt(e,{orientation:"x"});e.add.existing(a);var n=_e(t,"lastNameTitle",t.nameTitle),d=fe(e,n,s.lastNameTitle||s.nameTitle);a.add(d,{expand:!0,proportion:_e(t,"proportion.lastNameTitle",0),padding:{right:_e(t,"space.lastNameTitle",0)}});var c=_e(t,"firstNameInput",h),u=bs(e,c,s.lastNameInput||s.nameInput),v=!c.hasOwnProperty("width");if(a.add(u,{expand:!0,proportion:v?1:0}),y){var p=l?1:0,g=_e(t,"proportion.firstName",p);S.add(r,{expand:!0,proportion:g});var m=v?1:0,T=_e(t,"proportion.lastName",m);S.add(a,{expand:!0,proportion:T})}else S.add(r,{expand:l,proportion:0}),S.add(a,{expand:v,proportion:0});return S.addChildrenMap("firstNameTitle",i),S.addChildrenMap("firstNameInput",f),S.addChildrenMap("lastNameTitle",d),S.addChildrenMap("lastNameInput",u),S};const A6=Phaser.Utils.Objects.GetValue;class sc extends Ga{constructor(t,s,o){s===void 0&&(s={}),o===void 0&&(o={}),s.orientation="y";var y=s.space;y&&(y.hasOwnProperty("names")&&(y.content=y.names),y.hasOwnProperty("namesLeft")&&(y.contentLeft=y.namesLeft),y.hasOwnProperty("namesRight")&&(y.contentRight=y.namesRight));var S=A6(o,"background",he);s.background=S(t,s.background),s.title=fe(t,s.title,o.title),s.content=R6(t,s,o),s.actions=[fe(t,s.button,o.button)],super(t,s),this.type="rexNameInputDialog";var r=s.content.childrenMap;this.addChildrenMap("firstNameTitle",r.firstNameTitle),this.addChildrenMap("firstNameInput",r.firstNameInput),this.addChildrenMap("lastNameTitle",r.lastNameTitle),this.addChildrenMap("lastNameInput",r.lastNameInput),this.addChildrenMap("button",s.actions[0]),Xy.call(this),this.modalStyle=s.modal||{}}get firstName(){return this.childrenMap.firstNameInput.text}set firstName(t){this.childrenMap.firstNameInput.setText(t)}setFirstName(t){return this.firstName=t,this}get lastName(){return this.childrenMap.lastNameInput.text}set lastName(t){this.childrenMap.lastNameInput.setText(t)}setLastName(t){return this.lastName=t,this}}Object.assign(sc.prototype,w6);st.register("nameInputDialog",function(e,t){var s=new sc(this.scene,e,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.NameInputDialog",sc);var ar=function(e,t){if(e){var s=He(e);s&&s.remove(e,t)}};const Wh=Phaser.Utils.Objects.GetValue;var Na=function(e,t,s){var o=Wh(e,`proportion.${t}`,s.proportion),y=Wh(e,`align.${t}`,"center"),S=Wh(e,`space.${t}`,void 0);if(typeof S=="number"&&s.paddingKey){var r=S;S={},S[s.paddingKey]=r}var C=Wh(e,`expand.${t}`,!0);return{proportion:o,align:y,padding:S,expand:C}},cl=function(e){return Na(e,"header",{proportion:0,paddingKey:"bottom"})},vl=function(e){return Na(e,"leftSide",{proportion:0,paddingKey:"right"})},pl=function(e){return Na(e,"content",{proportion:1})},gl=function(e){return Na(e,"rightSide",{proportion:0,paddingKey:"left"})},ml=function(e){return Na(e,"footer",{proportion:0,paddingKey:"top"})},Zi=function(e){return{proportion:1,align:"center",padding:0,expand:!0}},Ji=function(e,t){var s=new Tt(e,{orientation:t});return e.add.existing(s),s},O6=function(e){var t=this.scene,s=e.header;s&&this.add(s,cl(e));var o=Ji(t,0);this.add(o,Zi());var y=e.leftSide;y&&o.add(y,vl(e));var S=e.content;S&&o.add(S,pl(e));var r=e.rightSide;r&&o.add(r,gl(e));var C=e.footer;C&&this.add(C,ml(e))},L6=function(e){var t=this.scene,s=e.header;s&&this.add(s,cl(e));var o=Ji(t,0);this.add(o,Zi());var y=e.leftSide;y&&o.add(y,vl(e));var S=Ji(t,1);o.add(S,Zi());var r=Ji(t,0);S.add(r,Zi());var C=e.content;C&&r.add(C,pl(e));var i=e.rightSide;i&&r.add(i,gl(e));var h=e.footer;h&&S.add(h,ml(e))},b6=function(e){var t=this.scene,s=e.header;s&&this.add(s,cl(e));var o=Ji(t,0);this.add(o,Zi());var y=Ji(t,1);o.add(y,Zi());var S=Ji(t,0);y.add(S,Zi());var r=e.leftSide;r&&S.add(r,vl(e));var C=e.content;C&&S.add(C,pl(e));var i=e.footer;i&&y.add(i,ml(e));var h=e.rightSide;h&&o.add(h,gl(e))},F6=function(e){var t=this.scene,s=e.header;s&&this.add(s,cl(e));var o=Ji(t,0);this.add(o,Zi());var y=e.leftSide;y&&o.add(y,vl(e));var S=Ji(t,1);o.add(S,Zi());var r=e.content;r&&S.add(r,pl(e));var C=e.footer;C&&S.add(C,ml(e));var i=e.rightSide;i&&o.add(i,gl(e))};const D6=Phaser.Utils.Objects.GetValue,Bg=[O6,L6,b6,F6];var I6=function(e){e===void 0&&(e={});var t=e.background,s=e.header,o=e.leftSide,y=e.content,S=e.rightSide,r=e.footer;ar(t),ar(s),ar(o),ar(y),ar(S),ar(r),this.clear(!0),t&&this.addBackground(t);var C=D6(e,"layoutMode",0);typeof C=="string"&&(C=B6[C.toUpperCase()]);var i=Bg[C]||Bg[0];return i.call(this,e),this.addChildrenMap("background",t),this.addChildrenMap("header",s),this.addChildrenMap("leftSide",o),this.addChildrenMap("content",y),this.addChildrenMap("rightSide",S),this.addChildrenMap("footer",r),this};const B6={FFF:0,LFF:1,FFR:2,LFR:3};class rc extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexHolyGrail",this.build(s)}}var G6={build:I6};Object.assign(rc.prototype,G6);st.register("holyGrail",function(e){var t=new rc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.HolyGrail",rc);const N6={getButtonsSizer(e){return this.childrenMap[`${e}ButtonsSizer`]},getButton(e,t){var s=this.getButtonsSizer(e);return s?s.getButton(t):void 0},setButtonEnable(e,t,s){return this.getButtonsSizer(e).setButtonEnable(t,s),this},setLeftButtonEnable(e,t){return this.childrenMap.leftButtonsSizer.setButtonEnable(e,t),this},setRightButtonEnable(e,t){return this.childrenMap.rightButtonsSizer.setButtonEnable(e,t),this},setTopButtonEnable(e,t){return this.childrenMap.topButtonsSizer.setButtonEnable(e,t),this},setBottomButtonEnable(e,t){return this.childrenMap.bottomButtonsSizer.setButtonEnable(e,t),this},toggleButtonEnable(e,t){return this.getButtonsSizer(e).toggleButtonEnable(t),this},toggleLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.toggleButtonEnable(e),this},toggleRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.toggleButtonEnable(e),this},toggleTopButtonEnable(e){return this.childrenMap.topButtonsSizer.toggleButtonEnable(e),this},toggleBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.toggleButtonEnable(e),this},getButtonEnable(e,t){return this.getButtonsSizer(e).getButtonEnable(t)},getLeftButtonEnable(e){return this.childrenMap.leftButtonsSizer.getButtonEnable(e)},getRightButtonEnable(e){return this.childrenMap.rightButtonsSizer.getButtonEnable(e)},getTopButtonEnable(e){return this.childrenMap.topButtonsSizer.getButtonEnable(e)},getBottomButtonEnable(e){return this.childrenMap.bottomButtonsSizer.getButtonEnable(e)},emitButtonClick(e,t){var s=this.getButtonsSizer(e);return s?(s.emitButtonClick(t),this):this},emitLeftButtonClick(e){return this.childrenMap.leftButtonsSizer.emitButtonClick(e),this},emitRightButtonClick(e){return this.childrenMap.rightButtonsSizer.emitButtonClick(e),this},emitTopButtonClick(e){return this.childrenMap.topButtonsSizer.emitButtonClick(e),this},emitBottomButtonClick(e){return this.childrenMap.bottomButtonsSizer.emitButtonClick(e),this},getLeftButton(e){return this.childrenMap.leftButtonsSizer.getButton(e)},getRightButton(e){return this.childrenMap.rightButtonsSizer.getButton(e)},getTopButton(e){return this.childrenMap.topButtonsSizer.getButton(e)},getBottomButton(e){return this.childrenMap.bottomButtonsSizer.getButton(e)},showButton(e,t){return Ps(this.getButton(e,t)),this},showLeftButton(e){return Ps(this.getLeftButton(e)),this},showRightButton(e){return Ps(this.getRightButton(e)),this},showTopButton(e){return Ps(this.getTopButton(e)),this},showBottomButton(e){return Ps(this.getBottomButton(e)),this},hideButton(e,t){return Es(this.getButton(e,t)),this},hideLeftButton(e){return Es(this.getLeftButton(e)),this},hideRightButton(e){return Es(this.getRightButton(e)),this},hideTopButton(e){return Es(this.getTopButton(e)),this},hideBottomButton(e){return Es(this.getBottomButton(e)),this},addButton(e,t){return this.getButtonsSizer(e).addButton(t),this},addLeftButton(e){return this.addButton("left",e),this},addRightButton(e){return this.addButton("right",e),this},addTopButton(e){return this.addButton("top",e),this},removeButton(e,t,s){return this.getButtonsSizer(e).removeButton(t,s),this},removeLeftButton(e,t){return this.removeButton("left",e,t),this},removeRightButton(e,t){return this.removeButton("right",e,t),this},removeTopButton(e,t){return this.removeButton("top",e,t),this},removeBottomButton(e,t){return this.removeButton("bottom",e,t),this},clearButtons(e,t){return this.getButtonsSizer(e).clearButtons(t),this},clearLeftButtons(e){return this.clearButtons("left",e),this},clearRightButtons(e){return this.clearButtons("right",e),this},clearTopButtons(e){return this.clearButtons("top",e),this},clearBottomButtonss(e){return this.clearButtons("bottom",e),this},forEachButton(e,t,s){return this.getButtonsSizer(e).forEachButtton(t,s),this},forEachLeftButton(e,t){return this.childrenMap.leftButtonsSizer.forEachButtton(e,t),this},forEachRightButton(e,t){return this.childrenMap.rightButtonsSizer.forEachButtton(e,t),this},forEachTopButton(e,t){return this.childrenMap.topButtonsSizer.forEachButtton(e,t),this},forEachBottomButton(e,t){return this.childrenMap.bottomButtonsSizer.forEachButtton(e,t),this}},Lt=Phaser.Utils.Objects.GetValue;class nc extends Ci{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var o=Lt(s,"expand.panel",!1);o&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabs",this.eventEmitter=Lt(s,"eventEmitter",this);var y=Lt(s,"background",void 0),S=Lt(s,"panel",void 0),r=Lt(s,"leftButtons",void 0),C=Lt(s,"leftButtonsBackground",void 0),i,h=Lt(s,"rightButtons",void 0),x=Lt(s,"rightButtonsBackground",void 0),f,l=Lt(s,"topButtons",void 0),a=Lt(s,"topButtonsBackground",void 0),n,d=Lt(s,"bottomButtons",void 0),c=Lt(s,"bottomButtonsBackground",void 0),u,v=Lt(s,"click",void 0);if(y&&this.addBackground(y),S&&this.add(S,{column:1,row:1,expand:o}),r){var p=Lt(s,"space.leftButtonsOffset",0),g=Lt(s,"space.leftButton",0),m=Lt(s,"expand.leftButtons",!1),T=Lt(s,"align.leftButtons","top");i=new de(t,{groupName:"left",background:C,buttons:r,orientation:"y",space:{item:g},expand:m,click:v,eventEmitter:this.eventEmitter}),this.add(i,{column:0,row:1,align:T,padding:{top:p},expand:m})}if(h){var P=Lt(s,"space.rightButtonsOffset",0),E=Lt(s,"space.rightButton",0),M=Lt(s,"expand.rightButtons",!1),w=Lt(s,"align.rightButtons","top");f=new de(t,{groupName:"right",background:x,buttons:h,orientation:"y",space:{item:E},expand:M,click:v,eventEmitter:this.eventEmitter}),this.add(f,{column:2,row:1,align:w,padding:{top:P},expand:M})}if(l){var R=Lt(s,"space.topButtonsOffset",0),A=Lt(s,"space.topButton",0),O=Lt(s,"expand.topButtons",!1),F=Lt(s,"align.topButtons","left");n=new de(t,{groupName:"top",background:a,buttons:l,orientation:"x",space:{item:A},expand:O,align:Lt(s,"align.topButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(n,{column:1,row:0,align:F,padding:{left:R},expand:O})}if(d){var L=Lt(s,"space.bottomButtonsOffset",0),b=Lt(s,"space.bottomButton",0),D=Lt(s,"expand.bottomButtons",!1),I=Lt(s,"align.bottomButtons","left");u=new de(t,{groupName:"bottom",background:c,buttons:d,orientation:"x",space:{item:b},expand:D,align:Lt(s,"align.bottomButtons",void 0),click:v,eventEmitter:this.eventEmitter}),this.add(u,{column:1,row:2,align:I,padding:{left:L},expand:D})}this.addChildrenMap("background",y),this.addChildrenMap("panel",S),this.addChildrenMap("leftButtons",r),this.addChildrenMap("rightButtons",h),this.addChildrenMap("topButtons",l),this.addChildrenMap("bottomButtons",d),this.addChildrenMap("leftButtonsSizer",i),this.addChildrenMap("rightButtonsSizer",f),this.addChildrenMap("topButtonsSizer",n),this.addChildrenMap("bottomButtonsSizer",u)}}Object.assign(nc.prototype,N6);st.register("tabs",function(e){var t=new nc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tabs",nc);st.register("slider",function(e){var t=new mn(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Slider",mn);class Uy{constructor(t,s){this.container=null,this._deltaHeight=0,this.setParent(t)}setParent(t){this.parent=t,this.parentContainer=t.getParentContainer()}destroy(t){t===void 0&&(t=!1),t||this.destroyContainer(),this.deltaHeight=0,this.data=void 0,this.container=null,this.parent=void 0,this.parentContainer=void 0}get table(){return this.parent}get scrollMode(){return this.parentContainer.scrollMode}get colIndx(){return this.parent.cellIndxeToColIndex(this.index)}get rowIndx(){return this.parent.cellIndxeToRowIndex(this.index)}getContainer(){return this.container}setContainer(t){return t?(this.container&&this.container.destroy(),this.container=t,this.parentContainer.add(t),this):(this.destroyContainer(),this)}destroyContainer(){return this.container&&(this.container.destroy(),this.container=null),this}popContainer(){if(this.container){var t=this.container;return this.container=null,this.parentContainer.remove(t),t}else return null}setXY(t,s){return this.container&&this.parentContainer.setChildLocalPosition(this.container,t,s),this}setCellContainerAlign(t){return typeof t=="string"&&(t=pn[t]),this.cellContainerAlign=t,this}get deltaHeight(){return this._deltaHeight}set deltaHeight(t){t==null&&(t=0);var s=this.parent;this._deltaHeight===0&&t!==0?s.nonZeroDeltaHeightCount++:this._deltaHeight!==0&&t===0&&s.nonZeroDeltaHeightCount--;var o=this._deltaHeight!==t;if(this._deltaHeight=t,o){s.resetTotalRowsHeight();var y=this.scrollMode===0?"cellheightchange":"cellwidthchange";this.parentContainer.emit(y,this,this.container,this.parentContainer)}}get deltaWidth(){return this.deltaHeight}set deltaWidth(t){this.deltaHeight=t}setDeltaHeight(t){return this.deltaHeight=t,this}setDeltaWidth(t){return this.deltaHeight=t,this}get height(){return this.scrollMode===0?this.deltaHeight+this.parent.defaultCellHeight:this.parent.defaultCellWidth}set height(t){this.scrollMode!==1&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setHeight(t){return this.height=t,this}get width(){return this.scrollMode===0?this.parent.defaultCellWidth:this.deltaHeight+this.parent.defaultCellHeight}set width(t){this.scrollMode!==0&&this.setDeltaHeight(t-this.parent.defaultCellHeight)}setWidth(t){return this.width=t,this}get scene(){return this.parentContainer.scene}}Object.assign(Uy.prototype,wo);const Gg=Phaser.Utils.Objects.GetValue,k6=Phaser.Utils.Array.SpliceOne;class V6{constructor(t,s){this.parent=t,this.cells=[],this.cellPool=new Di,this.resetFromJSON(s)}resetFromJSON(t){t===void 0&&(t={}),this.colCount=void 0,this.nonZeroDeltaHeightCount=0,this.resetTotalRowsHeight();var s=t.cellHeight;s===void 0&&(s=60);var o=t.cellWidth;return o===void 0&&(o=60),this.setDefaultCellHeight(s),this.setDefaultCellWidth(o),this.initCells(Gg(t,"cellsCount",0)),this.setColumnCount(Gg(t,"columns",1)),this}destroy(t){this.cellPool.destroy(),this.cells=void 0,this.parent=void 0}get defaultCellHeightMode(){return this.nonZeroDeltaHeightCount===0}setDefaultCellHeight(t){return this.defaultCellHeight=t,this}setDefaultCellWidth(t){return this.defaultCellWidth=t,this}initCells(t){var s=this.cells;s.length=t;for(var o=0;o<t;o++)s[o]=null;return this}insertNewCells(t,s){var o=this.cells;if(t===o.length){var y=t+s;o.legth=y;for(var S=t;S<y;S++)o[S]=null}else{var r=[];r.length=s;for(var S=0;S<s;S++)r[S]=null;this.cells.splice(t,0,...r)}return this.resetTotalRowsHeight(),this}removeCells(t,s){for(var o=t+s,y=t;y<o;y++)this.freeCell(y);return o===this.cells.length?this.cells.length=t:(s===1?k6(this.cells,t):this.cells.splice(t,s),this.buildCellIndex(t)),this.resetTotalRowsHeight(),this}setColumnCount(t){this.colCount=t,this.resetTotalRowsHeight();var s=this.parent;if(s.expandCellSize){var o=s.scrollMode===0?s.width:s.height,y=o/t;this.setDefaultCellWidth(y)}return this}get rowCount(){return Math.ceil(this.cells.length/this.colCount)}get cellsCount(){return this.cells.length}isValidCellIdx(t){return t>=0&&t<this.cells.length}heightToRowIndex(t,s){if(s===void 0&&(s=0),t===0)return 0;if(this.defaultCellHeightMode){var C=t/this.defaultCellHeight;switch(s){case 1:C=Math.ceil(C);break;default:C=Math.floor(C);break}return C}for(var o=this.rowCount,y=t,S,r,C=0;;)if(r=this.getRowHeight(C),y-=r,S=C>=0&&C<o,y>0&&S)C+=1;else{if(y===0)return s===2&&(C+=1),C;if(s===1){var i=C;C+=1,S=C>=0&&C<o,S||(C=i)}return C}}widthToColIndex(t,s){if(t===0)return 0;var o=t/this.defaultCellWidth;return s?o=Math.ceil(o):o=Math.floor(o),o}colRowToCellIndex(t,s){return t>=this.colCount?null:s*this.colCount+t}rowIndexToHeight(t,s){if(this.defaultCellHeightMode)return(s-t+1)*this.defaultCellHeight;for(var o,y=0,S=t;S<=s;S++)o=this.getRowHeight(S),y+=o;return y}colIndexToWidth(t,s){return(s-t+1)*this.defaultCellWidth}getRowHeight(t){var s=this.colCount;if(s<=1)return this.getCellHeight(this.colRowToCellIndex(0,t));for(var o=0,y,S=0;S<s;S++)y=this.getCellHeight(this.colRowToCellIndex(S,t)),o<y&&(o=y);return o}getColWidth(t){return this.defaultCellWidth}getCellHeight(t){if(!this.isValidCellIdx(t))return 0;var s;if(this.defaultCellHeightMode)s=this.defaultCellHeight;else{var o=this.getCell(t,!1),y=o?o.deltaHeight:0;s=this.defaultCellHeight+y}return s}resetTotalRowsHeight(){this._totalRowsHeight=null}get totalRowsHeight(){return this._totalRowsHeight===null&&(this._totalRowsHeight=this.rowIndexToHeight(0,this.rowCount-1)),this._totalRowsHeight}get totalColumnWidth(){return this.colCount*this.defaultCellWidth}cellIndxeToColIndex(t){return t%this.colCount}cellIndxeToRowIndex(t){return Math.floor(t/this.colCount)}getCell(t,s){if(!this.isValidCellIdx(t))return null;if(s===void 0&&(s=!0),this.cells[t]===null&&s){var o=this.newCell(t);this.cells[t]=o}return this.cells[t]}newCell(t){var s=this.cellPool.pop();return s===null?s=new Uy(this):s.setParent(this),s.index=t,s}buildCellIndex(t){t===void 0&&(t=0);for(var s=this.cells,o,y=t,S=s.length;y<S;y++)o=s[y],o&&(o.index=y);return this}getParentContainer(){return this.parent}freeCell(t){return typeof t=="number"&&(t=this.cells[t]),t?(t.destroy(),this.cellPool.push(t),this):this}}var z6=function(e){var t=this.table,s=this.topTableOY,o=this.bottomTableOY,y=e>s,S=e<o;if(this.clampTableOXY){var r=t.rowCount,C=t.heightToRowIndex(this.instHeight,1);r<C?e=0:y?e=s:S&&(e=o)}return this._tableOY!==e&&(this._tableOY=e),y&&(this.execeedTopState||this.emit("execeedtop",this,e,s)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,e,o)),this.execeedBottomState=S,this},X6=function(e){var t=this.table,s=this.leftTableOX,o=this.rightTableOX,y=e>this.leftTableOX,S=e<this.rightTableOX;if(this.clampTableOXY){var r=t.colCount,C=t.widthToColIndex(this.instWidth,!0);r<C?e=0:y?e=s:S&&(e=o)}return this._tableOX!==e&&(this._tableOX=e),y&&(this.execeedLeftState||this.emit("execeedleft",this,e,s)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,e,o)),this.execeedRightState=S,this},ac=function(e){return e.hasOwnProperty("geometryMask")?e.geometryMask:e.bitmapMask};const Y6=Phaser.Geom.Intersects.RectangleToRectangle,W6=Phaser.Geom.Rectangle.Overlaps;var U6=function({parent:e,mask:t,children:s,onVisible:o,onInvisible:y,scope:S}){if(t){s===void 0&&(s=e.getAllChildren());for(var r=!!o||!!y,C=e.getBounds(),i=ac(t),h,x,f,l,a=0,n=s.length;a<n;a++)if(h=s[a],h!==i&&H6(h)){if(l=h.visible,h.getBounds)switch(x=h.getBounds(x),f=$6(C,x),f){case 4:K6(e,h);break;case 0:Y6(C,x)||W6(C,x)?_u(e,h,t):Z6(e,h);break;default:_u(e,h,t);break}else _u(e,h,t);if(r&&h.visible!==l){var d=h.visible?o:y;d&&(S?d.call(S,h,e):d(h,e))}}}},H6=function(e){if(!e.displayList)return!1;for(;;){var t=e.rexContainer;if(t)if(t.visible){var s=t.parent;if(s){e=s;continue}else return!0}else return!1;else return e.visible}},$6=function(e,t){var s=t.top,o=t.bottom,y=t.left,S=t.right,r=0;return r+=e.contains(y,s)?1:0,r+=e.contains(y,o)?1:0,r+=e.contains(S,s)?1:0,r+=e.contains(S,o)?1:0,r},K6=function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!0))},_u=function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!0),t.syncChildrenEnable=!0):(t.setMask&&t.setMask(s),e.setChildMaskVisible(t,!0))},Z6=function(e,t,s){t.hasOwnProperty("isRexContainerLite")?(t.syncChildrenEnable=!1,e.setChildMaskVisible(t,!1),t.syncChildrenEnable=!0):(t.clearMask&&t.clearMask(),e.setChildMaskVisible(t,!1))};const Hr=Phaser.Utils.Objects.GetValue,J6={update:0,everyTick:1},Hy={setupChildrenMask(e){return e===!1?this:(this.setMaskUpdateMode(Hr(e,"updateMode",0)),this.enableChildrenMask(Hr(e,"padding",0)),this.setMaskLayer(Hr(e,"layer",void 0)),this.onMaskGameObjectVisible=Hr(e,"onVisible"),this.onMaskGameObjectInvisible=Hr(e,"onInvisible"),this.maskGameObjectCallbackScope=Hr(e,"scope"),this.startMaskUpdate(),this)},destroyChildrenMask(){return this.childrenMask?(this.stopMaskUpdate(),this.childrenMask.destroy(),this.childrenMask=void 0,this.onMaskGameObjectVisible=null,this.onMaskGameObjectInvisible=null,this.maskGameObjectCallbackScope=null,this):this},setMaskUpdateMode(e){return typeof e=="string"&&(e=J6[e]),this.maskUpdateMode=e,this},startMaskUpdate(){this.scene.game.events.on("poststep",this.maskChildren,this)},stopMaskUpdate(){this.scene.game.events.off("poststep",this.maskChildren,this)},enableChildrenMask(e){var t=Ti.call(this,null,this,0,e);return this.childrenMask=t.createGeometryMask(),this},setMaskChildrenFlag(e){return e===void 0&&(e=!0),this.maskChildrenFlag=e,this},setMaskLayer(e){return this.maskLayer=e,this},maskChildren(){return!this.childrenMask||!this.maskChildrenFlag||this.alpha===0||!this.visible?this:(this.privateRenderLayer?this.privateRenderLayer.setMask(this.childrenMask):this.maskLayer?(this.addToLayer(this.maskLayer),this.maskLayer.setMask(this.childrenMask)):U6({parent:this,mask:this.childrenMask,onVisible:this.onMaskGameObjectVisible,onInvisible:this.onMaskGameObjectInvisible,scope:this.maskGameObjectCallbackScope}),this.maskUpdateMode===0&&(this.maskChildrenFlag=!1),this)},layoutChildrenMask(){if(!this.childrenMask)return this;var e=ac(this.childrenMask);return e.setPosition().resize(),this.resetChildPositionState(e),this}};var Q6=function(){if(this.cellsCount!==0){var e=this.scaleX,t=this.scaleY,s=e===1&&t===1;s||this.setScale(1);var o=this.table,y=this.tableOYOffset,S=this.tableOY+y,r=this.tableOX;this.startRowIndex=Math.max(o.heightToRowIndex(-S,2),0);for(var C=this.startRowIndex,i=Math.max(o.widthToColIndex(-r),0),h=i,x=o.colRowToCellIndex(h,C),f=this.bottomBound,l=this.rightBound,a=o.cellsCount-1,n=o.colCount-1,d=this.getCellTLX(h),c=d,u=this.getCellTLY(C)+y,v=u;v<f&&x<=a;){if(this.table.isValidCellIdx(x)){var p=o.getCell(x,!0);this.visibleCells.set(p),this.preVisibleCells.contains(p)||this.showCell(p);var g,m;if(this.scrollMode===0?(g=c,m=v):(g=v,m=c),p.cellContainerAlign==null)p.setXY(g,m);else{var T=p.getContainer();Ca(T,g,m,p.width,p.height,p.cellContainerAlign),p.setXY(T.x,T.y)}}c<l&&h<n?(c+=o.getColWidth(h),h+=1):(c=d,v+=o.getRowHeight(C),h=i,C+=1),x=o.colRowToCellIndex(h,C)}s||this.setScale(e,t)}},$y=function(e){var t=null,s=e.getContainer();if(s?(t=s,e.popContainer()):this.cellContainersPool&&(t=this.cellContainersPool.getFirstDead(),t!==null&&t.setActive(!0).setVisible(!0)),this.emit("cellvisible",e,t,this),this.cellContainersPool){var s=e.getContainer();s?t===null?this.cellContainersPool.add(s):t!==s&&(this.cellContainersPool.add(s),this.cellContainersPool.killAndHide(t)):t!==null&&this.cellContainersPool.killAndHide(t)}},j6=function(e){var t=this.scrollMode===0?this.topLeftX:this.topLeftY,s=this.tableOX+this.table.colIndexToWidth(0,e-1)+t;return s},q6=function(e){var t=this.scrollMode===0?this.topLeftY:this.topLeftX,s=this.tableOY+this.table.rowIndexToHeight(0,e-1)+t;return s},_6=function(){var e=this.preVisibleCells,t=this.visibleCells;e.iterate(function(s){t.contains(s)||this.hideCell(s)},this)},Ky=function(e){if(this.emit("cellinvisible",e),this.cellContainersPool){var t=e.popContainer();t&&(t.setScale(1).setAlpha(1),this.cellContainersPool.killAndHide(t))}e.destroyContainer()},t7=function(e,t){return e===void 0&&(e=!1),t===void 0&&(t=!1),e&&(Ng.call(this),this.hideCells()),Ng.call(this),this.showCells(),this.hideCells(),this.setMaskChildrenFlag(),t&&(this.layoutChildrenMask(),this.maskChildren()),this},Ng=function(){var e=this.preVisibleCells;this.preVisibleCells=this.visibleCells,this.visibleCells=e,this.visibleCells.clear()},e7=function(e){var t=this.table.getCell(e,!1);return t&&this.visibleCells.contains(t)},Zy=function(e,t){t-=this.y+this.topLeftY,e-=this.x+this.topLeftX;var s=this.tableOY-(this.scrollMode===0?t:e),o=this.tableOX-(this.scrollMode===0?e:t),y=this.table,S=y.heightToRowIndex(-s,0),r=y.widthToColIndex(-o),C=y.colRowToCellIndex(r,S);return C===null||!this.isCellVisible(C)?null:C},i7=function(e,t){var s=Zy.call(this,e,t);if(s!==null)return this.getCellContainer(s)},s7=function(e,t){return this.visibleCells.each(e,t),this},r7=function(e,t){return this.visibleCells.iterate(e,t),this},n7=function(e,t){return this.table.cells.slice().forEach(e,t),this},a7=function(e,t){return this.table.cells.forEach(e,t),this},h7=function(e){var t=this.cellsCount;return t===e?this:(t>e?this.removeCells(e,t-e):this.insertNewCells(t,e-t),this)};const o7=Phaser.Math.Clamp;var l7=function(e,t){return typeof e=="object"&&(e=e.index),t===void 0&&(t=1),t<=0?this:(e=o7(e,0,this.cellsCount),this.table.insertNewCells(e,t),this)},u7=function(e,t){if(typeof e=="object"&&(e=e.index),t===void 0&&(t=1),e<0&&(t+=e,e=0),t<=0)return this;if(e>this.cellsCount)return this;for(var s,o=e,y=e+t;o<y;o++)s=this.getCell(o,!1),s&&(this.visibleCells.contains(s)&&(Ky.call(this,s),this.visibleCells.delete(s)),this.preVisibleCells.delete(s));return this.table.removeCells(e,t),this},d7=function(e){return this.table.colCount===e?this:(this.table.setColumnCount(e),this)},f7=function(e,t){return this.setCellsCount(e*t),this.table.setColumnCount(e),this},c7=function(e){var t=this.table.getCell(e,!1);return!t||!t.container?this:($y.call(this,t),this)},Jy={setTableOY:z6,setTableOX:X6,showCells:Q6,showCell:$y,getCellTLX:j6,getCellTLY:q6,hideCells:_6,hideCell:Ky,updateTable:t7,isCellVisible:e7,pointToCellIndex:Zy,pointToCellContainer:i7,eachVisibleCell:s7,iterateVisibleCell:r7,eachCell:n7,iterateCell:a7,setCellsCount:h7,insertNewCells:l7,removeCells:u7,setColumnCount:d7,setGridSize:f7,updateVisibleCell:c7};Object.assign(Jy,Hy);const v7=Phaser.GameObjects.Group,kg=Phaser.Structs.Set,ti=Phaser.Utils.Objects.GetValue;let Qy=class extends $e{constructor(t,s,o,y,S,r){r===void 0&&(r={}),super(t,s,o,y,S),this.type="rexGridTable",this._tableOX=0,this._tableOY=0,this.visibleCells=new kg,this.preVisibleCells=new kg,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1;var C=ti(r,"reuseCellContainer",!1);C&&(this.cellContainersPool=new v7(t));var i=ti(r,"cellVisibleCallback",null);if(i!==null){var h=ti(r,"cellVisibleCallbackScope",void 0);this.on("cellvisible",i,h)}if(i=ti(r,"cellInvisibleCallback",null),i!==null){var h=ti(r,"cellInvisibleCallbackScope",void 0);this.on("cellinvisible",i,h)}ti(r,"enableLayer",!1)&&this.enableLayer(),this.setupChildrenMask(ti(r,"mask",void 0)),this.setScrollMode(ti(r,"scrollMode",0)),this.setClampMode(ti(r,"clampTableOXY",!0)),this.setStartFromBottomEnable(ti(r,"startFromBottom",!1));var x,f,l,a=this.scrollMode===0;if(a?(x=r.cellWidth,f=r.cellHeight,l=r.columns):(x=r.cellHeight,f=r.cellWidth,l=ti(r,"rows",r.columns)),this.fixedCellSize=ti(r,"fixedCellSize",!1),this.expandCellSize=!this.fixedCellSize&&x===void 0,l||(l=1),this.fixedCellSize)l=Math.max(Math.floor(this.instWidth/x),1);else if(this.expandCellSize){var y=a?this.width:this.height;x=y/l}r.cellWidth=x,r.cellHeight=f,r.columns=l,this.table=new V6(this,r),this.updateTable()}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.table.destroy(t),this.table=void 0,this.cellContainersPool&&(this.cellContainersPool.destroy(!0),this.cellContainersPool=void 0),super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=p7[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t){return t===void 0&&(t=!0),this.clampTableOXY=t,this}setStartFromBottomEnable(t){return t===void 0&&(t=!0),this.startFromBottomEnable=t,this}get tableOY(){return this._tableOY}get tableOX(){return this._tableOX}set tableOY(t){this.setTableOY(t).updateTable()}set tableOX(t){this.setTableOX(t).updateTable()}setTableOXY(t,s){return this.setTableOY(s).setTableOX(t),this}addTableOY(t){return this.setTableOY(this.tableOY+t),this}addTableOX(t){return this.setTableOX(this.tableOX+t),this}addTableOXY(t,s){return this.addTableOY(s).addTableOX(t),this}setTableOYByPercentage(t){return this.setTableOY(-this.tableVisibleHeight*t),this}getTableOYPercentage(){var t=this.tableVisibleHeight;return t===0?0:this.tableOY/-t}setTableOXByPercentage(t){return this.setTableOX(-this.tableVisibleWidth*t),this}getTableOXPercentage(){var t=this.tableVisibleWidth;return t===0?0:this.tableOX/-t}set t(t){this.setTableOYByPercentage(t).updateTable()}get t(){return this.getTableOYPercentage()}set s(t){this.setTableOXByPercentage(t).updateTable()}get s(){return this.getTableOXPercentage()}scrollToBottom(){if(this.t=1,this.t===0)return this;do this.t=1;while(this.t!==1);return this}scrollToRow(t){this.scrollToBottom();var s=this.table.rowIndexToHeight(0,t-1);return this.setTableOY(-s).updateTable(),this}scrollToNextRow(t){return t===void 0&&(t=1),this.scrollToRow(this.startRowIndex+t),this}getCell(t){return this.table.getCell(t,!0)}getCellContainer(t){var s=this.table.getCell(t,!1),o;return s&&(o=s.getContainer()),o}get cellsCount(){return this.table.cellsCount}get columnCount(){return this.table.colCount}setCellHeight(t,s){var o;return typeof t=="number"?o=this.table.getCell(t,!0):o=t,o.height=s,this}setCellWidth(t,s){var o;return typeof t=="number"?o=this.table.getCell(t,!0):o=t,o.width=s,this}resetAllCellsSize(t,s){if(this.scrollMode===1){var o=t;t=s,s=o}this.table.setDefaultCellHeight(s).setDefaultCellWidth(t);for(var y=this.table.cells,S=0,r=y.length;S<r;S++){var C=y[S];C&&(C.deltaHeight=0)}if(this.fixedCellSize){var i=Math.floor(this.instWidth/t);this.table.setColumnCount(i)}return this.updateTable(!0,!0),this}get instHeight(){return this.scrollMode===0?this.height:this.width}get instWidth(){return this.scrollMode===0?this.width:this.height}get tableHeight(){return this.table.totalRowsHeight}get tableWidth(){return this.table.totalColumnWidth}get tableOYOffset(){if(this.startFromBottomEnable){var t=this.tableHeight-this.instHeight;if(t<0)return-t}return 0}get topTableOY(){return 0}get bottomTableOY(){return-this.tableVisibleHeight}get leftTableOX(){return 0}get rightTableOX(){return-this.tableVisibleWidth}get tableVisibleHeight(){var t=this.tableHeight-this.instHeight;return t<0&&(t=0),t}get tableVisibleWidth(){var t=this.tableWidth-this.instWidth;return t<0&&(t=0),t}get bottomLeftY(){return-(this.displayHeight*this.originY)+this.displayHeight}get topRightX(){return-(this.displayWidth*this.originX)+this.displayWidth}get topLeftX(){return-(this.displayWidth*this.originX)}get topLeftY(){return-(this.displayHeight*this.originY)}get bottomBound(){return this.scrollMode===0?this.bottomLeftY:this.topRightX}get rightBound(){return this.scrollMode===0?this.topRightX:this.bottomLeftY}resize(t,s){if(this.width===t&&this.height===s)return this;if(super.resize(t,s),this.fixedCellSize){var o=Math.floor(this.instWidth/this.table.defaultCellWidth);this.table.setColumnCount(o)}else this.expandCellSize&&this.table.setDefaultCellWidth(this.instWidth/this.table.colCount);return this.updateTable(!0,!0),this}};Object.assign(Qy.prototype,Jy);const p7={v:0,vertical:0,h:1,horizontal:1};var g7=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.tableOY},set:function(t){e.tableOY=t}}),Object.defineProperty(e,"childOX",{configurable:!0,get:function(){return e.tableOX},set:function(t){e.tableOX=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTableOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTableOY}}),Object.defineProperty(e,"leftChildOX",{get:function(){return e.leftTableOX}}),Object.defineProperty(e,"rightChildOX",{get:function(){return e.rightTableOX}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.instHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.tableHeight}}),Object.defineProperty(e,"childVisibleWidth",{get:function(){return e.instWidth}}),Object.defineProperty(e,"childWidth",{get:function(){return e.tableWidth}})},m7=function(e){e.on("cellvisible",function(t,r,o){var y=this.createCellContainerCallback,S=this.createCellContainerCallbackScope;t.item=this.items[t.index],t.items=this.items;var r;S?r=y.call(S,t,r,o):r=y(t,r,o),r&&(t.cellContainerAlign==null&&r.setOrigin&&r.setOrigin(0),r.isRexSizer&&r.layout()),t.item=void 0,t.items=void 0,t.setContainer(r)},this)},Gi=function(e,t,s,o,y,S,r){var C;if(y===void 0)C=o;else{var i=S.camera,h=o+i.scrollX*(s.scrollFactorX-1),x=y+i.scrollY*(s.scrollFactorY-1);C=s.pointToCellIndex(h,x)}if(C!=null){var f=s.getCellContainer(C);f&&e.emit(t,f,C,S,r)}},x7=function(e,t){e.on("pointerdown",function(s,o,y,S){Gi(this.eventEmitter,"cell.down",e,s.worldX,s.worldY,s,S)},this).on("pointerup",function(s,o,y,S){Gi(this.eventEmitter,"cell.up",e,s.worldX,s.worldY,s,S)},this)},y7=function(e,t){e.on("pointermove",Vg,this).on("pointerover",Vg,this).on("pointerout",T7,this)},Vg=function(e,t,s,o){var y=this.childrenMap.child,S=e.camera,r=e.worldX+S.scrollX*(y.scrollFactorX-1),C=e.worldY+S.scrollY*(y.scrollFactorY-1),i=y.pointToCellIndex(r,C);if(i!==y.input.lastOverCellIndex){var h=y.input.lastOverCellIndex;y.input.lastOverCellIndex=i,Gi(this.eventEmitter,"cell.out",y,h,void 0,e,o),Gi(this.eventEmitter,"cell.over",y,i,void 0,e,o)}},T7=function(e,t){var s=this.childrenMap.child,o=s.input.lastOverCellIndex;s.input.lastOverCellIndex=void 0,Gi(this.eventEmitter,"cell.out",s,o,void 0,e,t)};const C7=Phaser.Utils.Objects.GetValue;var S7=function(e,t){var s=C7(t,"click",void 0);s!==!1&&(s===void 0&&(s={}),s.threshold=10,e._click=new ts(e,s),e._click.on("click",function(o,y,S,r){Gi(this.eventEmitter,"cell.click",y,S.worldX,S.worldY,S,r)},this))};const P7=Phaser.Utils.Objects.GetValue;var E7=function(e,t){var s=P7(t,"tap",void 0);s!==!1&&(e._tap=new Ko(e,s),e._tap.on("tap",function(o,y,S){var r=`cell.${o.tapsCount}tap`;Gi(this.eventEmitter,r,o.gameObject,o.worldX,o.worldY,S)},this))};const M7=Phaser.Utils.Objects.GetValue;var w7=function(e,t){var s=M7(t,"press",void 0);s!==!1&&(e._press=new Zo(e,s),e._press.on("pressstart",function(o,y,S){Gi(this.eventEmitter,"cell.pressstart",e,o.worldX,o.worldY,S)},this).on("pressend",function(o,y,S){Gi(this.eventEmitter,"cell.pressend",e,o.worldX,o.worldY,S)},this))};const R7=Phaser.Utils.Objects.GetValue;var A7=function(e,t){var s=R7(t,"swipe",void 0);s!==!1&&(s===void 0&&(s={}),s.dir="4dir",e._swipe=new Ra(e,s),e._swipe.on("swipe",function(o,y,S){var r=o.left?"left":o.right?"right":o.up?"up":"down";Gi(this.eventEmitter,`cell.swipe${r}`,e,o.worldX,o.worldY,S)},this))},O7=function(e,t){e.setInteractive(),x7.call(this,e,t),y7.call(this,e,t),S7.call(this,e,t),E7.call(this,e,t),w7.call(this,e,t),A7.call(this,e,t)},L7=function(e,t){e===void 0?this.items=[]:this.items=e,t===void 0&&(t=!0);var s=this.childrenMap.child;return s.setCellsCount(this.items.length),t&&(s.updateTable(!0),this.resizeController()),this};const b7={scrollToRow(e){var t=this.childrenMap.child;return t.scrollToRow(e),this},scrollToNextRow(e){var t=this.childrenMap.child;return t.scrollToNextRow(e),this}},ci=Phaser.Utils.Objects.GetValue;class hc extends Da{constructor(t,s){s===void 0&&(s={});var o=Qf(s),y=ci(s,"table",void 0);y===void 0&&(y={}),y.scrollMode=o===2?0:o,y.clampTableOXY=ci(s,"clampChildOY",!1);var S=ci(y,"width",void 0),r=ci(y,"height",void 0),C=new Qy(t,0,0,S,r,y);t.add.existing(C);var i,h;y.scrollMode===0?(i=S===void 0,h=r===void 0):(i=r===void 0,h=S===void 0),g7(C),C._minWidth=S===void 0?0:void 0,C._minHeight=r===void 0?0:void 0,s.type="rexGridTable",s.child={gameObject:C,expandWidth:i,expandHeight:h};var x=ci(s,"space",void 0);x&&(x.child=ci(x,"table",0)),super(t,s),this.addChildrenMap("table",C),this.addChildrenMap("tableLayer",C.maskLayer),this.eventEmitter=ci(s,"eventEmitter",this);var f=ci(s,"createCellContainerCallback",ae),l=ci(s,"createCellContainerCallbackScope",void 0);this.setCreateCellContainerCallback(f,l),m7.call(this,C),this.resizeControllerFlag=!1;var a=o===0?"cellheightchange":"cellwidthchange";C.on(a,function(){this.resizeControllerFlag=!0},this),ci(y,"interactive",!0)&&O7.call(this,C,y),this.setItems(ci(s,"items",[]),!1),t.game.events.on("poststep",this.onPostStep,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.scene.game.events.off("poststep",this.onPostStep,this),super.destroy(t))}setCreateCellContainerCallback(t,s){return this.createCellContainerCallback=t,this.createCellContainerCallbackScope=s,this}refresh(){return this.setItems(this.items),this}getCell(t){var s=this.childrenMap.child;return s.getCell(t)}getCellContainer(t){var s=this.childrenMap.child;return s.getCellContainer(t)}updateVisibleCell(t){var s=this.childrenMap.child;return s.updateVisibleCell(t)}resetAllCellsSize(t,s){var o=this.childrenMap.child;return o.resetAllCellsSize(t,s),this}onPostStep(){this.resizeControllerFlag&&(this.resizeController(),this.resizeControllerFlag=!1)}get startRowIndex(){var t=this.childrenMap.child;return t.startRowIndex}}var F7={setItems:L7};Object.assign(hc.prototype,b7,F7);st.register("gridTable",function(e){var t=new hc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.GridTable",hc);var oc=function(e,t){return e.sameOrientation?e.orientation=t.orientation:e.orientation=t.orientation===0?1:0,e},D7=function(e,t){e.popUp(oc(e.root.easeIn,e))},I7=function(e,t){e.scaleDown(oc(e.root.easeOut,e))};const B7={setTransitInCallback(e){return e===void 0&&(e=D7),this.transitInCallback=e,this},setTransitOutCallback(e){return e===void 0&&(e=I7),this.transitOutCallback=e,this}};var G7=function(e,t,s,o,y){var S=cn(e),r=S.time.delayedCall(t,function(){S.sys.events.once("postupdate",function(){s.call(o,y)})});return r};const N7={delayCall(e,t,s){return this.timer=G7(this,e,t,s),this},removeDelayCall(){return this.timer&&(this.timer.remove(!1),this.timer=void 0),this}};var k7=function(e,t){var o=this.childrenMap.subMenu;if(o&&o.parentButton===e)return this;this.collapseSubMenu();var s;this.root.toggleOrientation?s=this.orientation===0?1:0:s=this.orientation;var o=new this.constructor(this.scene,{items:t,orientation:s,space:this.space,createBackgroundCallback:this.root.createBackgroundCallback,createBackgroundCallbackScope:this.root.createBackgroundCallbackScope,createButtonCallback:this.root.createButtonCallback,createButtonCallbackScope:this.root.createButtonCallbackScope,easeIn:this.root.easeIn,easeOut:this.root.easeOut,_rootMenu:this.root,_parentMenu:this,_parentButton:e});return this.pin(o),this.childrenMap.subMenu=o,this.root.emit("expand",o,e,this),this},V7=function(){var e=this.root;e.emit("collapse",this,this.parentButton,e);var t=e.easeOut.duration;return e.transitOutCallback(this,t),this.collapseSubMenu(),this.delayCall(t,this.destroy,this),this},z7=function(){var e=this.childrenMap.subMenu;return e===void 0?this:(this.childrenMap.subMenu=void 0,this.remove(e),e.collapse(),this)},jy={expandSubMenu:k7,collapse:V7,collapseSubMenu:z7};Object.assign(jy,B7,N7);var X7=function(e,t,s,o){var y;return s&&(t.scene=e,o?y=s.call(o,t):y=s(t),t.scene=void 0),y},Y7=function(e,t,s,o){var y,S=[],r;if(t&&s)for(var C=0,i=t.length;C<i;C++)y=t[C],y.scene=e,o?r=s.call(o,y,C,t):r=s(y,C,t),y.scene=void 0,S.push(r);return S},W7=function(e){e.on(e.root.expandEventName,function(t,s){if(!this._isPassedEvent){var o=this.root.childrenKey,y=this.items[s][o];y&&this.expandSubMenu(t,y)}},e).on("button.click",function(t,s,o,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.click",t,s,o,y),this.root._isPassedEvent=!1)},e).on("button.over",function(t,s,o,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.over",t,s,o,y),this.root._isPassedEvent=!1)},e).on("button.out",function(t,s,o,y){this!==this.root&&(this.root._isPassedEvent=!0,this.root.emit("button.out",t,s,o,y),this.root._isPassedEvent=!1)},e)},zg=function(e,t){return typeof t=="number"&&(t={duration:t}),t.hasOwnProperty("orientation")&&t.orientation!==void 0?t.sameOrientation=yr(t.orientation)===e.orientation:t.sameOrientation=!0,t.destroy=!1,t},U7=function(){var e=this.root,t=e.easeIn.duration;e.transitInCallback(this,t),this!==this.root&&this.delayCall(t,function(){this.root.emit("popup.complete",this)},this)};const Oe=Phaser.Utils.Objects.GetValue;class lc extends de{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1);var o=s._rootMenu,y=s._parentMenu,S=s._parentButton,r=Oe(s,"popup",!0),C=Oe(s,"items",void 0),i=Oe(s,"createBackgroundCallback",void 0),h=Oe(s,"createBackgroundCallbackScope",void 0);s.background=X7(t,C,i,h);var x=Oe(s,"createButtonCallback",void 0),f=Oe(s,"createButtonCallbackScope",void 0);if(s.buttons=Y7(t,C,x,f),super(t,s),this.type="rexMenu",this.items=C,this.root=o===void 0?this:o,this.isRoot=this.root===this,this.parentMenu=y,this.parentButton=S,this.timer=void 0,this.isRoot){this.isPopUpMode=r;var l=s.bounds;l===void 0&&(l=fn(t)),this.bounds=l,this.subMenuSide=[this.y<l.centerY?bd:ao,this.x<l.centerX?Ld:no];var a=Oe(s,"subMenuSide",void 0);a!==void 0&&(typeof a=="string"&&(a=H7[a]),this.subMenuSide[this.orientation]=a),this.toggleOrientation=Oe(s,"toggleOrientation",!1),this.expandEventName=Oe(s,"expandEvent","button.click"),this.easeIn=zg(this,Oe(s,"easeIn",0)),this.easeOut=zg(this,Oe(s,"easeOut",0)),this.setTransitInCallback(Oe(s,"transitIn")),this.setTransitOutCallback(Oe(s,"transitOut")),this.createBackgroundCallback=i,this.createBackgroundCallbackScope=h,this.createButtonCallback=x,this.createButtonCallbackScope=f,this.childrenKey=Oe(s,"childrenKey","children"),this._isPassedEvent=!1,this.pointerDownOutsideCollapsing=Oe(s,"pointerDownOutsideCollapsing",!0),this.pointerDownOutsideCollapsing&&t.input.on("pointerdown",this.onPointerDownOutside,this)}var n=0,d=0;if(!this.root.easeIn.sameOrientation){var c=oc(this.root.easeIn,this).orientation,u=y?y.orientation:this.orientation,a=this.root.subMenuSide[u];c===0&&a===no&&(n=1),c===1&&a===ao&&(d=1)}if(r&&this.setOrigin(n,d).layout(),!this.isRoot){this.setScale(this.root.scaleX,this.root.scaleY);var a=this.root.subMenuSide[y.orientation];switch(a){case no:this.alignTop(S.top).alignRight(S.left);break;case Ld:this.alignTop(S.top).alignLeft(S.right);break;case ao:this.alignLeft(S.left).alignBottom(S.top);break;case bd:this.alignLeft(S.left).alignTop(S.bottom);break}}W7(this),r&&(this.pushIntoBounds(this.root.bounds),U7.call(this))}destroy(t){!this.scene||this.ignoreDestroy||(this.isRoot&&this.pointerDownOutsideCollapsing&&this.scene.input.off("pointerdown",this.onPointerDownOutside,this),super.destroy(t),this.removeDelayCall())}isInTouching(t){return super.isInTouching(t)?!0:this.childrenMap.subMenu?this.childrenMap.subMenu.isInTouching(t):!1}onPointerDownOutside(t){this.isInTouching(t)||(this.isPopUpMode?this.collapse():this.collapseSubMenu())}}const no=2,Ld=0,ao=3,bd=1,H7={up:ao,down:bd,left:no,right:Ld};Object.assign(lc.prototype,jy);st.register("menu",function(e){var t=new lc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Menu",lc);var $7={setWrapEnable(e){return e===void 0&&(e=!0),this.listWrapEnable=e,this},setCreateButtonCallback(e){return this.listCreateButtonCallback=e,this},setCreateListBackgroundCallback(e){return this.listCreateBackgroundCallback=e,this},setCreateListSliderTrackCallback(e){return this.listCreateSliderTrackCallback=e,this},setCreateListSliderThumbCallback(e){return this.listCreateSliderThumbCallback=e,this},setListSliderAdaptThumbSizeEnable(e){return e===void 0&&(e=!0),this.listSliderAdaptThumbSizeEnable=e,this},setListScrollerConfig(e){return e===void 0&&(e={}),this.listScrollerConfig=e,this},setListMouseWheelScrollerConfig(e){return this.listMouseWheelScrollerConfig=e,this},setButtonClickCallback(e){return this.listOnButtonClick=e,this},setButtonOverCallback(e){return this.listOnButtonOver=e,this},setButtonOutCallback(e){return this.listOnButtonOut=e,this},setListExpandDirection(e){return typeof e=="string"&&(e=K7[e]),this.listExpandDirection=e,this},setListEaseInDuration(e){return e===void 0&&(e=0),this.listEaseInDuration=e,this},setListEaseOutDuration(e){return e===void 0&&(e=0),this.listEaseOutDuration=e,this},setListTransitInCallback(e){return this.listTransitInCallback=e,this},settListTransitOutCallback(e){return this.listTransitOutCallback=e,this},setListBounds(e){return this.listBounds=e,this},setListWidth(e){return this.listWidth=e,this},setListHeight(e){return this.listHeight=e,this},setListSize(e,t){return this.setListWidth(e).setListHeight(t),this},setListMaxHeight(e){return this.listMaxHeight=e,this},setListAlignmentMode(e){return this.listAlignMode=e,this},setListAlignmentSide(e){return e===void 0&&(e=""),this.listAlignSide=e,this},setListSpace(e){return e===void 0&&(e={}),this.listSpace=e,this},setListDraggable(e){return e===void 0&&(e=!0),this.listDraggable=e,this}};const K7={down:0,up:1};var Z7=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer,o=!1;if(s.hidden)e=0;else switch(this.scrollMode){case 0:e=this.getChildWidth(t),e===void 0&&(o=!0);break;case 1:e=0;break;default:e=0;break}if(!o)return e},J7=function(){if(this.rexSizer.hidden)return 0;var e,t=this.child,s=t.rexSizer,o=!1;if(s.hidden)e=0;else switch(this.scrollMode){case 0:e=0;break;case 1:e=this.getChildHeight(t),e===void 0&&(o=!0);break;default:e=0;break}if(!o)return e},Q7=function(e){return e===void 0&&(e=[]),this.child&&this.child.isRexSizer&&e.push(this.child),e},j7=function(){var e=this.left,t=this.top;switch(this.scrollMode){case 0:t+=this.childOY;break;case 1:e+=this.childOY;break;default:t+=this.childOY,e+=this.childOX;break}this.child.setPosition(e,t),this.resetChildPositionState(this.child),this.setMaskChildrenFlag()},q7=function(){var e=this.child,t,s;if(!e.rexSizer.hidden){switch(this.scrollMode){case 0:t=this.width*this.scaleX;break;case 1:s=this.height*this.scaleY;break}e.isRexSizer?e.runLayout(this,t,s):Pe(e,t,s),this.resetChildPosition(),this.layoutChildrenMask(),this.maskChildren()}},_7=function(e,t){t||e.clearMask&&e.clearMask(!1)},qy={getChildrenWidth:Z7,getChildrenHeight:J7,getChildrenSizers:Q7,resetChildPosition:j7,layoutChildren:q7,removeChildCallback:_7};Object.assign(qy,Hy);const Xg=Phaser.Utils.Objects.IsPlainObject,ei=Phaser.Utils.Objects.GetValue,tN=Phaser.Display.Align.TOP_LEFT;class _y extends Cr{constructor(t,s,o,y,S,r){Xg(s)?(r=s,s=ei(r,"x",0),o=ei(r,"y",0),y=ei(r,"width",void 0),S=ei(r,"height",void 0)):Xg(y)&&(r=y,y=ei(r,"width",void 0),S=ei(r,"height",void 0)),super(t,s,o,y,S,r),this.type="rexScrollableBlock",this.child=void 0,this.childrenMask=void 0,this._childOY=0,this._childOX=0,this.execeedTopState=!1,this.execeedBottomState=!1,this.execeedLeftState=!1,this.execeedRightState=!1,this.setScrollMode(ei(r,"scrollMode",0));var C=ei(r,"clampChildOY",!0),i=ei(r,"clampChildOX",C);this.setClampMode(C,i);var h=ei(r,"child",void 0),x=ei(r,"expand",!0);h.setOrigin&&h.setOrigin(0),this.add(h),this.sizerChildren=[h];var f=this.getSizerConfig(h);f.align=tN,f.expand=x,this.child=h;var l=ei(r,"mask");this.setupChildrenMask(l),this.childrenMask&&(this.maskGameObject=ac(this.childrenMask))}destroy(t){!this.scene||this.ignoreDestroy||(this.destroyChildrenMask(),this.child=void 0,super.destroy(t))}setScrollMode(t){return typeof t=="string"&&(t=Ry[t.toLowerCase()]),this.scrollMode=t,this}setClampMode(t,s){return this.clampChildOY=t,this.clampChildOX=s,this}get instHeight(){return this.scrollMode===0||this.scrollMode===2?this.displayHeight:this.displayWidth}get instWidth(){return this.scrollMode===0||this.scrollMode===2?this.displayWidth:this.displayHeight}get childHeight(){return this.scrollMode===0||this.scrollMode===2?At(this.child):Rt(this.child)}get childWidth(){return this.scrollMode===0||this.scrollMode===2?Rt(this.child):At(this.child)}get topChildOY(){return 0}get bottomChildOY(){return-this.visibleHeight}get leftChildOX(){return 0}get rightChildOX(){return-this.visibleWidth}get childVisibleHeight(){return this.instHeight}get childVisibleWidth(){return this.instWidth}get visibleHeight(){var t=this.childHeight-this.childVisibleHeight;return t<0&&(t=0),t}get visibleWidth(){var t=this.childWidth-this.childVisibleWidth;return t<0&&(t=0),t}childOYExceedTop(t){return t===void 0&&(t=this.childOY),t>this.topChildOY}childOYExeceedBottom(t){return t===void 0&&(t=this.childOY),t<this.bottomChildOY}childOXExceedLeft(t){return t===void 0&&(t=this.childOX),t>this.leftChildOX}childOXExeceedRight(t){return t===void 0&&(t=this.childOX),t<this.rightChildOX}get childOY(){return this._childOY}set childOY(t){var s=this.topChildOY,o=this.bottomChildOY,y=this.childOYExceedTop(t),S=this.childOYExeceedBottom(t);this.clampChildOY&&(this.childVisibleHeight>this.childHeight?t=0:y?t=s:S&&(t=o)),this._childOY!==t&&(this._childOY=t,this.resetChildPosition()),y&&(this.execeedTopState||this.emit("execeedtop",this,t,s)),this.execeedTopState=y,S&&(this.execeedBottomState||this.emit("execeedbottom",this,t,o)),this.execeedBottomState=S}get childOX(){return this._childOX}set childOX(t){var s=this.leftChildOX,o=this.rightChildOX,y=this.childOXExceedLeft(t),S=this.childOXExeceedRight(t);this.clampChildOX&&(this.childVisibleWidth>this.childWidth?t=0:y?t=s:S&&(t=o)),this._childOX!==t&&(this._childOX=t,this.resetChildPosition()),y&&(this.execeedLeftState||this.emit("execeedleft",this,t,s)),this.execeedLeftState=y,S&&(this.execeedRightState||this.emit("execeedright",this,t,o)),this.execeedRightState=S}setChildOY(t){return this.childOY=t,this}setChildOX(t){return this.childOX=t,this}set t(t){this.childOY=-this.visibleHeight*t}get t(){var t=this.visibleHeight;return t===0?0:this.childOY/-t}set s(t){this.childOX=-this.visibleWidth*t}get s(){var t=this.visibleWidth;return t===0?0:this.childOX/-t}setChildOYByPercentage(t){return this.t=t,this}setChildOXByPercentage(t){return this.s=t,this}}Object.assign(_y.prototype,qy);var eN=function(e,t){if(!this.hasChild(e))return this;switch(this.scrollMode){case 0:Uh.call(this,e,"y",t);break;case 1:Uh.call(this,e,"x",t);break;default:Uh.call(this,e,"y",t),Uh.call(this,e,"x",t);break}return this};const Yg=["top","bottom","centerY","center"],Wg=["left","right","centerX","center"];var Uh=function(e,t,s){t=t.toUpperCase();var o=t==="Y",y=this.childrenMap.child,S;if(o){if(s)for(var r=0,C=Yg.length;r<C;r++){var i=Yg[r];if(s.indexOf(i)!==-1){s=i;break}}switch(s){case"top":S=y.top-lr(e).y;break;case"bottom":S=y.bottom-ra(e).y;break;case"centerY":case"center":S=y.centerY-ov(e).y;break;default:var h=y.top-lr(e).y,x=y.bottom-ra(e).y;h<=0&&x>=0?S=0:S=Math.abs(h)<=Math.abs(x)?h:x;break}}else{if(s)for(var r=0,C=Wg.length;r<C;r++){var i=Wg[r];if(s.indexOf(i)!==-1){s=i;break}}switch(s){case"left":S=y.left-lr(e).x;break;case"right":S=y.right-sa(e).x;break;case"centerX":case"center":S=y.centerX-ov(e).x;break;default:var f=y.left-lr(e).x,l=y.right-sa(e).x;f<=0&&l>=0?S=0:S=Math.abs(f)<=Math.abs(l)?f:l;break}}switch(this.scrollMode){case 0:case 1:this.childOY+=S;break;default:this[`childO${t}`]+=S;break}};const ps=Phaser.Utils.Objects.GetValue;class ka extends Da{constructor(t,s){s===void 0&&(s={});var o=Qf(s),y=ps(s,"panel",void 0);y===void 0&&(y={}),y.scrollMode=o,y.clampChildOY=ps(s,"clampChildOY",!1),y.clampChildOX=ps(s,"clampChildOX",!1);var S=new _y(t,y);t.add.existing(S);var r,C;switch(o){case 0:r=ps(s,"expand.panel",!0),C=!0;break;case 1:r=!0,C=ps(s,"expand.panel",!0);break;default:r=!0,C=!0}s.type="rexScrollablePanel",s.child={gameObject:S,expandWidth:r,expandHeight:C,align:ps(s,"align.panel","center")};var i=ps(s,"space",void 0);i&&(i.child=ps(i,"panel",0)),super(t,s),this.addChildrenMap("panel",S.child),this.addChildrenMap("panelLayer",S.maskLayer),this.addChildrenMap("mask",S.maskGameObject),this.addChildrenMap("scrollableBlock",S)}setChildrenInteractive(t){return t===void 0&&(t={}),t.hasOwnProperty("eventEmitter")||(t.eventEmitter=this),t.hasOwnProperty("targets")||(t.targets=[this.childrenMap.panel]),Jo(this.childrenMap.child,t),this}}var iN={scrollToChild:eN};Object.assign(ka.prototype,iN);const sN=Phaser.Utils.Objects.GetValue;var rN=function(){var e=this.scene,t,s=this.listCreateBackgroundCallback;s&&(t=s.call(this,e),e.add.existing(t));var f=[],o=this.listCreateButtonCallback;if(o)for(var y=this.options,S=0,r=y.length;S<r;S++){var C=o.call(this,e,y[S],S,y);C&&(e.add.existing(C),f.push(C))}var i=this.listWidth;i===void 0&&(this.listAlignMode==="text"?i=this.getElement("text").width:i=this.width);var h=this.listHeight,x={width:i,buttons:f,space:this.listSpace},f,l,a;if(this.listCreateSliderThumbCallback?a=h>0||this.listMaxHeight>0:a=!1,!a)x.height=h,f=Ug(e,x,this.listWrapEnable),l=f;else{var f=Ug(e,x,this.listWrapEnable);if(this.listMaxHeight>0&&(f.layout(),f.height<=this.listMaxHeight&&(l=f)),!l){h===0&&(h=this.listMaxHeight);var n=Hg(e,this.listCreateSliderTrackCallback),d=Hg(e,this.listCreateSliderThumbCallback);l=new ka(e,{height:h,scrollMode:0,panel:{child:f,mask:{padding:1}},slider:{track:n,thumb:d,adaptThumbSize:this.listSliderAdaptThumbSizeEnable},scrollDetectionMode:1,scroller:this.listScrollerConfig,mouseWheelScroller:this.listMouseWheelScrollerConfig,space:{panel:sN(this.listSpace,"panel",0)}}),e.add.existing(l)}}return t&&l.addBackground(t,"background"),this.listDraggable&&l.setDraggable(!0),l!==f&&f.on("button.over",function(c,u,v,p){l.emit("button.over",c,u,v,p)}).on("button.out",function(c,u,v,p){l.emit("button.out",c,u,v,p)}).on("button.click",function(c,u,v,p){l.emit("button.click",c,u,v,p)}),l},Ug=function(e,t,s){var o;return s?(t.orientation="x",o=new Ls(e,t)):(t.orientation="y",o=new de(e,t)),e.add.existing(o),o},Hg=function(e,t,s){var o;return t&&(o=t.call(s,e),e.add.existing(o)),o},nN=function(e,t,s,o,y){var S={};switch(S.mode=0,s){case 0:case"x":S.end={x:0};break;case 1:case"y":S.end={y:0};break;default:S.end=0;break}return S.duration=t,S.ease=o,y===void 0?y=new ha(e,S):y.resetFromJSON(S),y.restart(),y},aN=function(e,t,s,o,y){return $i(e,t)?Ot(e,t):$i(e,s)?Ot(e,s):y};const $r=Phaser.Utils.Objects.GetValue;var hN=function(e,t){var s=$r(t,"expandDirection",void 0);typeof s=="string"&&(s=oN[s]);var o=aN(t,"alignTarget","alignTargetX"),y=$r(t,"alignTargetY",o),S=$r(t,"alignOffsetX",0),r=$r(t,"alignOffsetY",0),C=$r(t,"alignSide",""),i=C.includes("right"),h=$r(t,"bounds"),x=s===0,f=s===1,l=!x&&!f,a=i?1:0,n=x||l?0:1;e.setOrigin(a,n);var d,c;i?d=o.getTopRight().x:d=o.getTopLeft().x,c=y.getBottomLeft().y,e.setPosition(d+S,c+r);var u=h;u||(u=fn(e.scene)),l&&e.getBottomLeft().y>u.bottom&&(c=y.getTopLeft().y,e.setOrigin(0,1).setPosition(d+S,c+r))};const oN={down:0,up:1},$g=Phaser.Utils.Objects.GetValue;class tT extends Yo{constructor(t,s){s===void 0&&(s={}),s.transitIn==null&&(s.transitIn=function(S,r){wf(S,r,"y","Cubic")}),s.transitOut==null&&(s.transitOut=function(S,r){nN(S,r,"y","Linear")}),s.manualClose=!0,s.clickOutsideClose=!0,s.destroy=!0,super(t,s),hN(t,s),t.isRexSizer&&t.layout();var o=$g(s,"touchOutsideClose",!1),y=$g(s,"anyTouchClose",!1);y&&(o=!1),y?this.once("open",this.anyTouchClose,this):o&&this.once("open",this.touchOutsideClose,this),this.requestOpen()}shutdown(t){this.isShutdown||(this.scene.input.off("pointerup",this.touchCloseCallback,this),super.shutdown(t))}touchOutsideClose(){return this.scene.input.on("pointerup",this.touchCloseCallback,this),this.clickOutsideTest=!0,this}anyTouchClose(){return this.scene.input.once("pointerup",this.touchCloseCallback,this),this}touchCloseCallback(t){this.clickOutsideTest&&Uo(this.parent,t.worldX,t.worldY)||this.requestClose()}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}var lN=function(){if(this.listPanel)return this;if(this.options.length===0)return this;var e=rN.call(this);e.on("button.over",function(o,y,S,r){this.currentOverIndex=y,this.listOnButtonOver&&this.listOnButtonOver.call(this,o,y,S,r),this.emit("button.over",this,e,o,y,S,r)},this).on("button.out",function(o,y,S,r){this.currentOverIndex===y&&(this.currentOverIndex=void 0),this.listOnButtonOut&&this.listOnButtonOut.call(this,o,y,S,r),this.emit("button.out",this,e,o,y,S,r)},this);var t;!this.listAlignMode||this.listAlignMode==="label"?t=this:t=this.getElement(this.listAlignMode);var s=new tT(e,{duration:{in:this.listEaseInDuration,out:this.listEaseOutDuration},transitIn:this.listTransitInCallback,transitOut:this.listTransitOutCallback,expandDirection:this.listExpandDirection,alignTargetX:t,alignTargetY:this,alignSide:this.listAlignSide,bounds:this.listBounds}).on("open",function(){e.on("button.click",function(o,y,S,r){this.listOnButtonClick&&this.listOnButtonClick.call(this,o,y,S,r),this.emit("button.click",this,e,o,y,S,r),this.dropDownBehavior.requestClose()},this),this.emit("list.open",this,e)},this).on("close",function(){this.listPanel=void 0,this.dropDownBehavior=void 0,this.emit("list.close",this)},this);return e.onClickOutside(function(){s.requestClose()}),this.listPanel=e,this.dropDownBehavior=s,this.pin(e),this},uN=function(){return this.dropDownBehavior?(this.dropDownBehavior.requestClose(),this.currentOverIndex=void 0,this):this},dN=function(){return this.listPanel?this.closeListPanel():this.openListPanel(),this},fN=function(e){if(e===void 0&&(e=this.currentOverIndex),e===void 0)return this;var t=this.listPanel,s=t?t.getButton(e):this.options[e];return this.listOnButtonClick&&this.listOnButtonClick.call(this,s,e),this.emit("button.click",this,t,s,e),this},cN=function(e){var t=this.listPanel;return t?(t.emitButtonOver(e),this):this};const vN={focusNextButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(e+1)%s}return this.emitButtonOver(t),this},focusPrevButton(){if(!this.isOpened)return this;var e=this.currentOverIndex,t;if(e===void 0)t=0;else{var s=this.listPanel.getButtons().length;t=(e-1+s)%s}return this.emitButtonOver(t),this}};var eT={openListPanel:lN,closeListPanel:uN,toggleListPanel:dN,emitButtonClick:fN,emitButtonOver:cN};Object.assign(eT,$7,vN);const Dt=Phaser.Utils.Objects.GetValue;class Va extends ss{constructor(t,s){super(t,s),this.type="rexDropDownList",this.timer=void 0,this.listPanel=void 0,this.currentOverIndex=void 0,this.setOptions(Dt(s,"options"));var o=Dt(s,"list");this.setWrapEnable(Dt(o,"wrap",!1)),this.setCreateButtonCallback(Dt(o,"createButtonCallback")),this.setCreateListBackgroundCallback(Dt(o,"createBackgroundCallback")),this.setCreateListSliderTrackCallback(Dt(o,"createTrackCallback")),this.setCreateListSliderThumbCallback(Dt(o,"createThumbCallback")),this.setListSliderAdaptThumbSizeEnable(Dt(o,"sliderAdaptThumbSize",!1)),this.setListScrollerConfig(Dt(o,"scroller")),this.setListMouseWheelScrollerConfig(Dt(o,"mouseWheelScroller")),this.setButtonClickCallback(Dt(o,"onButtonClick")),this.setButtonOverCallback(Dt(o,"onButtonOver")),this.setButtonOutCallback(Dt(o,"onButtonOut")),this.setListExpandDirection(Dt(o,"expandDirection")),this.setListEaseInDuration(Dt(o,"easeIn",500)),this.setListEaseOutDuration(Dt(o,"easeOut",100)),this.setListTransitInCallback(Dt(o,"transitIn")),this.settListTransitOutCallback(Dt(o,"transitOut")),this.setListMaxHeight(Dt(o,"maxHeight",0)),this.setListSize(Dt(o,"width"),Dt(o,"height",0)),this.setListAlignmentMode(Dt(o,"alignParent","text")),this.setListAlignmentSide(Dt(o,"alignSide","")),this.setListBounds(Dt(o,"bounds")),this.setListSpace(Dt(o,"space")),this.setListDraggable(Dt(o,"draggable",!1)),this.setValueChangeCallback(Dt(s,"setValueCallback"),Dt(s,"setValueCallbackScope")),this.setValue(Dt(s,"value")),this.onClick(this.toggleListPanel,this)}destroy(t){!this.scene||this.ignoreDestroy||(this.listPanel&&(this.listPanel.destroy(t),this.listPanel=void 0),super.destroy(t))}get isOpened(){return!!this.listPanel}setOptions(t){return t===void 0&&(t=[]),this.options=t,this}setValueChangeCallback(t,s){return this.valueChangeCallback=t,this.valueChangeCallbackScope=s,this}setValue(t){return this.value=t,this}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t;var o=this.valueChangeCallback,y=this.valueChangeCallbackScope;o&&(y?o.call(y,this,t,s):o(this,t,s)),this.emit("valuechange",this,t,s)}}}Object.assign(Va.prototype,eT);st.register("dropDownList",function(e){var t=new Va(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.DropDownList",Va);var iT=function(e,t,s){t=t?ce(t):{},s===void 0&&(s={});var o=t.label||t.button,y=t.button||t.label;delete t.label,delete t.button;var S=s.label||s.button||s,r=s.button||s.label||s,C=al(e,o,S);C.list=t.list||{},C.list.createButtonCallback=function(x,f){var l=fe(x,y,r).resetDisplayContent(f);return f.hasOwnProperty("value")&&(l.value=f.value),l};var i=t.track;i&&(C.list.createTrackCallback=function(x){return he(x,i)},delete t.track);var h=t.thumb;return h&&(C.list.createThumbCallback=function(x){return he(x,h)},delete t.thumb),C.list.onButtonOver=function(x,f,l,a){x.setHoverState&&x.setHoverState(!0)},C.list.onButtonOut=function(x,f,l,a){x.setHoverState&&x.setHoverState(!1)},C};class sT extends Va{constructor(t,s,o){s=iT(t,s,o),super(t,s),this.type="rexSimpleDropDownList"}setOptions(t){t===void 0&&(t=[]);for(var s=0,o=t.length;s<o;s++){var y=t[s];typeof y=="string"&&(t[s]={text:y,value:y})}return super.setOptions(t),this}}st.register("simpleDropDownList",function(e,t){var s=new sT(this.scene,e,t);return this.scene.add.existing(s),s});et(window,"RexPlugins.UI.SimpleDropDownList",sT);var pN=function(e){var t=Is(e),s,o,y;switch(t){case Ee:case Me:s=e.height-e.padding.top-e.padding.bottom,o=e.lineSpacing,y=e.style.metrics.fontSize+e.style.strokeThickness;break;case Ue:s=e.height,o=0;var S=e.fontSize/e.fontData.size;y=e.fontData.lineHeight*S;break}return(s-o)/(y+o)},gN=function(e,t){if(e===void 0&&(e=this.startLineIndex),t===void 0){var s=this.pageLinesCount;s>0?t=e+s:t=this.totalLinesCount}t>this.totalLinesCount&&(t=this.totalLinesCount);var o;switch(this.textObjectType){case Ee:case Ue:o=this.lines.slice(e,t).join(`
`);break;case Me:var y=this.lines.getLineStartIndex(e),S=this.lines.getLineEndIndex(t-1);o=this.lines.getSliceTagText(y,S,!0);var r=(o.match(/\n/g)||[]).length;r>t-e-1&&(o=o.substring(0,o.length-1));break}return o};const mN={clearText(){return this.sections.length=0,this.pageStartIndexes.length=0,this.lines.length=0,this},appendPage(s){var t=this.totalLinesCount;this.sections.push(sn(s));var s=this.sections.join(`
`);this.lines=qf(this.parent,s,this.lines);var o=this.totalLinesCount-t,y=this.pageLinesCount,S;y>0?S=Math.ceil(o/this.pageLinesCount):S=1;for(var r=0;r<S;r++)this.pageStartIndexes.push(t+r*this.pageLinesCount);return this},setText(e,t){t===void 0&&(t=!0),t&&this.resetIndex(),this.clearText();for(var s=sn(e).split(this.pageBreak),o=0,y=s.length;o<y;o++)this.appendPage(s[o]);return this},appendText(e){var t=this.content+sn(e);return this.setText(t,!1),this}},Kg=Phaser.Math.Clamp,xN={resetIndex(){return this.pageIndex=-1,this.startLineIndex=-1,this.endLineIndex=void 0,this},setPageIndex(e){return e=Kg(e,0,this.lastPageIndex),this.pageIndex=e,this.startLineIndex=this.pageStartIndexes[e],this.endLineIndex=this.pageStartIndexes[e+1],this},getPage(e){return e===void 0&&(e=this.pageIndex),this.setPageIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getNextPage(){return this.getPage(this.pageIndex+1)},getPreviousPage(){return this.getPage(this.pageIndex-1)},getFirstPage(){return this.getPage(0)},getLastPage(){return this.getPage(this.lastPageIndex)},setStartLineIndex(e){var t=Math.max(this.totalLinesCount-this.pageLinesCount,0);return e=Kg(e,0,t),this.startLineIndex=e,this.endLineIndex=e+this.pageLinesCount,this},getPageByLineIndex(e){return this.setStartLineIndex(e).getLines(this.startLineIndex,this.endLineIndex)},getPageOfNextLine(){return this.getPageByLineIndex(this.startLineIndex+1)},getPageOfPreviousLine(){return this.getPageByLineIndex(this.startLineIndex-1)},getPageOfFirstLine(){return this.getPageByLineIndex(0)},getPageOfLastLine(){return this.getPageByLineIndex(this.totalLinesCount)}},yN={showPage(e){return this.displayText(this.getPage(e)),this},showNextPage(){return this.displayText(this.getNextPage()),this},showPreviousPage(){return this.displayText(this.getPreviousPage()),this},showFirstPage(){return this.displayText(this.getFirstPage()),this},showLastPage(){return this.displayText(this.getLastPage()),this},show(){return this.displayText(this.getLines()),this},showPageByLineIndex(e){return this.displayText(this.getPageByLineIndex(e)),this},showNextLine(){return this.displayText(this.getPageOfNextLine()),this},showPreviousLine(){return this.displayText(this.getPageOfPreviousLine()),this},showFirstLine(){return this.displayText(this.getPageOfFirstLine()),this},showLastLine(){return this.displayText(this.getPageOfLastLine()),this},displayText(e){nl(this.parent,e)}};var rT={getLines:gN};Object.assign(rT,mN,xN,yN);const Kr=Phaser.Utils.Objects.GetValue;Phaser.Math.Clamp;class xl extends zt{constructor(t,s){super(t,{eventEmitter:!1}),this.textObjectType=Is(this.parent),this.pageStartIndexes=[],this.lines=qf(this.parent,""),this.sections=[],this.resetFromJSON(s)}resetFromJSON(t){this.setMaxLines(Kr(t,"maxLines",void 0)),this.setPageBreak(Kr(t,"pageBreak",`\f
`)),this.setText(Kr(t,"text","")),this.startLineIndex=Kr(t,"start",-1),this.endLineIndex=Kr(t,"end",void 0);var s=Kr(t,"page");return s===void 0?this.resetIndex():this.setPageIndex(s),this}toJSON(){return{maxLines:this.maxLines,text:this.content,start:this.startLineIndex,end:this.endLineIndex,page:this.pageIndex,pageBreak:this.pageBreak}}shutdown(t){if(!this.isShutdown){switch(this.textObjectType){case Ee:this.lines.length=0;break;case Me:this.lines.destroy();break;case Ue:this.lines.length=0;break}this.pageStartIndexes.length=0,this.sections.length=0,this.lines=void 0,this.pageStartIndexes=void 0,this.sections=void 0,super.shutdown(t)}}setMaxLines(t){return this.maxLines=t,this}setPageBreak(t){return this.pageBreak=t,this}get pageCount(){return this.pageStartIndexes.length}get lastPageIndex(){return this.pageCount-1}get isFirstPage(){return this.pageIndex<=0}get isLastPage(){return this.pageIndex>=this.pageCount-1}get totalLinesCount(){return this.lines?this.lines.length:0}get pageLinesCount(){if(this.maxLines!==void 0)return this.maxLines;var t;switch(this.textObjectType){case Ee:case Me:var s=this.parent.style.maxLines;s>0?t=s:t=Math.floor(pN(this.parent));break;case Ue:t=this.totalLinesCount;break}return t}get isFirstLine(){return this.startLineIndex<=0}get isLastLine(){return this.endLineIndex===this.totalLinesCount}get content(){return this.sections.join(this.pageBreak)}}Object.assign(xl.prototype,rT);const TN={setText(e){this.setTextCallback&&(this.setTextCallbackScope?e=this.setTextCallback.call(this.setTextCallbackScope,e,this.isLastChar,this.insertIndex):e=this.setTextCallback(e,this.isLastChar,this.insertIndex)),this.textWrapEnable?nl(this.parent,e):this.parent.setText(e)},appendText(e){var t=this.text.concat(sn(e));return this.isTyping?this.setTypingContent(t):this.start(t,void 0,this.textLength),this}};var CN=function(e,t,s,o){return e!==void 0&&this.setTypingContent(e),t!==void 0&&(this.speed=t),s===void 0&&(s=0),this.typingIndex=s+1,this.speed===0?this.stop(!0):(this.setText(""),this.startTimer(o)),this},nT=function(e,t){return e.getPlainText&&(t=e.getPlainText(t)),t},SN=function(e,t,s,o,y){var S;if(t>0){o===void 0&&(o=0);var r=nT(this.parent,e);S=PN(r,t)+o}return this.start(e,s,S,y)},PN=function(e,t){for(var s=void 0,o=0;o<t&&(s=e.indexOf(`
`,s+1),s!==-1);o++);return s},Un=function(e,t,s,o){var y;return e.getSubString?y=e.getSubString(t,s,o):y=t.slice(s,o),y},aT=function(e,t,s,o){var y=this.parent,S;if(o===0){var r=0,C=t;this.insertIndex=C,S=Un(y,e,r,C)}else if(o===1){var C=s,r=C-t;this.insertIndex=0,S=Un(y,e,r,C)}else if(o===2){var i=s/2,r=Math.floor(i-t/2),C=r+t;this.insertIndex=t%2?t:0,S=Un(y,e,r,C)}else if(o===3){var h=Math.floor(t/2),x;if(h>0){var C=s,r=C-h;x=Un(y,e,r,C)}else x="";var f=t-h,l;if(f>0){var r=0,C=r+f;this.insertIndex=C,l=Un(y,e,r,C)}else l="",this.insertIndex=0;S=l+x}return this.insertChar=S.charAt(this.insertIndex-1),S},EN=function(e){var t=this.getTimer();if(t&&this.freeTimer(),e){for(;!this.isLastChar;)aT.call(this,this.text,this.typingIndex,this.textLength,this.typeMode),this.emit("typechar",this.insertChar),this.typingIndex++;this.setText(this.text),this.emit("type"),this.emit("complete",this,this.parent)}return this},MN=function(){var e=this.getTimer();return e&&(e.paused=!0),this},wN=function(){var e=this.getTimer();return e&&(e.paused=!1),this},hT={start:CN,startFromLine:SN,stop:EN,pause:MN,resumeTyping:wN};Object.assign(hT,TN);var RN=function(e,t){var s=Is(e);switch(s){case Ee:e.style.syncFont(e.canvas,e.context),t=e.runWordWrap(t);break;case Me:t=e.getText(t,void 0,void 0,!0);break;case Ue:t=e.setText(t).getTextBounds().wrappedText;break}return t};const Hn=Phaser.Utils.Objects.GetFastValue,td=Phaser.Utils.Objects.GetValue;class yl extends zt{constructor(t,s){super(t,s),this.timer=null,this.resetFromJSON(s)}resetFromJSON(t){this.setTextWrapEnable(td(t,"wrap",!1)),this.setTypeMode(td(t,"typeMode",0)),this.setTypingSpeed(td(t,"speed",333)),this.setTextCallback=Hn(t,"setTextCallback",null),this.setTextCallbackScope=Hn(t,"setTextCallbackScope",null),this.setTypingContent(Hn(t,"text","")),this.typingIndex=Hn(t,"typingIndex",0),this.insertIndex=null,this.insertChar=null;var s=Hn(t,"elapsed",null);return s!==null&&this.start(void 0,void 0,this.typingIndex,s),this}shutdown(t){this.isShutdown||(this.freeTimer(),super.shutdown(t))}setTypeMode(t){return typeof t=="string"&&(t=AN[t]),this.typeMode=t,this}setTypeSpeed(t){return this.speed=t,this}setTypingSpeed(t){return this.speed=t,this}setTextWrapEnable(t){return t===void 0&&(t=!0),this.textWrapEnable=t,this}set text(t){var s=sn(t);this.textWrapEnable&&(s=RN(this.parent,s)),this._text=s}get text(){return this._text}get isTyping(){return this.getTimer()!==null}get isLastChar(){return this.typingIndex===this.textLength}setTypingContent(t){return this.text=t,this.textLength=nT(this.parent,this.text).length,this}onTyping(){var t=aT.call(this,this.text,this.typingIndex,this.textLength,this.typeMode);this.setText(t),this.emit("typechar",this.insertChar),this.emit("type"),this.isLastChar?(this.freeTimer(),this.scene.sys.events.once("preupdate",function(){this.emit("complete",this,this.parent)},this)):(this.timer.delay=this.speed,this.typingIndex++)}startTimer(t){this.timer&&this.freeTimer();var s;return t===void 0?s=0:(this.speed,s=t),this.timer=this.scene.time.addEvent({delay:1e-4,startAt:s,loop:!0,callback:this.onTyping,callbackScope:this}),this}getTimer(){return this.timer}freeTimer(){return this.timer&&(this.timer.remove(),this.timer=null),this}setText(t){this.setTextCallback&&(this.setTextCallbackScope?t=this.setTextCallback.call(this.setTextCallbackScope,t,this.isLastChar,this.insertIndex):t=this.setTextCallback(t,this.isLastChar,this.insertIndex)),this.textWrapEnable?nl(this.parent,t):this.parent.setText(t)}}const AN={"left-to-right":0,"right-to-left":1,"middle-to-sides":2,"sides-to-middle":3};Object.assign(yl.prototype,hT);const $n=Phaser.Utils.Objects.GetValue;var ON=function(e,t){t===void 0&&(t="rexTextBox");class s extends e{constructor(y,S){super(y,S),this.type=t,this.isRunning=!1,this._isPageEnd=!1;var r=this.childrenMap.text,C=$n(S,"expandTextWidth",!1),i=$n(S,"expandTextHeight",!1);if(C||i){var h=Is(r);switch(h){case Ee:case Me:if(r.resize=function(f,l){var a=C?f:0,n=i?l:0;r.setFixedSize(a,n),a>0&&r.setWordWrapWidth(a)},h===Me){var x=r.style;x.wrapMode===0&&(x.wrapMode=1)}break}C&&(r._minWidth=0),i&&(r._minHeight=0)}this.setTypingMode($n(S,"typingMode","page")),this.page=new xl(r,$n(S,"page",void 0)),this.typing=new yl(r,$n(S,"typing",S.type)),this.typing.on("complete",this.onTypingComplete,this).on("type",this.onType,this).on("typechar",this.onTypeChar,this),this.textWidthSave=r.width,this.textHeightSave=r.height}setTypingMode(y){return typeof y=="string"&&(y=LN[y]),this.typingMode=y,this}start(y,S){return S!==void 0&&this.setTypingSpeed(S),this.isRunning=!0,this.page.setText(y),this.emit("start"),this.typingMode===0?this.typeNextPage():this.typeNextLine(),this}more(y,S){if(S!==void 0&&this.setTypingSpeed(S),this.isRunning)this.page.appendText(y),this.typing.appendText(y);else{if(this.isRunning=!0,this.page.appendText(y),this.emit("start"),this.typingMode===0){this._isPageEnd=!1;var r=this.page.getPage(),C=this.typing.textLength;this.typing.start(r,void 0,C)}return this}}typeNextPage(){if(!this.isRunning)return this;if(this.isLastPage)this.emit("complete");else{this._isPageEnd=!1;var y=this.page.getNextPage();this.typing.start(y)}return this}typeNextLine(){if(!this.isRunning)return this;if(this.isLastLine)this.isRunning=!1,this.emit("pageend"),this.emit("complete");else{var y=this.page.getPageOfNextLine(),S;this.isFirstLine?S=0:S=this.page.pageLinesCount-1,this.typing.startFromLine(y,S)}}pause(){return this.isRunning?(this.isTyping&&(this.typing.pause(),this.emit("pause")),this):this}resume(){return this.isRunning?(this.isTyping||(this.emit("resume"),this.typing.resume()),this):this}stop(y){return this.isRunning?(this.typing.stop(y),this):this}showLastPage(){return this.isRunning?(this.typing.stop(),this.typingMode===0?this.page.showLastPage():this.page.showLastLine(),this.emit("type"),this.onTypingComplete(),this):this}setTypeSpeed(y){return this.typing.setTypingSpeed(y),this}setTypingSpeed(y){return this.typing.setTypingSpeed(y),this}get isTyping(){return this.typing.isTyping}get isPageEnd(){return this._isPageEnd}get isLastPage(){return this.page.isLastPage}get isFirstPage(){return this.page.isFirstPage}get pageCount(){return this.page.pageCount}get pageIndex(){return this.page.pageIndex}get isLastLine(){return this.page.isLastLine}get isFirstLine(){return this.page.isFirstLine}get lineCound(){return this.page.totalLinesCount}get startLineIndex(){return this.page.startLineIndex}get endLineIndex(){return this.page.endLineIndex}get typingSpeed(){return this.typing.speed}onType(){var y=this.childrenMap.text;(this.textWidthSave!==y.width||this.textHeightSave!==y.height)&&(this.textWidthSave=y.width,this.textHeightSave=y.height,this.getTopmostSizer().layout()),this.emit("type")}onTypeChar(y){this.emit("typechar",y)}onTypingComplete(){if(this.typingMode===0){this._isPageEnd=!0;var y=this.isLastPage;this.isRunning=!y,this.emit("pageend"),y&&this.emit("complete")}else this.typeNextLine()}}return s};const LN={page:0,line:1};class uc extends ON(hl){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("layoutMode")||(s.layoutMode=1),super(t,s)}}st.register("textBox",function(e){var t=new uc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextBox",uc);class oT extends uc{constructor(t,s,o){s=By(t,s,o),super(t,s)}}st.register("simpleTextBox",function(e){var t=new oT(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.SimpleTextBox",oT);const We=Phaser.Utils.Objects.GetValue;class lT extends Tt{constructor(t,s){super(t,s),this.type="rexNumberBar";var o=We(s,"background",void 0),y=We(s,"icon",void 0),S=We(s,"iconMask",void 0),r=We(s,"slider",void 0),C=We(s,"text",void 0),i=We(s,"space.icon",0),h=We(s,"space.slider",0);if(o&&this.addBackground(o),y){var x;this.orientation===0?(r||C)&&(x={right:i}):(r||C)&&(x={bottom:i}),this.add(y,{proportion:0,align:"center",padding:x}),S&&(S=Ti.call(this,y,y,1))}var f;if(r){r.orientation=this.orientation,r.eventEmitter=this,r.value=null,r.hasOwnProperty("input")||(r.input=-1),f=new mn(t,r),t.add.existing(f);var x;this.orientation===0?C&&(x={right:h}):C&&(x={bottom:h});var l;if(this.orientation===0){var a=We(r,"width",void 0);l=a===void 0?1:0}else{var n=We(r,"height",void 0);l=n===void 0?1:0}this.add(f,{proportion:l,align:"center",padding:x})}C&&this.add(C),this.addChildrenMap("background",o),this.addChildrenMap("icon",y),this.addChildrenMap("iconMask",S),this.addChildrenMap("slider",f),this.addChildrenMap("text",C);var d=We(s,"valuechangeCallback",null);if(d!==null){var c=We(s,"valuechangeCallbackScope",void 0);this.on("valuechange",d,c)}this.setEnable(We(s,"enable",void 0)),this.setValue(We(s,"value",0))}get enable(){return this.childrenMap.slider?this.childrenMap.slider.enable:!1}set enable(t){this.childrenMap.slider&&this.childrenMap.slider.setEnable(t)}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}get value(){return this.childrenMap.slider?this.childrenMap.slider.value:0}set value(t){this.childrenMap.slider&&(this.childrenMap.slider.value=t)}setValue(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.setValue(t,s,o),this}addValue(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.addValue(t,s,o),this}getValue(t,s){return this.childrenMap.slider?this.childrenMap.slider.getValue(t,s):0}easeValueTo(t,s,o){return this.childrenMap.slider&&this.childrenMap.slider.easeValueTo(t,s,o),this}stopEaseValue(){return this.childrenMap.slider&&this.childrenMap.slider.stopEaseValue(),this}setEaseValueDuration(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueDuration(t),this}setEaseValueFunction(t){return this.childrenMap.slider&&this.childrenMap.slider.setEaseValueFunction(t),this}get text(){var t=this.childrenMap.text;if(t===void 0)return"";var s;return t.text?s=t.text:s=t.getData("text"),s}set text(t){var s=this.childrenMap.text;s!==void 0&&(s.setText?s.setText(t):s.setData("text",t))}setText(t){return this.text=t,this}}st.register("numberBar",function(e){var t=new lT(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.NumberBar",lT);st.register("scrollBar",function(e){var t=new jf(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollBar",jf);const ed=Phaser.Utils.Objects.GetValue,Zg={leftTop:"left-top",centerTop:"center-top",rightTop:"right-top",leftCenter:"left-center",center:"center",rightCenter:"right-center",leftBottom:"left-bottom",centerBottom:"center-bottom",rightBottom:"right-bottom"};class uT extends ai{constructor(t,s){super(t,s),this.type="rexBadge";var o=ed(s,"background",void 0);o&&this.addBackground(o),this.addChildrenMap("background",o);var y=ed(s,"main",void 0);y&&this.add(y,{key:"main",align:"center",expand:!1}),this.addChildrenMap("main",y);for(var S in Zg){var r=ed(s,S,void 0);r&&(this.add(r,{key:S,align:Zg[S],expand:!1}),this.addChildrenMap(S,r))}}}st.register("badgeLabel",function(e){var t=new uT(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.BadgeLabel",uT);const bN=ai.prototype.add;var Jg=function(e,t,s,o,y,S,r,C,i){return e.setVisible(!1),bN.call(this,e,t,s,o,y,S,r,C,i),this};const FN={add:Jg,addPage:Jg};var DN=function(e){return e===void 0?null:this.sizerChildren.hasOwnProperty(e)?this.sizerChildren[e]:null};const Qg=$e.prototype.setChildVisible;var IN=function(e,t){this._previousKey=this._currentKey;var s=this.previousPage;s&&(this.swapMode===0?(Qg.call(this,s,!1),this.emit("pageinvisible",s,this._previousKey,this)):s.destroy()),e&&!this.sizerChildren.hasOwnProperty(e)&&this.emit("createpage",e,this),this._currentKey=e;var o=this.currentPage;return o&&(Qg.call(this,o,!0),this.emit("pagevisible",o,this._currentKey,this),t===void 0&&(t=this.fadeInDuration),t>0&&o.setAlpha(0).fadeIn(t,1)),this},BN=function(e){return this.sizerChildren.hasOwnProperty(e)},dT={getPage:DN,swapPage:IN,hasPage:BN};Object.assign(dT,FN);const jg=Phaser.Utils.Objects.GetValue;class Tl extends ai{constructor(t,s){super(t,s),this.type="rexPages",this.childrenMap=this.sizerChildren,this._previousKey=void 0,this._currentKey=void 0,this.setSwapMode(jg(s,"swapMode",0)),this.setFadeInDuration(jg(s,"fadeIn",0))}setSwapMode(t){return typeof t=="string"&&(t=GN[t]),this.swapMode=t,this}setFadeInDuration(t){return this.fadeInDuration=t,this}get previousKey(){return this._previousKey}get currentKey(){return this._currentKey}set currentKey(t){this.swapPage(t)}get currentPage(){return this.getPage(this.currentKey)}get previousPage(){return this.getPage(this.previousKey)}get keys(){return Object.keys(this.sizerChildren)}}Object.assign(Tl.prototype,dT);const GN={invisible:0,destroy:1};st.register("pages",function(e){var t=new Tl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Pages",Tl);const NN=Phaser.GameObjects.Mesh;class fT extends NN{get tint(){return this.vertices.length===0?16777215:this.vertices[0].color}forceUpdate(){return this.dirtyCache[10]=1,this}}const cT=Phaser.Math.Vector3,kN=Phaser.Math.Matrix4;var qg=new cT,_g=new cT,t0=new kN,VN=function(e,t,s,o,y,S,r){t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),qg.set(t,s,o),_g.set(y,S,r),t0.fromRotationXYTranslation(_g,qg,!0);for(var C=0,i=e.vertices.length;C<i;C++)e.vertices[C].transformMat4(t0)};const zN=Phaser.Utils.Objects.IsPlainObject,tr=Phaser.Utils.Objects.GetValue,XN=Phaser.Geom.Mesh.GenerateGridVerts,id=Phaser.Math.RadToDeg,ho=Phaser.Math.DegToRad,vT=45,YN=1+1/Math.sin(ho(vT));let pT=class extends fT{constructor(t,s,o,y,S,r){zN(s)&&(r=s,s=tr(r,"x",0),o=tr(r,"y",0),y=tr(r,"key",null),S=tr(r,"frame",null)),super(t,s,o,y,S),this.type="rexPerspectiveImage",this.setSizeToFrame(),this.resetPerspective(),this.panZ(YN),this.hideCCW=tr(r,"hideCCW",!0);var C=tr(r,"gridWidth",0),i=tr(r,"gridHeight",C);this.resetVerts(C,i),this.prevFrame=this.frame}preUpdate(t,s){this.prevFrame!==this.frame&&(this.prevFrame=this.frame,this.syncSize()),super.preUpdate(t,s)}get originX(){return .5}get originY(){return .5}resetPerspective(){return this.setPerspective(this.width,this.height,vT),this}resetVerts(S,r){if(S!==void 0&&(this.gridWidth=S),r!==void 0&&(this.gridHeight=r),this.clear(),this.dirtyCache[9]=-1,this.width===0||this.height===0)return this;var o=this.frame.cutWidth,y=this.frame.cutHeight,S,r;this.gridWidth===0?S=Math.max(o/8,32):r=this.gridWidth,this.gridHeight===0?r=Math.max(y/8,32):r=this.gridHeight,XN({mesh:this,width:o/this.height,height:y/this.height,widthSegments:Math.ceil(o/S),heightSegments:Math.ceil(y/r)});var C=this.transformInfo;return C&&this.transformVerts(C.x,C.y,C.z,C.rotateX,C.rotateY,C.rotateZ),this}syncSize(){return this.setSizeToFrame(),this.resetPerspective(),this.resetVerts(),this}get rotationX(){return this.modelRotation.x}set rotationX(t){this.modelRotation.x=t}get angleX(){return id(this.rotationX)}set angleX(t){this.rotationX=ho(t)}get rotationY(){return this.modelRotation.y}set rotationY(t){this.modelRotation.y=t}get angleY(){return id(this.rotationY)}set angleY(t){this.rotationY=ho(t)}get rotationZ(){return this.modelRotation.z}set rotationZ(t){this.modelRotation.z=t}get angleZ(){return id(this.rotationZ)}set angleZ(t){this.rotationZ=ho(t)}transformVerts(t,s,o,y,S,r){return t===void 0&&(t=0),s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=0),S===void 0&&(S=0),r===void 0&&(r=0),this.transformInfo||(this.transformInfo={}),this.transformInfo.x=t,this.transformInfo.y=s,this.transformInfo.rotateX=y,this.transformInfo.rotateY=S,this.transformInfo.rotateZ=r,VN(this,t,s,o,y,S,r),this}};const WN=Phaser.Textures.DynamicTexture;var gT=function(e,t,s){t===void 0&&(t=2),s===void 0&&(s=2);var o=new WN(e.sys.textures,null,t,s);return o};const UN=Phaser.Utils.Objects.IsPlainObject,Hh=Phaser.Utils.Objects.GetValue;class mT extends pT{constructor(t,s,o,y,S,r){UN(s)&&(r=s,s=Hh(r,"x",0),o=Hh(r,"y",0),y=Hh(r,"width",32),S=Hh(r,"height",32));var C=gT(t,y,S);super(t,s,o,C,null,r),this.type="rexPerspectiveRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}snapshot(t,s){return s===void 0&&(s={}),s.gameObjects=t,s.renderTexture=this.rt,af(s),(this.width!==this.frame.realWidth||this.height!==this.frame.realHeight)&&this.syncSize(),this}}Phaser.Animations.AnimationState;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var gi=function(e,t,s,o){if(Array.isArray(e))for(var y=!1,S=0,r=e.length;S<r;S++){var C=e[S];if(!(o&&!C)&&(s?y=t.call(s,C,S,e):y=t(C,S,e),y))return}else{var y=!1;for(var i in e){var C=e[i];if(!(o&&!C)&&(s?y=t.call(s,C,i,e):y=t(C,i,e),y))return}}};const Zr=Phaser.Math.RadToDeg,Jr=Phaser.Math.DegToRad;class HN extends $e{constructor(t,s,o,y,S,r){super(t,s,o,y,S),this.faces=r,gi(r,function(C){C.setPosition(s,o),this.add(C)},this,!0)}get rotationX(){return 0}set rotationX(t){}get angleX(){return Zr(this.rotationX)}set angleX(t){this.rotationX=Jr(t)}get rotateX(){return Zr(this.rotationX)}set rotateX(t){this.rotationX=Jr(t)}get rotationY(){return 0}set rotationY(t){}get angleY(){return Zr(this.rotationY)}set angleY(t){this.rotationY=Jr(t)}get rotateY(){return Zr(this.rotationY)}set rotateY(t){this.rotationY=Jr(t)}get rotationZ(){return 0}set rotationZ(t){}get angleZ(){return Zr(this.rotationZ)}set angleZ(t){this.rotationZ=Jr(t)}get rotateZ(){return Zr(this.rotationZ)}set rotateZ(t){this.rotationZ=Jr(t)}setDebug(t,s){return gi(this.faces,function(o){o.setDebug(t,s)},null,!0),this}panX(t){return gi(this.faces,function(s){s.panX(t)},null,!0),this}panY(t){return gi(this.faces,function(s){s.panY(t)},null,!0),this}panZ(t){return gi(this.faces,function(s){s.panZ(t)},null,!0),this}transformVerts(t,s,o,y,S,r){return gi(this.faces,function(C){C.transformVerts(t,s,o,y,S,r)},null,!0),this}forEachFace(t,s,o){return gi(this.faces,t,s,o),this}}const $N=Phaser.Utils.Objects.IsPlainObject,KN={key:"__WHITE"},ZN={image:pT,rendertexture:mT};var e0=function(e,t){t===void 0&&(t=KN);var s;return $N(t)?(t.hasOwnProperty("type")||(t.hasOwnProperty("key")?t.type="image":t.hasOwnProperty("width")&&(t.type="rendertexture")),s=new ZN[t.type](e,t),e.add.existing(s)):s=t,s},JN=function(e,t,s){var o;if(s===void 0){o=[];for(var y,S,r=0,C=t.length;r<C;r++)S=t[r],S?y=e0(e,S):y=null,o.push(y)}else{o={};for(var y,i,r=0,C=s.length;r<C;r++)i=s[r],t.hasOwnProperty(i)?y=e0(e,t[i]):y=null,o[i]=y}return o};const QN=Phaser.Math.DegToRad,i0=QN(180);var jN=function(e,t){var s=t.back;s&&(e.orientation===0?s.transformVerts(0,0,0,0,i0,0):s.transformVerts(0,0,0,i0,0,0))};const sd=Phaser.Utils.Objects.GetValue,qN=Phaser.Math.Linear;let _N=class extends mr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setEase(sd(t,"ease","Cubic")),this.setFrontToBackDirection(sd(t,"frontToBack",0)),this.setBackToFrontDirection(sd(t,"backToFront",1)),this}setFrontToBackDirection(t){return typeof t=="string"&&(t=s0[t]),this.endAngleFB=t===0?180:-180,this}setBackToFrontDirection(t){return typeof t=="string"&&(t=s0[t]),this.endAngleBF=t===0?-180:180,this}start(t,s){if(this.timer.isRunning)return this;this.timer.setDelay(this.delay).setDuration(t);var o=s+1,y=this.parent;return y.face===0?(this.startAngle=0,this.endAngle=this.endAngleFB*o):(this.startAngle=this.endAngleBF,this.endAngle=this.startAngle-this.endAngleBF*o),super.start(),this}flip(t,s){return this.isRunning?this:(t===void 0&&(t=this.duration),s===void 0&&(s=0),this.start(t,s),this.emit("start",this.parent,this),this.parent.currentFaceIndex=(this.parent.currentFaceIndex+s+1)%2,this)}flipRight(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(0):this.setBackToFrontDirection(0),this.flip(t,s),this}flipLeft(t,s){return this.parent.currentFaceIndex===0?this.setFrontToBackDirection(1):this.setBackToFrontDirection(1),this.flip(t,s),this}updateTarget(t,s){var o=this.easeFn(s.t),y=qN(this.startAngle,this.endAngle,o);t.orientation===0?t.angleY=y:t.angleX=y}};const s0={right:0,"left-to-right":0,left:1,"right-to-left":1},tk=Phaser.Utils.Objects.IsPlainObject,er=Phaser.Utils.Objects.GetValue,ek=["back","front"];class ik extends HN{constructor(t,s,o,y){tk(s)&&(y=s,s=er(y,"x",0),o=er(y,"y",0));var S=JN(t,y,ek),r=S.back,C=S.front,i=er(y,"width"),h=er(y,"height");if(i===void 0||h===void 0){if(i===void 0){var x=C?C.width:0,f=r?r.width:0;i=Math.max(x,f)}if(h===void 0){var l=C?C.height:0,a=r?r.height:0;h=Math.max(l,a)}}super(t,s,o,i,h,S),this.type="rexPerspectiveCard",this.frontFaceRotationX=0,this.frontFaceRotationY=0,this.frontFaceRotationZ=0,gi(S,function(d,c){this[`${c}Face`]=d},this);var n=er(y,"flip",void 0);n!==!1&&(this.flip=new _N(this,n)),this.setOrientation(er(y,"orientation",0)),jN(this,S),this.setFace(er(y,"face",0))}get rotationX(){return this.frontFaceRotationX}set rotationX(t){this.frontFaceRotationX!==t&&(this.frontFaceRotationX=t,gi(this.faces,function(s){s.rotationX=t},null,!0))}get rotationY(){return this.frontFaceRotationY}set rotationY(t){this.frontFaceRotationY!==t&&(this.frontFaceRotationY=t,gi(this.faces,function(s){s.rotationY=t},null,!0))}get rotationZ(){return this.frontFaceRotationZ}set rotationZ(t){this.frontFaceRotationZ!==t&&(this.frontFaceRotationZ=t,gi(this.faces,function(s){s.rotationZ=t},null,!0))}setOrientation(t){return typeof t=="string"&&(t=sk[t]),this.orientation=t,this}get face(){return this.currentFaceIndex}set face(t){typeof t=="string"&&(t=rk[t]),this.currentFaceIndex=t;var s=t===1,o=s?180:0;this.orientation===0?this.angleY=o:this.angleX=o}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}}const sk={x:0,horizontal:0,h:0,y:1,vertical:1,v:1},rk={front:0,back:1};Phaser.Utils.Objects.GetValue;Phaser.Math.RadToDeg;Phaser.Math.DegToRad;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Angle.ShortestBetween;Phaser.Math.Wrap;Phaser.Math.Linear;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.DegToRad;Phaser.Math.RadToDeg;Phaser.Math.Angle.WrapDegrees;Phaser.Math.Linear;Phaser.Math.Wrap;Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;Phaser.Math.Wrap;const nk=Phaser.Utils.Objects.GetValue;var ak=function(e,t,s){t.visibleSibling=[],t.isRunning=!1,t.useParentBounds=nk(s,"useParentBounds",!1),t.setPosition(e.x,e.y).setVisible(!1),e.pin(t)},xT=function(e,t){if(!e)return!1;for(var s=t.visibleSibling,o=0,y=s.length;o<y;o++)e.setChildVisible(s[o],!0);return s.length=0,e.setChildVisible(t,!1),t.isRunning=!1,!0},hk=function(e,t){if(!e)return!1;xT(e,t);var s=t.useParentBounds;af({gameObjects:e.getAllVisibleChildren(),renderTexture:t.rt,x:t.x,y:t.y,width:s?e.displayWidth:void 0,height:s?e.displayHeighth:void 0,originX:s?e.originX:void 0,originY:s?e.originY:void 0}),e.setChildVisible(t,!0);for(var o=t.visibleSibling,y=e.children,S=0,r=y.length;S<r;S++){var C=y[S];C.visible&&C!==t&&(e.setChildVisible(C,!1),o.push(C))}return t.isRunning=!0,!0},yT=function(e){return class extends e{constructor(s,o){var y=s.scene;super(y,0,0,1,1,o),y.add.existing(this),ak(s,this,o)}destroy(s){!this.scene||this.ignoreDestroy||(this.exit(),super.destroy(s))}enter(){var s=hk(this.rexContainer.parent,this);return s&&this.syncSize(),this}exit(){return xT(this.rexContainer.parent,this),this}}};class TT extends yT(mT){get perspectiveState(){return this.isRunning}}const ok=Phaser.Utils.Objects.GetValue;var lk=function(e){var t=this.scene;this.setSnapshotPadding(ok(e,"snapshotPadding",0)),e=mi(e),delete e.width,delete e.height,e.front={width:1,height:1},e.back={width:1,height:1};var s=new ik(t,e);t.add.existing(s);var o=s.flip;if(o){var y=this;o.on("start",function(){y.enterPerspectiveMode()}).on("complete",function(){y.exitPerspectiveMode()})}return s};const uk=["front","back"],dk={enterPerspectiveMode(){return this.isInPerspectiveMode?this:(this.setChildVisible(this.perspectiveCard,!0),this.snapshotFace(0),this.snapshotFace(1),this.setChildVisible(this.childrenMap.front,!1),this.setChildVisible(this.childrenMap.back,!1),this.perspectiveCard.setSize(this.width,this.height),this)},exitPerspectiveMode(){if(!this.isInPerspectiveMode)return this;this.setChildVisible(this.perspectiveCard,!1);var e=this.perspectiveCard.face===0;return this.setChildVisible(this.childrenMap.front,e),this.setChildVisible(this.childrenMap.back,!e),this},setSnapshotPadding(e){return this.snapshotPadding=e,this},snapshotFace(e){typeof e=="number"&&(e=uk[e]);var t=this.perspectiveCard.faces[e],s=this.childrenMap[e];t.rt.clear();var o=s.visible;s.visible=!0;var y=s.isRexContainerLite?s.getAllVisibleChildren():s;return t.snapshot(y,{padding:this.snapshotPadding}),s.visible=o,this}},r0=Phaser.Utils.Objects.GetValue;class dc extends ai{constructor(t,s){super(t,s),this.type="rexPerspectiveCard";var o=s.back,y=r0(s,"expand.back",!0);this.add(o,{key:"back",expand:y});var S=s.front,r=r0(s,"expand.front",!0);this.add(S,{key:"front",expand:r}),this.perspectiveCard=lk.call(this,s),this.pin(this.perspectiveCard),this.exitPerspectiveMode(!1)}get flip(){return this.perspectiveCard.flip}get face(){return this.perspectiveCard.face}set face(t){if(!(this.flip&&this.flip.isRunning)){this.perspectiveCard.face=t;var s=t===0,o=this.childrenMap.front,y=this.childrenMap.back;this.setChildVisible(o,s),this.setChildVisible(y,!s)}}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}get isInPerspectiveMode(){return this.perspectiveCard.visible}get rotationX(){return this.perspectiveCard.rotationX}set rotationX(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationX=t}get angleX(){return this.perspectiveCard.angleX}set angleX(t){this.enterPerspectiveMode(),this.perspectiveCard.angleX=t}get rotationY(){return this.perspectiveCard.rotationY}set rotationY(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationY=t}get angleY(){return this.perspectiveCard.angleY}set angleY(t){this.enterPerspectiveMode(),this.perspectiveCard.angleY=t}get rotationZ(){return this.perspectiveCard.rotationZ}set rotationZ(t){this.enterPerspectiveMode(),this.perspectiveCard.rotationZ=t}get angleZ(){return this.perspectiveCard.angleZ}set angleZ(t){this.enterPerspectiveMode(),this.perspectiveCard.angleZ=t}panX(t){return this.enterPerspectiveMode(),this.perspectiveCard.panX(t),this}panY(t){return this.enterPerspectiveMode(),this.perspectiveCard.panY(t),this}panZ(t){return this.enterPerspectiveMode(),this.perspectiveCard.panZ(t),this}transformVerts(t,s,o,y,S,r){return this.enterPerspectiveMode(),this.perspectiveCard.transformVerts(t,s,o,y,S,r),this}forEachFace(t,s,o){return this.enterPerspectiveMode(),this.perspectiveCard.forEachFace(t,s,o),this}}Object.assign(dc.prototype,dk);st.register("perspectiveCard",function(e){var t=new dc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.PerspectiveCard",dc);var fk=function(e){var t=this.getElement("tabs.buttons");if(!(e>=t.length))return t[e].name},ck=function(e){for(var t=this.getElement("tabs.buttons"),s=0,o=t.length;s<o;s++)if(t[s].name===e)return s};const vk=Phaser.Utils.Objects.IsPlainObject,rd=Phaser.Utils.Objects.GetValue,pk=Phaser.Utils.String.UUID;var gk=function(e,t,s){if(vk(e)){var o=e;e=rd(o,"key"),t=rd(o,"tab"),s=rd(o,"page")}return e||(e=pk()),t.name=e,this.childrenMap.tabs.addButton(t),this.childrenMap.pages.addPage(s,{key:e}),this},mk=function(e,t){var s;if(typeof e=="number"?s=e:s=this.getPageIndex(e),s!=null){var o;t!==void 0&&(o=this.childrenMap.pages.fadeInDuration,this.childrenMap.pages.fadeInDuration=t),this.childrenMap.tabs.emitButtonClick(s),o!==void 0&&(this.childrenMap.pages.fadeInDuration=o)}return this},xk=function(e){return this.swapPage(0,e),this},yk=function(e){var t=this.getElement("tabs.buttons").length-1;return this.swapPage(t,e),this};const Tk={swapPage:mk,swapFirstPage:xk,swapLastPage:yk},Ck={removePage(e,t){typeof e=="number"&&(e=this.getPageKey(e));var s=this.childrenMap.tabs,o=s.getByName(e),y=this.childrenMap.pages,S=y.getElement(e);return!o||!S?this:(y.removeChildrenMap(e),s.removeButton(o,t),y.remove(S,t),this)},removeAllPages(e){for(var t=this.getElement("tabs.buttons"),s=t.length-1;s>=0;s--)this.removePage(t[s].name,e);return this}};var Sk=function(e){return typeof e=="number"&&(e=this.getPageKey(e)),this.childrenMap.pages.getPage(e)},Pk=function(e){var t;return typeof e=="number"?t=e:t=this.getPageIndex(e),this.getElement("tabs.buttons")[t]},Ek={top:1,left:3,right:5,bottom:7},n0={top:"bottom",left:"right",right:"left",bottom:"top"},Mk=function(e){var t=Ek[e];if(t===void 0)return this;var s=this.childrenMap.tabs,o=this.sizerChildren.indexOf(s);if(o===t)return this;this.sizerChildren[o]=null,this.sizerChildren[t]=s;var y=this.getSizerConfig(s).padding,S=n0[this.tabsPosition],r=n0[e];return y[r]=y[S],y[S]=0,this.tabsPosition=e,this};const wk={setTabsPadding(e,t){var s=this.childrenMap.tabs;return s.setOuterPadding(e,t),this},getTabsPadding(e){var t=this.childrenMap.tabs;return t.getOuterPadding(e)}};var CT={getPageKey:fk,getPageIndex:ck,addPage:gk,getPage:Sk,getTab:Pk,setTabPosition:Mk};Object.assign(CT,Tk,Ck,wk);const vi=Phaser.Utils.Objects.GetValue,a0=Ci.prototype.add;let Cl=class extends Ci{constructor(t,s){s===void 0&&(s={}),s.column=3,s.row=3,s.columnProportions=[0,0,0],s.rowProportions=[0,0,0];var o=vi(s,"expand.pages",!0);o&&(s.columnProportions[1]=1,s.rowProportions[1]=1),super(t,s),this.type="rexTabPages";var y=vi(s,"background",void 0);y&&this.addBackground(y);var S=vi(s,"pages"),r=new Tl(t,S);t.add.existing(r);var C=vi(s,"tabsPosition",void 0);C===void 0&&(C=vi(s,"tabPosition","top"));var i=vi(s,"wrapTabs",!1),h=i?Ls:de,x=vi(s,"tabs",void 0);x===void 0&&(x={}),x.orientation=C==="top"||C==="bottom"?"x":"y",x.buttonsType="radio",!i&&!x.hasOwnProperty("expand")&&(x.expand=vi(s,"expand.tabs",!1));var f=new h(t,x);t.add.existing(f),a0.call(this,r,{column:1,row:1,expand:o});var l,a,n=vi(s,"space.item",0);switch(C){case"top":l=1,a=0,n={bottom:n};break;case"bottom":l=1,a=2,n={top:n};break;case"left":l=0,a=1,n={right:n};break;case"right":l=2,a=1,n={left:n};break}a0.call(this,f,{column:l,row:a,padding:n,expand:i?!0:vi(s,"expand.tabs",!1),align:vi(s,"align.tabs","left")}),this.addChildrenMap("background",y),this.addChildrenMap("tabs",f),this.addChildrenMap("pages",r),this.tabsPosition=C,f.on("button.click",function(d){var c=d.name;r.hasPage(c)&&r.swapPage(c)}),f.on("button.statechange",function(d,c,u,v){var p=u?"tab.focus":"tab.blur";this.emit(p,d,d.name)},this),r.on("pagevisible",function(d,c,u){this.emit("page.focus",d,c)}),r.on("pageinvisible",function(d,c,u){this.emit("page.blur",d,c)})}get currentKey(){return this.getElement("pages").currentKey}set currentKey(t){this.showPage(t)}get keys(){return this.getElement("pages").keys}get currentPage(){return this.getElement("pages").currentPage}get previousPage(){return this.getElement("pages").previousPage}};Object.assign(Cl.prototype,CT);st.register("tabPages",function(e){var t=new Cl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TabPages",Cl);class Rk extends Yo{constructor(t,s){s===void 0&&(s={}),s.destroy=!1,super(t,s)}onOpen(){this.emit("open",this.parent,this),super.onOpen()}onClose(){this.emit("close",this.parent,this),super.onClose()}}const Ak={expand(e){if(this.expanded===!0)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!0;var t=this.childrenMap.title,s=this.childrenMap.child;if(this.show(s),this.reLayoutEnable){var o=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();o.layout()}return t.emit("folder.expand",e,this),s.emit("folder.expand",e,this),this.emit("expand.start",this),this.childTransition.once("open",function(){this.emit("expand.complete",this)},this).requestOpen(null,e),this},collapse(e){if(this.expanded===!1)return this;e===void 0&&(e=this.transitionDuration),this.expanded=!1;var t=this.childrenMap.title,s=this.childrenMap.child;return t.emit("folder.collapse",e,this),s.emit("folder.collapse",e,this),this.emit("collapse.start",this),this.childTransition.once("close",function(){if(this.setChildScale(s,1,1).hide(s),this.reLayoutEnable){var o=this.reLayoutTarget?this.reLayoutTarget:this.getTopmostSizer();o.layout()}this.emit("collapse.complete",this)},this).requestClose(null,e),this},toggle(e){return this.expanded?this.collapse(e):this.expand(e),this},setExpandedState(e){return this.reLayoutEnable=!1,e===void 0?this.expanded=void 0:e?this.expand(0):this.collapse(0),this.reLayoutEnable=!0,this}};var Ok=function(e,t){Ki.popUp.call(e,t,this.expandDirection)},Lk=function(e,t){Ki.scaleDown.call(e,t,this.expandDirection)};const bk={setTransitionDuration(e){return this.transitionDuration=e,this.childTransition.setTransitInTime(e).setTransitOutTime(e),this},setExpandCallback(e){return e===void 0&&(e=Ok.bind(this)),this.childTransition.setTransitInCallback(e),this},setCollapseCallback(e){return e===void 0&&(e=Lk.bind(this)),this.childTransition.setTransitOutCallback(e),this}},qt=Phaser.Utils.Objects.GetValue;let za=class extends Tt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexFolder",this.reLayoutEnable=!0,this.expanded=void 0,this.expandDirection=this.orientation===1?"y":"x";var o=s.background,y=s.title,S=s.child;o&&this.addBackground(o);var r=qt(s,"space"),C=this.orientation===1?"left":"top",l=qt(s,"align.title",C),a=qt(s,"expand.title",!0);this.add(y,{proportion:0,align:l,expand:a,padding:{left:qt(r,"titleLeft",0),right:qt(r,"titleRight",0),top:qt(r,"titleTop",0),bottom:qt(r,"titleBottom",0)}});var i=qt(s,"toggleByTarget",void 0),h=qt(s,"toggleClickConfig");i===void 0&&(i=y),i&&Ff.onClick.call(i,function(){this.toggle()},this,h),this.childTransition=new Rk(S);var x=qt(s,"customChildOrigin",!1);if(!x){var f=this.rtl?1:0;S.setOrigin(f)}var l=qt(s,"align.child","left"),a=qt(s,"expand.child",!0),n=a?1:0;this.add(S,{proportion:n,align:l,expand:a,padding:{left:qt(r,"childLeft",0),right:qt(r,"childRight",0),top:qt(r,"childTop",0),bottom:qt(r,"childBottom",0)}}),this.addChildrenMap("title",y),this.addChildrenMap("child",S),this.addChildrenMap("background",o);var d=s.transition;this.setTransitionDuration(qt(d,"duration",200)),this.setExpandCallback(qt(d,"expandCallback",void 0)),this.setCollapseCallback(qt(d,"collapseCallback",void 0)),this.reLayoutTarget=qt(s,"reLayoutTarget",void 0);var c=s.onExpandStart;c&&this.on("expand.start",c);var u=s.onExpandComplete;u&&this.on("expand.complete",u);var v=s.onCollapseStart;v&&this.on("collapse.start",v);var p=s.onCollapseComplete;p&&this.on("collapse.complete",p);var g=qt(s,"expanded",void 0);g!==void 0&&this.setExpandedState(g)}};Object.assign(za.prototype,Ak,bk);st.register("folder",function(e){var t=new za(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Folder",za);var Fk=function(e,t,s,o){for(var y in this.treesMap){var S=this.treesMap[y];if(cr(S.nodeBody,e,t,s,o))return S;var r=S.pointToChild(e,t,s,o);if(r)return r}return null},Dk=function(e){return e===void 0&&(e={}),e.targetMode="parent",e.targetSizers=[this],Jo(this,e),this},ST=function(e){return class extends e{get isTree(){return!1}get isNode(){return!1}setText(s){return this.text=s,this}get text(){var s=this.nodeBody;return s.text}set text(s){var o=this.nodeBody;o.setText&&o.setText(s)}setTexture(s,o){var y=this.nodeBody;return y.setTexture&&y.setTexture(s,o),this}get texture(){var s=this.nodeBody;if(s)return s.texture}get frame(){var s=this.nodeBody;if(s)return s.frame}}},Ik=function(e,t,s,o){for(var y in this.nodesMap){var S=this.nodesMap[y];if(this.isTreeObject(S)){var r=S;if(cr(r.nodeBody,e,t,s,o))return r;var C=r.pointToChild(e,t,s,o);if(C)return C}else if(cr(S,e,t,s,o))return S}return null};const Bk={getTreePatent(e){if(e===void 0&&(e=this),!!e.rexSizer)return e.rexSizer.treeParent},getTreeRoot(e){e===void 0&&(e=this);for(var t;;){if(!e.rexSizer)return;if(t=e.rexSizer.treeParent,t===null)return e;e=t}},getTreesSizer(e){var t=this.getTreeRoot(e);return t?t.getParentSizer():null},isGrandsonNode(e){if(e===void 0||!e.rexSizer)return!1;for(var t;;){if(!e.rexSizer)return!1;if(t=e.rexSizer.treeParent,t===this)return!0;if(t===null)return!1;e=t}return!1}};var la=function(e,t,s,o,y=!1){var S;if(Ge(t))S=t,delete t[key];else if(xi(t)){var r=t;S=r(e,s),S&&e.add.existing(S)}else(y||t)&&o&&(S=o(e,t,s));return S},fc=function(e,t,s){var o=he(e,t);return o},Gk=function(e,t,s){var o=new Ba(e,t);return e.add.existing(o),o.resetDisplayContent(""),o};const Qr=Phaser.Utils.Objects.GetValue;class PT extends ST(Tt){constructor(t,s,o){var y=s.space;super(t,{orientation:"x",space:{left:Qr(y,"nodeLeft",0),right:Qr(y,"nodeRight",0),top:Qr(y,"nodeTop",0),bottom:Qr(y,"nodeBottom",0)}}),this.type="rexTreeNode";var S=la(t,Qr(s,"nodeBackground"),o,fc,!1),r=la(t,Qr(s,"nodeBody"),o,Gk,!0);S&&this.addBackground(S),this.add(r,{proportion:1}),this.nodeBody=r,this.addChildrenMap("background",S),this.addChildrenMap("nodeBody",r)}get isNode(){return!0}getTreePatent(){return this.rexSizer.treeParent}getTreeRoot(){var t=this.rexSizer.treeParent;return t?t.getTreeRoot():null}getTreesSizer(){var t=this.getTreeRoot();return t?t.getParentSizer():null}}var ET=function(e,t){var s=e.parentContainer;if(s){t.isRexContainerLite?t.addToContainer(s):s.add(t);return}var o=e.displayList;if(Qn(o)){t.isRexContainerLite?t.addToLayer(o):o.add(t);return}e.scene.add.existing(t)};const h0=Phaser.Utils.String.UUID,Nk={addTree(e,t){if(Ge(e)){var s=e;e={nodeBody:s,nodeKey:t}}return this.insertTree(void 0,e)},insertTree(e,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=h0());var o=this.createTree(t);return ET(this,o),this.insertNode(e,o,{expand:!0}),o._postAddCallback(),o},addNode(e,t){return this.insertNode(void 0,e,t)},insertNode(e,t,s){var o;Ge(t)||(s=t,t=new PT(this.scene,this.configSave,{isLeaf:!0})),typeof s=="string"?(o=s,s=void 0):s&&(o=s.nodeKey,delete s.nodeKey),o===void 0&&(o=h0()),s===void 0&&(s={}),s.hasOwnProperty("expand")||(s.expand=!0),this.removeNode(t,!1),t.rexSizer.treeParent=this,this.nodesMap.hasOwnProperty(o)&&(console.error(`[Trees] Duplicate nodeKey '${o}'`),this.removeNode(this.nodesMap[o],!0)),t.nodeKey=o,this.nodesMap[o]=t;var y=this.childrenMap.child;return y.insert(e,t,s),t}},kk={removeNode(e,t){if(typeof e=="string"&&(e=this.getTree(e)),!e)return this;var s=this.getTreePatent(e);if(!s)return this;delete s.nodesMap[e.nodeKey],e.nodeKey=null,e.rexSizer.treeParent=null;var o=s.childrenMap.child;return o.remove(e,t),this},removeAllNodes(e){var t=this.nodesMap;for(var s in t)this.removeNode(t[s],e);return this}},Vk={getNode(e){if(typeof e=="string"&&(e=e.split(".")),e.length!==0){var t=e.shift(),s=this.nodesMap[t];return e.length===0?s:s&&this.isTreeObject(s)?s.getNode(e):null}},getNodes(e){var t=this.nodesMap;if(!e)e=nodes;else for(var s in t)e.push(t[s]);return e},getAllNodes(e){}};var MT={pointToChild:Ik};Object.assign(MT,Bk,Nk,kk,Vk);var zk=function(e,t,s){var o=new ya(e,t);return e.add.existing(o),o.on("expand.start",function(y){y.setDirection("down")}).on("collapse.complete",function(y){y.setDirection("right")}),o};const o0=Phaser.Utils.Objects.GetValue;var Xk=function(e,t){var s=new PT(e,t,{isLeaf:!1});e.add.existing(s);var o=la(e,o0(t,"toggleButton"),{isLeaf:!1},zk,!0);return s.insert(0,o,{padding:{right:o0(t,"space.toggleButton",0)},fitRatio:1}),s.addChildrenMap("toggleButton",o),s};const l0=Phaser.Utils.Objects.GetValue;var Yk=function(e,t){var s=new Tt(e,{orientation:l0(t,"childrenOrientation","y")});e.add.existing(s);var o=la(e,l0(t,"childrenBackground"),{isLeaf:!1},fc,!1);return o&&s.addBackground(o),s};const Wk=Phaser.Utils.Objects.Clone;var Uk=function(e,t){var s=e?Wk(e):{};if(!t)return s;for(var o in t)s[o]=t[o];return s};const gs=Phaser.Utils.Objects.GetValue;class vr extends ST(za){constructor(t,s){s===void 0&&(s={});var o=la(t,gs(s,"background"),{isLeaf:!1},fc,!1),y=Yk(t,s),S=y.childrenMap.items,r=Xk(t,s),C=r.childrenMap.toggleButton,i=r.childrenMap.nodeBody,h=yr(gs(s,"orientation","y")),x=s.space;if(x){var f=gs(x,"indent",0);x.childLeft=gs(x,"indentLeft",h===1?f:0),x.childRight=gs(x,"indentRight",0),x.childTop=gs(x,"indentTop",h===0?f:0),x.childBottom=gs(x,"indentBottom",0)}var l={background:o,title:r,child:y,toggleByTarget:C,transition:s.transition,orientation:h,space:x,align:s.align,expand:s.expand};super(t,l),this.type="rexTree",this.rexSizer.treeParent=null,this.nodesMap={},this.configSave=s,this.nodeBody=i,this.addChildrenMap("toggleButton",C),this.addChildrenMap("nodeBody",i),this.addChildrenMap("childrenNodes",S),this.on("expand.start",function(){C.emit("expand.start",C),$h(this,"expand.start")},this).on("expand.complete",function(){C.emit("expand.complete",C),$h(this,"expand.complete")}).on("collapse.start",function(){C.emit("collapse.start",C),$h(this,"collapse.start")}).on("collapse.complete",function(){C.emit("collapse.complete",C),$h(this,"collapse.complete")});var a=this;a._postAddCallback=function(){var n=gs(s,"expanded",!0);n!==void 0&&a.setExpandedState(n),delete a._postAddCallback}}destroy(t){!this.scene||this.ignoreDestroy||(this.configSave=void 0,Clear(this.nodesMap),this.nodesMap=void 0,super.destroy(t))}get isTree(){return!0}createTree(t){return vr.CreateTree(this.scene,this.configSave,t)}isTreeObject(t){return t&&t instanceof vr}}vr.CreateTree=function(e,t,s){return new vr(e,Uk(t,s))};var $h=function(e,t){var s=e.getTreesSizer();s&&s.emit(t,e)};Object.assign(vr.prototype,MT);const Hk=Phaser.Utils.String.UUID,$k={addTree(e){if(Ge(e)){var t=e;e={nodeBody:t,nodeKey}}return this.insertTree(void 0,e)},insertTree(e,t){var s;typeof t=="string"?(s=t,t=void 0):t&&(s=t.nodeKey,delete t.nodeKey),s===void 0&&(s=Hk());var o=vr.CreateTree(this.scene,this.treeConfig,t);return ET(this,o),o.nodeKey=s,this.treesMap[s]=o,this.insert(e,o,{expand:!0}),o._postAddCallback(),o}},Kk={removeTree(e,t){return typeof e=="string"&&(e=this.getTree(e)),e?(delete this.treesMap[e.nodeKey],e.nodeKey=null,this.remove(e,t),this):this},removeAllNodes(e){var t=this.treesMap;for(var s in t)this.removeTree(t[s],e);return this}},Zk={getTree(e){return this.treesMap[e]},getTrees(e){e===void 0&&(e=[]);for(var t in this.treesMap)e.push(this.treesMap[t]);return e},getNode(e){var t=e.indexOf(".");if(t===-1)return this.getTree(e);var s=this.getTree(e.substring(0,t));if(s)return s.getNode(e.substring(t+1))}};var wT={pointToChild:Fk,setChildrenInteractive:Dk};Object.assign(wT,$k,Kk,Zk);const Jk=Phaser.Utils.Objects.GetValue;class cc extends Tt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation="y"),super(t,s),this.type="rexTrees",this.treesMap={},this.treeConfig=Jk(s,"tree")}destroy(t){!this.scene||this.ignoreDestroy||(this.treeConfig=void 0,Clear(this.treesMap),this.treesMap=void 0,super.destroy(t))}}Object.assign(cc.prototype,wT);st.register("trees",function(e){var t=new cc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Trees",cc);st.register("textArea",function(e){var t=new Ia(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextArea",Ia);var Qk=function(e){Object.defineProperty(e,"childOY",{configurable:!0,get:function(){return e.textOY},set:function(t){e.textOY=t}}),Object.defineProperty(e,"topChildOY",{get:function(){return e.topTextOY}}),Object.defineProperty(e,"bottomChildOY",{get:function(){return e.bottomTextOY}}),Object.defineProperty(e,"childVisibleHeight",{get:function(){return e.textVisibleHeight}}),Object.defineProperty(e,"childHeight",{get:function(){return e.contentHeight}})};const jk={setText(e){var t=this.childrenMap.child;return t.setText(e),this},appendText(e){return this.setText(this.text+e),this}},qk={scrollToLine(e){return this.setChildOY(-this.lineHeight*e),this},scrollToNextLine(e){e===void 0&&(e=1);var t=this.lineIndex+e;return this.scrollToLine(t),this}},Kh=Phaser.Utils.Objects.GetValue;class Sl extends Da{constructor(t,s){s===void 0&&(s={});var o=Kh(s,"text"),y;Ge(o)?y=o:(o===void 0&&(o={}),o.textArea=!0,y=new ma(t,o),t.add.existing(y)),Qk(y);var S=o.width===void 0,r=o.height===void 0;S&&(y.minWidth=0),r&&(y.minHeight=0),s.scrollMode=0,s.type="rexTextAreaInput",s.child={gameObject:y,expandWidth:S,expandHeight:r};var C=Kh(s,"space",void 0);C&&(C.child=Kh(C,"text",0)),s.scroller=!1,super(t,s),this.addChildrenMap("text",y);var i,h;y.on("cursorin",function(){var f=y.textOY,l=y.contentHeight,a=i!==f,n=h!==l;i=f,h=l,n&&this.resizeController(),(a||n)&&(this.t=y.t)},this),y.on("textchange",function(f){this.emit("textchange",f,this)},this).on("close",function(){this.emit("close",this.text,this)},this);var x=Kh(s,"content",void 0);x&&this.setText(x)}get text(){return this.childrenMap.child.text}set text(t){t==null?t="":t=t.toString(),this.childrenMap.child.text!==t&&this.setText(t)}get lineHeight(){var t=this.childrenMap.child;return t.lineHeight}get lineIndex(){return Math.floor(-this.childOY/this.lineHeight)}get linesCount(){var t=this.childrenMap.child;return t.linesCount}get contentHeight(){var t=this.childrenMap.child;return t.contentHeight}get readOnly(){var t=this.childrenMap.child;return t.readOnly}set readOnly(t){var s=this.childrenMap.child;s.readOnly=t}setReadOnly(t){var s=this.childrenMap.child;return s.setReadOnly(t),this}get value(){return this.text}set value(t){this.text=t}}Object.assign(Sl.prototype,jk,qk);st.register("textAreaInput",function(e){var t=new Sl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.TextAreaInput",Sl);st.register("scrollablePanel",function(e){var t=new ka(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ScrollablePanel",ka);const Zh={popUp:function(e,t){e.popUp(t)},scaleDown:function(e,t){e.scaleDown(t)},fadeIn:function(e,t){e.fadeIn(t)},fadeOut:function(e,t){e.fadeOut(t)}},Cs={popUp:0,fadeIn:1,scaleDown:0,fadeOut:1},_k={setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){switch(typeof e=="string"&&(e=Cs[e]),e){case Cs.popUp:e=Zh.popUp;break;case Cs.fadeIn:e=Zh.fadeIn;break}return e||(e=ae),this.transitInCallback=e,this},setTransitOutCallback(e){switch(typeof e=="string"&&(e=Cs[e]),e){case Cs.scaleDown:e=Zh.scaleDown;break;case Cs.fadeOut:e=Zh.fadeOut;break}return e||(e=ae),this.transitOutCallback=e,this}},tV={showMessage(e){if(this.scaleX0===void 0&&(this.scaleX0=this.scaleX),this.scaleY0===void 0&&(this.scaleY0=this.scaleY),e===void 0){if(this.messages.length===0)return this;e=this.messages.shift()}if(this.player.isPlaying)return this.messages.push(e),this;this.setScale(this.scaleX0,this.scaleY0).setVisible(!0),typeof e=="string"?this.setText(e):e(this),this.layout();var t=[[0,[this.transitInCallback,this,this.transitInTime]],[0,[this.emit,"transitin",this,this.transitInTime]],[this.transitInTime,[ae]],[this.displayTime,[this.transitOutCallback,this,this.transitOutTime]],[0,[this.emit,"transitout",this,this.transitOutTime]],[this.transitOutTime,[this.setVisible,!1]],[30,[ae]]];return this.player.load(t,this).once("complete",function(){this.showMessage()},this).start(),this},removeAllMessages(){return this.messages.length=0,this}},Kn=Phaser.Utils.Objects.GetValue;class vc extends ss{constructor(t,s){s===void 0&&(s={text:createDefaultTextObject(t)}),super(t,s),this.type="rexToast",this.setTransitInTime(Kn(s,"duration.in",200)),this.setDisplayTime(Kn(s,"duration.hold",1200)),this.setTransitOutTime(Kn(s,"duration.out",200)),this.setTransitInCallback(Kn(s,"transitIn",Cs.popUp)),this.setTransitOutCallback(Kn(s,"transitOut",Cs.scaleDown)),this.player=new Ny(this,{dtMode:1}),this.messages=[],this.scaleX0=void 0,this.scaleY0=void 0,this.setVisible(!1)}destroy(t){!this.scene||this.ignoreDestroy||(this.player.destroy(),this.player=void 0,this.messages=void 0,super.destroy(t))}setScale(t,s){return s===void 0&&(s=t),this.scaleX0=t,this.scaleY0=s,super.setScale(t,s),this}get isShowingMessage(){return this.player.isPlaying}}Object.assign(vc.prototype,_k,tV);st.register("toast",function(e){var t=new vc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Toast",vc);var eV={"bottom-to-top":1,"top-to-bottom":0,"right-to-left":1,"left-to-right":0};const iV={setQueueDirection(e){return typeof e=="string"&&(e=eV[e]),this.rtl=e===0,this.orientation===1?e?this.queueDirection=0:this.queueDirection=1:e?this.queueDirection=2:this.queueDirection=3,this},setCreateMessageLabelCallback(e){return this.createMessageLabelCallback=e,this},setDisplayTime(e){return this.displayTime=e,this},setTransitOutTime(e){return this.transitOutTime=e,this},setTransitInTime(e){return this.transitInTime=e,this},setTransitInCallback(e){return e||(e=ae),this.transitInCallback=e,this},setTransitOutCallback(e){return e||(e=ae),this.transitOutCallback=e,this}},sV=Ff.onClick,RT=Gx.delayCall,rV=Xo.moveTo;var nV=function(e,t,s){var o=t(e.scene,s,e);if(sV.call(o,function(){e.removeMessage(o)}),e.displayTime){var y=e.transitInTime+e.displayTime+10;RT.call(o,y,function(){e.removeMessage(o)})}return o},AT=function(e){for(var t=e.childrenMap.items,s,o=[],y=0,S=t.length;y<S;y++)s=t[y],o.push({x:s.x,y:s.y});return o},aV=function(e){for(var t=e.childrenMap.items,s,o=[],y=0,S=t.length;y<S;y++)s=t[y],o.push({x:s.scaleX,y:s.scaleY}),s.setScale(1);e.layout();for(var r=AT(e),y=0,S=t.length;y<S;y++){var C=o[y];t[y].setScale(C.x,C.y)}return r},hV=function(e,t,s,o){for(var y=e.childrenMap.items,S=Math.min(t.length,s.length,y.length),r,C,i,h=e.queueDirection,x=0;x<S;x++){switch(r=y[x],C=t[x],i=s[x],r.setPosition(C.x,C.y),h){case 0:if(C.y<=i.y)continue;break;case 1:if(C.y>=i.y)continue;break;case 2:if(C.x<=i.x)continue;break;case 3:if(C.x>=i.x)continue;break}rV.call(r,o,i.x,i.y)}},oV=function(e,t,s){var o=AT(e);e.add(t);var y=aV(e);hV(e,o,y,s),e.transitInCallback(t,s,e)};const lV={showMessage(e){var t=nV(this,this.createMessageLabelCallback,e);return oV(this,t,this.transitInTime),this},removeMessage(e){if(this.getParentSizer(e)!==this)return this;if(!e.__isDestroying){e.__isDestroying=!0;var t=this.transitOutTime;return this.transitOutCallback(e,t,this),RT.call(e,t+10,function(){delete e.__isDestroying,e.destroy()}),this}},removeAllMessages(){for(var e=this.childrenMap.items,t=0,s=e.length;t<s;t++)this.removeMessage(e[t]);return this}};var OT={};Object.assign(OT,iV,lV);const u0={transitIn(e,t,s){switch(s.queueDirection){case 0:e.setOrigin(.5,1),Ki.popUp.call(e,t,"y");break;case 1:e.setOrigin(.5,0),Ki.popUp.call(e,t,"y");break;case 2:e.setOrigin(1,.5),Ki.popUp.call(e,t,"x");break;case 3:e.setOrigin(0,.5),Ki.popUp.call(e,t,"x");break}oa.fadeIn.call(e,t)},transitOut(e,t,s){oa.fadeOut.call(e,t)}},ir=Phaser.Utils.Objects.GetValue;class pc extends Tt{constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("orientation")||(s.orientation=1),super(t,s),this.type="rexToastQueue",this.setCreateMessageLabelCallback(ir(s,"createMessageLabelCallback")),this.setQueueDirection(ir(s,"queueDirection",1)),this.setTransitInTime(ir(s,"duration.in",200)),this.setDisplayTime(ir(s,"duration.hold",2e3)),this.setTransitOutTime(ir(s,"duration.out",200)),this.setTransitInCallback(ir(s,"transitIn",u0.transitIn)),this.setTransitOutCallback(ir(s,"transitOut",u0.transitOut))}}Object.assign(pc.prototype,OT);st.register("toastQueue",function(e){var t=new pc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ToastQueue",pc);var uV=function(e,t){if(t===!1)return null;if(Ge(t))return t;var s=new pr(e,t);return e.add.existing(s),s};const dV=Phaser.Utils.String.Pad;var d0=function(e,t){t===void 0&&(t="0x");var s=e.toString(16).toUpperCase();return s=dV(s,6,0,1),s=t+s,s},fV=function(e,t){e&&(e.setTint?e.setTint(t):e.setFillStyle&&e.setFillStyle(t))};const ii=Phaser.Utils.Objects.GetValue,cV=Phaser.Utils.Objects.IsPlainObject,vV=Phaser.Math.Clamp;let gc=class extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorInputLite";var o=ii(s,"background",void 0),y=ii(s,"swatch"),S;cV(y)&&(S=ii(y,"size"));var r=uV(t,ii(s,"swatch")),C=ii(s,"inputText",{}),i;if(C&&(i=bs(t,C)),o&&this.addBackground(o),r){S=ii(s,"swatchSize",S);var h;S!==void 0?(Pe(r,S,S),h=!1):h=ii(s,"squareExpandSwatch",!0);var x=h?1:0;this.add(r,{proportion:0,expand:!0,fitRatio:x})}if(i){var f=ii(C,"width")===void 0?1:0,l=ii(C,"height")===void 0;this.add(i,{proportion:f,expand:l})}this.addChildrenMap("background",o),this.addChildrenMap("swatch",r),this.addChildrenMap("inputText",i),i&&i.on("close",function(){this.setValue(i.value)},this);var a=ii(s,"valuechangeCallback",null);if(a!==null){var n=ii(s,"valuechangeCallbackScope",void 0);this.on("valuechange",a,n)}this.setValue(ii(s,"value",0))}get value(){return this._value}set value(t){if(typeof t=="string"){if(t=Sd(t),t==null){var o=this.childrenMap.inputText;o&&o.setText(d0(this._value));return}}else t=vV(Math.floor(t),0,16777215);if(this._value!==t){this._value=t;var s=this.childrenMap.swatch;s&&fV(s,t);var o=this.childrenMap.inputText;o&&o.setText(d0(t)),this.emit("valuechange",this._value)}}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}};var pV={setCreateColorPickerBackgroundCallback(e){return this.colorPickerCreateBackgroundCallback=e,this},setColorPickerHPalettePosition(e){return this.colorPickerHPalettePosition=e,this},setColorPickerExpandDirection(e){return typeof e=="string"&&(e=gV[e]),this.colorPickerExpandDirection=e,this},setColorPickerEaseInDuration(e){return e===void 0&&(e=0),this.colorPickerEaseInDuration=e,this},setColorPickerEaseOutDuration(e){return e===void 0&&(e=0),this.colorPickerEaseOutDuration=e,this},setColorPickerTransitInCallback(e){return this.colorPickerTransitInCallback=e,this},setColorPickerTransitOutCallback(e){return this.colorPickerTransitOutCallback=e,this},setColorPickerBounds(e){return this.colorPickerBounds=e,this},setColorPickerWidth(e){return this.colorPickerWidth=e,this},setColorPickerHeight(e){return this.colorPickerHeight=e,this},setColorPickerSize(e,t){return this.setColorPickerWidth(e).setColorPickerHeight(t),this},setColorPickerSpace(e){return e===void 0&&(e={}),this.colorPickerSpace=e,this},setColorComponentsHeight(e){return this.colorComponentsHeight=e,this},setColorComponentsFormatLabelConfig(e){return this.colorComponentsFormatLabelConfig=e,this},setColorComponentsInputTextConfig(e){return this.colorComponentsInputTextConfig=e,this},setColorComponentsSpace(e){return e===void 0&&(e={}),this.colorComponentsSpace=e,this}};const gV={down:0,up:1},LT=Phaser.Display.Color,So=Phaser.Math.Percent;var mV=function(e,t,s){s===void 0&&(s=!1);var o=e.width,y=e.height,S=new LT;if(s)for(var r=0;r<y;r++){var C=So(r,0,y);S.setFromHSV(C,1,1),t.fillStyle=S.rgba,t.fillRect(0,r,o,1)}else for(var i=0;i<o;i++){var C=So(i,0,o);S.setFromHSV(C,1,1),t.fillStyle=S.rgba,t.fillRect(i,0,1,y)}},xV=function(e,t,s){for(var o=e.width,y=e.height,S=t.getImageData(0,0,o,y),r=S.data,C=new LT,i=0;i<y;i++)for(var h=0;h<o;h++){var x=So(h,0,o),f=1-So(i,0,y);C.setFromHSV(s,x,f);var l=(i*o+h)*4;r[l]=C.red,r[l+1]=C.green,r[l+2]=C.blue,r[l+3]=255}t.putImageData(S,0,0)};const yV=Phaser.Display.Color,f0=Phaser.Math.Percent,TV=Phaser.Display.Color.ColorToRGBA,CV=Phaser.Display.Color.HSVToRGB;class SV extends xr{constructor(t,s,o,y,S,r){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,s,o,y,S),this.type="rexColorPicker.HPaletteCanvas",this.colorObject=new yV,this.setOrientation(r),this.setSize(y,S)}setOrientation(t){return this.orientation=yr(t),this}updateTexture(){return mV(this.canvas,this.context,this.orientation),super.updateTexture(),this}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue=t}getHue(t,s){return t===void 0?this.hue:(this.orientation===0?this.hue=f0(t,0,this.width):this.hue=f0(s,0,this.height),this.hue)}getColor(t,s){if(t===void 0)return this.color;var o=this.getHue(t,s);return this.colorObject.setFromRGB(CV(o,1,1)),this.colorObject.color}setColor(t){return this.color===t?this:this}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(nd===void 0&&(nd={}),s=nd),this.colorObject.setFromRGB(TV(t)),this.orientation===0?(s.x=this.width*this.colorObject.h,s.y=this.height/2):(s.x=this.width/2,s.y=this.height*this.colorObject.h),s}}var nd=void 0,PV=Phaser.Math.RotateAround,bT=function(e,t,s,o){o===void 0?o={}:o===!0&&(ad===void 0&&(ad={}),o=ad),t-=e.width*e.originX,s-=e.height*e.originY;var y={x:t*e.scaleX,y:s*e.scaleY};return PV(y,0,0,-e.rotation),o.x=e.x+t,o.y=e.y+s,o},ad;class EV extends ai{constructor(t,s){s===void 0&&(s={}),super(t,s);var o=s.width!=null?1:0,y=new SV(t).setOrientation(o);t.add.existing(y),this.type="rexColorPicker.HPalette",y.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var S=new pr(t,{strokeColor:16777215,strokeWidth:2});t.add.existing(S),this.add(y,{key:"paletteCanvas",expand:!0}).add(S,{key:"marker",expand:!1})}resize(t,s){if(this.width===t&&this.height===s)return this;super.resize(t,s);var o=Math.min(t,s);return this.childrenMap.marker.setSize(o,o),this}onPaletteCanvasPointerDown(t,s,o,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(s,o);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,o=this.childrenMap.marker,y=s.colorToLocalPosition(t,!0);return bT(s,y.x,y.y,o),this.resetChildPositionState(o),this}getHue(t,s){var o=this.childrenMap.paletteCanvas;return o.getHue(t,s)}}const MV=Phaser.Display.Color,c0=Phaser.Math.Percent,v0=Phaser.Display.Color.ColorToRGBA,wV=Phaser.Display.Color.HSVToRGB;class RV extends xr{constructor(t,s,o,y,S,r){s===void 0&&(s=0),o===void 0&&(o=0),y===void 0&&(y=2),S===void 0&&(S=2),super(t,s,o,y,S),this.type="rexColorPicker.SVPaletteCanvas",r===void 0&&(r=1),this.colorObject=new MV,this.setHue(r),this.setSize(y,S)}get color(){return this.colorObject.color}get hue(){return this._hue}set hue(t){this._hue!==t&&(this._hue=t,this.colorObject.h=t,this.dirty=!0)}setHue(t){return this.hue=t,this}updateTexture(){return xV(this.canvas,this.context,this.hue),super.updateTexture(),this}getColor(t,s){if(t===void 0)return this.colorObject.color;var o=c0(t,0,this.width),y=1-c0(s,0,this.height);return this.colorObject.setFromRGB(wV(this.hue,o,y)),this.colorObject.color}setColor(t){return this.color===t?this:(this.colorObject.setFromRGB(v0(t)),this.setHue(this.colorObject.h),this)}colorToLocalPosition(t,s){return s===void 0?s={}:s===!0&&(hd===void 0&&(hd={}),s=hd),this.colorObject.setFromRGB(v0(t)),s.x=this.width*this.colorObject.s,s.y=this.height*(1-this.colorObject.v),s}}var hd=void 0;class AV extends ai{constructor(t,s){super(t,s);var o=new RV(t);t.add.existing(o),this.type="rexColorPicker.SVPalette",o.setInteractive().on("pointerdown",this.onPaletteCanvasPointerDown,this).on("pointermove",this.onPaletteCanvasPointerDown,this);var y=new pr(t,{radius:5,strokeColor:16777215,strokeWidth:2});t.add.existing(y),this.add(o,{key:"paletteCanvas",expand:!0}).add(y,{key:"marker",expand:!1})}onPaletteCanvasPointerDown(t,s,o,y){if(t.isDown){var S=this.childrenMap.paletteCanvas,r=S.getColor(s,o);this.setMarkerPosition(r),this.emit("input",r)}}get color(){return this.childrenMap.paletteCanvas.color}setHue(t){var s=this.childrenMap.paletteCanvas;return s.setHue(t),this}setColor(t){if(this.color===t)return this;var s=this.childrenMap.paletteCanvas;return s.setColor(t),this.setMarkerPosition(t),this}setMarkerPosition(t){var s=this.childrenMap.paletteCanvas,o=this.childrenMap.marker,y=s.colorToLocalPosition(t,!0);return bT(s,y.x,y.y,o),this.resetChildPositionState(o),this}}const pi=Phaser.Utils.Objects.GetValue;class mc extends Tt{constructor(t,s){super(t,s),this.type="rexColorPicker",this.freezePalettes=!1;var o=pi(s,"hPalette.position",0);typeof o=="string"&&(o=OV[o]);var y=o===0||o===2?1:0;this.setOrientation(y);var S=pi(s,"background",void 0),r,C;if(this.orientation===0){var r=pi(s,"hPalette.width",void 0);r===void 0&&(r=pi(s,"hPalette.size",10))}else C=pi(s,"hPalette.height",void 0),C===void 0&&(C=pi(s,"hPalette.size",10));var i=new EV(t,{width:r,height:C});t.add.existing(i);var h=pi(s,"svPalette.width",void 0),x=pi(s,"svPalette.height",void 0),f=new AV(t,{width:h,height:x});t.add.existing(f),S&&this.addBackground(S);var l={proportion:0,expand:!0},a,n;this.orientation===0?(a=h===void 0?1:0,n=x===void 0):(a=x===void 0?1:0,n=h===void 0);var d={proportion:a,expand:n};o===0||o===3?this.add(f,d).add(i,l):this.add(i,l).add(f,d),i.on("input",function(){f.setHue(i.getHue()),this.setValue(f.color,!0)},this),f.on("input",function(){this.setValue(f.color,!0)},this),this.addChildrenMap("background",S),this.addChildrenMap("hPalette",i),this.addChildrenMap("svPalette",f);var c=pi(s,"valuechangeCallback",null);if(c!==null){var u=pi(s,"valuechangeCallbackScope",void 0);this.on("valuechange",c,u)}this.setValue(pi(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){var s=this._value;this._value=t,this.freezePalettes||this.updatePalettes(),this.emit("valuechange",t,s,this)}}setValue(t,s){return this.freezePalettes=!!s,this.value=t,this.freezePalettes=!1,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}updatePalettes(){return this.childrenMap.hPalette.setColor(this.color),this.childrenMap.svPalette.setColor(this.color),this}postLayout(t,s,o){return this.childrenMap.hPalette.setMarkerPosition(this.value),this.childrenMap.svPalette.setMarkerPosition(this.value),super.postLayout(t,s,o),this}}var OV={bottom:0,left:1,top:2,right:3};const Li=Phaser.Utils.Objects.GetValue,LV=Phaser.Display.Color,bV=Phaser.Display.Color.ColorToRGBA,FV=Phaser.Display.Color.HSVToRGB,sr=Phaser.Math.Clamp;class xc extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=0,super(t,s),this.type="rexColorComponents",this.colorObject=new LV;var o=Li(s,"background",void 0),y=Li(s,"formatLabel",void 0);Ge(y)||(y=fe(t,y).resetDisplayContent());var S=[];if(s.inputText0&&s.inputText1&&s.inputText2)S.push(s.inputText0),S.push(s.inputText1),S.push(s.inputText2);else for(var r=Li(s,"inputText"),C=0;C<3;C++){var i=bs(t,r).setMaxLength(3).setNumberInput();S.push(i)}o&&this.addBackground(o);var x=Li(s,"proportion.formatLabel",0),h=!!y.isRexContainerLite,f=Li(s,"expand.formatLabel",h);this.add(y,{proportion:x,expand:f});for(var x=Li(r,"width")===void 0?1:0,f=Li(r,"height")===void 0,C=0,l=S.length;C<l;C++)this.add(S[C],{proportion:x,expand:f});this.addChildrenMap("background",o),this.addChildrenMap("formatLabel",y),this.addChildrenMap("components",S),this.onClick(y,this.toggleColorFormat,this);for(var C=0,l=S.length;C<l;C++)S[C].on("close",function(){this.updateColorObject(),this.setValue(this.colorObject.color)},this);var a=Li(s,"valuechangeCallback",null);if(a!==null){var n=Li(s,"valuechangeCallbackScope",void 0);this.on("valuechange",a,n)}y.setText("RGB"),this.setValue(Li(s,"value",16777215))}get value(){return this._value}set value(t){t=sr(Math.floor(t),0,16777215),this._value!==t&&(this._value=t,this.colorObject.setFromRGB(bV(t)),this.updateComponents(),this.emit("valuechange",this._value))}setValue(t){return this.value=t,this}get color(){return this._value}set color(t){this.value=t}setColor(t){return this.color=t,this}get colorFormat(){return this.childrenMap.formatLabel.text}set colorFormat(t){this.colorFormat!==t&&(this.childrenMap.formatLabel.setText(t),this.updateComponents())}setColorFormat(t){return this.colorFormat=t,this}toggleColorFormat(){return this.colorFormat=this.colorFormat==="RGB"?"HSV":"RGB",this}updateComponents(){var t=this.childrenMap.components,s,o,y;return this.colorFormat==="RGB"?(s=this.colorObject.red,o=this.colorObject.green,y=this.colorObject.blue):(s=Math.floor(this.colorObject.h*360),o=Math.floor(this.colorObject.s*100),y=Math.floor(this.colorObject.v*100)),t[0].setValue(s),t[1].setValue(o),t[2].setValue(y),this}updateColorObject(){var t=this.childrenMap.components;if(this.colorFormat==="RGB"){var s=sr(t[0].value,0,255),o=sr(t[1].value,0,255),y=sr(t[2].value,0,255);this.colorObject.setTo(s,o,y)}else{var S=sr(t[0].value,0,359)/360,r=sr(t[1].value,0,100)/100,C=sr(t[2].value,0,100)/100;this.colorObject.setFromRGB(FV(S,r,C))}return this}}const od=Phaser.Utils.Objects.GetValue;class DV extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexColorInput.ColorPickerPanel";var o=od(s,"background",void 0),y=new mc(t,{hPalette:s.hPalette||{},svPalette:s.svPalette||{},space:{item:od(s,"space.hPalette",8)}});t.add.existing(y);var S;s.colorComponents&&(S=new xc(t,s.colorComponents),t.add.existing(S)),o&&(this.addBackground(o),new Wo(o,{stopAllLevels:!1})),this.add(y,{proportion:1,expand:!0}),S&&this.add(S,{proportion:0,expand:!0}),this.addChildrenMap("background",o),this.addChildrenMap("colorPicker",y),this.addChildrenMap("colorComponents",S),y.on("valuechange",function(r){this.setValue(r)},this),S&&S.on("valuechange",function(r){this.setValue(r)},this),this.setValue(od(s,"value",16777215))}get value(){return this._value}set value(t){if(this._value!==t){this._value=t;var s=this.childrenMap.colorPicker;s.setValue(t);var o=this.childrenMap.colorComponents;o&&o.setValue(t),this.emit("valuechange",t)}}setValue(t){return this.value=t,this}}Phaser.Utils.Objects.GetValue;var IV=function(t){var t=this.scene,s,o=this.colorPickerCreateBackgroundCallback;o&&(s=o.call(this,t),t.add.existing(s));var y=this.colorPickerWidth;y===void 0&&(y=this.width);var S=this.colorPickerHeight;S===void 0&&(S=y);var r;this.colorComponentsHeight>0?r={height:this.colorComponentsHeight,formatLabel:this.colorComponentsFormatLabelConfig,inputText:this.colorComponentsInputTextConfig,space:this.colorComponentsSpace}:r=!1;var C=new DV(t,{width:y,height:S,background:s,space:this.colorPickerSpace,hPalette:{position:this.colorPickerHPalettePosition},colorComponents:r,value:this.value});return t.add.existing(C),C},BV=function(){if(!this.colorPicker){var e=IV.call(this).layout(),t=new tT(e,{duration:{in:this.colorPickerEaseInDuration,out:this.colorPickerEaseOutDuration},transitIn:this.colorPickerTransitInCallback,transitOut:this.colorPickerTransitOutCallback,expandDirection:this.colorPickerExpandDirection,alignTargetX:this,alignTargetY:this,bounds:this.colorPickerBounds,touchOutsideClose:!0}).on("open",function(){e.on("valuechange",function(s){this.setValue(s)},this)},this).on("close",function(){this.colorPicker=void 0,this.dropDownBehavior=void 0},this);return this.colorPicker=e,this.dropDownBehavior=t,this.pin(e),this}},FT={openColorPicker:BV};Object.assign(FT,pV);const pe=Phaser.Utils.Objects.GetValue;class Pl extends gc{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexColorInput",s.hasOwnProperty("colorPicker")||(s.colorPicker={background:{color:0}});var o=s.colorPicker,y=o!==!1&&o!==null;if(y){this.setColorPickerSize(pe(o,"width",160),pe(o,"height",170));var S,r=pe(o,"background");r?S=function(a){return he(a,r)}:S=pe(o,"createBackgroundCallback"),this.setCreateColorPickerBackgroundCallback(S),this.setColorPickerHPalettePosition(pe(o,"hPalettePosition",0)),this.setColorPickerExpandDirection(pe(o,"expandDirection")),this.setColorPickerEaseInDuration(pe(o,"easeIn",200)),this.setColorPickerEaseOutDuration(pe(o,"easeOut",200)),this.setColorPickerTransitInCallback(pe(o,"transitIn")),this.setColorPickerTransitOutCallback(pe(o,"transitOut")),this.setColorPickerBounds(pe(o,"bounds"));var C=pe(o,"space");C===void 0&&(C={left:10,right:10,top:10,bottom:10,item:8}),this.setColorPickerSpace(C)}var i=s.colorComponents,h=i!==!1&&i!==null;if(y&&h){this.setColorComponentsHeight(pe(i,"height",30)),this.setColorComponentsFormatLabelConfig(pe(i,"formatLabel"));var x=pe(i,"inputText");x||(x=pe(s,"inputText")),this.setColorComponentsInputTextConfig(x);var f=pe(i,"space");f===void 0&&(f={item:8}),this.setColorComponentsSpace(f)}var l=this.childrenMap.swatch;l&&y&&this.onClick(l,this.openColorPicker,this)}}Object.assign(Pl.prototype,FT);st.register("colorInput",function(e){var t=new Pl(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInput",Pl);st.register("colorInputLite",function(e){var t=new gc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorInputBase",gc);st.register("colorPicker",function(e){var t=new mc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorPicker",mc);st.register("colorComponents",function(e){var t=new xc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.ColorComponents",xc);var DT=function(e){for(var t=e.scene.input,s=t.manager,o=s.pointersTotal,y=s.pointers,S,r=0;r<o;r++)if(S=y[r],!(!S.primaryDown||t.getDragState(S)!==0||!Qd(e,S)))return t.setDragState(S,1),t._drag[S.id]=[e],t.dragDistanceThreshold===0||t.dragTimeThreshold===0?(t.setDragState(S,3),t.processDragStartList(S)):t.setDragState(S,2),!0;return!1};const Jh=Phaser.Utils.Objects.GetValue,p0=Phaser.Math.Distance.Between,g0=Phaser.Math.RotateAroundDistance;class yc extends zt{constructor(t,s){super(t,{eventEmitter:!1}),this._enable=void 0,t.setInteractive(Jh(s,"inputConfig",void 0)),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return this.pointer=void 0,this.setEnable(Jh(t,"enable",!0)),this.setAxisMode(Jh(t,"axis",0)),this.setAxisRotation(Jh(t,"rotation",0)),this}toJSON(){return{enable:this.enable,axis:this.axisMode,rotation:this.axisRotation}}boot(){var t=this.parent;t.on("dragstart",this.onDragStart,this),t.on("drag",this.onDrag,this),t.on("dragend",this.onDragEnd,this)}shutdown(t){this.isShutdown||(this.pointer=void 0,super.shutdown(t))}get enable(){return this._enable}set enable(t){if(this._enable!==t)return t||this.dragend(),this._enable=t,this.scene.input.setDraggable(this.parent,t),this}setEnable(t){return t===void 0&&(t=!0),this.enable=t,this}toggleEnable(){return this.setEnable(!this.enable),this}setAxisMode(t){return typeof t=="string"&&(t=GV[t]),this.axisMode=t,this}setAxisRotation(t){return this.axisRotation=t,this}drag(){return DT(this.parent),this}dragend(){if(this.isDragging)return this.scene.input.setDragState(this.pointer,5),this}onDragStart(t,s,o){this.isDragging||(this.pointer=t)}onDrag(t,s,o){if(this.pointer===t){var y=this.parent;if(this.axisMode===0)y.x=s,y.y=o;else if(this.axisRotation===0)this.axisMode===1?y.x=s:this.axisMode===2&&(y.y=o);else{var S,r={x:s,y:o};S=p0(r.x,r.y,y.x,y.y),r=g0(r,y.x,y.y,-this.axisRotation,S),this.axisMode===1?r.y=y.y:this.axisMode===2&&(r.x=y.x),S=p0(r.x,r.y,y.x,y.y),r=g0(r,y.x,y.y,this.axisRotation,S),y.x=r.x,y.y=r.y}}}onDragEnd(t,s,o,y){this.pointer===t&&(this.pointer=void 0)}get isDragging(){return this.pointer!==void 0}}const GV={both:0,"h&v":0,"x&y":0,horizontal:1,h:1,x:1,vertical:2,v:2,y:2};var NV=function(){var e=this.sizerChildren[0],t=this.sizerChildren[1],s=this.sizerChildren[2],o=this.getSizerConfig(e).padding,y=this.getSizerConfig(t).padding,S=this.getSizerConfig(s).padding;if(this.orientation===0){var r=this.innerLeft+o.left,C=this.innerRight-S.right,i=Rt(t),h=t.x+i*(0-t.originX),x=t.x+i*(1-t.originX),f=h-y.left-this.space.item-o.right,l=x+y.right+this.space.item+S.left,a=f-r,n=C-l,d=a+n;this.minFirstChildSize>0&&a<this.minFirstChildSize&&(a=this.minFirstChildSize,n=d-a),this.minSecondChildSize>0&&n<this.minSecondChildSize&&(n=this.minSecondChildSize,a=d-n),this.setSplitRatio(a/d)}else{var c=this.innerTop+o.top,u=this.innerBottom-S.bottom,v=At(t),p=t.y+v*(0-t.originY),g=t.y+v*(1-t.originY),m=p-y.top-this.space.item-o.bottom,T=g+y.bottom+this.space.item+S.top,P=m-c,E=u-T,M=P+E;this.minFirstChildSize>0&&P<this.minFirstChildSize&&(P=this.minFirstChildSize,E=M-P),this.minSecondChildSize>0&&E<this.minSecondChildSize&&(E=this.minSecondChildSize,P=M-E),this.setSplitRatio(P/M)}var w=this.minWidth,R=this.minHeight;this.setMinSize(this.width,this.height).layout().setMinSize(w,R)};const ie=Phaser.Utils.Objects.GetValue,kV=Phaser.Math.Clamp;class IT extends Tt{constructor(t,s){s.hasOwnProperty("orientation")||(s.orientation=s.hasOwnProperty("leftPanel")?0:1),super(t,s),this.type="rexSplit";var o=ie(s,"background",void 0),y,S,r,C;this.orientation===0?(y="leftPanel",S="rightPanel",r="minLeftPanelWidth",C="minRightPanelWidth"):(y="topPanel",S="bottomPanel",r="minTopPanelHeight",C="minBottomPanelHeight");var i=ie(s,y,void 0),h=ie(s,"splitter",void 0),x=ie(s,S,void 0);o&&this.addBackground(o);var f=ie(s,"space",void 0);this.add(i,{proportion:1,expand:!0,padding:{left:ie(f,`${y}Left`,0),right:ie(f,`${y}Right`,0),top:ie(f,`${y}Top`,0),bottom:ie(f,`${y}Bottom`,0)}}),this.add(h,{proportion:0,expand:!0,padding:{left:ie(f,"splitterLeft",0),right:ie(f,"splitterRight",0),top:ie(f,"splitterTop",0),bottom:ie(f,"splitterBottom",0)}}),this.add(x,{proportion:1,expand:!0,padding:{left:ie(f,`${S}Left`,0),right:ie(f,`${S}Right`,0),top:ie(f,`${S}Top`,0),bottom:ie(f,`${S}Bottom`,0)}}),this.addChildrenMap("background",o),this.addChildrenMap(y,i),this.addChildrenMap("splitter",h),this.addChildrenMap(S,x),this.minFirstChildSize=ie(s,r,0),this.minSecondChildSize=ie(s,C,0),this.setSplitRatio(ie(s,"splitRatio",.5)),this.splitterDragBehavior=new yc(h,{axis:this.orientation===0?1:2}),h.on("dragstart",function(){this.emit("splitter.dragstart",h,this.splitRatio)},this).on("dragend",function(){this.emit("splitter.dragend",h,this.splitRatio)},this).on("drag",function(){NV.call(this),this.emit("splitter.drag",h,this.splitRatio)},this).on("pointerover",function(){this.emit("splitter.over",h,this.splitRatio)},this).on("pointerout",function(){this.emit("splitter.out",h,this.splitRatio)},this)}get splitterEnable(){return this.splitterDragBehavior.enable}set splitterEnable(t){this.splitterDragBehavior.setEnable(t)}setSplitterEnable(t){return t===void 0&&(t=!0),this.splitterEnable=t,this}set minLeftPanelWidth(t){this.minFirstChildSize=t}get minLeftPanelWidth(){return this.minFirstChildSize}set minRightPanelWidth(t){this.minSecondChildSize=t}get minRightPanelWidth(){return this.minSecondChildSize}set minTopPanelHeight(t){this.minFirstChildSize=t}get minTopPanelHeight(){return this.minFirstChildSize}set minBottomPanelHeight(t){this.minSecondChildSize=t}get minBottomPanelHeight(){return this.minSecondChildSize}setMinLeftPanelWidth(t){return this.minLeftPanelWidth=t,this}setMinRightPanelWidth(t){return this.minRightPanelWidth=t,this}setMinTopPanelHeight(t){return this.minTopPanelHeight=t,this}setMinBottomPanelHeight(t){return this.minBottomPanelHeight=t,this}get splitRatio(){return this._splitRatio}set splitRatio(t){t=kV(t,0,1),this._splitRatio!==t&&(this._splitRatio=t,this.getSizerConfig(this.sizerChildren[0]).proportion=t,this.getSizerConfig(this.sizerChildren[2]).proportion=1-t)}setSplitRatio(t){return this.splitRatio=t,this}}st.register("splitPanels",function(e){var t=new IT(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.SplitPanels",IT);var VV=function(){return function(e,t,s,o){t!=="panel"&&s.setChildVisible(e,!0)}},zV=function(){return function(e,t,s,o){t!=="panel"&&s.setChildVisible(e,!1)}};const XV={show:VV,hide:zV};var YV=function(e,t){return t===void 0&&(t=1),function(s,o,y,S){o!=="panel"&&y.fadeChild(s,S?0:e,t)}},WV=function(e,t){return t===void 0&&(t=0),function(s,o,y,S){o!=="panel"&&y.fadeChild(s,S?0:e,t)}};const UV={show:YV,hide:WV};var m0=function(e,t){return function(s,o,y,S){o!=="panel"&&y.moveChild(s,S?0:e,t)}};const HV={show:m0,hide:m0};var x0=function(e,t){return function(s,o,y,S){o==="panel"&&y.moveChild(s,S?0:e,t)}};const $V={show:x0,hide:x0},ld={visible:XV,fade:UV,move:HV,"move-panel":$V};var KV=function(e){var t,s;[t,...s]=typeof e=="string"?[e]:e;var o,y;return ld.hasOwnProperty(t)?(o=ld[t].show.apply(null,s),y=ld[t].hide.apply(null,s)):(o=ae,y=ae),{show:o,hide:y}};const ZV={showChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("showchild",s,e,this,t),this.resetChildState(s)),this},hideChild(e,t){var s=this.sizerChildren[e];return s&&(this.emit("hidechild",s,e,this,t),this.resetChildState(s)),this},swapChild(e,t){return this.currentChildKey===e||(this.currentChildKey==="panel"||e==="panel"?(this.previousChildKey=this.currentChildKey,this.currentChildKey=e,this.hideChild(this.previousChildKey,t),this.showChild(this.currentChildKey,t)):(this.swapChild("panel",t),this.swapChild(e,t))),this},showPanel(e){return this.swapChild("panel",e),this},showLeftSide(){return this.swapChild("leftSide"),this},showRightSide(){return this.swapChild("rightSide"),this},showTopSide(){return this.swapChild("topSide"),this},showBottomSide(){return this.swapChild("bottomSide"),this},hideLeftSide(){return this.currentChildKey=="leftSide"&&this.showPanel(),this},hideRightSide(){return this.currentChildKey=="rightSide"&&this.showPanel(),this},hideTopSide(){return this.currentChildKey=="topSide"&&this.showPanel(),this},hideBottomSide(){return this.currentChildKey=="bottomSide"&&this.showPanel(),this},toggleLeftSide(){var e=this.currentChildKey!=="panel"?"panel":"leftSide";return this.swapChild(e),this},toggleRightSide(){var e=this.currentChildKey!=="panel"?"panel":"rightSide";return this.swapChild(e),this},toggleTopSide(){var e=this.currentChildKey!=="panel"?"panel":"topSide";return this.swapChild(e),this},toggleBottomSide(){var e=this.currentChildKey!=="panel"?"panel":"bottomSide";return this.swapChild(e),this}},JV=$e.prototype.setChildVisible,QV={setChildVisible(e,t){var s;if(typeof e=="string"){var s=e;e=this.sizerChildren[s]}else s=jo(this.sizerChildren,e);return t===void 0&&(t=this.currentChildKey===s),JV.call(this,e,t),this}},jV={fadeChild(e,t,s){var o;return typeof e=="string"?(o=e,e=this.sizerChildren[o]):o=jo(this.sizerChildren,e),t===void 0&&(t=500),s===void 0&&(s=this.currentChildKey===o?1:0),e.fadeIn(t,{start:e.alpha,end:s}),this},fadeChildPromise(e,t,s){return typeof e=="string"&&(e=this.sizerChildren[key]),this.fadeChild(e,t,s),e._fade?ge(e._fade):Promise.resolve()}},qV={moveChild(e,t,s,o){var y;typeof e=="string"?(y=e,e=this.sizerChildren[y]):y=jo(this.sizerChildren,e),t===void 0&&(t=500);var S=this.currentChildKey===y;if(o===void 0)switch(y){case"leftSide":case"rightSide":o=Rt(e);break;case"topSide":case"bottomSide":o=At(e);break;default:if(S)switch(this.previousChildKey){case"leftSide":case"rightSide":o=Rt(this.sizerChildren[this.previousChildKey]);break;case"topSide":case"bottomSide":o=At(this.sizerChildren[this.previousChildKey]);break;default:o=0;break}else switch(this.currentChildKey){case"leftSide":case"rightSide":o=Rt(this.sizerChildren[this.currentChildKey]);break;case"topSide":case"bottomSide":o=At(this.sizerChildren[this.currentChildKey]);break;default:o=0;break}break}var r,C,i,h;if(S)switch(y){case"panel":switch(this.previousChildKey){case"leftSide":r=!0;break;case"rightSide":C=!0;break;case"topSide":i=!0;break;case"bottomSide":h=!0;break}break;case"leftSide":C=!0;break;case"rightSide":r=!0;break;case"topSide":h=!0;break;case"bottomSide":i=!0;break}else switch(y){case"panel":switch(this.currentChildKey){case"leftSide":C=!0;break;case"rightSide":r=!0;break;case"topSide":h=!0;break;case"bottomSide":i=!0;break}break;case"leftSide":r=!0;break;case"rightSide":C=!0;break;case"topSide":i=!0;break;case"bottomSide":h=!0;break}return r?e.moveTo(t,`-=${o}`,void 0,s):C?e.moveTo(t,`+=${o}`,void 0,s):i?e.moveTo(t,void 0,`-=${o}`,s):h?e.moveTo(t,void 0,`+=${o}`,s):e.moveTo(0),this},moveChildPromise(e,t,s,o){return typeof e=="string"&&(e=this.sizerChildren[key]),this.moveChild(e,t,s,o),e._easeMove?ge(e._easeMove):Promise.resolve()}};var BT={};Object.assign(BT,QV,jV,qV);const Be=Phaser.Utils.Objects.GetValue;class Tc extends ai{constructor(t,s){super(t,s),this.type="rexSides",this.childrenMap=this.sizerChildren,this.previousChildKey=void 0,this.currentChildKey=void 0;var o=Be(s,"showChildCallback",void 0);if(o)if(xi(o)){var y=Be(s,"showChildCallbackScope",void 0);this.on("showchild",o,y);var S=Be(s,"hideChildCallback",void 0),r=Be(s,"hideChildCallbackScope",void 0);this.on("hidechild",S,r)}else{var C=KV(o);this.on("showchild",C.show),this.on("hidechild",C.hide)}var i=Be(s,"background",void 0),h=Be(s,"panel",void 0),x=Be(s,"leftSide",void 0),f=Be(s,"rightSide",void 0),l=Be(s,"topSide",void 0),a=Be(s,"bottomSide",void 0);if(i&&this.addBackground(i),h&&this.add(h,"panel","center",0,!0),x){var n=Be(s,"expand.left",!0);this.add(x,"leftSide","left-top",0,{height:n})}if(f){var n=Be(s,"expand.right",!0);this.add(f,"rightSide","right-top",0,{height:n})}if(l){var n=Be(s,"expand.top",!0);this.add(l,"topSide","left-top",0,{width:n})}if(a){var n=Be(s,"expand.bottom",!0);this.add(a,"bottomSide","left-bottom",0,{width:n})}}reset(){return this.previousChildKey=void 0,this.currentChildKey="panel",this.showChild("panel",!0),this.hideChild("leftSide",!0),this.hideChild("rightSide",!0),this.hideChild("topSide",!0),this.hideChild("bottomSide",!0),this}}Object.assign(Tc.prototype,ZV,BT);st.register("sides",function(e){var t=new Tc(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Sides",Tc);var _V=function(e){var t=!0;return e.hasOwnProperty("accept")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'accept' callback.`)),e.hasOwnProperty("build")||(t=!1,console.error(`[Tweaker] Can't register inputHandler '${e.name}', missing 'build' callback.`)),t&&this.inputHandlers.unshift(e),this};const tz=Phaser.Utils.Array.GetFirst,ez=Phaser.Utils.Array.Remove;var iz=function(e){var t=tz(this.inputHandlers,"name",e);return t&&ez(this.inputHandlers,t),this};class Xa extends ss{constructor(t,s){s=al(t,s),super(t,s),this.type="rexTweaker.Title"}setTitle(t){return t=t?ce(t):{},t.hasOwnProperty("text")||(t.hasOwnProperty("title")?t.text=t.title:t.text=""),this.resetDisplayContent(t),this}}class sz extends Xa{constructor(t,s){s===void 0&&(s={}),super(t,s),this.type="rexTweaker.FolderTitle";var o=new ya(t,s.expandedIcon);t.add.existing(o),this.addSpace().add(o,{proportion:0,expand:!1,padding:1,fitRatio:1}),this.addChildrenMap("expandedIcon",o)}setExpandedState(t){t===void 0&&(t=!0);var s=t?"down":"right",o=this.childrenMap.expandedIcon;return o.setDirection(s),this}}/**
 * @author       Richard Davey <rich@photonstorm.com>
 * @copyright    2019 Photon Storm Ltd.
 * @license      {@link https://opensource.org/licenses/MIT|MIT License}
 */var GT=function(e,t){var s=mi(e);for(var o in t)s.hasOwnProperty(o)||(s[o]=t[o]);return s},qn=function(e,t,s){return he(e,GT(t,s))};const rz={setBindingTarget(e){var t=this.childrenMap.child;return t.setBindingTarget(e),this}},nz={getMaxInputRowTitleWidth(){var e=this.childrenMap.child,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.child;return t.setInputRowTitleWidth(e),this}};class NT extends za{constructor(t,s){s===void 0&&(s={}),s.orientation=1,super(t,s),this.type="rexTweaker.Folder"}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}}Object.assign(NT.prototype,rz,nz);const jr=Phaser.Utils.Objects.GetValue;var az=function(e,t,s){var o=e.scene,y=jr(s,"title")||{},S=new sz(o,y);o.add.existing(S),S.on("folder.expand",function(){S.setExpandedState(!0)}).on("folder.collapse",function(){S.setExpandedState(!1)});var r={root:jr(s,"root"),styles:jr(s,"tweaker"),space:jr(s,"space")||{}},C=e.createTweaker(r),i=jr(s,"background"),h=qn(o,t,i),x=new NT(o,{title:S,child:C,background:h,transition:{duration:jr(s,"transition.duration",200)}});return o.add.existing(x),x};const y0=Phaser.Utils.Objects.GetValue;var hz=function(e){e===void 0&&(e={});var t=y0(this.styles,"folder")||{};t.tweaker=this.styles,t.root=this.root;var s=az(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0}),s.setTitle(e);var o=y0(e,"expanded",!0);o!==void 0&&s.setExpandedState(o);var y=s.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,y),y};const oz={setBindingTarget(e){for(var t=this.childrenMap.pages.children,s=0,o=t.length;s<o;s++)t[s].setBindingTarget(e);return this}},lz={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.pages.children,s=0,o=t.length;s<o;s++)e=Math.max(e,t[s].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.pages.children,s=0,o=t.length;s<o;s++)t[s].setInputRowTitleWidth(e);return this}};class kT extends Cl{constructor(t,s){super(t,s),this.type="rexTweaker.TabPages"}}Object.assign(kT.prototype,oz,lz);const Qh=Phaser.Utils.Objects.GetValue;var uz=function(e,t,s){var o=e.scene,y=new kT(o,s);o.add.existing(y);for(var S=Qh(s,"tab"),r={root:Qh(s,"root"),styles:Qh(s,"tweaker")},C=Qh(t,"pages")||[],i=0,h=C.length;i<h;i++){var x=C[i];y.addPage({key:x.title,tab:fe(o,S).setActiveState(!1).resetDisplayContent({text:x.title}),page:e.createTweaker(r)})}return y.on("tab.focus",function(f,l){f.setActiveState(!0)}).on("tab.blur",function(f,l){f.setActiveState(!1)}),y};const T0=Phaser.Utils.Objects.GetValue;var dz=function(e){e===void 0&&(e={});var t=T0(this.styles,"tab")||{};t.tweaker=this.styles,t.root=this.root;var s=uz(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0});for(var o=T0(e,"pages")||[],y=[],S=0,r=0,C=o.length;r<C;r++){var i=s.getPage(r),h=o[r].show;h&&(S=r);var x=o[r].key;x&&this.root.addChildrenMap(x,i),y.push(i)}return s.swapPage(S,0),y};const fz={setBindingTarget(e){for(var t=this.childrenMap.columns,s=0,o=t.length;s<o;s++)t[s].setBindingTarget(e);return this}},cz={getMaxInputRowTitleWidth(){for(var e=0,t=this.childrenMap.columns,s=0,o=t.length;s<o;s++)e=Math.max(e,t[s].getMaxInputRowTitleWidth());return e+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");for(var t=this.childrenMap.columns,s=0,o=t.length;s<o;s++)t[s].setInputRowTitleWidth(e);return this}},qr=Phaser.Utils.Objects.GetValue;class VT extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation="y",super(t,s),this.type="rexTweaker.Columns";var o=qr(s,"background",void 0),y=qr(s,"title",void 0);o&&this.addBackground(o),y&&this.add(y,{expand:!0,space:{bottom:qr(s,"space.title",0)}});var S=new Tt(t,{orientation:"x",space:{item:qr(s,"space.column",0)}});t.add.existing(S);for(var r=qr(s,"columns",void 0),C,i,h=0,x=r.length;h<x;h++)C=r[h],i=C.child,S.add(C.child,{proportion:i.minWidth===0?1:0,expand:qr(C,"expand",!0)});this.add(S,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("columnsSizer",S),this.addChildrenMap("columns",S.childrenMap.items)}setTitle(t){var s=this.childrenMap.title;return t.title||t.icon?s.show().setTitle(t):s.hide(),this}getColumns(){return this.childrenMap.columns}getColumn(t){return this.childrenMap.columns[t]}}Object.assign(VT.prototype,fz,cz);const rr=Phaser.Utils.Objects.GetValue;var vz=function(e,t,s){var o=e.scene,y=rr(s,"title")||{},S=new Xa(o,y);o.add.existing(S);var r={root:rr(s,"root"),styles:rr(s,"tweaker")},C=rr(s,"background");C&&!Array.isArray(C)&&(C=[C]);var i=rr(t,"columns",2);if(typeof i=="number"){var h=i;i=[];for(var x=0,f=h;x<f;x++)i.push({})}for(var x=0,f=i.length;x<f;x++){var l=i[x];C&&(r.background=C[x%C.length]),r.width=rr(l,"width",0);var a=e.createTweaker(r);l.child=a}var n=new VT(o,{title:S,columns:i,space:rr(s,"space")});return o.add.existing(n),n};const C0=Phaser.Utils.Objects.GetValue;var pz=function(e){e===void 0&&(e={}),typeof e=="number"&&(e={columns:e});var t=C0(this.styles,"columns")||{};t.tweaker=this.styles,t.root=this.root;var s=vz(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0}),s.setTitle(e);var o=C0(e,"columns",void 0);if(o&&Array.isArray(o))for(var y=0,S=o.length;y<S;y++){var r=o[y].key;r&&this.root.addChildrenMap(r,s.getColumn(y))}return s.getColumns()};const gz={setBindingTarget(e){for(var t=this.childrenMap.child,s=0,o=t.length;s<o;s++)t[s].setBindingTarget(e);return this}},mz={getMaxInputRowTitleWidth(){return 0},setInputRowTitleWidth(e){return this}},jh=Phaser.Utils.Objects.GetValue;class zT extends Tt{constructor(t,s){s===void 0&&(s={}),s.orientation="y",super(t,s),this.type="rexTweaker.Wrap";var o=jh(s,"background",void 0),y=jh(s,"title",void 0);o&&this.addBackground(o),y&&this.add(y,{expand:!0,space:{bottom:jh(s,"space.title",0)}});var S=jh(s,"child",void 0);this.add(S,{expand:!0}),this.addChildrenMap("title",y),this.addChildrenMap("child",S)}setTitle(t){var s=this.childrenMap.title;return t.title||t.icon?s.show().setTitle(t):s.hide(),this}}Object.assign(zT.prototype,gz,mz);const bi=Phaser.Utils.Objects.GetValue;var xz=function(e,t,s){var o=e.scene,y=bi(s,"title")||{},S=new Xa(o,y);o.add.existing(S);var r=bi(s,"itemWidth",0),C=bi(s,"itemHeight",0),i={root:bi(s,"root"),styles:bi(s,"tweaker"),space:bi(s,"space"),align:bi(s,"align",5),wrap:!0,itemWidth:bi(t,"itemWidth",r),itemHeight:bi(t,"itemHeight",C)};bi(s,"background");var h=e.createTweaker(i),x=new zT(o,{title:S,child:h});return o.add.existing(x),x};const yz=Phaser.Utils.Objects.GetValue;var Tz=function(e){e===void 0&&(e={});var t=yz(this.styles,"wrap")||{};t.tweaker=this.styles,t.root=this.root;var s=xz(this,e,t);delete t.tweaker,delete t.root,this.add(s,{expand:!0}),s.setTitle(e);var o=s.childrenMap.child;return e.key&&this.root.addChildrenMap(e.key,o),o};const Cz={setBindingTarget(e){var t=this.childrenMap.panel;return t.setBindingTarget(e),this}},Sz={getMaxInputRowTitleWidth(){var e=this.childrenMap.panel,t=e.getMaxInputRowTitleWidth();return t+this.getInnerPadding("left")},setInputRowTitleWidth(e){e-=this.getInnerPadding("left");var t=this.childrenMap.panel;return t.setInputRowTitleWidth(e),this}};class XT extends ka{constructor(t,s){super(t,s),this.type="rexTweaker.Scrollable"}setTitle(t){var s=this.childrenMap.header;return t.title||t.icon?s.show().setTitle(t):s.hide(),this}}Object.assign(XT.prototype,Cz,Sz);const ms=Phaser.Utils.Objects.GetValue;var Pz=function(e,t,s){var o=e.scene,y=ms(s,"title")||{},S=new Xa(o,y);o.add.existing(S);var r={root:ms(s,"root"),styles:ms(s,"tweaker"),space:ms(s,"space")||{}},C=e.createTweaker(r),i=ms(s,"slider");if(i){i=ce(i);var h=i.track;h&&(i.track=qn(o,t,h));var x=i.thumb;x&&(i.thumb=qn(o,t,x))}var f=ms(s,"background"),l=qn(o,t,f),a=new XT(o,{scrollMode:0,header:S,panel:{child:C,mask:{padding:1}},slider:i,background:l,height:ms(t,"height",0),space:ms(s,"space",void 0)});return o.add.existing(a),a};const Ez=Phaser.Utils.Objects.GetValue;var Mz=function(e){e===void 0&&(e={});var t=Ez(this.styles,"scrollable")||{};t.tweaker=this.styles,t.root=this.root;var s=Pz(this,e,t);delete t.tweaker,delete t.root,this.add(s,{proportion:s.minWidth===0?1:0,expand:!0}),s.setTitle(e);var o=s.childrenMap.panel;return e.key&&this.root.addChildrenMap(e.key,o),o};const S0=Phaser.Utils.Objects.GetValue,wz={setupBinding(){var e=this.childrenMap.inputField;return e.on("valuechange",function(t){this.autoUpdateEnable&&this.setTargetValue(t)},this),this},setAutoUpdateEnable(e){return e===void 0&&(e=!0),this.autoUpdateEnable=e,this},setBindingTarget(e,t){this.bindingTarget=e,t!==void 0&&this.setBindingTargetKey(t),this.syncTargetValue();var s=this.childrenMap.inputField;return s.onBindTarget&&s.onBindTarget(e,t),this},setBindingTargetKey(e){return this.bindTargetKey=e,this},setValueCallbacks(e){return this.onGetValue=S0(e,"onGetValue"),this.onSetValue=S0(e,"onSetValue"),this},getTargetValue(){if(this.bindingTarget){if(this.bindTargetKey!=null)return this.bindingTarget[this.bindTargetKey];if(this.onGetValue)return this.onGetValue(this.bindingTarget)}},setTargetValue(e){return this.bindingTarget?this.bindTargetKey!=null?(this.bindingTarget[this.bindTargetKey]=e,this):(this.onSetValue&&this.onSetValue(this.bindingTarget,e),this):this},syncTargetValue(){if(!this.bindingTarget)return this;var e=this.childrenMap.inputField;return e.syncValue&&e.syncValue(this.getTargetValue()),this}},Rz={startMonitorTarget(){return this.isMonitoring?this:(this.isMonitoring=!0,this.scene.events.on("postupdate",this.onMonitorTarget,this),this)},stopMonitorTarget(){return this.isMonitoring?(this.isMonitoring=!1,this.scene.events.off("postupdate",this.onMonitorTarget,this),this):this},onMonitorTarget(){if(this.bindingTarget){var e=this.getTargetValue(),t=this.childrenMap.inputField;t.value!==e&&t.syncValue(e)}}},Az={getMinTitleWidth(){var e=this.childrenMap.title;if(!e||e.orientation!==0)return 0;var t=e.rexSizer.padding,s=this.getChildWidth(this.childrenMap.title)+(t.left+t.right)*e.scaleX;return s+this.getInnerPadding("left")},setMinTitleWidth(e){var t=this.childrenMap.title;if(!t||t.orientation!==0)return this;var s=t.rexSizer.padding;return e-=(s.left+s.right)*t.scaleX,t.minWidth=e,this}},ud=Phaser.Utils.Objects.GetValue;class Cc extends Tt{constructor(t,s){super(t,s),this.type="rexTweaker.InputRow",this.bindingTarget=void 0,this.bindTargetKey=void 0,this.autoUpdateEnable=!0;var o=s.inputTitle,y=s.inputField,S=s.background,h=ud(s,"proportion.title",0),r=ud(s,"space.title",0),C;this.orientation===0?C={right:r}:C={bottom:r},this.add(o,{proportion:h,expand:!0,padding:C});var i=y.defaultProportion;i===void 0&&(i=s.defaultExpandWidth?1:0);var h=ud(s,"proportion.inputField",i);this.add(y,{proportion:h,expand:!0}),S&&this.addBackground(S),this.addChildrenMap("title",o),this.addChildrenMap("inputField",y),this.addChildrenMap("background",S),this.setupBinding()}destroy(t){!this.scene||this.ignoreDestroy||(this.stopMonitorTarget(),super.destroy(t))}setTitle(t){var s=this.childrenMap.title;return s.setTitle(t),this}preLayout(){var t=this.childrenMap.title;t&&(t.minWidth=0),super.preLayout()}}Object.assign(Cc.prototype,wz,Rz,Az);var YT=function(e,t,s){var o=new Xa(e,s);return e.add.existing(o),o},Oz=function(e){e===void 0&&(e=Tt);class t extends e{get bindingTarget(){var o=this.getParentSizer();return o.bindingTarget}get bindingKey(){var o=this.getParentSizer();return o.bindTargetKey}get value(){return this._value}get root(){var o=this.getParentSizer(),y=o.getParentSizer();return y.root}onBindTarget(o,y){this.onBindTargetCallback&&this.onBindTargetCallback(this,o,y)}validate(o){return this.syncValueFlag||!this.validateCallback?!0:this.validateCallback(o,this._value,this.bindingTarget,this.bindingKey)}getFotmatText(o){return this.textFormatCallback?o=this.textFormatCallback(o):o=o.toString(),o}set value(o){if(this._value!==o&&(this.validate(o)||(o=this._value),this.filterValueCallback&&(o=this.filterValueCallback(this,o)),this.displayValueCallback&&this.displayValueCallback(this,o),this._value!==o)){var y=this._value;if(this._value=o,!this.syncValueFlag){var S=this.bindingTarget,r=this.bindingKey;this.emit("valuechange",o,y,S,r),this.root.emit("valuechange",o,y,S,r)}}}getValue(){return this.value}setValue(o){return this.value=o,this}syncValue(o){return this.syncValueFlag=!0,this.value=o,this.syncValueFlag=!1,this}setup(o,y){return y===void 0&&(y=!1),(y||o.hasOwnProperty("format"))&&this.setTextFormatCallback(o.format),(y||o.hasOwnProperty("onValidate"))&&this.setValidateCallback(o.onValidate),this.setupCallback&&this.setupCallback(this,o,y),this}setSetupCallback(o){return this.setupCallback=o,this}setFilterValueCallback(o){return this.filterValueCallback=o,this}setDisplayValueCallback(o){return this.displayValueCallback=o,this}setOnBindTargetCallback(o){return this.onBindTargetCallback=o,this}setTextFormatCallback(o){return this.textFormatCallback=o,this}setValidateCallback(o){return this.validateCallback=o,this}}return t},Lz=function(e,t,s){for(var o,y=this.inputHandlers,S=0,r=y.length;S<r;S++){var C=y[S];if(C.accept(t)){var i=Oz(C.baseClass);o=new i(e),e.add.existing(o),o.setSetupCallback(C.setup).setFilterValueCallback(C.filterValue).setDisplayValueCallback(C.displayValue).setOnBindTargetCallback(C.onBindTarget),C.build(o,s);break}}return o&&o.setup(t,!0),o};const P0=Phaser.Utils.Objects.GetValue;var bz=function(e,t,s){var o=Lz.call(this,e,t,s);if(!o)return null;var y=P0(s,"title")||{},S=YT(e,t,y),r=P0(s,"background")||{},C=he(e,r),i=new Cc(e,{...s,...t,inputTitle:S,inputField:o,background:C});return e.add.existing(i),i.setTitle(t),i.setValueCallbacks(t),i},Fz=function(e,t,s){arguments.length===1?(s=e,e=s.bindingTarget,t=s.bindingKey):(s===void 0&&(s={}),s.bindingTarget=e,s.bindingKey=t),s.title||(s.title=t),s.bindingTarget&&s.bindingKey?s.value=s.bindingTarget[s.bindingKey]:s.value=void 0;var o=this.styles.inputRow||{};this.isWrapMode?o.defaultExpandWidth=!0:o.defaultExpandWidth=this.styles.orientation===1;var y=bz.call(this,this.scene,s,o);if(!y)return console.error(`[Tweaker] Can't add Input
    title: ${s.title}
    view: ${s.view}
`),this;if(this.isWrapMode)y.setMinWidth(this.itemWidth),y.setMinHeight(this.itemHeight),this.add(y);else{var S;this.orientation===1?S=0:(S=this.itemWidth>0?0:1,y.minWidth===0&&y.setMinWidth(this.itemWidth)),y.minHeight===0&&y.setMinHeight(this.itemHeight),this.add(y,{proportion:S,expand:!0})}if(s.onValueChange){var r=y.childrenMap.inputField;r.on("valuechange",s.onValueChange)}return y.setAutoUpdateEnable(s.autoUpdate),y.setBindingTarget(e,t),s.monitor&&y.startMonitorTarget(),s.key&&this.root.addChildrenMap(s.key,y),this},Dz=function(e,t){var s=new pr(e,t);return e.add.existing(s),s};const Iz=Phaser.Utils.Objects.GetValue;var Bz=function(e,t){var s=Iz(t,"wrap",!1),o=s?Ls:de,y=new o(e,t);return e.add.existing(y),y};const qh=Phaser.Utils.Objects.GetValue;var Gz=function(e,t,s){for(var o=qh(s,"title")||{},y=YT(e,t,o),S=t.buttons,r=qh(s,"button")||{},C=[],i=0,h=S.length;i<h;i++){var x=fe(e,r);C.push(x);var f=S[i];x.resetDisplayContent(f.label),x.callback=f.callback}var l=Bz(e,{buttons:C,expand:!0,wrap:qh(t,"wrap",!1)});l.defaultProportion=1;var a=qh(s,"background")||{},n=Dz(e,a),d=new Cc(e,{...s,inputTitle:y,inputField:l,background:n});return e.add.existing(d),d.setTitle(t),l.on("button.click",function(c){c.callback(d.bindingTarget)}),d};const Nz=Phaser.Utils.Objects.GetValue;var kz=function(e){e===void 0&&(e={});var t=this.scene,s=e.bindingTarget;delete e.bindingTarget;var o=Nz(this.styles,"inputRow")||{},y=Gz(t,e,o);return this.add(y,{expand:!0}),s&&y.setBindingTarget(s),e.key&&this.root.addChildrenMap(e.key,y),this},Vz=function(e){return e===void 0&&(e={}),e.buttons=[{label:e.label,callback:e.callback}],delete e.label,delete e.callback,this.addButtons(e),this},zz=function(e,t,s){return he(e,GT(t,s))};const Xz=Phaser.Utils.Objects.GetValue;var Yz=function(e){e===void 0&&(e={});var t=this.scene,s=Xz(this.styles,"separator"),o=zz(t,e,s);return this.add(o,{expand:!0}),this},Wz=function(e,t,s){return typeof t=="boolean"&&(s=t,t=void 0),s===void 0&&(s=!0),Jn(this,ce(e),t,s),this},Jn=function(e,t,s,o){if(t)for(var y=0,S=t.length;y<S;y++){var r=t[y];r.hasOwnProperty("$target")&&(s=r.$target,delete r.$target);var C=r.$type;switch(delete r.$type,C){case"folder":var i=e.addFolder(r);Jn(i,r.$properties,s,o);break;case"tab":for(var h=e.addTab(r),x=0,f=h.length;x<f;x++)Jn(h[x],r.pages[x].$properties,s,o);break;case"columns":for(var l=e.addColumns(r),x=0,f=l.length;x<f;x++)Jn(l[x],r.columns[x].$properties,s,o);break;case"scrollable":var a=e.addScrollable(r);Jn(a,r.$properties,s,o);break;case"separator":e.addSeparator();break;case"button":r.bindingTarget=s,e.addButton(r);break;case"buttons":r.bindingTarget=s,e.addButtons(r);break;default:var n=r.$key;if(delete r.$key,n.indexOf(".")===-1)r.bindingTarget=s,r.bindingKey=n;else{var d=n.split(".");r.bindingKey=d.pop();for(var c=s,u=0,v=d.length;u<v;u++)if(c=c[d[u]],!s){console.warn(`[Monitor] Key path '${n}' is invalid`);continue}r.bindingTarget=c}r.hasOwnProperty("monitor")||(r.monitor=o),e.addInput(r);break}}},Uz=function(e){for(var t=this.sizerChildren,s=0,o=t.length;s<o;s++){var y=t[s];y.setBindingTarget&&y.setBindingTarget(e)}return this},Hz=function(){for(var e=0,t=this.sizerChildren,s=0,o=t.length;s<o;s++){var y=t[s];y.rexSizer.hidden||(y.getMinTitleWidth?e=Math.max(e,y.getMinTitleWidth()):y.getMaxInputRowTitleWidth&&(e=Math.max(e,y.getMaxInputRowTitleWidth())))}return e+this.getInnerPadding("left")},$z=function(e){this.isWrapMode||(e-=this.getInnerPadding("left"));for(var t=this.sizerChildren,s=0,o=t.length;s<o;s++){var y=t[s];y.rexSizer.hidden||(y.setMinTitleWidth?y.setMinTitleWidth(e):y.setInputRowTitleWidth&&y.setInputRowTitleWidth(e))}return this},Kz={registerInputHandler:_V,removeInputHandler:iz,addFolder:hz,addTab:dz,addColumns:pz,addWrap:Tz,addScrollable:Mz,addInput:Fz,addButtons:kz,addButton:Vz,addSeparator:Yz,addRows:Wz,setBindingTarget:Uz,getMaxInputRowTitleWidth:Hz,setInputRowTitleWidth:$z};const xs=Phaser.Utils.Objects.GetValue;var WT=function(e){var t=xs(e,"wrap",!1),s=t?Bs:Tt;class o extends s{constructor(S,r){r===void 0&&(r={}),r.orientation===void 0&&(r.orientation=t?0:1),super(S,r),this.type="rexTweakerShell",this.isWrapMode=t,r.root?(this.root=r.root,this.inputHandlers=this.root.inputHandlers):(this.root=this,this.inputHandlers=[]),this.styles=xs(r,"styles")||{},this.styles.orientation=this.orientation;var C=xs(r,"itemWidth");C===void 0&&(C=xs(this.styles,"itemWidth",0)),this.itemWidth=C;var i=xs(r,"itemHeight");if(i===void 0&&(i=xs(this.styles,"itemHeight",0)),this.itemHeight=i,t||this.root===this&&this.orientation===1){var h=xs(r,"inputRow.alignTitle");if(h===void 0){var x=xs(this.styles,"inputRow.proportion.title");h=!x}else h&&et(this.styles,"inputRow.proportion.title",0);this.alignInputRowTitleStartFlag=h}else this.alignInputRowTitleStartFlag=!1;var f=qn(S,void 0,r.background);f&&this.addBackground(f)}preLayout(){super.preLayout(),this.alignInputRowTitleStartFlag&&this.setInputRowTitleWidth(this.getMaxInputRowTitleWidth())}createTweaker(S,r){r===void 0&&(r=!0);var C=WT(S),i=new C(this.scene,S);return r&&this.scene.add.existing(i),i}}return Object.assign(o.prototype,Kz),o},Zz=function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)};const Jz={name:"TextInput",accept(e){return e.hasOwnProperty("view")?e.view==="string":typeof e.value=="string"},build(e,t){var s=e.scene;e.type="rexTweaker.TextInput";var o=t.inputText,y=bs(s,o);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&Zz(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var Qz=function(e,t,s){s===void 0&&(s=!0),s?t=t?ce(t):{}:t||(t={});var o=new Sl(e,t);return e.add.existing(o),o},jz=function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)};const qz={name:"TextAreaInput",accept(e){return e.hasOwnProperty("view")?e.view==="textarea":!1},build(e,t){var s=e.scene;this.type="rexTweaker.TextAreaInput";var o=t.inputTextArea;o===void 0&&(o={}),o.hasOwnProperty("text")||(o.text=t.inputText),o.hasOwnProperty("slider")||(o.slider=t.slider);var y=Qz(s,o);e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&jz(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))},onBindTarget(e){var t=e.childrenMap.inputText;t.scrollToTop()}};var _z=function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)};const tX={name:"NumberInput",accept(e){return e.hasOwnProperty("view")?e.view==="number":typeof e.value=="number"},build(e,t){var s=e.scene;e.type="rexTweaker.NumberInput";var o=t.inputNumber||t.inputText,y=bs(s,o).setNumberInput();e.add(y,{proportion:1,expand:!0,key:"inputText"}),y.on("close",function(){e.setValue(y.value)})},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&_z(e,!!t.inputTextReadOnly),e.isFloatType=!t.int},filterValue(e,t){return e.isFloatType?t:Math.floor(t)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText(e.getFotmatText(t))}};var eX=function(e,t){var s=new mn(e,t);return e.add.existing(s),s};const dd=Phaser.Utils.Objects.GetValue,iX=Phaser.Math.Linear,sX=Phaser.Math.Snap.Floor;var rX=function(e,t,s,o){e.minValue=t,e.maxValue=s,e.step=o;var y=e.childrenMap.slider;y.setGap(o,t,s)},nX=function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)};const aX={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="range":typeof e.value=="number"&&e.hasOwnProperty("min")&&e.hasOwnProperty("max")},build(e,t){var s=e.scene;e.type="rexTweaker.RangeInput";var o=t.slider,y=e.orientation===0?"track.height":"track.width",S=dd(o,y),r=eX(s,o),x=t.defaultExpandWidth?2:0,f=dd(t,"proportion.range.slider",x),C=S===void 0;e.add(r,{proportion:f,expand:C,key:"slider"});var i=t.inputNumber||t.inputText,h=bs(s,i).setNumberInput(),x=t.defaultExpandWidth?1:0,f=dd(t,"proportion.range.inputText",x);e.add(h,{proportion:f,expand:!0,key:"inputText"}),h.on("close",function(){e.setValue(h.value)}),r.on("valuechange",function(){var l=iX(e.minValue,e.maxValue,r.value);e.step&&(l=sX(l,e.step,e.minValue)),e.setValue(l)})},setup(e,t,s){(s||t.hasOwnProperty("max"))&&rX(e,t.min,t.max,t.step),(s||t.hasOwnProperty("inputTextReadOnly"))&&nX(e,!!t.inputTextReadOnly)},displayValue(e,t){var s=e.childrenMap.slider;s.setValue(t,e.minValue,e.maxValue);var o=e.childrenMap.inputText;o.setText("").setText(e.getFotmatText(t))}};var UT=function(e,t){var s=new de(e,t);return e.add.existing(s),s};const hX=Phaser.Utils.Objects.GetValue;var oX=function(e,t){t===void 0&&(t=!0);var s=e.childrenMap.inputText;s.setReadOnly(t)};const lX={name:"RangeInput",accept(e){return e.hasOwnProperty("view")?e.view==="incdec":!1},build(e,t){var s=e.scene;e.type="rexTweaker.IncDecInput";var o=hX(t,"incDec")||{},y={text:null,action:null},S=UT(s,{expand:!1}),r=t.defaultExpandWidth?1:0;e.add(S,{proportion:r,expand:!0});var C=t.inputNumber||t.inputText,i=bs(s,C).setNumberInput();i.on("close",function(){e.setValue(i.value)});var h=Object.assign(ce(y),o.incButton||{}),x=fe(s,h),f=Object.assign(ce(y),o.decButton||{}),l=fe(s,f);S.addButton(x),S.addButton(l);var a=o.inputTextIndex||0;S.insert(a,i,{proportion:1,expand:!0}),e.step=1,e.minValue=void 0,e.maxValue=void 0,S.on("button.click",function(n,d,c,u){var v=e.value;d===0?v+=e.step:v-=e.step,e.maxValue!==void 0&&v>e.maxValue&&(v=e.maxValue),e.minValue!==void 0&&v<e.minValue&&(v=e.minValue),e.setValue(v)}),e.addChildrenMap("incButton",x),e.addChildrenMap("decButton",l),e.addChildrenMap("inputText",i)},setup(e,t,s){(s||t.hasOwnProperty("inputTextReadOnly"))&&oX(e,!!t.inputTextReadOnly),(s||t.hasOwnProperty("step"))&&(e.step=t.hasOwnProperty("step")?t.step:1),(s||t.hasOwnProperty("min"))&&(e.minValue=t.min),(s||t.hasOwnProperty("max"))&&(e.maxValue=t.max)},displayValue(e,t){var s=e.childrenMap.inputText;s.setText("").setText(e.getFotmatText(t))}};var uX=function(e,t,s){s===void 0&&(s=!0),s?t=t?ce(t):{}:t||(t={});var o=new Pl(e,t);return e.add.existing(o),o};const dX={name:"ColorInput",accept(e){return e.hasOwnProperty("view")?e.view==="color":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ColorInput";var o=t.colorInput;o===void 0&&(o={}),o.hasOwnProperty("inputText")||(o.inputText=t.inputText);var y=uX(s,o);e.add(y,{proportion:1,expand:!0,key:"colorInput"}),y.on("valuechange",function(S){e.setValue(S)})},displayValue(e,t){var s=e.childrenMap.colorInput;s.setValue(t)}};var fX=function(e,t){var s=new tf(e,t);return e.add.existing(s),s};const cX={name:"CheckboxInput",accept(e){return e.hasOwnProperty("view")?e.view==="boolean":typeof e.value=="boolean"},build(e,t){var s=e.scene;e.type="rexTweaker.CheckboxInput";var o=t.checkbox,y=fX(s,o),S=o.size;S!==void 0&&y.setSize(S,S);var r=S!==void 0?0:1;e.add(y,{proportion:0,expand:!1,fitRatio:r,key:"checkbox"}),y.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var s=e.childrenMap.checkbox;s.setValue(t)}};var vX=function(e,t){var s=new ef(e,t);return e.add.existing(s),s};const pX={name:"ToggleSwitchInput",accept(e){return e.hasOwnProperty("view")?e.view==="toggleSwitch":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ToggleSwitchInput";var o=t.toggleSwitch,y=vX(s,o),S=o.size;S!==void 0&&y.setSize(S,S);var r=S!==void 0?0:1;e.addSpace().add(y,{proportion:0,expand:!1,fitRatio:r,key:"toggleSwitch"}),y.on("valuechange",function(C){e.setValue(C)})},displayValue(e,t){var s=e.childrenMap.toggleSwitch;s.setValue(t)}};var gX=function(e,t){t=iT(e,t);var s=new Va(e,t);return e.add.existing(s),s},HT=function(e,t){for(var s=0,o=e.length;s<o;s++){var y=e[s];if(y.value===t)return s}},mX=function(e,t){var s=HT(e,t);if(s!=null)return e[s]},xX=function(e,t){var s=e.childrenMap.list;s.setOptions(t)};const yX={name:"ListInput",accept(e){return e.hasOwnProperty("view")?e.view==="list":e.hasOwnProperty("options")},build(e,t){var s=e.scene;e.type="rexTweaker.ListInput";var o=gX(s,t.list);e.add(o,{proportion:1,expand:!0,key:"list"}),o.on("button.click",function(y,S,r,C,i,h){e.setValue(r.value)})},setup(e,t,s){(s||t.hasOwnProperty("options"))&&xX(e,t.options)},displayValue(e,t){var s=e.childrenMap.list,o=mX(s.options,t);s.resetDisplayContent(o).setMinSize(s.width,s.height).layout().setMinSize(0,0)}};var TX=function(e,t){for(var s=0,o=e.length;s<o;s++){var y=e[s];y&&y.setActiveState(s===t)}};const CX=Phaser.Utils.Objects.GetValue;var SX=function(e,t){var s=e.childrenMap.list;s.options=t;var o=e.scene,y=s.buttonConfig;s.clearButtons(!0);for(var S=0,r=t.length;S<r;S++){var C=t[S],i=fe(o,y).setActiveState(!1).resetDisplayContent({text:C.text});s.addButton(i)}};const PX={name:"ButtonsInput",accept(e){return e.hasOwnProperty("view")?e.view==="buttons":!1},build(e,t){var s=e.scene;e.type="rexTweaker.ButtonsInput";var o=t.button?ce(t.button):{},y=CX(o,"expand",!0);y&&(o.align="center"),delete o.expand;var S=UT(s,{expand:y});S.buttonConfig=o,e.add(S,{proportion:1,expand:!0,key:"list"}),S.on("button.click",function(r,C,i,h){var x=S.options[C];x&&(e._selectedIndex=C,e.setValue(x.value),e._selectedIndex=void 0)})},setup(e,t,s){(s||t.hasOwnProperty("options"))&&SX(e,t.options)},displayValue(e,t){var s=e.childrenMap.list,o=e._selectedIndex;o===void 0&&(o=HT(s.options,t)),TX(s.childrenMap.buttons,o)}};var EX=function(){this.registerInputHandler(Jz).registerInputHandler(qz).registerInputHandler(tX).registerInputHandler(aX).registerInputHandler(lX).registerInputHandler(dX).registerInputHandler(cX).registerInputHandler(pX).registerInputHandler(yX).registerInputHandler(PX)};class $T extends WT(){constructor(t,s){s===void 0&&(s={}),s.hasOwnProperty("style")&&(s.styles=s.style),s.styles===void 0&&(s.styles={}),s.background=s.styles.background||{},s.space=s.styles.space||{},super(t,s),this.type="rexTweaker",EX.call(this)}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.inputHandlers=void 0)}}st.register("tweaker",function(e){var t=new $T(this.scene,e);return this.scene.add.existing(t),t});et(window,"RexPlugins.UI.Tweaker",$T);st.register("click",function(e,t){return new ts(e,t)});et(window,"RexPlugins.UI.Click",ts);st.register("clickOutside",function(e,t){return new Df(e,t)});et(window,"RexPlugins.UI.ClickOutside",Df);st.register("inTouching",function(e,t){return new ln(e,t)});et(window,"RexPlugins.UI.InTouching",ln);st.register("tap",function(e,t){return Ge(e)||(t=e,e=this.scene),new Ko(e,t)});et(window,"RexPlugins.UI.Tap",Ko);st.register("press",function(e,t){return Ge(e)||(t=e,e=this.scene),new Zo(e,t)});et(window,"RexPlugins.UI.Press",Zo);st.register("swipe",function(e,t){return Ge(e)||(t=e,e=this.scene),new Ra(e,t)});et(window,"RexPlugins.UI.Swipe",Ra);st.register("pan",function(e,t){return Ge(e)||(t=e,e=this.scene),new Wx(e,t)});et(window,"RexPlugins.UI.Pan",Wx);st.register("drag",function(e,t){return new yc(e,t)});et(window,"RexPlugins.UI.Drag",yc);st.register("pinch",function(e){return new Ux(this.scene,e)});et(window,"RexPlugins.UI.Pinch",Ux);st.register("rotate",function(e){return new Bf(this.scene,e)});et(window,"RexPlugins.UI.Rotate",Bf);const MX=Phaser.Utils.Objects.IsPlainObject,E0=Phaser.Utils.Objects.GetValue;var M0=function(e,t,s){var o;if(e===void 0)e=s.texture.key,t=s.frame.name;else if(MX(e)){var y=e;e=E0(y,"key",s.texture.key),t=E0(y,"frame",s.frame.name)}else typeof e=="string"||(o=e);return o===void 0&&(o=function(S){S.setTexture(e,t)}),o};const Zn=Phaser.Utils.Objects.GetValue,wX=Phaser.Utils.Objects.GetAdvancedValue,RX=Phaser.Math.Linear;class KT extends mr{constructor(t,s){super(t,s),this.resetFromJSON(s),this.boot()}resetFromJSON(t){return super.resetFromJSON(t),this.setDuration(wX(t,"duration",500)),this.setEase(Zn(t,"ease","Sine")),this.setOrientation(Zn(t,"orientation",0)),this.setFrontFace(Zn(t,"front",void 0)),this.setBackFace(Zn(t,"back",void 0)),this.setFace(Zn(t,"face",0)),this}setOrientation(t){return typeof t=="string"&&(t=AX[t]),this.orientation=t,this}get face(){return this._face}set face(t){typeof t=="string"&&(t=OX[t]),this._face=t,t===0&&this.frontFaceCallback?this.frontFaceCallback(this.parent):t===1&&this.backFaceCallback&&this.backFaceCallback(this.parent)}setFace(t){return this.face=t,this}toggleFace(){var t=this.face===0?1:0;return this.setFace(t),this}setFrontFace(t,s){return this.frontFaceCallback=M0(t,s,this.parent),this}setBackFace(t,s){return this.backFaceCallback=M0(t,s,this.parent),this}start(){if(this.timer.isRunning)return this;var t=this.parent;return this.orientation===0?this.scale0=t.scaleX:this.scale0=t.scaleY,this.timer.setDelay(this.delay).setDuration(this.duration/2).setRepeat(1),super.start(),this}flip(t){return this.isRunning?this:(t!==void 0&&this.setDuration(t),this.start(),this)}updateTarget(t,s){s.justRestart&&this.toggleFace();var o=s.t;s.isOddIteration&&(o=1-o),o=this.easeFn(o);var y=RX(this.scale0,0,o);this.orientation===0?t.scaleX=y:t.scaleY=y}}const AX={x:0,horizontal:0,y:1,vertical:1},OX={front:0,back:1};st.register("flip",function(e,t){return new KT(e,t)});et(window,"RexPlugins.UI.Flip",KT);st.register("shake",function(e,t){return new Rf(e,t)});et(window,"RexPlugins.UI.Shake",Rf);st.register("touchEventStop",function(e,t){return new Wo(e,t)});et(window,"RexPlugins.UI.TouchEventStop",Wo);st.register("perspective",function(e,t){return new TT(e,t)});et(window,"RexPlugins.UI.Perspective",TT);const ZT=Phaser.Math.RotateAround;var fd=function(e,t,s){var o=e.width/2,y=e.height/2;return Se.x=t-o,Se.y=s-y,ZT(Se,0,0,e.rotation),Se.x*=e.scaleX,Se.y*=e.scaleY,Se.x+=e.x,Se.y+=e.y,Se},LX=function(e,t,s){var o=e.width/2,y=e.height/2;return Se.x=t-e.x,Se.y=s-e.y,Se.x/=e.scaleX,Se.y/=e.scaleY,ZT(Se,0,0,-e.rotation),Se.x+=o,Se.y+=y,Se},Se={x:0,y:0};class bX{constructor(t,s){this.parent=t,this.vertex=s,this._localX=void 0,this._localY=void 0}destroy(){this.parent=void 0,this.vertex=void 0}updateVertexPosition(t,s){var o=this.parent,y=o.height,S=o.frame.cutWidth/y/2,r=o.frame.cutHeight/y/2,C=t/y-S,i=s/y-r,h=this.vertex;return h.x=C,h.y=-i,o.forceUpdate(),this}get localX(){return this._localX}set localX(t){this.setLocalXY(t,this._localY)}get localY(){return this._localY}set localY(t){this.setLocalXY(this._localX,t)}get localXOrigin(){return this._localXOrigin}get localYOrigin(){return this._localYOrigin}resetLocalXY(t,s){return this._localXOrigin=t,this._localYOrigin=s,this._localX=t,this._localY=s,this}setLocalXY(t,s,o){return this._localX===t&&this._localY===s?this:(this._localX=t,this._localY=s,o||this.updateVertexPosition(t,s),this)}setWorldXY(t,s){if(this._worldX===t&&this._worldY===s)return this;var o=LX(this.parent,t,s);return this.setLocalXY(o.x,o.y),this}setPosition(t,s){return this.setWorldXY(t,s),this}getWorldXY(){return fd(this.parent,this._localX,this._localY)}get x(){var t=fd(this.parent,this._localX,this._localY);return t.x}set x(t){this.setWorldXY(t,this.y)}get y(){var t=fd(this.parent,this._localX,this._localY);return t.y}set y(t){this.setWorldXY(this.x,t)}}const FX=Phaser.Geom.Mesh.Vertex,DX=Phaser.Geom.Mesh.Face;var IX=function(e){for(var t=e.isNinePointMode,s=t?9:4,o=e.vertices,y=e.faces,S=e.controlPoints,r=0;r<s;r++){var C=new FX;o.push(C),S.push(new bX(e,C))}var i;t?i=NX:e.fourPointsModeRTL?i=GX:i=BX;for(var r=0,h=i.length;r<h;r+=3){var x=o[i[r+0]],f=o[i[r+1]],l=o[i[r+2]];y.push(new DX(x,f,l))}t?(e.topLeft=S[0],e.topCenter=S[1],e.topRight=S[2],e.centerLeft=S[3],e.center=S[4],e.centerRight=S[5],e.bottomLeft=S[6],e.bottomCenter=S[7],e.bottomRight=S[8]):(e.topLeft=S[0],e.topRight=S[1],e.bottomLeft=S[2],e.bottomRight=S[3])};const BX=[0,2,3,0,3,1],GX=[1,3,2,1,2,0],NX=[0,3,4,0,4,1,1,4,2,4,5,2,3,6,4,6,7,4,4,7,8,4,8,5];var kX=function(e){var t,s=0,o=e.height,y=0,S=e.width;if(e.isNinePointMode){var r=(y+S)/2,C=(s+o)/2;t=[y,s,r,s,S,s,y,C,r,C,S,C,y,o,r,o,S,o]}else t=[y,s,S,s,y,o,S,o];return t};const VX=Phaser.Utils.Objects.IsPlainObject,_r=Phaser.Utils.Objects.GetValue;let zX=class extends fT{constructor(t,s,o,y,S,r){VX(s)&&(r=s,s=_r(r,"x",0),o=_r(r,"y",0),y=_r(r,"key",null),S=_r(r,"frame",null)),super(t,s,o,y,S),this.type="rexQuadImage",this.isNinePointMode=_r(r,"ninePointMode",!1),this.fourPointsModeRTL=_r(r,"rtl",!1),this.controlPoints=[],IX(this),this.hideCCW=!1,this.syncSize()}destroy(t){if(!(!this.scene||this.ignoreDestroy)){super.destroy(t);for(var s=0,o=this.controlPoints.length;s<o;s++)this.controlPoints[s].destroy();this.controlPoints=void 0}}resetVerts(){this.dirtyCache[9]=-1;for(var t=kX(this),s=this.width,o=this.height,y=this.frame.cutWidth/o/2,S=this.frame.cutHeight/o/2,r=this.frame.u0,C=this.frame.u1,i=this.frame.v0,h=this.frame.v1,x=C-r,f=h-i,l=this.controlPoints,a=0,n=t.length;a<n;a+=2){var d=t[a+0],c=t[a+1],u=a/2,v=d/o-y,p=c/o-S,g=r+x*(d/s),m=i+f*(c/o);this.vertices[u].set(v,-p,0).setUVs(g,m),l[u].resetLocalXY(d,c)}return this}syncSize(){return this.setSizeToFrame(),this.setOrtho(this.width/this.height,1),this.resetVerts(),this}};Phaser.Utils.Objects.IsPlainObject;Phaser.Utils.Objects.GetValue;var w0=function(e,t,s){t===void 0&&(t=0),s===void 0&&(s=0);for(var o=e.width,y=e.height,S=o*.5,r=y*.5,C=Math.tan(t)*r,i=Math.tan(s)*S,h=e.controlPoints,x=0,f=h.length;x<f;x++){var l=h[x],a=l.localXOrigin,n=l.localYOrigin;l.localX=a+(n>r?C:-C),l.localY=n+(a>S?i:-i)}};const XX=Phaser.Utils.Objects.IsPlainObject,_h=Phaser.Utils.Objects.GetValue,R0=Phaser.Math.DegToRad,A0=Phaser.Math.RadToDeg;class YX extends zX{constructor(t,s,o,y,S){if(XX(s)){var r=s;s=_h(r,"x",0),o=_h(r,"y",0),y=_h(r,"key",null),S=_h(r,"frame",null)}super(t,s,o,y,S),this.type="rexSkewmage",this._skewX=0,this._skewY=0}get skewX(){return this._skewX}set skewX(t){this._skewX=t,w0(this,this._skewX,this._skewY)}get skewXDeg(){return A0(this._skewX)}set skewXDeg(t){this.skewX=R0(t)}get skewY(){return this._skewY}set skewY(t){this._skewY=t,w0(this,this._skewX,this._skewY)}get skewYDeg(){return A0(this._skewY)}set skewYDeg(t){this.skewY=R0(t)}setSkewX(t){return this.skewX=t,this}setSkewY(t){return this.skewY=t,this}setSkew(t,s){return s===void 0&&(s=t),this.skewX=t,this.skewY=s,this}setSkewXDeg(t){return this.skewXDeg=t,this}setSkewYDeg(t){return this.skewYDeg=t,this}setSkewDeg(t,s){return s===void 0&&(s=t),this.skewXDeg=t,this.skewYDeg=s,this}}const WX=Phaser.Utils.Objects.IsPlainObject,to=Phaser.Utils.Objects.GetValue;class UX extends YX{constructor(t,s,o,y,S){if(WX(s)){var r=s;s=to(r,"x",0),o=to(r,"y",0),y=to(r,"width",32),S=to(r,"height",32)}var C=gT(t,y,S);super(t,s,o,C,null),this.type="rexSkewRenderTexture",this.rt=this.texture}destroy(t){!this.scene||this.ignoreDestroy||(super.destroy(t),this.rt.destroy(),this.rt=null)}}class JT extends yT(UX){get skewState(){return this.isRunning}}st.register("skew",function(e,t){return new JT(e,t)});et(window,"RexPlugins.UI.Skew",JT);st.register("anchor",function(e,t){return new Mf(e,t)});et(window,"RexPlugins.UI.Anchor",Mf);st.register("textTyping",function(e,t){return new yl(e,t)});et(window,"RexPlugins.UI.TextTyping",yl);st.register("textPage",function(e,t){return new xl(e,t)});et(window,"RexPlugins.UI.TextPage",xl);var en=void 0,HX=function(e){e!==en&&(en!==void 0&&en.close(),en=e)},$X=function(e){e===en&&(en=void 0)};const Fi=Phaser.Utils.Objects.GetValue,KX=Phaser.Utils.Objects.Clone;var ZX=function(e,t){t===void 0&&(t={}),t=KX(t);var s=e.scene,o=e.style,y=Fi(t,"backgroundColor",o.backgroundColor);y===null&&(y="transparent"),t.text=Fi(t,"text",e.text),t.fontFamily=Fi(t,"fontFamily",o.fontFamily),t.fontSize=Fi(t,"fontSize",o.fontSize),t.color=Fi(t,"color",o.color),t.backgroundColor=y,t.direction=Fi(t,"rtl",o.rtl)?"rtl":"ltr",t.align=Fi(t,"align",JX(o)),t.direction==="rtl"&&$f(e)&&(t.align="right");var S=e.padding;S.left>0&&(t.paddingLeft=`${S.left}px`),S.right>0&&(t.paddingRight=`${S.right}px`),o.backgroundCornerRadius&&(t.borderRadius=Fi(t,"borderRadius",`${o.backgroundCornerRadius}px`));var r=new el(s,e.x,e.y,Fi(t,"width",e.width),Fi(t,"height",e.height),t);r.setScale(e.scaleX,e.scaleY).setOrigin(e.originX,e.originY).setScrollFactor(e.scrollFactorX,e.scrollFactorY);var C=e.parentContainer;return C?C.add(r):s.add.existing(r),r},JX=function(e){return e.hasOwnProperty("align")?e.align:e.hasOwnProperty("halign")?e.halign:"left"},QX=function(e,t,s){return e.time.delayedCall(0,t,[],s)};const nr=Phaser.Utils.Objects.GetValue,jX=Phaser.Utils.Objects.Merge;var qX=function(e,t){e===void 0&&(e={}),e=jX(e,this.openConfig),HX(this),xi(e)&&(t=e,e=void 0);var s=nr(e,"inputType",void 0);s===void 0&&(s=nr(e,"type","text")),t===void 0&&(t=nr(e,"onClose",void 0));var o=nr(e,"onCreate",void 0),y=nr(e,"onOpen",void 0),S=nr(e,"onTextChanged",void 0);return this.inputText=ZX(this.parent,e),o&&o(this.parent,this.inputText),this.inputText.on("textchange",function(r){var C=r.text;S?S(this.parent,C):this.parent.text=C},this).setFocus(),this.parent.setVisible(!1),this.onClose=t,nr(e,"enterClose",s!=="textarea")&&this.scene.input.keyboard.once("keydown-ENTER",this.close,this),this.delayCall=QX(this.scene,function(){this.scene.input.once("pointerdown",this.close,this),y&&y(this.parent,this.inputText),this.emit("open",this.parent,this.inputText)},this),this},_X=function(){return $X(this),this.parent.setVisible(!0),this.inputText&&(this.inputText.destroy(),this.inputText=void 0),this.delayCall&&(this.delayCall.remove(),this.delayCall=void 0),this.scene.input.keyboard.off("keydown-ENTER",this.close,this),this.scene.input.off("pointerdown",this.close,this),this.onClose&&this.onClose(this.parent),this.emit("close",this.parent),this},tY={open:qX,close:_X};const eY=Phaser.Utils.Objects.GetValue;class El extends zt{constructor(t,s){super(t),this.inputText=void 0,this.onClose=void 0,this.delayCall=void 0,this.setOpenConfig(s);var o=eY(s,"clickEnable",!0);o&&t.on("pointerdown",function(){this.open()},this).setInteractive()}shutdown(t){this.isShutdown||(this.close(),super.shutdown(t))}setOpenConfig(t){return t===void 0&&(t={}),this.openConfig=t,this}get isOpened(){return this.inputText!==void 0}get text(){return this.isOpened?this.inputText.text:this.parent.text}}Object.assign(El.prototype,tY);var iY=function(e,t,s){return e._edit||(e._edit=new El(e,{clickEnable:!1})),e._edit.open(t,s),e._edit};st.register("textEdit",function(e,t){return new El(e,t)});et(window,"RexPlugins.UI.TextEdit",El);st.register("layerManager",function(e){return new Lo(this.scene,e)});et(window,"RexPlugins.UI.LayerManager",Lo);class QT extends Phaser.Plugins.ScenePlugin{constructor(t,s){super(t,s),this.add=new st(t)}boot(){var t=this.scene.events;t.on("destroy",this.destroy,this)}destroy(){this.add.destroy(),super.destroy()}isInTouching(t,s,o,y){return t.visible?Bi(t,s,o,y):!1}get viewport(){return fn(this.scene,this.scene.cameras.main,!0)}}var sY={getParentSizer:He,getTopmostSizer:Cx,removeFromParent:ar,hide:Es,show:Ps,isShown:Af,confirmAction:Yy,edit:iY,wrapExpandText:yo,fontSizeExpandText:Co,fontSizeResize:To,setFontSizeToFitWidth:To,waitEvent:Do,waitComplete:ge,delayPromise:ny,setChildrenInteractive:Jo,fadeIn:Vo,fadeOutDestroy:zo,easeMoveTo:Dx,easeMoveFrom:Ix,modal:bf,modalPromise:A3,modalClose:zx,requestDrag:DT,openFileChooser:hy};Object.assign(QT.prototype,sY);const rY={type:rt.AUTO,width:1580,height:500,parent:"game-container",render:{pixelArt:!0,roundPixels:!0},plugins:{global:[{key:"rexGlowFilterPipeline",plugin:mC,start:!1},{key:"rexUI",plugin:QT,start:!1}]},backgroundColor:"#000000",pixelArt:!0,physics:{default:"arcade",arcade:{gravity:{y:2500},debug:!1}},scale:{mode:rt.Scale.FIT,autoCenter:rt.Scale.CENTER_BOTH},scene:[I0,D0,L0,b0,F0]};console.log([I0,D0,L0,b0,F0]);new rt.Game(rY);
